{"version":3,"file":"layui.js","sources":["../src/core/layui.js","../src/core/lay.js","../src/core/laytpl.js","../src/core/i18n.js","../node_modules/jquery/dist/jquery.js","../src/core/component.js","../src/components/laypage.js","../src/components/laydate.js","../src/components/layer.js","../src/components/util.js","../src/components/dropdown.js","../src/components/slider.js","../src/components/colorpicker.js","../src/components/tab.js","../src/components/nav.js","../src/components/breadcrumb.js","../src/components/progress.js","../src/components/collapse.js","../src/components/element.js","../src/components/upload.js","../src/components/form.js","../src/components/table.js","../src/components/treeTable.js","../src/components/tabs.js","../src/components/tree.js","../src/components/transfer.js","../src/components/carousel.js","../src/components/rate.js","../src/components/flow.js","../src/components/code.js","../src/index.iife.js"],"sourcesContent":["/**\r\n * Layui\r\n * MIT Licensed\r\n */\r\n\r\n// 便于打包时的字符压缩\r\nvar document = window.document;\r\nvar location = window.location;\r\n\r\n// 基础配置\r\nvar config = {\r\n  timeout: 10, // 符合规范的模块请求最长等待秒数\r\n  debug: false, // 是否开启调试模式\r\n  version: false, // 是否在模块请求时加入版本号参数（以更新模块缓存）\r\n};\r\n\r\n// 模块加载缓存信息\r\nvar cache = {\r\n  modules: {}, // 模块物理路径\r\n  status: {}, // 模块加载就绪状态\r\n  event: {}, // 模块自定义事件\r\n  callback: {}, // 模块的回调\r\n};\r\n\r\n// constructor\r\nvar Class = function () {\r\n  this.v = '__VERSION__'; // 版本号\r\n};\r\n\r\n// 识别预先可能定义的指定全局对象\r\nvar GLOBAL = window.LAYUI_GLOBAL || {};\r\n\r\n// 获取 layui 所在目录\r\nvar getPath = (function () {\r\n  var jsPath =\r\n    document.currentScript &&\r\n    document.currentScript.tagName.toUpperCase() === 'SCRIPT'\r\n      ? document.currentScript.src\r\n      : (function () {\r\n          var js = document.getElementsByTagName('script');\r\n          var last = js.length - 1;\r\n          var src;\r\n          for (var i = last; i > 0; i--) {\r\n            if (js[i].readyState === 'interactive') {\r\n              src = js[i].src;\r\n              break;\r\n            }\r\n          }\r\n          return src || js[last].src;\r\n        })();\r\n\r\n  return (config.dir =\r\n    GLOBAL.dir || jsPath.substring(0, jsPath.lastIndexOf('/') + 1));\r\n})();\r\n\r\n// 异常提示\r\nvar error = function (msg, type) {\r\n  type = type || 'warn';\r\n  msg = '[Layui warn]: ' + msg;\r\n\r\n  // 仅允许 error 或 warn 两种类型的提示\r\n  if (/warn|error/.test(type.trim())) {\r\n    type = 'warn';\r\n  }\r\n\r\n  window.console[type](msg);\r\n};\r\nvar warned = Object.create(null);\r\n\r\nvar errorOnce = function (msg, type) {\r\n  if (warned._size && warned._size > 100) {\r\n    warned = Object.create(null);\r\n    warned._size = 0;\r\n  }\r\n  if (!warned[msg]) {\r\n    warned[msg] = true;\r\n    warned._size = (warned._size || 0) + 1;\r\n    error(msg, type);\r\n  }\r\n};\r\n\r\n// 内置模块\r\nvar builtinModules = (config.builtin = {\r\n  lay: 'lay', // 基础 DOM 操作\r\n  layer: 'layer', // 弹层\r\n  laydate: 'laydate', // 日期\r\n  laypage: 'laypage', // 分页\r\n  laytpl: 'laytpl', // 模板引擎\r\n  form: 'form', // 表单集\r\n  upload: 'upload', // 上传\r\n  dropdown: 'dropdown', // 下拉菜单\r\n  transfer: 'transfer', // 穿梭框\r\n  tree: 'tree', // 树结构\r\n  table: 'table', // 表格\r\n  treeTable: 'treeTable', // 树表\r\n  tabs: 'tabs', // 标签页\r\n  tab: 'tab', // 选项卡（兼容保留）\r\n  nav: 'nav', // 导航菜单\r\n  breadcrumb: 'breadcrumb', // 面包屑\r\n  progress: 'progress', // 进度条\r\n  collapse: 'collapse', // 折叠面板\r\n  element: 'element', // 常用元素操作\r\n  rate: 'rate', // 评分组件\r\n  colorpicker: 'colorpicker', // 颜色选择器\r\n  slider: 'slider', // 滑块\r\n  carousel: 'carousel', // 轮播\r\n  flow: 'flow', // 流加载\r\n  util: 'util', // 工具块\r\n  code: 'code', // 代码修饰器\r\n  jquery: 'jquery', // DOM 库（第三方）\r\n  component: 'component', // 组件构建器\r\n  i18n: 'i18n', // 国际化\r\n\r\n  all: 'all',\r\n  'layui.all': 'layui.all', // 聚合标识（功能性的，非真实模块）\r\n});\r\n\r\n/**\r\n * 节点加载事件\r\n * @param {HTMLElement} node - script 或 link 节点\r\n * @param {Function} done\r\n * @param {Function} error\r\n */\r\nvar onNodeLoad = function (node, done, error) {\r\n  // 资源加载完毕\r\n  var onCompleted = function (e) {\r\n    var readyRegExp = /^(complete|loaded)$/;\r\n    if (\r\n      e.type === 'load' ||\r\n      readyRegExp.test((e.currentTarget || e.srcElement).readyState)\r\n    ) {\r\n      removeListener();\r\n      typeof done === 'function' && done(e);\r\n    }\r\n  };\r\n  // 资源加载失败\r\n  var onError = function (e) {\r\n    removeListener();\r\n    typeof error === 'function' && error(e);\r\n  };\r\n\r\n  // 移除事件\r\n  var removeListener = function () {\r\n    if (node.detachEvent) {\r\n      node.detachEvent('onreadystatechange', onCompleted);\r\n    } else {\r\n      node.removeEventListener('load', onCompleted, false);\r\n      node.removeEventListener('error', onError, false);\r\n    }\r\n  };\r\n\r\n  // 添加事件\r\n  if (\r\n    node.attachEvent &&\r\n    !(\r\n      node.attachEvent.toString &&\r\n      node.attachEvent.toString().indexOf('[native code') < 0\r\n    )\r\n  ) {\r\n    // 此处考虑到 IE9+ load 的稳定性，固仍然采用 onreadystatechange\r\n    node.attachEvent('onreadystatechange', onCompleted);\r\n  } else {\r\n    node.addEventListener('load', onCompleted, false);\r\n    node.addEventListener('error', onError, false);\r\n  }\r\n};\r\n\r\n// 获取配置及临时缓存信息\r\nClass.prototype.cache = Object.assign(config, cache);\r\n\r\n/**\r\n * 全局配置\r\n * @param {Object} options - 配置对象\r\n */\r\nClass.prototype.config = function (options) {\r\n  Object.assign(config, options);\r\n  return this;\r\n};\r\n\r\n/**\r\n * 定义模块\r\n * @param {(string|string[])} deps - 依赖的模块列表\r\n * @param {Function} callback - 模块的回调\r\n */\r\nClass.prototype.define = function (deps, callback) {\r\n  var that = this;\r\n  var useCallback = function () {\r\n    var setModule = function (mod, exports) {\r\n      layui[mod] = exports; // 将模块接口赋值在 layui 对象中\r\n      cache.status[mod] = true; // 标记模块注册完成\r\n    };\r\n    // 执行模块的回调\r\n    typeof callback === 'function' &&\r\n      callback(function (mod, exports) {\r\n        setModule(mod, exports);\r\n        // 记录模块回调，以便需要时再执行\r\n        cache.callback[mod] = function () {\r\n          callback(setModule);\r\n        };\r\n      });\r\n    return this;\r\n  };\r\n\r\n  // 若未依赖模块\r\n  if (typeof deps === 'function') {\r\n    callback = deps;\r\n    deps = [];\r\n  }\r\n\r\n  that.use(deps, useCallback, null, 'define');\r\n  return that;\r\n};\r\n\r\n/**\r\n * 使用模块\r\n * @param {(string|string[])} mods - 模块列表\r\n * @param {Function} callback - 回调\r\n */\r\nClass.prototype.use = function (mods, callback, exports, from) {\r\n  var that = this;\r\n  var dir = (config.dir = config.dir ? config.dir : getPath);\r\n\r\n  // 整理模块队列\r\n  mods = (function () {\r\n    if (typeof mods === 'string') {\r\n      return [mods];\r\n    }\r\n    // 若第一个参数为 function ，则自动加载所有内置模块，且执行的回调即为该 function 参数；\r\n    else if (typeof mods === 'function') {\r\n      callback = mods;\r\n      return ['all'];\r\n    }\r\n    return mods;\r\n  })();\r\n\r\n  // 获取 layui 静态资源所在 host\r\n  if (!config.host) {\r\n    config.host = (dir.match(/\\/\\/([\\s\\S]+?)\\//) || [\r\n      '//' + location.host + '/',\r\n    ])[0];\r\n  }\r\n\r\n  // 若参数异常\r\n  if (!mods) return that;\r\n\r\n  // 若页面已经存在 jQuery 且所定义的模块依赖 jQuery，则不加载内部 jquery 模块\r\n  if (window.jQuery && window.jQuery.fn.on) {\r\n    that.each(mods, function (index, item) {\r\n      if (item === 'jquery') {\r\n        mods.splice(index, 1);\r\n      }\r\n    });\r\n    layui.jquery = layui.$ = window.jQuery;\r\n  }\r\n\r\n  // 将模块的接口作为回调的参数传递\r\n  exports = exports || [];\r\n\r\n  // 加载当前队列的第一个模块\r\n  var item = mods[0];\r\n  var modInfo = that.modules[item]; // 当前模块信息\r\n  // 是否为外部模块，即无需遵循 layui 轻量级模块规范的任意第三方组件。\r\n  var isExternalModule = typeof modInfo === 'object';\r\n\r\n  // 回调触发\r\n  var onCallback = function () {\r\n    exports.push(layui[item]);\r\n    mods.length > 1\r\n      ? that.use(mods.slice(1), callback, exports, from)\r\n      : typeof callback === 'function' &&\r\n        (function () {\r\n          // 保证文档加载完毕再执行回调\r\n          if (\r\n            layui.jquery &&\r\n            typeof layui.jquery === 'function' &&\r\n            from !== 'define'\r\n          ) {\r\n            return layui.jquery(function () {\r\n              callback.apply(layui, exports);\r\n            });\r\n          }\r\n          callback.apply(layui, exports);\r\n        })();\r\n  };\r\n\r\n  // 回调轮询\r\n  var pollCallback = function () {\r\n    var timeout = 0; // 超时计数器（秒）\r\n    var delay = 5; // 轮询等待毫秒数\r\n\r\n    // 轮询模块加载完毕状态\r\n    (function poll() {\r\n      if (++timeout > (config.timeout * 1000) / delay) {\r\n        return error(item + ' is not a valid module', 'error');\r\n      }\r\n\r\n      // 根据模块加载完毕的标志来完成轮询\r\n      // 若为任意外部模块，则标志为该模块接口是否存在；\r\n      // 若为遵循 layui 规范的模块，则标志为模块的 status 状态值\r\n      (\r\n        isExternalModule\r\n          ? (layui[item] = window[modInfo.api])\r\n          : cache.status[item]\r\n      )\r\n        ? onCallback()\r\n        : setTimeout(poll, delay);\r\n    })();\r\n  };\r\n\r\n  // 若为发行版，则内置模块不必异步加载\r\n  if (mods.length === 0 || (layui['layui.all'] && builtinModules[item])) {\r\n    return (onCallback(), that);\r\n  }\r\n\r\n  // 当前模块所在路径\r\n  var modSrc = isExternalModule ? modInfo.src : modInfo;\r\n\r\n  // 基础路径\r\n  var basePath = builtinModules[item]\r\n    ? dir + 'modules/' // 若为内置模块，则按照默认 dir 参数拼接模块 URL\r\n    : modSrc\r\n      ? ''\r\n      : config.base; // 若为扩展模块，且模块路径已设置，则不必再重复拼接基础路径\r\n\r\n  // 若从 layui.modules 为获取到模块路径, 则将传入的模块名视为路径名\r\n  if (!modSrc) modSrc = item;\r\n\r\n  // 过滤空格符和 .js 后缀\r\n  modSrc = modSrc.replace(/\\s/g, '').replace(/\\.js[^/.]*$/, '');\r\n\r\n  // 拼接最终模块 URL\r\n  var url = basePath + modSrc + '.js';\r\n\r\n  // 若扩展模块对象已经存在，则不必再重复加载\r\n  if (!cache.modules[item] && layui[item]) {\r\n    cache.modules[item] = url; // 并记录起该扩展模块的 url\r\n  }\r\n\r\n  // 首次加载模块\r\n  if (!cache.modules[item]) {\r\n    var head = document.getElementsByTagName('head')[0];\r\n    var node = document.createElement('script');\r\n\r\n    node.async = true;\r\n    node.charset = 'utf-8'; // 避免 IE9 的编码问题\r\n    node.src =\r\n      url +\r\n      (function () {\r\n        var version =\r\n          config.version === true\r\n            ? config.v || new Date().getTime()\r\n            : config.version || '';\r\n        return version ? '?v=' + version : '';\r\n      })();\r\n\r\n    head.appendChild(node);\r\n\r\n    // 节点加载事件\r\n    onNodeLoad(\r\n      node,\r\n      function () {\r\n        head.removeChild(node);\r\n        pollCallback();\r\n      },\r\n      function () {\r\n        head.removeChild(node);\r\n      },\r\n    );\r\n\r\n    // 模块已首次加载的标记\r\n    cache.modules[item] = url;\r\n  } else {\r\n    // 再次 use 模块\r\n    pollCallback();\r\n  }\r\n\r\n  return that;\r\n};\r\n\r\n// 记录全部模块\r\nClass.prototype.modules = Object.assign({}, builtinModules);\r\n\r\n/**\r\n * 拓展模块\r\n * @param {Object} settings - 拓展模块的配置\r\n */\r\nClass.prototype.extend = function (settings) {\r\n  var that = this;\r\n  var base = config.base || '';\r\n  var firstSymbolEXP = /^\\{\\/\\}/; // 模块单独路径首字符表达式\r\n\r\n  settings = settings || {};\r\n\r\n  // 遍历拓展模块\r\n  for (var modName in settings) {\r\n    if (that[modName] || that.modules[modName]) {\r\n      // 验证模块是否被占用\r\n      error('the ' + modName + ' module already exists, extend failure');\r\n    } else {\r\n      var modInfo = settings[modName];\r\n      // 若直接传入模块路径字符\r\n      if (typeof modInfo === 'string') {\r\n        // 判断传入的模块路径是否特定首字符\r\n        // 若存在特定首字符，则模块 URL 即为该首字符后面紧跟的字符\r\n        // 否则，则按照 config.base 路径进行拼接\r\n        if (firstSymbolEXP.test(modInfo)) base = '';\r\n        modInfo = (base + modInfo).replace(firstSymbolEXP, '');\r\n      }\r\n      that.modules[modName] = modInfo;\r\n    }\r\n  }\r\n\r\n  return that;\r\n};\r\n\r\n/**\r\n * 弃用指定的模块，以便重新扩展新的同名模块。\r\n * @param {(string|string[])} mods - 模块列表\r\n */\r\nClass.prototype.disuse = function (mods) {\r\n  var that = this;\r\n  mods = that.isArray(mods) ? mods : [mods];\r\n  that.each(mods, function (index, item) {\r\n    delete that[item];\r\n    delete builtinModules[item];\r\n    delete that.modules[item];\r\n    delete cache.status[item];\r\n    delete cache.modules[item];\r\n  });\r\n  return that;\r\n};\r\n\r\n/**\r\n * 获取节点的 style 属性值\r\n * currentStyle.getAttribute 参数为 camelCase 形式的字符串\r\n * @param {HTMLElement} node - 节点\r\n * @param {string} name - 属性名\r\n * @returns 属性值\r\n */\r\nClass.prototype.getStyle = function (node, name) {\r\n  var style = node.currentStyle\r\n    ? node.currentStyle\r\n    : window.getComputedStyle(node, null);\r\n  return style.getPropertyValue\r\n    ? style.getPropertyValue(name)\r\n    : style.getAttribute(\r\n        name.replace(/-(\\w)/g, function (_, c) {\r\n          return c ? c.toUpperCase() : '';\r\n        }),\r\n      );\r\n};\r\n\r\n/**\r\n * CSS 外部加载器\r\n * @param {string} href - 外部 CSS 文件路径\r\n * @param {Function} callback - 回调函数\r\n * @param {string} id - 定义 link 标签的 id\r\n */\r\nClass.prototype.link = function (href, callback, id) {\r\n  var that = this;\r\n  var head = document.getElementsByTagName('head')[0];\r\n  var hasCallback = typeof callback === 'function';\r\n\r\n  // 若第二个参数为 string 类型，则该参数为 id\r\n  if (typeof callback === 'string') {\r\n    id = callback;\r\n  }\r\n\r\n  // 若加载多个\r\n  if (typeof href === 'object') {\r\n    var isArr = that.type(id) === 'array';\r\n    return that.each(href, function (index, value) {\r\n      that.link(\r\n        value,\r\n        index === href.length - 1 && callback,\r\n        isArr && id[index],\r\n      );\r\n    });\r\n  }\r\n\r\n  // 若未传入 id ，则取路径 `//` 后面的字符拼接为 id，不含.与参数\r\n  id = id || href.replace(/^(#|(http(s?)):\\/\\/|\\/\\/)|\\.|\\/|\\?.+/g, '');\r\n  id = 'layuicss-' + id;\r\n\r\n  var link = document.getElementById(id);\r\n\r\n  // 初始创建节点\r\n  if (!link) {\r\n    link = document.createElement('link');\r\n    link.href = href + (config.debug ? '?v=' + new Date().getTime() : '');\r\n    link.rel = 'stylesheet';\r\n    link.id = id;\r\n    head.appendChild(link);\r\n  }\r\n\r\n  // 若加载已完成，则直接执行回调函数\r\n  if (link.__lay_readyState__ === 'complete') {\r\n    hasCallback && callback(link);\r\n    return that;\r\n  }\r\n\r\n  // 初始加载\r\n  onNodeLoad(\r\n    link,\r\n    function () {\r\n      link.__lay_readyState__ = 'complete';\r\n      hasCallback && callback(link);\r\n    },\r\n    function () {\r\n      error(href + ' load error', 'error');\r\n      head.removeChild(link); // 移除节点\r\n    },\r\n  );\r\n\r\n  return that;\r\n};\r\n\r\n/**\r\n * CSS 内部加载器\r\n * @param {string} modName - 模块名\r\n */\r\nClass.prototype.addcss = function (modName, callback, id) {\r\n  return layui.link(config.dir + 'css/' + modName, callback, id);\r\n};\r\n\r\n/**\r\n * 获取执行定义模块时的回调函数，factory 为向下兼容\r\n * @param {string} modName - 模块名\r\n * @returns {Function}\r\n */\r\nClass.prototype.factory = function (modName) {\r\n  if (layui[modName]) {\r\n    return typeof config.callback[modName] === 'function'\r\n      ? config.callback[modName]\r\n      : null;\r\n  }\r\n};\r\n\r\n/**\r\n * 图片预加载\r\n * @param {string} url - 图片路径\r\n * @param {Function} callback - 成功回调\r\n * @param {Function} error - 错误回调\r\n */\r\nClass.prototype.img = function (url, callback, error) {\r\n  var img = new Image();\r\n  img.src = url;\r\n  if (img.complete) {\r\n    return callback(img);\r\n  }\r\n  img.onload = function () {\r\n    img.onload = null;\r\n    typeof callback === 'function' && callback(img);\r\n  };\r\n  img.onerror = function (e) {\r\n    img.onerror = null;\r\n    typeof error === 'function' && error(e);\r\n  };\r\n};\r\n\r\n/**\r\n * location.hash 路由解析\r\n * @param {string} hash 值\r\n * @returns {Object}\r\n */\r\nClass.prototype.router = Class.prototype.hash = function (hash) {\r\n  hash = hash || location.hash;\r\n  var that = this;\r\n  var data = {\r\n    path: [],\r\n    pathname: [],\r\n    search: {},\r\n    hash: (hash.match(/[^#](#.*$)/) || [])[1] || '',\r\n    href: '',\r\n  };\r\n\r\n  // 禁止非 hash 路由规范\r\n  if (!/^#/.test(hash)) {\r\n    return data;\r\n  }\r\n\r\n  hash = hash.replace(/^#/, '');\r\n  data.href = hash;\r\n  hash = hash.replace(/([^#])(#.*$)/, '$1').split('/') || [];\r\n\r\n  // 提取 Hash 结构\r\n  that.each(hash, function (index, item) {\r\n    /^\\w+=/.test(item)\r\n      ? (function () {\r\n          item = item.split('=');\r\n          data.search[item[0]] = item[1];\r\n        })()\r\n      : data.path.push(item);\r\n  });\r\n\r\n  data.pathname = data.path; // path → pathname, 与 layui.url 一致\r\n  return data;\r\n};\r\n\r\n/**\r\n * URL 解析\r\n * @param {string} href - url 路径\r\n * @returns {Object}\r\n */\r\nClass.prototype.url = function (href) {\r\n  var that = this;\r\n  var data = {\r\n    // 提取 url 路径\r\n    pathname: (function () {\r\n      var pathname = href\r\n        ? (function () {\r\n            var str = (href.match(/\\.[^.]+?\\/.+/) || [])[0] || '';\r\n            return str.replace(/^[^/]+/, '').replace(/\\?.+/, '');\r\n          })()\r\n        : location.pathname;\r\n      return pathname.replace(/^\\//, '').split('/');\r\n    })(),\r\n\r\n    // 提取 url 参数\r\n    search: (function () {\r\n      var obj = {};\r\n      var search = (\r\n        href\r\n          ? (function () {\r\n              var str = (href.match(/\\?.+/) || [])[0] || '';\r\n              return str.replace(/#.+/, '');\r\n            })()\r\n          : location.search\r\n      )\r\n        .replace(/^\\?+/, '')\r\n        .split('&'); // 去除 ?，按 & 分割参数\r\n\r\n      // 遍历分割后的参数\r\n      that.each(search, function (index, item) {\r\n        var _index = item.indexOf('=');\r\n        var key = (function () {\r\n          // 提取 key\r\n          if (_index < 0) {\r\n            return item.substr(0, item.length);\r\n          } else if (_index === 0) {\r\n            return false;\r\n          } else {\r\n            return item.substr(0, _index);\r\n          }\r\n        })();\r\n        // 提取 value\r\n        if (key) {\r\n          obj[key] = _index > 0 ? item.substr(_index + 1) : null;\r\n        }\r\n      });\r\n\r\n      return obj;\r\n    })(),\r\n\r\n    // 提取 Hash\r\n    hash: that.router(\r\n      (function () {\r\n        return href ? (href.match(/#.+/) || [])[0] || '/' : location.hash;\r\n      })(),\r\n    ),\r\n  };\r\n\r\n  return data;\r\n};\r\n\r\n/**\r\n * 本地持久存储\r\n * @param {string} table - 表名\r\n * @param {Object} settings - 设置项\r\n * @param {Storage} storage - 存储对象，localStorage 或 sessionStorage\r\n * @returns {Object}\r\n */\r\nClass.prototype.data = function (table, settings, storage) {\r\n  table = table || 'layui';\r\n  storage = storage || localStorage;\r\n\r\n  // 如果 settings 为 null，则删除表\r\n  if (settings === null) {\r\n    return delete storage[table];\r\n  }\r\n\r\n  settings = typeof settings === 'object' ? settings : { key: settings };\r\n\r\n  var data;\r\n\r\n  try {\r\n    data = JSON.parse(storage[table]);\r\n  } catch {\r\n    data = {};\r\n  }\r\n\r\n  if ('value' in settings) data[settings.key] = settings.value;\r\n  if (settings.remove) delete data[settings.key];\r\n  storage[table] = JSON.stringify(data);\r\n\r\n  return settings.key ? data[settings.key] : data;\r\n};\r\n\r\n/**\r\n * 本地临时存储\r\n * @param {string} table - 表名\r\n * @param {Object} settings - 设置项\r\n * @returns {Object}\r\n */\r\nClass.prototype.sessionData = function (table, settings) {\r\n  return this.data(table, settings, sessionStorage);\r\n};\r\n\r\n/**\r\n * 设备信息\r\n * @param {string} key - 任意 key\r\n * @returns {Object}\r\n */\r\nClass.prototype.device = function (key) {\r\n  var agent = navigator.userAgent.toLowerCase();\r\n\r\n  // 获取版本号\r\n  var getVersion = function (label) {\r\n    var exp = new RegExp(label + '/([^\\\\s\\\\_\\\\-]+)');\r\n    label = (agent.match(exp) || [])[1];\r\n    return label || false;\r\n  };\r\n\r\n  // 返回结果集\r\n  var result = {\r\n    os: (function () {\r\n      // 底层操作系统\r\n      if (/windows/.test(agent)) {\r\n        return 'windows';\r\n      } else if (/linux/.test(agent)) {\r\n        return 'linux';\r\n      } else if (/iphone|ipod|ipad|ios/.test(agent)) {\r\n        return 'ios';\r\n      } else if (/mac/.test(agent)) {\r\n        return 'mac';\r\n      }\r\n    })(),\r\n    ie: (function () {\r\n      // ie 版本\r\n      return !!window.ActiveXObject || 'ActiveXObject' in window\r\n        ? (agent.match(/msie\\s(\\d+)/) || [])[1] || '11' // 由于 ie11 并没有 msie 的标识\r\n        : false;\r\n    })(),\r\n    weixin: getVersion('micromessenger'), // 是否微信\r\n  };\r\n\r\n  // 任意的 key\r\n  if (key && !result[key]) {\r\n    result[key] = getVersion(key);\r\n  }\r\n\r\n  // 移动设备\r\n  result.android = /android/.test(agent);\r\n  result.ios = result.os === 'ios';\r\n  result.mobile = result.android || result.ios;\r\n\r\n  return result;\r\n};\r\n\r\n// 提示\r\nClass.prototype.hint = function () {\r\n  return {\r\n    error: error,\r\n    errorOnce: errorOnce,\r\n  };\r\n};\r\n\r\n/**\r\n * typeof 类型细分 -> string/number/boolean/undefined/null、object/array/function/…\r\n * @param {*} operand - 任意值\r\n * @returns {string}\r\n */\r\nClass.prototype._typeof = Class.prototype.type = function (operand) {\r\n  if (operand === null) return String(operand);\r\n\r\n  // 细分引用类型\r\n  return typeof operand === 'object' || typeof operand === 'function'\r\n    ? (function () {\r\n        var type =\r\n          Object.prototype.toString.call(operand).match(/\\s(.+)\\]$/) || []; // 匹配类型字符\r\n        var classType = 'Function|Array|Date|RegExp|Object|Error|Symbol'; // 常见类型字符\r\n\r\n        type = type[1] || 'Object';\r\n\r\n        // 除匹配到的类型外，其他对象均返回 object\r\n        return new RegExp('\\\\b(' + classType + ')\\\\b').test(type)\r\n          ? type.toLowerCase()\r\n          : 'object';\r\n      })()\r\n    : typeof operand;\r\n};\r\n\r\n/**\r\n * 对象是否具备数组结构（此处为兼容 jQuery 对象）\r\n * @param {Object} obj - 任意对象\r\n * @returns {boolean}\r\n */\r\nClass.prototype._isArray = Class.prototype.isArray = function (obj) {\r\n  var that = this;\r\n  var len;\r\n  var type = that.type(obj);\r\n\r\n  if (!obj || typeof obj !== 'object' || obj === window) return false;\r\n\r\n  len = 'length' in obj && obj.length; // 兼容 ie\r\n  return (\r\n    type === 'array' ||\r\n    len === 0 ||\r\n    (typeof len === 'number' && len > 0 && len - 1 in obj) // 兼容 jQuery 对象\r\n  );\r\n};\r\n\r\n/**\r\n * 遍历\r\n * @param {Object} obj - 任意对象\r\n * @param {Function} fn - 遍历回调\r\n */\r\nClass.prototype.each = function (obj, fn) {\r\n  var key;\r\n  var that = this;\r\n  var callback = function (key, obj) {\r\n    return fn.call(obj[key], key, obj[key]);\r\n  };\r\n\r\n  if (typeof fn !== 'function') {\r\n    return that;\r\n  }\r\n\r\n  obj = obj || [];\r\n\r\n  // 优先处理数组结构\r\n  if (that.isArray(obj)) {\r\n    for (key = 0; key < obj.length; key++) {\r\n      if (callback(key, obj)) break;\r\n    }\r\n  } else {\r\n    for (key in obj) {\r\n      if (callback(key, obj)) break;\r\n    }\r\n  }\r\n\r\n  return that;\r\n};\r\n\r\n/**\r\n * 将数组中的成员对象按照某个 key 的 value 值进行排序\r\n * @param {Object[]} arr - 任意数组\r\n * @param {string} key - 任意 key\r\n * @param {boolean} desc - 是否降序\r\n * @param {boolean} notClone - 是否不对 arr 进行克隆\r\n * @returns {Object[]}\r\n */\r\nClass.prototype.sort = function (arr, key, desc, notClone) {\r\n  var that = this;\r\n  var clone = notClone ? arr || [] : JSON.parse(JSON.stringify(arr || []));\r\n\r\n  // 若未传入 key，则直接返回原对象\r\n  if (that.type(arr) === 'object' && !key) {\r\n    return clone;\r\n  } else if (typeof arr !== 'object') {\r\n    // 若 arr 非对象\r\n    return [clone];\r\n  }\r\n\r\n  // 开始排序\r\n  clone.sort(function (o1, o2) {\r\n    var v1 = o1[key];\r\n    var v2 = o2[key];\r\n\r\n    /*\r\n     * 特殊数据\r\n     * 若比较的成员均非对象\r\n     */\r\n\r\n    // 若比较的成员均为数字\r\n    if (!isNaN(o1) && !isNaN(o2)) return o1 - o2;\r\n\r\n    // 若比较的成员只存在某一个非对象\r\n    if (!isNaN(o1) && isNaN(o2)) {\r\n      if (key && typeof o2 === 'object') {\r\n        v1 = o1;\r\n      } else {\r\n        return -1;\r\n      }\r\n    } else if (isNaN(o1) && !isNaN(o2)) {\r\n      if (key && typeof o1 === 'object') {\r\n        v2 = o2;\r\n      } else {\r\n        return 1;\r\n      }\r\n    }\r\n\r\n    /*\r\n     * 正常数据\r\n     * 即成员均为对象，也传入了对比依据： key\r\n     * 若 value 为数字，按「大小」排序；若 value 非数字，则按「字典序」排序\r\n     */\r\n\r\n    // value 是否为数字\r\n    var isNum = [!isNaN(v1), !isNaN(v2)];\r\n\r\n    // 若为数字比较\r\n    if (isNum[0] && isNum[1]) {\r\n      if (v1 && !v2 && v2 !== 0) {\r\n        // 数字 vs 空\r\n        return 1;\r\n      } else if (!v1 && v1 !== 0 && v2) {\r\n        // 空 vs 数字\r\n        return -1;\r\n      } else {\r\n        // 数字 vs 数字\r\n        return v1 - v2;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * 字典序排序\r\n     */\r\n\r\n    // 若为非数字比较\r\n    if (!isNum[0] && !isNum[1]) {\r\n      // 字典序比较\r\n      if (v1 > v2) {\r\n        return 1;\r\n      } else if (v1 < v2) {\r\n        return -1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    }\r\n\r\n    // 若为混合比较\r\n    if (isNum[0] || !isNum[1]) {\r\n      // 数字 vs 非数字\r\n      return -1;\r\n    } else if (!isNum[0] || isNum[1]) {\r\n      // 非数字 vs 数字\r\n      return 1;\r\n    }\r\n  });\r\n\r\n  desc && clone.reverse(); // 倒序\r\n  return clone;\r\n};\r\n\r\n/**\r\n * 阻止事件冒泡\r\n * @param {Event} thisEvent - 事件对象\r\n */\r\nClass.prototype.stope = function (thisEvent) {\r\n  try {\r\n    thisEvent.stopPropagation();\r\n  } catch {\r\n    thisEvent.cancelBubble = true;\r\n  }\r\n};\r\n\r\n// 字符常理\r\nvar EV_REMOVE = 'LAYUI-EVENT-REMOVE';\r\n\r\n/**\r\n * 自定义模块事件\r\n * @param {string} modName - 模块名\r\n * @param {string} events - 事件名\r\n * @param {Function} callback - 回调\r\n * @returns {Object}\r\n */\r\nClass.prototype.onevent = function (modName, events, callback) {\r\n  if (typeof modName !== 'string' || typeof callback !== 'function') {\r\n    return this;\r\n  }\r\n  return Class.event(modName, events, null, callback);\r\n};\r\n\r\n/**\r\n * 执行自定义模块事件\r\n * @param {string} modName - 模块名\r\n * @param {string} events - 事件名\r\n * @param {Object} params - 参数\r\n * @param {Function} fn - 回调\r\n */\r\nClass.prototype.event = Class.event = function (modName, events, params, fn) {\r\n  var that = this;\r\n  var result = null;\r\n  var filter = (events || '').match(/\\((.*)\\)$/) || []; // 提取事件过滤器字符结构，如：select(xxx)\r\n  var eventName = (modName + '.' + events).replace(filter[0], ''); // 获取事件名称，如：form.select\r\n  var filterName = filter[1] || ''; // 获取过滤器名称, 如：xxx\r\n  var callback = function (_, item) {\r\n    var res = item && item.call(that, params);\r\n    res === false && result === null && (result = false);\r\n  };\r\n\r\n  // 如果参数传入特定字符，则执行移除事件\r\n  if (params === EV_REMOVE) {\r\n    delete (that.cache.event[eventName] || {})[filterName];\r\n    return that;\r\n  }\r\n\r\n  // 添加事件\r\n  if (fn) {\r\n    cache.event[eventName] = cache.event[eventName] || {};\r\n\r\n    if (filterName) {\r\n      // 带 filter 不支持重复事件\r\n      cache.event[eventName][filterName] = [fn];\r\n    } else {\r\n      // 不带 filter 处理的是所有的同类事件，应该支持重复事件\r\n      cache.event[eventName][filterName] =\r\n        cache.event[eventName][filterName] || [];\r\n      cache.event[eventName][filterName].push(fn);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  // 执行事件回调\r\n  layui.each(cache.event[eventName], function (key, item) {\r\n    // 执行当前模块的全部事件\r\n    if (filterName === '{*}') {\r\n      layui.each(item, callback);\r\n      return;\r\n    }\r\n\r\n    // 执行指定事件\r\n    key === '' && layui.each(item, callback);\r\n    filterName && key === filterName && layui.each(item, callback);\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\n/**\r\n * 新增模块事件\r\n * @param {string} events - 事件名\r\n * @param {string} modName - 模块名\r\n * @param {Function} callback - 回调\r\n * @returns {Object}\r\n */\r\nClass.prototype.on = function (events, modName, callback) {\r\n  var that = this;\r\n  return that.onevent.call(that, modName, events, callback);\r\n};\r\n\r\n/**\r\n * 移除模块事件\r\n * @param {string} events - 事件名\r\n * @param {string} modName - 模块名\r\n * @returns {Object}\r\n */\r\nClass.prototype.off = function (events, modName) {\r\n  var that = this;\r\n  return that.event.call(that, modName, events, EV_REMOVE);\r\n};\r\n\r\n/**\r\n * 防抖\r\n * @param {Function} func - 回调\r\n * @param {number} wait - 延时执行的毫秒数\r\n * @returns {Function}\r\n */\r\nClass.prototype.debounce = function (func, wait) {\r\n  var timeout;\r\n  return function () {\r\n    var context = this;\r\n    var args = arguments;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(function () {\r\n      func.apply(context, args);\r\n    }, wait);\r\n  };\r\n};\r\n\r\n/**\r\n * 节流\r\n * @param {Function} func - 回调\r\n * @param {number} wait - 不重复执行的毫秒数\r\n */\r\nClass.prototype.throttle = function (func, wait) {\r\n  var cooldown = false;\r\n  return function () {\r\n    var context = this;\r\n    var args = arguments;\r\n    if (!cooldown) {\r\n      func.apply(context, args);\r\n      cooldown = true;\r\n      setTimeout(function () {\r\n        cooldown = false;\r\n      }, wait);\r\n    }\r\n  };\r\n};\r\n\r\nexport const layui = new Class();\r\nexport default layui;\r\n","/**\r\n * lay\r\n * 基础模块\r\n */\r\n\r\nimport { layui } from './layui.js';\r\n\r\nvar document = window.document;\r\n\r\n/**\r\n * 元素查找\r\n * @param {string | HTMLElement | JQuery} selector\r\n */\r\nvar lay = function (selector) {\r\n  return new Class(selector);\r\n};\r\n\r\n// 构造器\r\nvar Class = function (selector) {\r\n  var that = this;\r\n  var elem =\r\n    typeof selector === 'object'\r\n      ? (function () {\r\n          // 仅适配简单元素对象\r\n          return layui.isArray(selector) ? selector : [selector];\r\n        })()\r\n      : ((this.selector = selector),\r\n        document.querySelectorAll(selector || null));\r\n\r\n  lay.each(elem, function (index) {\r\n    that.push(elem[index]);\r\n  });\r\n};\r\n\r\nvar fnToString = Function.prototype.toString;\r\nvar ObjectFunctionString = fnToString.call(Object);\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\n\r\n/*\r\n  lay 对象操作\r\n*/\r\n\r\nClass.fn = Class.prototype = [];\r\nClass.fn.constructor = Class;\r\n\r\n/**\r\n * 将一个或多个对象合并到目标对象中\r\n * 对象类型值始终进行「深拷贝」合并。若需浅拷贝合并，请使用 Object.assign()\r\n * @param {*} target - 目标对象\r\n * @param {...*} objectN - 一个或多个包含要应用的属性的源对象\r\n * @param {Function} customizer - 可选的自定义合并函数\r\n * @returns {*} 返回合并后的对象\r\n * @example\r\n *```js\r\n * console.log(lay.extend({}, {a:1})); // expected: {a:1}\r\n * console.log(lay.extend({a:1}, {a:3}, {a:5,b:5})); // expected: {a:5,b:5}\r\n * // 多个相同源对象的不同合并方式\r\n * const objN = [\r\n *   {\r\n *     a: [1, 3],\r\n *     b: {ba: 1}\r\n *   },\r\n *   {\r\n *     a: [5],\r\n *     b: {bb: 2}\r\n *   },\r\n *   {\r\n *     b: {ba: 3},\r\n *     c: 3\r\n *   }\r\n * ];\r\n * console.log(lay.extend({}, ...objN)); // expected: {a:[5,3],b:{ba:3,bb:2},c:3}\r\n * // 使用 customizer 实现数组覆盖而非合并\r\n * const obj1 = lay.extend({}, ...objN, function(objValue, srcValue) {\r\n *   if (Array.isArray(objValue) && Array.isArray(srcValue)) {\r\n *     return srcValue;\r\n *   }\r\n * });\r\n * console.log(obj1); // expected: {a:[5],b:{ba:3,bb:2},c:3}\r\n * // 使用 customizer 实现特定字段跳过合并\r\n * const obj2 = lay.extend({}, ...objN, function(objValue, srcValue, key, target, source) {\r\n *   if (key === 'b') {\r\n *     return objValue;\r\n *   }\r\n * });\r\n * console.log(obj2); // expected: {a:[5,3],b:{ba:1},c:3}\r\n * ```\r\n */\r\nlay.extend = function () {\r\n  var args = [].slice.call(arguments);\r\n\r\n  // 最后一个参数是否为 customizer\r\n  var customizer =\r\n    typeof args[args.length - 1] === 'function' ? args.pop() : false;\r\n\r\n  // 深拷贝合并\r\n  return args.reduce(function (target, source) {\r\n    // 确保 target 始终是一个对象\r\n    if (typeof target !== 'object' || target === null) {\r\n      target = {};\r\n    }\r\n\r\n    for (var key in source) {\r\n      if (!hasOwnProperty.call(source, key)) continue; // 仅处理自有属性\r\n\r\n      var targetValue = target[key];\r\n      var sourceValue = source[key];\r\n\r\n      // 自定义合并逻辑（如数组覆盖、特定字段跳过等）\r\n      if (customizer) {\r\n        var customResult = customizer(\r\n          targetValue,\r\n          sourceValue,\r\n          key,\r\n          target,\r\n          source,\r\n        );\r\n        if (customResult !== undefined) {\r\n          target[key] = customResult;\r\n          continue;\r\n        }\r\n      }\r\n\r\n      // 默认深拷贝逻辑\r\n      if (Array.isArray(sourceValue)) {\r\n        targetValue = Array.isArray(targetValue) ? targetValue : [];\r\n      } else if (lay.isPlainObject(sourceValue)) {\r\n        targetValue = lay.isPlainObject(targetValue) ? targetValue : {};\r\n      }\r\n      target[key] =\r\n        lay.isPlainObject(sourceValue) || Array.isArray(sourceValue)\r\n          ? lay.extend(targetValue, sourceValue, customizer)\r\n          : sourceValue;\r\n    }\r\n\r\n    return target;\r\n  });\r\n};\r\n\r\n/**\r\n * 判断是否为纯对象\r\n * @param {*} obj - 要检查的对象\r\n * @returns {boolean}\r\n */\r\nlay.isPlainObject = function (obj) {\r\n  if (\r\n    obj === null ||\r\n    typeof obj !== 'object' ||\r\n    Object.prototype.toString.call(obj) !== '[object Object]'\r\n  ) {\r\n    return false;\r\n  }\r\n\r\n  var proto = Object.getPrototypeOf(obj);\r\n\r\n  // Object.create(null) 创建的对象\r\n  if (proto === null) {\r\n    return true;\r\n  }\r\n\r\n  // 判定具有原型且由全局 Object 构造函数创建的对象为纯对象（来自 jQuery 方案）\r\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\r\n  return (\r\n    typeof Ctor === 'function' && fnToString.call(Ctor) === ObjectFunctionString\r\n  );\r\n};\r\n\r\n/**\r\n * IE 版本\r\n * @type {string | boolean} - 如果是 IE 返回版本字符串，否则返回 false\r\n */\r\nlay.ie = (function () {\r\n  var agent = navigator.userAgent.toLowerCase();\r\n  return !!window.ActiveXObject || 'ActiveXObject' in window\r\n    ? (agent.match(/msie\\s(\\d+)/) || [])[1] || '11' // 由于 ie11 并没有 msie 的标识\r\n    : false;\r\n})();\r\n\r\n/**\r\n * 获取 layui 常见方法，以便用于组件单独版\r\n */\r\n\r\nlay.layui = layui || {};\r\nlay.getPath = layui.cache.dir; // 获取当前 JS 所在目录\r\nlay.stope = layui.stope; // 中止冒泡\r\nlay.each = function () {\r\n  // 遍历\r\n  layui.each.apply(layui, arguments);\r\n  return this;\r\n};\r\n\r\n/**\r\n * 数字前置补零\r\n * @param {number | string} num - 原始数字\r\n * @param {number} [length=2] - 数字长度，如果原始数字长度小于 length，则前面补零\r\n * @returns {string} 返回补 0 后的数字\r\n * @example\r\n * ```js\r\n * lay.digit(6, 2); // \"06\"\r\n * lay.digit('7', 3); // \"007\"\r\n * ```\r\n */\r\nlay.digit = function (num, length) {\r\n  if (!(typeof num === 'string' || typeof num === 'number')) return '';\r\n\r\n  var str = '';\r\n  num = String(num);\r\n  length = length || 2;\r\n  for (var i = num.length; i < length; i++) {\r\n    str += '0';\r\n  }\r\n  return num < Math.pow(10, length) ? str + num : num;\r\n};\r\n\r\n/**\r\n * 创建元素\r\n * @param {string} elemName - 元素的标签名\r\n * @param {Object.<string, string>} [attr] - 添加到元素上的属性\r\n * @returns {HTMLElement} 返回创建的 HTML 元素\r\n * @example\r\n * ```js\r\n * lay.elem('div', {id: 'test'}) // <div id=\"test\"></div>\r\n * ```\r\n */\r\nlay.elem = function (elemName, attr) {\r\n  var elem = document.createElement(elemName);\r\n  lay.each(attr || {}, function (key, value) {\r\n    elem.setAttribute(key, value);\r\n  });\r\n  return elem;\r\n};\r\n\r\n/**\r\n * 当前页面是否存在滚动条\r\n * @returns {boolean} 是否存在滚动条\r\n * @example\r\n * ```\r\n * lay.hasScrollbar() // true 或 false\r\n * ```\r\n */\r\nlay.hasScrollbar = function () {\r\n  return (\r\n    document.body.scrollHeight >\r\n    (window.innerHeight || document.documentElement.clientHeight)\r\n  );\r\n};\r\n\r\n/**\r\n * 自动递增器，一般用于组件自增索引\r\n */\r\nlay.autoIncrementer = function (key, opts = {}) {\r\n  const { target = document.body } = opts;\r\n  const name = '_LAY_AUTOINCREMENTER_ID_';\r\n  const incrementer = (target[name] = target[name] || {});\r\n\r\n  incrementer[key] = incrementer[key] || 0;\r\n  return ++incrementer[key];\r\n};\r\n\r\n/**\r\n * 获取 style rules\r\n * @param {HTMLStyleElement} style - HTMLStyle 元素\r\n * @param {(ruleItem: CSSStyleRule, index: number) => boolean} [callback] - 用来返回 style 元素中的每个 `style rule` 的函数，返回 true 终止遍历\r\n * @returns {CSSRuleList} 返回 `style rules`\r\n * @example\r\n * ```\r\n * <style id=\"test\">\r\n *   .lay-card{\r\n *     color: #000;\r\n *   }\r\n *   .lay-btn-success{\r\n *     color: green;\r\n *   }\r\n * </style>\r\n *\r\n * lay.getStyleRules($('#test')[0], function(rule, index){\r\n *   if(rule.selectorText === '.lay-card'){\r\n *     console.log(index, rule.cssText) // 0 '.lay-card{color: #000}'\r\n *     rule.style.color = '#EEE';\r\n *     return true; // 终止遍历\r\n *   }\r\n * }) // RuleList\r\n * ```\r\n */\r\nlay.getStyleRules = function (style, callback) {\r\n  if (!style) return;\r\n\r\n  var sheet = style.sheet || style.styleSheet || {};\r\n  var rules = sheet.cssRules || sheet.rules;\r\n\r\n  if (typeof callback === 'function') {\r\n    layui.each(rules, function (i, item) {\r\n      if (callback(item, i)) return true;\r\n    });\r\n  }\r\n\r\n  return rules;\r\n};\r\n\r\n/**\r\n * 创建 style 样式\r\n * @param {Object} options - 可配置的选项\r\n * @param {string | HTMLElement | JQuery} [options.target] - 目标容器，指定后会将样式追加到目标容器\r\n * @param {string} [options.id] - 样式元素的 id，默认自增\r\n * @param {string} options.text - 样式内容\r\n * @returns {HTMLStyleElement} 返回创建的样式元素\r\n * @example\r\n * ```html\r\n * <div id=\"targetEl\">\r\n *   <!-- 样式追加到目标容器 -->\r\n *   <style id=\"LAY-STYLE-DF-0\">.card{color: #000}</style>\r\n * </div>\r\n *\r\n * lay.style({\r\n *   target: '#targetEl',\r\n *   text: '.card{color: #000}'\r\n * }) // <style id=\"LAY-STYLE-DF-0\">.card{color: #000}</style>\r\n * ```\r\n */\r\nlay.style = function (options) {\r\n  options = options || {};\r\n\r\n  var style = lay.elem('style');\r\n  var styleText = options.text || '';\r\n  var target = options.target;\r\n\r\n  if (!styleText) return;\r\n\r\n  // 添加样式\r\n  if ('styleSheet' in style) {\r\n    style.setAttribute('type', 'text/css');\r\n    style.styleSheet.cssText = styleText;\r\n  } else {\r\n    style.innerHTML = styleText;\r\n  }\r\n\r\n  // ID\r\n  style.id =\r\n    'LAY-STYLE-' +\r\n    (options.id ||\r\n      (function (index) {\r\n        lay.style.index++;\r\n        return 'DF-' + index;\r\n      })(lay.style.index || 0));\r\n\r\n  // 是否向目标容器中追加 style 元素\r\n  if (target) {\r\n    var styleElem = lay(target).find('#' + style.id);\r\n    styleElem[0] && styleElem.remove();\r\n    lay(target).append(style);\r\n  }\r\n\r\n  return style;\r\n};\r\n\r\n/**\r\n * 将元素定位到指定目标元素附近\r\n * @param {HTMLElement} target - 目标元素\r\n * @param {HTMLElement} elem - 定位元素\r\n * @param {Object} [opts] - 可配置的选项\r\n * @param {'absolute' | 'fixed'} [opts.position] - 元素的定位类型\r\n * @param {'left' | 'right'} [opts.clickType=\"left\"] - 点击类型，默认为 'left'，如果 {@link target} 是 document 或 body 元素，则为 'right'\r\n * @param {'left' | 'right' | 'center'} [opts.align=\"left\"] - 对齐方式\r\n * @param {boolean} [opts.allowBottomOut=false] - 顶部没有足够区域显示时，是否允许底部溢出\r\n * @param {string | number} [opts.margin=5] - 边距\r\n * @param {Event} [opts.e] - 事件对象，仅右键生效\r\n * @param {boolean} [opts.SYSTEM_RELOAD] - 是否重载，用于出现滚动条时重新计算位置\r\n * @param {[offsetX:number, offsetY:number]} [opts.offset] - 相对于触发元素的额外偏移量[x,y]\r\n * @example\r\n * ```js\r\n * <button id=\"targetEl\">dropdown</button>\r\n * <ul id=\"contentEl\" class=\"dropdown-menu\">\r\n *   <li>菜单1</li>\r\n *   <li>菜单2</li>\r\n * </ul>\r\n *\r\n * // 下拉菜单将被定位到按钮附近\r\n * lay.position(\r\n *   $('#targetEl')[0],\r\n *   $('#contentEl')[0],\r\n *   {\r\n *     position: 'fixed',\r\n *     align: 'center'\r\n *   }\r\n * )\r\n * ```\r\n */\r\nlay.position = function (target, elem, opts) {\r\n  if (!elem) return;\r\n  opts = opts || {};\r\n\r\n  // 如果绑定的是 document 或 body 元素，则直接获取鼠标坐标\r\n  if (target === document || target === lay('body')[0]) {\r\n    opts.clickType = 'right';\r\n  }\r\n\r\n  // 绑定绑定元素的坐标\r\n  var rect =\r\n    opts.clickType === 'right'\r\n      ? (function () {\r\n          var e = opts.e || window.event || {};\r\n          return {\r\n            left: e.clientX,\r\n            top: e.clientY,\r\n            right: e.clientX,\r\n            bottom: e.clientY,\r\n          };\r\n        })()\r\n      : target.getBoundingClientRect();\r\n  var elemWidth = elem.offsetWidth; // 控件的宽度\r\n  var elemHeight = elem.offsetHeight; // 控件的高度\r\n\r\n  // 滚动条高度\r\n  var scrollArea = function (type) {\r\n    type = type ? 'scrollLeft' : 'scrollTop';\r\n    return document.body[type] | document.documentElement[type];\r\n  };\r\n\r\n  // 窗口宽高\r\n  var winArea = function (type) {\r\n    return document.documentElement[type ? 'clientWidth' : 'clientHeight'];\r\n  };\r\n  var margin = 'margin' in opts ? opts.margin : 5;\r\n  var left = rect.left;\r\n  var top = rect.bottom;\r\n\r\n  // 相对元素居中\r\n  if (opts.align === 'center') {\r\n    left = left - (elemWidth - target.offsetWidth) / 2;\r\n  } else if (opts.align === 'right') {\r\n    left = left - elemWidth + target.offsetWidth;\r\n  }\r\n\r\n  // 判断右侧是否超出边界\r\n  if (left + elemWidth + margin > winArea('width')) {\r\n    left = winArea('width') - elemWidth - margin; // 如果超出右侧，则将面板向右靠齐\r\n  }\r\n  // 左侧是否超出边界\r\n  if (left < margin) left = margin;\r\n\r\n  // 判断底部和顶部是否超出边界\r\n  if (rect.bottom + elemHeight + margin > winArea()) {\r\n    // 底部超出边界\r\n    // 优先判断顶部是否有足够区域显示完全，且底部不能超出边界\r\n    if (rect.top > elemHeight + margin && rect.top <= winArea()) {\r\n      top = rect.top - elemHeight - margin * 2; // 顶部有足够的区域显示\r\n    } else if (!opts.allowBottomOut) {\r\n      // 顶部没有足够区域显示时，是否允许底部溢出\r\n      top = winArea() - elemHeight - margin * 2; // 面板向底部靠齐\r\n      if (top < 0) top = 0; // 如果面板底部靠齐时，又溢出窗口顶部，则只能将顶部靠齐\r\n    }\r\n  }\r\n  /*\r\n  if(top + elemHeight + margin > winArea()){\r\n    // 优先顶部是否有足够区域显示完全\r\n    if(rect.top > elemHeight + margin){\r\n      top = rect.top - elemHeight - margin*2; // 顶部有足够的区域显示\r\n    } else {\r\n      // 如果面板是鼠标右键弹出，且顶部没有足够区域显示，则将面板向底部靠齐\r\n      if(obj.clickType === 'right'){\r\n        top = winArea() - elemHeight - margin*2;\r\n        if(top < 0) top = 0; // 不能溢出窗口顶部\r\n      } else {\r\n        top = margin; // 位置计算逻辑完备性处理\r\n      }\r\n    }\r\n  }\r\n  */\r\n\r\n  // 定位类型\r\n  var position = opts.position;\r\n  if (position) elem.style.position = position;\r\n  var offsetX = opts.offset ? opts.offset[0] : 0;\r\n  var offsetY = opts.offset ? opts.offset[1] : 0;\r\n\r\n  // 设置坐标\r\n  elem.style.left =\r\n    left + (position === 'fixed' ? 0 : scrollArea(1)) + offsetX + 'px';\r\n  elem.style.top =\r\n    top + (position === 'fixed' ? 0 : scrollArea()) + offsetY + 'px';\r\n\r\n  // 防止页面无滚动条时，又因为弹出面板而出现滚动条导致的坐标计算偏差\r\n  if (!lay.hasScrollbar()) {\r\n    var rect1 = elem.getBoundingClientRect();\r\n    // 如果弹出面板的溢出窗口底部，则表示将出现滚动条，此时需要重新计算坐标\r\n    if (!opts.SYSTEM_RELOAD && rect1.bottom + margin > winArea()) {\r\n      opts.SYSTEM_RELOAD = true;\r\n      setTimeout(function () {\r\n        lay.position(target, elem, opts);\r\n      }, 50);\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * 获取元素上的属性配置项\r\n * @param {string | HTMLElement | JQuery} elem - HTML 元素\r\n * @param {{attr: string} | string} [opts=\"lay-options\"] - 可配置的选项，string 类型指定属性名\r\n * @returns {Object.<string, any>} 返回元素上的属性配置项\r\n * @example\r\n * ```js\r\n * <div id=\"testEl\" lay-options=\"{color:red}\" lay-toc=\"{hot: true}\"></div>\r\n *\r\n * var elem = $('#testEl')\r\n * lay.options(elem) // {color:red}\r\n * lay.options(elem[0]) // {color:red}\r\n * lay.options('#testEl') // {color:red}\r\n * lay.options('#testEl', {attr: 'lay-toc'}) // {hot: true}\r\n * lay.options('#testEl', 'lay-toc') // {hot: true}\r\n *\r\n * $('#testEl').attr('lay-toc') // '{hot: true}'\r\n * ```\r\n */\r\nlay.options = function (elem, opts) {\r\n  opts = typeof opts === 'object' ? opts : { attr: opts };\r\n\r\n  if (elem === document) return {};\r\n\r\n  var othis = lay(elem);\r\n  var attrName = opts.attr || 'lay-options';\r\n  var attrValue = othis.attr(attrName);\r\n\r\n  try {\r\n    /**\r\n     * 请注意: 开发者在使用 lay-options=\"{}\" 配置组件选项时，需确保属性值不来自于网页用户,\r\n     * 即属性值必须在网页开发者自身的可控范围内，否则请勿在 HTML 标签属性中获取组件选项。\r\n     */\r\n    return new Function('return ' + (attrValue || '{}'))();\r\n  } catch (ev) {\r\n    layui\r\n      .hint()\r\n      .error(\r\n        opts.errorText ||\r\n          [attrName + '=\"' + attrValue + '\"', '\\n parseerror: ' + ev].join(\r\n            '\\n',\r\n          ),\r\n        'error',\r\n      );\r\n    return {};\r\n  }\r\n};\r\n\r\n/**\r\n * 元素是否属于顶级元素（document 或 body）\r\n * @param {HTMLElement} elem - HTML 元素\r\n * @returns {boolean} 是否属于顶级元素\r\n * @example\r\n * ```js\r\n * lay.isTopElem(document) // true\r\n * ```\r\n */\r\nlay.isTopElem = function (elem) {\r\n  var topElems = [document, lay('body')[0]],\r\n    matched = false;\r\n  lay.each(topElems, function (index, item) {\r\n    if (item === elem) {\r\n      return (matched = true);\r\n    }\r\n  });\r\n  return matched;\r\n};\r\n\r\n// 剪切板\r\nlay.clipboard = {\r\n  /**\r\n   * 写入文本\r\n   * @param {Object} options - 可配置的选项\r\n   * @param {string} options.text - 写入剪贴板的文本\r\n   * @param {() => void} [options.done] - 写入成功/完成回调\r\n   * @param {(err?: any) => void} [options.error] - 写入失败回调\r\n   * @example\r\n   * ```js\r\n   * lay.clipboard.writeText({\r\n   *   text: '测试文本',\r\n   *   done: function(){ layer.msg('copied')},\r\n   *   error: function(){ layer.msg('error')}\r\n   * })\r\n   * ```\r\n   */\r\n  writeText: function (options) {\r\n    var text = String(options.text);\r\n\r\n    if (navigator && 'clipboard' in navigator) {\r\n      navigator.clipboard.writeText(text).then(options.done, function () {\r\n        legacyCopy();\r\n      });\r\n    } else {\r\n      legacyCopy();\r\n    }\r\n\r\n    function legacyCopy() {\r\n      var elem = document.createElement('textarea');\r\n\r\n      elem.value = text;\r\n      elem.style.position = 'fixed';\r\n      elem.style.opacity = '0';\r\n      elem.style.top = '0px';\r\n      elem.style.left = '0px';\r\n\r\n      document.body.appendChild(elem);\r\n      elem.select();\r\n\r\n      try {\r\n        document.execCommand('copy');\r\n        typeof options.done === 'function' && options.done();\r\n      } catch (err) {\r\n        typeof options.error === 'function' && options.error(err);\r\n      } finally {\r\n        elem.remove ? elem.remove() : document.body.removeChild(elem);\r\n      }\r\n    }\r\n  },\r\n};\r\n\r\n/**\r\n * 检测是否支持 Passive Event Listeners\r\n * 引用自 https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\r\n * @type {boolean}\r\n */\r\nlay.passiveSupported = (function () {\r\n  var passiveSupported = false;\r\n  try {\r\n    var opts = Object.defineProperty({}, 'passive', {\r\n      get: function () {\r\n        passiveSupported = true;\r\n        return passiveSupported;\r\n      },\r\n    });\r\n    window.addEventListener('test', null, opts);\r\n    window.removeEventListener('test', null, opts);\r\n  } catch {\r\n    // ignore\r\n  }\r\n  return passiveSupported;\r\n})();\r\n\r\n/**\r\n * 是否支持 touch 事件\r\n */\r\nlay.touchEventsSupported = function () {\r\n  return 'ontouchstart' in window;\r\n};\r\n\r\n/**\r\n * @typedef touchSwipeState\r\n * @prop {{x: number,y: number}} pointerStart - 初始坐标\r\n * @prop {{x: number,y: number}} pointerEnd - 结束坐标\r\n * @prop {number} distanceX - X 轴移动距离\r\n * @prop {number} distanceY - Y 轴移动距离\r\n * @prop {'none'|'right'|'left'|'up'|'down'} direction - 滑动方向\r\n * @prop {Date} timeStart 开始时间\r\n */\r\n/**\r\n * @callback touchSwipeCallback\r\n * @param {TouchEvent} e 滑动事件\r\n * @param {touchSwipeState} state 滑动相关的状态\r\n */\r\n/**\r\n * 基于 touch 事件的触摸滑动\r\n * @param {string | HTMLElement | JQuery} elem - HTML 元素\r\n * @param {{onTouchStart?: touchSwipeCallback; onTouchMove?: touchSwipeCallback; onTouchEnd?: touchSwipeCallback; preventDefault?: boolean}} opts - 配置项\r\n */\r\nlay.touchSwipe = function (elem, opts) {\r\n  var options = opts;\r\n  var targetElem = lay(elem)[0];\r\n  var preventDefault =\r\n    'preventDefault' in options ? options.preventDefault : true;\r\n\r\n  if (!targetElem || !lay.touchEventsSupported()) return;\r\n\r\n  var state = {\r\n    pointerStart: { x: 0, y: 0 },\r\n    pointerEnd: { x: 0, y: 0 },\r\n    distanceX: 0,\r\n    distanceY: 0,\r\n    direction: 'none', // 'up','down','left','right','none\r\n    timeStart: null,\r\n  };\r\n\r\n  var onStart = function (e) {\r\n    if (e.touches.length !== 1) return;\r\n    bindEvents();\r\n    // 重置状态\r\n    state.timeStart = Date.now();\r\n    state.pointerStart.x = state.pointerEnd.x = e.touches[0].clientX;\r\n    state.pointerStart.y = state.pointerEnd.y = e.touches[0].clientY;\r\n    state.distanceX = state.distanceY = 0;\r\n    state.direction = 'none';\r\n\r\n    options.onTouchStart && options.onTouchStart(e, state);\r\n  };\r\n\r\n  var onMove = function (e) {\r\n    if (preventDefault) {\r\n      e.preventDefault();\r\n    }\r\n    state.pointerEnd.x = e.touches[0].clientX;\r\n    state.pointerEnd.y = e.touches[0].clientY;\r\n    state.distanceX = state.pointerStart.x - state.pointerEnd.x;\r\n    state.distanceY = state.pointerStart.y - state.pointerEnd.y;\r\n    if (Math.abs(state.distanceX) > Math.abs(state.distanceY)) {\r\n      state.direction = state.distanceX > 0 ? 'left' : 'right';\r\n    } else {\r\n      state.direction = state.distanceY > 0 ? 'up' : 'down';\r\n    }\r\n    options.onTouchMove && options.onTouchMove(e, state);\r\n  };\r\n\r\n  var onEnd = function (e) {\r\n    options.onTouchEnd && options.onTouchEnd(e, state);\r\n    unbindEvents();\r\n  };\r\n\r\n  var bindEvents = function () {\r\n    targetElem.addEventListener(\r\n      'touchmove',\r\n      onMove,\r\n      lay.passiveSupported ? { passive: false } : false,\r\n    );\r\n    targetElem.addEventListener('touchend', onEnd);\r\n    targetElem.addEventListener('touchcancel', onEnd);\r\n  };\r\n\r\n  var unbindEvents = function () {\r\n    targetElem.removeEventListener('touchmove', onMove);\r\n    targetElem.removeEventListener(\r\n      'touchend',\r\n      onEnd,\r\n      lay.passiveSupported ? { passive: false } : false,\r\n    );\r\n    targetElem.removeEventListener('touchcancel', onEnd);\r\n  };\r\n\r\n  // 防止事件重复绑定\r\n  if (targetElem.__lay_touchswipe_cb_) {\r\n    targetElem.removeEventListener(\r\n      'touchstart',\r\n      targetElem.__lay_touchswipe_cb_,\r\n    );\r\n  }\r\n  targetElem.__lay_touchswipe_cb_ = onStart;\r\n  targetElem.addEventListener('touchstart', onStart);\r\n};\r\n\r\n/** @type {(elem: Element|Document|Window,eventName: string,fn:EventListenerOrEventListenerObject,options: boolean | AddEventListenerOptions) => any}*/\r\nlay.addEvent = (function () {\r\n  if (document.addEventListener) {\r\n    return function (elem, eventName, fn, options) {\r\n      elem.addEventListener(eventName, fn, options);\r\n    };\r\n  } else {\r\n    return function (elem, eventName, fn) {\r\n      var prefix = '_lay_on_';\r\n      var eventsCacheName = prefix + eventName;\r\n      var listener = function (e) {\r\n        e.target = e.srcElement;\r\n        fn.call(elem, e);\r\n      };\r\n      listener._rawFn = fn;\r\n      if (!elem[eventsCacheName]) {\r\n        elem[eventsCacheName] = [];\r\n      }\r\n      var include = false;\r\n      lay.each(elem[eventsCacheName], function (_, listener) {\r\n        if (listener._rawFn === fn) {\r\n          include = true;\r\n          return true;\r\n        }\r\n      });\r\n      if (!include) {\r\n        elem[eventsCacheName].push(listener);\r\n        elem.attachEvent('on' + eventName, listener);\r\n      }\r\n    };\r\n  }\r\n})();\r\n\r\n/** @type {(elem: Element|Document|Window,eventName: string,fn:EventListenerOrEventListenerObject,options: boolean | EventListenerOptions) => any}*/\r\nlay.removeEvent = (function () {\r\n  if (document.removeEventListener) {\r\n    return function (elem, eventName, fn, options) {\r\n      elem.removeEventListener(eventName, fn, options);\r\n    };\r\n  } else {\r\n    return function (elem, eventName, fn) {\r\n      var prefix = '_lay_on_';\r\n      var eventsCacheName = prefix + eventName;\r\n      var events = elem[eventsCacheName];\r\n      if (layui.isArray(events)) {\r\n        var newEvents = [];\r\n        lay.each(events, function (_, listener) {\r\n          if (listener._rawFn === fn) {\r\n            elem.detachEvent('on' + eventName, listener);\r\n          } else {\r\n            newEvents.push(listener);\r\n          }\r\n        });\r\n        elem[eventsCacheName] = newEvents;\r\n      }\r\n    };\r\n  }\r\n})();\r\n\r\n/**\r\n * 绑定指定元素外部的点击事件\r\n * @param {HTMLElement} target - 响应事件的元素\r\n * @param {(e: Event) => void} handler - 事件触发时执行的函数\r\n * @param {object} [options] - 选项\r\n * @param {string} [options.event=\"pointerdown\"] - 事件类型\r\n * @param {HTMLElement | Window} [options.scope=document] - 事件范围\r\n * @param {Array<HTMLElement | string>} [options.ignore] - 忽略触发事件的元素或选择器字符串\r\n * @param {boolean} [options.capture=true] - 对内部事件 listener 使用捕获阶段\r\n * @param {boolean} [options.detectIframe] - 是否检测 iframe\r\n * @returns {() => void} - 返回一个停止事件响应的函数\r\n */\r\nlay.onClickOutside = function (target, handler, options) {\r\n  options = options || {};\r\n  var eventType =\r\n    options.event || ('onpointerdown' in window ? 'pointerdown' : 'mousedown');\r\n  var scopeTarget = options.scope || document;\r\n  var ignore = options.ignore || [];\r\n  var useCapture = 'capture' in options ? options.capture : true;\r\n  var detectIframe = options.detectIframe;\r\n\r\n  var listener = function (event) {\r\n    var el = target;\r\n    var eventTarget = event.target || event.srcElement;\r\n    var eventPath = getEventPath(event);\r\n\r\n    if (!el || el === eventTarget || eventPath.indexOf(el) !== -1) {\r\n      return;\r\n    }\r\n    if (shouldIgnore(event, eventPath)) {\r\n      return;\r\n    }\r\n\r\n    handler(event);\r\n  };\r\n\r\n  function shouldIgnore(event, eventPath) {\r\n    var eventTarget = event.target || event.srcElement;\r\n    for (var i = 0; i < ignore.length; i++) {\r\n      var target = ignore[i];\r\n      if (typeof target === 'string') {\r\n        var targetElements = document.querySelectorAll(target);\r\n        for (var j = 0; j < targetElements.length; j++) {\r\n          var targetEl = targetElements[i];\r\n          if (targetEl === eventTarget || eventPath.indexOf(targetEl) !== -1) {\r\n            return true;\r\n          }\r\n        }\r\n      } else {\r\n        if (\r\n          target &&\r\n          (target === eventTarget || eventPath.indexOf(target) !== -1)\r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function getEventPath(event) {\r\n    var path = (event.composedPath && event.composedPath()) || event.path;\r\n    var eventTarget = event.target || event.srcElement;\r\n\r\n    if (path !== null && path !== undefined) {\r\n      return path;\r\n    }\r\n\r\n    function getParents(node, memo) {\r\n      memo = memo || [];\r\n      var parentNode = node.parentNode;\r\n\r\n      return parentNode\r\n        ? getParents(parentNode, memo.concat([parentNode]))\r\n        : memo;\r\n    }\r\n\r\n    return [eventTarget].concat(getParents(eventTarget));\r\n  }\r\n\r\n  function bindEventListener(elem, eventName, handler, opts) {\r\n    elem.addEventListener\r\n      ? elem.addEventListener(eventName, handler, opts)\r\n      : elem.attachEvent('on' + eventName, handler);\r\n\r\n    return function () {\r\n      elem.removeEventListener\r\n        ? elem.removeEventListener(eventName, handler, opts)\r\n        : elem.detachEvent('on' + eventName, handler);\r\n    };\r\n  }\r\n\r\n  var cleanup = [\r\n    bindEventListener(\r\n      scopeTarget,\r\n      eventType,\r\n      listener,\r\n      lay.passiveSupported\r\n        ? { passive: true, capture: useCapture }\r\n        : useCapture,\r\n    ),\r\n    detectIframe &&\r\n      bindEventListener(window, 'blur', function (event) {\r\n        setTimeout(function () {\r\n          if (\r\n            document.activeElement &&\r\n            document.activeElement.tagName === 'IFRAME' &&\r\n            target.contains &&\r\n            !target.contains(document.activeElement)\r\n          ) {\r\n            handler(event);\r\n          }\r\n        }, 0);\r\n      }),\r\n  ];\r\n\r\n  return function () {\r\n    for (var i = 0; i < cleanup.length; i++) {\r\n      cleanup[i] && cleanup[i]();\r\n    }\r\n    cleanup = null;\r\n  };\r\n};\r\n\r\n/**\r\n * 检查对象是否具有指定的属性\r\n * @param {Record<string, any>} obj 要检查的对象\r\n * @param {string} prop 要检查的属性名\r\n * @returns {boolean} 如果对象具有指定的属性，则为 true；否则为 false\r\n */\r\nlay.hasOwn = function (obj, prop) {\r\n  return hasOwnProperty.call(obj, prop);\r\n};\r\n\r\n/**\r\n * 转义 HTML 字符串中的特殊字符\r\n * @param {string} html 要转义的 HTML 字符串\r\n * @returns {string} 转义后的 HTML 字符串\r\n */\r\nlay.escape = function (html) {\r\n  var exp = /[<\"'>]|&(?=#?[a-zA-Z0-9]+)/g;\r\n  if (html === undefined || html === null) return '';\r\n\r\n  html += '';\r\n  if (!exp.test(html)) return html;\r\n\r\n  return html\r\n    .replace(/&(?=#?[a-zA-Z0-9]+;?)/g, '&amp;')\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;')\r\n    .replace(/'/g, '&#39;')\r\n    .replace(/\"/g, '&quot;');\r\n};\r\n\r\n/**\r\n * 还原转义的 HTML 字符串中的特殊字符\r\n * @param {string} html 要还原转义的 HTML 字符串\r\n * @returns {string} 还原转义后的 HTML 字符串\r\n */\r\nlay.unescape = function (html) {\r\n  if (html === undefined || html === null) return '';\r\n\r\n  return String(html)\r\n    .replace(/&quot;/g, '\"')\r\n    .replace(/&#39;/g, \"'\")\r\n    .replace(/&gt;/g, '>')\r\n    .replace(/&lt;/g, '<')\r\n    .replace(/&amp;/g, '&');\r\n};\r\n\r\n/**\r\n * 生成唯一的 ID 字符串\r\n * @param {string} prefix ID 前缀，默认为'id'\r\n * @returns {string} 唯一 ID 字符串\r\n */\r\nvar generateUniqueId = (function () {\r\n  var counter = 0;\r\n  var lastTimestamp = null;\r\n\r\n  return function (prefix) {\r\n    prefix = prefix || 'id';\r\n    var timestamp = new Date().getTime();\r\n\r\n    // 如果时间戳与上一次相同，增加计数器\r\n    // 否则重置计数器\r\n    if (timestamp === lastTimestamp) {\r\n      counter++;\r\n    } else {\r\n      counter = 0;\r\n      lastTimestamp = timestamp;\r\n    }\r\n\r\n    // 结合时间戳、随机数和计数器生成 ID\r\n    var random = Math.floor(Math.random() * 10000);\r\n\r\n    return prefix + '-' + timestamp + '-' + random + '-' + counter;\r\n  };\r\n})();\r\n\r\n/**\r\n * 创建共享的 ResizeObserver 实例\r\n * @param {string} namespace 命名空间，用于区分不同的 ResizeObserver 实例\r\n * @returns {ResizeObserver | null} ResizeObserver 实例或 null（如果不支持）\r\n */\r\nlay.createSharedResizeObserver = function (namespace) {\r\n  if (typeof window.ResizeObserver === 'undefined') {\r\n    console.warn('ResizeObserver is not supported in this browser.');\r\n    return null;\r\n  }\r\n\r\n  namespace = namespace || '';\r\n  var ATTR_NAME = 'lay-' + namespace + '-resizeobserver-key';\r\n  var handlerCache = {};\r\n\r\n  var o = new ResizeObserver(function (entries) {\r\n    for (var i = 0; i < entries.length; i++) {\r\n      var attrValue = entries[i].target.getAttribute(ATTR_NAME);\r\n\r\n      if (attrValue) {\r\n        var callback = handlerCache[attrValue];\r\n        if (typeof callback === 'function') {\r\n          callback(entries[i]);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  return Object.freeze({\r\n    observe: function (element, callback) {\r\n      if (!element || !(element instanceof Element)) {\r\n        console.warn('createSharedResizeObserver: Cannot observe non-Element.');\r\n        return;\r\n      }\r\n\r\n      var attrValue = element.getAttribute(ATTR_NAME);\r\n      if (!attrValue) {\r\n        attrValue = generateUniqueId(namespace);\r\n        element.setAttribute(ATTR_NAME, attrValue);\r\n      }\r\n\r\n      // 使用同一个观察者实例多次观察同一个元素，不会重复添加\r\n      handlerCache[attrValue] = callback;\r\n      o.observe(element);\r\n    },\r\n    unobserve: function (element) {\r\n      if (!element || !(element instanceof Element)) {\r\n        console.warn(\r\n          'createSharedResizeObserver: Cannot unobserve non-Element.',\r\n        );\r\n        return;\r\n      }\r\n\r\n      var attrValue = element.getAttribute(ATTR_NAME);\r\n      if (!attrValue) {\r\n        return;\r\n      }\r\n\r\n      // 清除相关回调\r\n      if (handlerCache[attrValue]) {\r\n        delete handlerCache[attrValue];\r\n      }\r\n\r\n      element.removeAttribute(ATTR_NAME);\r\n      o.unobserve(element);\r\n    },\r\n    disconnect: function () {\r\n      for (var key in handlerCache) {\r\n        if (lay.hasOwn(handlerCache, key)) {\r\n          delete handlerCache[key];\r\n          var elem = document.querySelector(\r\n            '[' + ATTR_NAME + '=\"' + key + '\"]',\r\n          );\r\n          if (elem) {\r\n            elem.removeAttribute(ATTR_NAME);\r\n          }\r\n        }\r\n      }\r\n      o.disconnect();\r\n    },\r\n  });\r\n};\r\n\r\n/**\r\n * 树状数据转平铺\r\n * @param {Object[]} data - 树状数据\r\n * @param {Object} options - 可选项\r\n * @param {string} [options.childrenKey='children'] - 子节点字段名\r\n * @param {string} [options.idKey='id'] - 节点 id 字段名\r\n * @param {string} [options.parentKey='parentId'] - 父节点 id 字段名\r\n * @param {boolean} [options.keepChildren=true] - 是否保留子节点数据\r\n * @returns {Object[]} 返回平铺数据\r\n */\r\nlay.treeToFlat = function (data, options) {\r\n  options = Object.assign(\r\n    {\r\n      childrenKey: 'children',\r\n      idKey: 'id',\r\n      parentKey: 'parentId',\r\n      keepChildren: true,\r\n    },\r\n    options,\r\n  );\r\n\r\n  // 展平\r\n  var toFlat = function (initData, nodes, parentId) {\r\n    return nodes.reduce(function (acc, currNode) {\r\n      var children = currNode[options.childrenKey];\r\n\r\n      if (!options.keepChildren) {\r\n        delete currNode[options.childrenKey];\r\n      }\r\n\r\n      currNode[options.parentKey] = parentId; // 设置父节点 id\r\n      acc.push(currNode);\r\n\r\n      // 递归子节点\r\n      if (children && children.length) {\r\n        return toFlat(acc, children, currNode[options.idKey]);\r\n      }\r\n\r\n      return acc;\r\n    }, initData);\r\n  };\r\n\r\n  return toFlat([], JSON.parse(JSON.stringify(data)), null);\r\n};\r\n\r\n/**\r\n * 平铺数据转树状\r\n * @param {Array} data - 平铺数据\r\n * @param {Object} options - 可选项\r\n * @param {string} [options.childrenKey='children'] - 子节点字段名\r\n * @param {string} [options.idKey='id'] - 节点 id 字段名\r\n * @param {string} [options.parentKey='parentId'] - 父节点 id 字段名\r\n */\r\nlay.flatToTree = function (data, options) {\r\n  options = Object.assign(\r\n    {\r\n      childrenKey: 'children',\r\n      idKey: 'id',\r\n      parentKey: 'parentId',\r\n    },\r\n    options,\r\n  );\r\n\r\n  data = JSON.parse(JSON.stringify(data)); // 深拷贝，防止修改原数据\r\n\r\n  // 先创建节点映射，确保无论平铺数据的顺序如何，组装树时都能正确匹配\r\n  var map = data.reduce(function (acc, currNode) {\r\n    var id = currNode[options.idKey];\r\n    acc[id] = currNode;\r\n    acc[id][options.childrenKey] = [];\r\n    return acc;\r\n  }, {});\r\n\r\n  // 组装树\r\n  return data.reduce(function (acc, currNode) {\r\n    var id = currNode[options.idKey];\r\n    var parentId = currNode[options.parentKey];\r\n\r\n    // 根节点\r\n    if (parentId === null || !map[parentId]) {\r\n      acc.push(map[id]);\r\n    } else {\r\n      // 子节点\r\n      map[parentId][options.childrenKey].push(currNode);\r\n    }\r\n\r\n    return acc;\r\n  }, []);\r\n};\r\n\r\n/*\r\n * lay 元素操作\r\n */\r\n\r\n// 追加字符\r\nClass.addStr = function (str, new_str) {\r\n  str = str.replace(/\\s+/, ' ');\r\n  new_str = new_str.replace(/\\s+/, ' ').split(' ');\r\n  lay.each(new_str, function (ii, item) {\r\n    if (!new RegExp('\\\\b' + item + '\\\\b').test(str)) {\r\n      str = str + ' ' + item;\r\n    }\r\n  });\r\n  return str.replace(/^\\s|\\s$/, '');\r\n};\r\n\r\n// 移除值\r\nClass.removeStr = function (str, new_str) {\r\n  str = str.replace(/\\s+/, ' ');\r\n  new_str = new_str.replace(/\\s+/, ' ').split(' ');\r\n  lay.each(new_str, function (ii, item) {\r\n    var exp = new RegExp('\\\\b' + item + '\\\\b');\r\n    if (exp.test(str)) {\r\n      str = str.replace(exp, '');\r\n    }\r\n  });\r\n  return str.replace(/\\s+/, ' ').replace(/^\\s|\\s$/, '');\r\n};\r\n\r\n// 查找子元素\r\nClass.fn.find = function (selector) {\r\n  // var that = this;\r\n  var elem = [];\r\n  var isObject = typeof selector === 'object';\r\n\r\n  this.each(function (i, item) {\r\n    var children =\r\n      isObject && item.contains(selector)\r\n        ? selector\r\n        : item.querySelectorAll(selector || null);\r\n\r\n    lay.each(children, function (index, child) {\r\n      elem.push(child);\r\n    });\r\n  });\r\n\r\n  return lay(elem);\r\n};\r\n\r\n// 元素遍历\r\nClass.fn.each = function (fn) {\r\n  return lay.each.call(this, this, fn);\r\n};\r\n\r\n// 添加 className\r\nClass.fn.addClass = function (className, type) {\r\n  return this.each(function (index, item) {\r\n    item.className = Class[type ? 'removeStr' : 'addStr'](\r\n      item.className,\r\n      className,\r\n    );\r\n  });\r\n};\r\n\r\n// 移除 className\r\nClass.fn.removeClass = function (className) {\r\n  return this.addClass(className, true);\r\n};\r\n\r\n// 是否包含 css 类\r\nClass.fn.hasClass = function (className) {\r\n  var has = false;\r\n  this.each(function (index, item) {\r\n    if (new RegExp('\\\\b' + className + '\\\\b').test(item.className)) {\r\n      has = true;\r\n    }\r\n  });\r\n  return has;\r\n};\r\n\r\n// 添加或获取 css style\r\nClass.fn.css = function (key, value) {\r\n  var that = this;\r\n  var parseValue = function (v) {\r\n    return isNaN(v) ? v : v + 'px';\r\n  };\r\n  return typeof key === 'string' && value === undefined\r\n    ? (function () {\r\n        if (that.length > 0) return that[0].style[key];\r\n      })()\r\n    : that.each(function (index, item) {\r\n        typeof key === 'object'\r\n          ? lay.each(key, function (thisKey, thisValue) {\r\n              item.style[thisKey] = parseValue(thisValue);\r\n            })\r\n          : (item.style[key] = parseValue(value));\r\n      });\r\n};\r\n\r\n// 添加或获取宽度\r\nClass.fn.width = function (value) {\r\n  var that = this;\r\n  return value === undefined\r\n    ? (function () {\r\n        if (that.length > 0) return that[0].offsetWidth; // 此处还需做兼容\r\n      })()\r\n    : that.each(function () {\r\n        that.css('width', value);\r\n      });\r\n};\r\n\r\n// 添加或获取高度\r\nClass.fn.height = function (value) {\r\n  var that = this;\r\n  return value === undefined\r\n    ? (function () {\r\n        if (that.length > 0) return that[0].offsetHeight; // 此处还需做兼容\r\n      })()\r\n    : that.each(function () {\r\n        that.css('height', value);\r\n      });\r\n};\r\n\r\n// 添加或获取属性\r\nClass.fn.attr = function (key, value) {\r\n  var that = this;\r\n  return value === undefined\r\n    ? (function () {\r\n        if (that.length > 0) return that[0].getAttribute(key);\r\n      })()\r\n    : that.each(function (index, item) {\r\n        item.setAttribute(key, value);\r\n      });\r\n};\r\n\r\n// 移除属性\r\nClass.fn.removeAttr = function (key) {\r\n  return this.each(function (index, item) {\r\n    item.removeAttribute(key);\r\n  });\r\n};\r\n\r\n// 设置或获取 HTML 内容\r\nClass.fn.html = function (html) {\r\n  var that = this;\r\n  return html === undefined\r\n    ? (function () {\r\n        if (that.length > 0) return that[0].innerHTML;\r\n      })()\r\n    : this.each(function (index, item) {\r\n        item.innerHTML = html;\r\n      });\r\n};\r\n\r\n// 设置或获取值\r\nClass.fn.val = function (value) {\r\n  var that = this;\r\n  return value === undefined\r\n    ? (function () {\r\n        if (that.length > 0) return that[0].value;\r\n      })()\r\n    : this.each(function (index, item) {\r\n        item.value = value;\r\n      });\r\n};\r\n\r\n// 追加内容\r\nClass.fn.append = function (elem) {\r\n  return this.each(function (index, item) {\r\n    typeof elem === 'object'\r\n      ? item.appendChild(elem)\r\n      : (item.innerHTML = item.innerHTML + elem);\r\n  });\r\n};\r\n\r\n// 移除内容\r\nClass.fn.remove = function (elem) {\r\n  return this.each(function (index, item) {\r\n    elem ? item.removeChild(elem) : item.parentNode.removeChild(item);\r\n  });\r\n};\r\n\r\n// 事件绑定\r\nClass.fn.on = function (eventName, fn, options) {\r\n  return this.each(function (index, item) {\r\n    lay.addEvent(item, eventName, fn, options);\r\n  });\r\n};\r\n\r\n// 解除事件\r\nClass.fn.off = function (eventName, fn, options) {\r\n  return this.each(function (index, item) {\r\n    lay.removeEvent(item, eventName, fn, options);\r\n  });\r\n};\r\n\r\nexport { lay };\r\n","/**\r\n * laytpl\r\n * 轻量级通用模板引擎\r\n */\r\n\r\n// 实例接口\r\nvar thisModule = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  return {\r\n    config: options,\r\n\r\n    /**\r\n     * 渲染模板\r\n     * @param {Object} data - 模板数据\r\n     * @param {Function} callback - 回调函数\r\n     * @returns {string} 渲染后的模板\r\n     */\r\n    render: function (data, callback) {\r\n      options.data = data;\r\n      var html = that.render();\r\n\r\n      // 如果传入目标元素选择器，则直接将模板渲染到目标元素中\r\n      if (options.target) {\r\n        var elem = document.querySelector(options.target);\r\n        if (elem) {\r\n          elem.innerHTML = html;\r\n        }\r\n      }\r\n\r\n      // 返回结果\r\n      return typeof callback === 'function' ? (callback(html), this) : html;\r\n    },\r\n\r\n    /**\r\n     * 编译新的模板\r\n     * @param {string} template - 模板\r\n     * @returns {this}\r\n     */\r\n    compile: function (template) {\r\n      options.template = template;\r\n      delete that.compilerCache; // 清除模板缓存\r\n      // that.compile(template);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * 模板编译错误事件\r\n     * @param {Function} callback\r\n     * @returns {this}\r\n     */\r\n    error: function (callback) {\r\n      callback && (options.error = callback);\r\n      return this;\r\n    },\r\n\r\n    /**\r\n     * 以下为兼容旧版本相关方法\r\n     */\r\n\r\n    // 解析并渲染模板\r\n    parse: function (template, data) {\r\n      return this.compile(template).render(data);\r\n    },\r\n  };\r\n};\r\n\r\n// 模板内部变量\r\nvar vars = {\r\n  // 字符转义\r\n  escape: function (html) {\r\n    var exp = /[<\"'>]|&(?=#?[a-zA-Z0-9]+)/g;\r\n    if (html === undefined || html === null) return '';\r\n    html += '';\r\n    if (!exp.test(html)) return html;\r\n    return html.replace(exp, function (str) {\r\n      return '&#' + str.charCodeAt(0) + ';';\r\n    });\r\n  },\r\n};\r\n\r\n// 组件工具类方法\r\nvar tools = {\r\n  /**\r\n   * 创建动态正则表达式\r\n   * @param {string} str - 表达式字符\r\n   * @param {string} mod - 修饰符\r\n   * @returns {RegExp} - 正则表达式\r\n   */\r\n  regex: function (str, mod) {\r\n    return new RegExp(str, mod || 'g');\r\n  },\r\n\r\n  /**\r\n   * 错误提示\r\n   * @param {string} e - 原始错误信息\r\n   * @param {Object} opts - 自定义选项\r\n   * @param {Function} error - 错误回调\r\n   * @returns {string} - 错误提示\r\n   */\r\n  error: function (e, opts, error) {\r\n    opts = opts || {};\r\n    opts = Object.assign(\r\n      {\r\n        errorContext: '',\r\n      },\r\n      opts,\r\n    );\r\n\r\n    // 向控制台输出错误信息\r\n    var message = 'Laytpl ' + (opts.type || '') + 'Error: ' + e;\r\n    var errorContext = opts.errorContext;\r\n\r\n    delete opts.errorContext;\r\n    typeof console === 'object' &&\r\n      console.error(message, '\\n', errorContext, '\\n', opts);\r\n    typeof error === 'function' && error(opts); // 执行错误回调\r\n    return message; // 向视图返回错误提示\r\n  },\r\n};\r\n\r\n// 默认配置\r\nvar config = {\r\n  open: '{{', // 起始界定符\r\n  close: '}}', // 结束界定符\r\n  cache: true, // 是否开启模板缓存，以便下次渲染时不重新编译模板\r\n  condense: true, // 是否压缩模板空白符，如：将多个连续的空白符压缩为单个空格\r\n  tagStyle: '', // 标签风格。默认采用 < 2.11 的风格，设置 modern 则采用 2.11+ 风格\r\n};\r\n\r\n// 构造器\r\nvar Class = function (template, options) {\r\n  var that = this;\r\n\r\n  // 选项合并\r\n  options = that.config = Object.assign(\r\n    {\r\n      template: template,\r\n    },\r\n    config,\r\n    options,\r\n  );\r\n\r\n  // 当前实例的模板内工具\r\n  that.vars = Object.assign(\r\n    {\r\n      /**\r\n       * 引用外部模板。若在 Node.js 环境，可通过重置该方法实现模板文件导入\r\n       * @param {string} id - 模板 ID\r\n       * @param {Object} data - 模板数据\r\n       * @returns {string} 模板渲染后内容\r\n       */\r\n      include: function (id, data) {\r\n        var elem = document.getElementById(id);\r\n        var template = elem ? elem.innerHTML : '';\r\n        return template ? that.render(template, data) : '';\r\n      },\r\n    },\r\n    vars,\r\n  );\r\n\r\n  // 编译模板\r\n  that.compile(options.template);\r\n};\r\n\r\n/**\r\n * 渲染\r\n * @param {Object} template - 模板\r\n * @param {Object} data - 数据\r\n * @returns {string} 渲染后的模板内容\r\n */\r\nClass.prototype.render = function (template, data) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  // 获得模板渲染函数\r\n  var compiler = template\r\n    ? that.compile(template)\r\n    : that.compilerCache || that.compile(options.template);\r\n\r\n  // 获取渲染后的字符\r\n  var html = (function () {\r\n    data = data || options.data || {};\r\n    try {\r\n      return compiler(data);\r\n    } catch (e) {\r\n      template = template || options.template;\r\n      return tools.error(\r\n        e,\r\n        {\r\n          errorContext: that.extractErrorContext(template, data),\r\n          template: template,\r\n          type: 'Render',\r\n        },\r\n        options.error,\r\n      );\r\n    }\r\n  })();\r\n\r\n  // 缓存编译器\r\n  if (options.cache && !template) {\r\n    that.compilerCache = compiler;\r\n  }\r\n\r\n  return html; // 返回渲染后的字符\r\n};\r\n\r\n/**\r\n * 编译模板\r\n * @param {string} template - 原始模板\r\n * @returns {Function} 模板编译器，用于后续数据渲染\r\n */\r\nClass.prototype.compile = function (template) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var openDelimiter = options.open;\r\n  var closeDelimiter = options.close;\r\n  var condense = options.condense;\r\n  var regex = tools.regex;\r\n  var placeholder = '\\u2028'; // Unicode 行分隔符\r\n\r\n  // console.log('compile');\r\n\r\n  // 模板必须为 string 类型，且不能为空\r\n  if (typeof template !== 'string' || !template) {\r\n    return function () {\r\n      return '';\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 完整标签正则\r\n   * @param {string[]} cores - 标签内部核心表达式，含：前置、主体、后置\r\n   * @param {Object} sides - 标签两侧外部表达式\r\n   * @returns {RegExp}\r\n   */\r\n  var tagRegex = function (cores, sides) {\r\n    var arr = [\r\n      '(?:' + openDelimiter + (cores[0] || '') + '\\\\s*)', // 界定符前置\r\n      '(' + (cores[1] || '[\\\\s\\\\S]') + '*?)', // 标签主体\r\n      '(?:\\\\s*' + (cores[2] || '') + closeDelimiter + ')', // 界定符后置\r\n    ];\r\n    sides = sides || {};\r\n    sides.before && arr.unshift(sides.before); // 标签前面的表达式\r\n    sides.after && arr.push(sides.after); // 标签后面的表达式\r\n    return regex(arr.join(''));\r\n  };\r\n\r\n  // 匹配非输出类型标签两侧的换行符和空白符，避免渲染后占用一行\r\n  var sidesRegex = condense ? ['', ''] : ['(?:(?:\\\\n)*\\\\s*)', '(?:\\\\s*?)'];\r\n  var delimSides = {\r\n    before: sidesRegex[0],\r\n    after: sidesRegex[1],\r\n  };\r\n\r\n  /**\r\n   * 清理多余符号\r\n   * @param {string} body - 标签主体字符\r\n   * @param {boolean} nowrap - 是否强制不换行\r\n   * @returns {string} 清理后的字符\r\n   */\r\n  var clear = function (body, nowrap) {\r\n    if (!condense) {\r\n      // 还原语句中的 Unicode 行分隔符\r\n      body = body.replace(regex(placeholder), nowrap ? '' : '\\n');\r\n    }\r\n    body = body.replace(/\\\\(\\\\|\")/g, '$1'); // 去除多余反斜杠\r\n    return body;\r\n  };\r\n\r\n  // 纠正标签结构\r\n  var correct = function (tpl) {\r\n    return tpl.replace(\r\n      regex('([}\\\\]])' + closeDelimiter),\r\n      '$1 ' + closeDelimiter,\r\n    );\r\n  };\r\n\r\n  // 模板解析\r\n  var parse = (that.parse = function (tpl) {\r\n    tpl = tpl || '';\r\n    if (!tpl) return tpl;\r\n\r\n    // 压缩连续空白符\r\n    if (condense) {\r\n      tpl = tpl.replace(/\\t/g, ' ').replace(/\\s+/g, ' ');\r\n    }\r\n\r\n    // 初始整理\r\n    tpl = correct(tpl) // 纠正标签\r\n      .replace(/(?=\\\\|\")/g, '\\\\') // 转义反斜杠和双引号\r\n      .replace(/\\r?\\n/g, condense ? '' : placeholder); // 整理换行符\r\n\r\n    // 忽略标签 - 即区域中的内容不进行标签解析\r\n    tpl = tpl.replace(\r\n      tagRegex(['!', '', '!'], delimSides),\r\n      function (str, body) {\r\n        body = body.replace(\r\n          regex(openDelimiter + '|' + closeDelimiter),\r\n          function (tag) {\r\n            return tag.replace(/(?=.)/g, '\\\\');\r\n          },\r\n        );\r\n        return body;\r\n      },\r\n    );\r\n\r\n    // 模板字符拼接\r\n    var strConcatenation = function (body) {\r\n      // 通过对 20k+ 行的模板进行编译测试， 发现 Chrome `+=` 性能竟优于 `push`\r\n      // 1k 次循环 + 1k 行数据量进行模板编译+渲染，发现 `+=` 性能仍然优于 `push`\r\n      // 考虑可能是 V8 做了 Ropes 结构优化？ 或跟模板采用「静态拼接」的实现有关（可能性更大）\r\n      return ['\";', body, '__laytpl__+=\"'].join('\\n');\r\n      // return ['\");', body, '__laytpl__.push(\"'].join('\\n');\r\n    };\r\n\r\n    // 解析输出标签\r\n    var output = function (str, delimiter, body) {\r\n      var _escape;\r\n\r\n      if (!body) return '';\r\n      body = clear(body, true);\r\n\r\n      // 输出方式\r\n      if (delimiter === '-') {\r\n        // 原文输出，即不对 HTML 原文进行转义\r\n        _escape = '';\r\n      } else {\r\n        // 转义输出\r\n        _escape = '_escape';\r\n      }\r\n\r\n      return body\r\n        ? strConcatenation(\r\n            '__laytpl__+=' + _escape + '(' + body + ');',\r\n            // '__laytpl__.push('+ _escape +'('+ body +'));'\r\n          )\r\n        : '';\r\n    };\r\n\r\n    // 解析 Scriptlet\r\n    var statement = function (str, body) {\r\n      if (!body) return '';\r\n      body = clear(body);\r\n      return strConcatenation(body);\r\n    };\r\n\r\n    // 标签风格\r\n    if (options.tagStyle === 'modern') {\r\n      // 2.11+ 版本风格\r\n      // 注释标签 - 仅在模板中显示，不进行解析，也不在视图中输出\r\n      tpl = tpl.replace(tagRegex(['#'], delimSides), '');\r\n      // 输出标签\r\n      tpl = tpl.replace(tagRegex(['(=|-)']), output);\r\n      // Scriptlet 标签\r\n      tpl = tpl.replace(tagRegex([], delimSides), statement);\r\n    } else {\r\n      // < 2.11 版本风格\r\n      // Scriptlet 标签\r\n      tpl = tpl.replace(tagRegex(['#'], delimSides), statement);\r\n      // 输出标签\r\n      tpl = tpl.replace(tagRegex(['(=|-)*']), output);\r\n    }\r\n\r\n    // 恢复换行符\r\n    if (!condense) {\r\n      tpl = tpl.replace(regex(placeholder), '\\\\n');\r\n    }\r\n\r\n    return tpl;\r\n  });\r\n\r\n  /**\r\n   * 创建模板编译器\r\n   * 请注意: 开发者在使用模板语法时，需确保模板中的 JS 语句不来自于页面用户输入。\r\n   * 即模板中的 JS 语句必须在页面开发者自身的可控范围内，否则请避免使用该模板解析。\r\n   */\r\n  var createCompiler = (that.createCompiler = function (template, builder) {\r\n    builder = builder || createBuilder(template);\r\n    return new Function('laytpl', 'return ' + builder)(that.vars);\r\n  });\r\n  var createBuilder = (that.createBuilder = function (template, builder) {\r\n    builder =\r\n      builder ||\r\n      [\r\n        'function(d){',\r\n        '\"use strict\";',\r\n        'var __laytpl__=\"\",' +\r\n          (function () {\r\n            // 内部变量\r\n            // 内部方法\r\n            var arr = [];\r\n            for (var key in that.vars) {\r\n              arr.push((key === 'escape' ? '_' : '') + key + '=laytpl.' + key);\r\n            }\r\n            return arr.join(',');\r\n          })() +\r\n          ';',\r\n        '__laytpl__=\"' + parse(template) + '\";',\r\n        'return __laytpl__;',\r\n        // '__laytpl__.push(\"'+ parse(template) +'\");',\r\n        // 'return __laytpl__.join(\"\");',\r\n        '};',\r\n      ].join('\\n');\r\n    // console.log(builder);\r\n    return builder;\r\n  });\r\n\r\n  try {\r\n    return createCompiler(template); // 返回编译器\r\n  } catch (e) {\r\n    delete that.compilerCache;\r\n    return function () {\r\n      return tools.error(\r\n        e,\r\n        {\r\n          errorContext: that.extractErrorContext(template),\r\n          template: template,\r\n          type: 'Compile',\r\n        },\r\n        options.error,\r\n      );\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * 获取模板出错行上下文\r\n * @param {string} template - 原始模板\r\n * @param {Object} data - 数据\r\n * @returns {string}\r\n */\r\nClass.prototype.extractErrorContext = function (template, data) {\r\n  var that = this;\r\n\r\n  // 给模板每行开头添加行号标记\r\n  var lineNum = 1; // 行号\r\n  var templateArr = template.split(/\\r?\\n/g);\r\n\r\n  template = template.replace(/(?=^)/gm, function () {\r\n    return '/*LINE:' + lineNum++ + '*/';\r\n  });\r\n\r\n  var builder = that.createBuilder(template);\r\n  var builderArr = builder.split(/\\r?\\n/);\r\n  var sourceURL = 'laytpl.builder.map';\r\n\r\n  // 模板出错行上下文\r\n  var errorContext = function (errLineNum) {\r\n    errLineNum = parseInt(errLineNum) - 1;\r\n\r\n    var arr = [''];\r\n    var contextLines = 3; // 错误行上下延伸的行数\r\n    var start = Math.max(0, errLineNum - contextLines);\r\n    var end = Math.min(templateArr.length, errLineNum + contextLines);\r\n\r\n    for (; start <= end; start++) {\r\n      arr.push(\r\n        (start == errLineNum ? '? ' : '  ') +\r\n          (start + 1 + '| ') +\r\n          templateArr[start],\r\n      );\r\n    }\r\n\r\n    return arr.join('\\n') + '\\n';\r\n  };\r\n\r\n  try {\r\n    builder += '\\n//# sourceURL=' + sourceURL; // 添加映射\r\n    var compiler = that.createCompiler(template, builder);\r\n    if (data) compiler(data);\r\n  } catch (e) {\r\n    // 提取堆栈报错行号\r\n    var stackLineNumRegxp = tools.regex(\r\n      sourceURL.replace(/\\./g, '\\\\.') + ':(\\\\d+)',\r\n      'i',\r\n    );\r\n    var stackLineNum = (e.stack.match(stackLineNumRegxp) || [])[1] || 0;\r\n\r\n    // 提取模板实际行号\r\n    var extractErrLineNum = function (stackLineNum, isRecursion) {\r\n      var lineNumRegxp = isRecursion\r\n        ? /\\/\\*LINE:(\\d+)\\*\\/[^*]*$/\r\n        : /\\/\\*LINE:(\\d+)\\*\\//;\r\n      var errLineNum =\r\n        String(builderArr[stackLineNum - 1]).match(lineNumRegxp) || [];\r\n      errLineNum = errLineNum[1];\r\n\r\n      // 若当前行未找到行号映射，则递归查找上一行\r\n      if (!errLineNum && stackLineNum > 0) {\r\n        return extractErrLineNum(stackLineNum - 1, true);\r\n      }\r\n\r\n      return errLineNum;\r\n    };\r\n\r\n    // 此处减去 anonymous 开头占用的 2 行\r\n    var errLineNum = extractErrLineNum(stackLineNum - 2);\r\n\r\n    // 若未找到映射行号，则直接返回 SyntaxError 对象（通过 DevTools 映射源查看模板行号标记）\r\n    return errLineNum ? errorContext(errLineNum) : e;\r\n  }\r\n};\r\n\r\n/**\r\n * 创建实例\r\n * @param {string} template - 模板\r\n * @param {Object} options - 选项\r\n * @returns {Object}\r\n */\r\nvar laytpl = function (template, options) {\r\n  var inst = new Class(template, options);\r\n  return thisModule.call(inst);\r\n};\r\n\r\n/**\r\n * 扩展模板内部变量\r\n * @param {Object} variables - 扩展内部变量，变量值通常为函数\r\n */\r\nlaytpl.extendVars = function (variables) {\r\n  Object.assign(vars, variables);\r\n};\r\n\r\n/**\r\n * 设置默认配置\r\n * @param {Object} options - 选项\r\n */\r\nlaytpl.config = laytpl.set = function (options) {\r\n  Object.assign(config, options);\r\n};\r\n\r\n// 输出接口\r\nexport { laytpl };\r\n","/**\r\n * i18n\r\n * 国际化\r\n */\r\n\r\nimport { layui } from './layui.js';\r\nimport { lay } from './lay.js';\r\n\r\nvar hint = layui.hint();\r\n// var MOD_NAME = 'i18n';\r\n\r\n// 识别预先可能定义的指定全局对象\r\nvar GLOBAL = window.LAYUI_GLOBAL || {};\r\n\r\n// 简体中文\r\nvar zhCN = {\r\n  code: {\r\n    copy: '复制代码',\r\n    copied: '已复制',\r\n    copyError: '复制失败',\r\n    maximize: '最大化显示',\r\n    restore: '还原显示',\r\n    preview: '在新窗口预览',\r\n  },\r\n  colorpicker: {\r\n    clear: '清除',\r\n    confirm: '确定',\r\n  },\r\n  dropdown: {\r\n    noData: '暂无数据',\r\n  },\r\n  flow: {\r\n    loadMore: '加载更多',\r\n    noMore: '没有更多了',\r\n  },\r\n  form: {\r\n    select: {\r\n      noData: '暂无数据',\r\n      noMatch: '无匹配数据',\r\n      placeholder: '请选择',\r\n    },\r\n    validateMessages: {\r\n      required: '必填项不能为空',\r\n      phone: '手机号格式不正确',\r\n      email: '邮箱格式不正确',\r\n      url: '链接格式不正确',\r\n      number: '只能填写数字',\r\n      date: '日期格式不正确',\r\n      identity: '身份证号格式不正确',\r\n    },\r\n    verifyErrorPromptTitle: '提示',\r\n  },\r\n  laydate: {\r\n    months: [\r\n      '1月',\r\n      '2月',\r\n      '3月',\r\n      '4月',\r\n      '5月',\r\n      '6月',\r\n      '7月',\r\n      '8月',\r\n      '9月',\r\n      '10月',\r\n      '11月',\r\n      '12月',\r\n    ],\r\n    weeks: ['日', '一', '二', '三', '四', '五', '六'],\r\n    time: ['时', '分', '秒'],\r\n    literal: {\r\n      year: '年',\r\n    },\r\n    selectDate: '选择日期',\r\n    selectTime: '选择时间',\r\n    startTime: '开始时间',\r\n    endTime: '结束时间',\r\n    tools: {\r\n      confirm: '确定',\r\n      clear: '清空',\r\n      now: '现在',\r\n      reset: '重置',\r\n    },\r\n    rangeOrderPrompt: '结束时间不能早于开始时间\\n请重新选择',\r\n    invalidDatePrompt: '不在有效日期或时间范围内\\n',\r\n    formatErrorPrompt: '日期格式不合法\\n必须遵循：\\n{format}\\n',\r\n    autoResetPrompt: '已自动重置',\r\n    preview: '当前选中的结果',\r\n  },\r\n  layer: {\r\n    confirm: '确定',\r\n    cancel: '取消',\r\n    defaultTitle: '信息',\r\n    prompt: {\r\n      InputLengthPrompt: '最多输入 {length} 个字符',\r\n    },\r\n    photos: {\r\n      noData: '没有图片',\r\n      tools: {\r\n        rotate: '旋转',\r\n        scaleX: '水平变换',\r\n        zoomIn: '放大',\r\n        zoomOut: '缩小',\r\n        reset: '还原',\r\n        close: '关闭',\r\n      },\r\n      viewPicture: '查看原图',\r\n      urlError: {\r\n        prompt: '当前图片地址异常，\\n是否继续查看下一张？',\r\n        confirm: '下一张',\r\n        cancel: '不看了',\r\n      },\r\n    },\r\n  },\r\n  laypage: {\r\n    prev: '上一页',\r\n    next: '下一页',\r\n    first: '首页',\r\n    last: '尾页',\r\n    total: '共 {total} 条',\r\n    pagesize: '条/页',\r\n    goto: '到第',\r\n    page: '页',\r\n    confirm: '确定',\r\n  },\r\n  table: {\r\n    sort: {\r\n      asc: '升序',\r\n      desc: '降序',\r\n    },\r\n    noData: '暂无数据',\r\n    tools: {\r\n      filter: {\r\n        title: '筛选列',\r\n      },\r\n      export: {\r\n        title: '导出',\r\n        noDataPrompt: '当前表格无数据',\r\n        compatPrompt: '导出功能不支持 IE，请用 Chrome 等高级浏览器导出',\r\n        csvText: '导出 CSV 文件',\r\n      },\r\n      print: {\r\n        title: '打印',\r\n        noDataPrompt: '当前表格无数据',\r\n      },\r\n    },\r\n    dataFormatError:\r\n      '返回的数据不符合规范，正确的成功状态码应为：\"{statusName}\": {statusCode}',\r\n    xhrError: '请求异常，错误提示：{msg}',\r\n  },\r\n  transfer: {\r\n    noData: '暂无数据',\r\n    noMatch: '无匹配数据',\r\n    title: ['列表一', '列表二'],\r\n    searchPlaceholder: '关键词搜索',\r\n  },\r\n  tree: {\r\n    defaultNodeName: '未命名',\r\n    noData: '暂无数据',\r\n    deleteNodePrompt: '确认删除\"{name}\"节点吗？',\r\n  },\r\n  upload: {\r\n    fileType: {\r\n      file: '文件',\r\n      image: '图片',\r\n      video: '视频',\r\n      audio: '音频',\r\n    },\r\n    validateMessages: {\r\n      fileExtensionError: '选择的{fileType}中包含不支持的格式',\r\n      filesOverLengthLimit: '同时最多只能上传: {length} 个文件',\r\n      currentFilesLength: '当前已经选择了: {length} 个文件',\r\n      fileOverSizeLimit: '文件大小不能超过 {size}',\r\n    },\r\n    chooseText: '{length} 个文件',\r\n  },\r\n  util: {\r\n    timeAgo: {\r\n      days: '{days} 天前',\r\n      hours: '{hours} 小时前',\r\n      minutes: '{minutes} 分钟前',\r\n      future: '未来',\r\n      justNow: '刚刚',\r\n    },\r\n    toDateString: {\r\n      // https://www.unicode.org/cldr/charts/47/supplemental/day_periods.html\r\n      meridiem: function (hours, minutes) {\r\n        var hm = hours * 100 + minutes;\r\n        if (hm < 500) {\r\n          return '凌晨';\r\n        } else if (hm < 800) {\r\n          return '早上';\r\n        } else if (hm < 1200) {\r\n          return '上午';\r\n        } else if (hm < 1300) {\r\n          return '中午';\r\n        } else if (hm < 1900) {\r\n          return '下午';\r\n        }\r\n        return '晚上';\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\n// 默认配置\r\nvar config = lay.extend(\r\n  {\r\n    locale: 'zh-CN', // 全局内置语言\r\n    messages: {\r\n      // 全局国际化消息对象\r\n      'zh-CN': zhCN,\r\n    },\r\n  },\r\n  GLOBAL.i18n,\r\n); // 读取全局预设配置，确保打包后的版本初始调用时机\r\n\r\nvar OBJECT_REPLACE_REGEX = /\\{(\\w+)\\}/g;\r\n\r\n/**\r\n * 获取对象中指定路径的值，类似于 lodash 的 _.get 方法（简易版）\r\n * @param {Record<string, any>} obj - 要查找的对象\r\n * @param {string} path - 要查找的路径，支持类似 'a[0].b.c' 的格式\r\n * @param {any} defaultValue - 若未找到对应值时返回的默认值\r\n * @returns {any} - 找到的值或默认值\r\n */\r\nfunction get(obj, path, defaultValue) {\r\n  // 'a[0].b.c' ==> ['a', '0', 'b', 'c']\r\n  var casePath = path.replace(/\\[(\\d+)\\]/g, '.$1').split('.');\r\n  var result = obj;\r\n\r\n  for (var i = 0; i < casePath.length; i++) {\r\n    result = result && result[casePath[i]];\r\n    if (result === null || result === undefined) {\r\n      return defaultValue;\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * 为纯函数创建具有缓存功能的版本，类似于 lodash 的 _.memoize 方法（简易版）\r\n * @template T\r\n * @param {(key: string, ...args) => T} fn - 需要缓存的函数，第一个参数为键\r\n * @returns {{(key: string, ...args): T, cleanup: () => void}} - 带有缓存的函数\r\n */\r\nfunction memoize(fn) {\r\n  /** @type Record<string, T> */\r\n  var cache = Object.create(null);\r\n\r\n  function cachedFn(key) {\r\n    var hit = cache[key];\r\n    return hit || (cache[key] = fn.apply(cache, arguments));\r\n  }\r\n\r\n  cachedFn.cleanup = function () {\r\n    cache = Object.create(null);\r\n  };\r\n  return cachedFn;\r\n}\r\n\r\n/**\r\n * 对传入的值进行转义处理\r\n * 若值为字符串，直接进行转义；若为函数，对函数返回的字符串进行转义；若为数组，对数组中的字符串元素进行转义\r\n * @param {any} value - 需要进行转义处理的值\r\n * @returns {any} - 转义后的结果\r\n */\r\nfunction escape(value) {\r\n  if (typeof value === 'string') {\r\n    value = lay.escape(value);\r\n  } else if (typeof value === 'function') {\r\n    var origFn = value;\r\n    value = function () {\r\n      var val = origFn.apply(this, arguments);\r\n      return typeof val === 'string' ? lay.escape(val) : val;\r\n    };\r\n  } else if (layui.type(value) === 'array') {\r\n    value = value.map(function (v) {\r\n      return typeof v === 'string' ? lay.escape(v) : v;\r\n    });\r\n  }\r\n\r\n  return value;\r\n}\r\n\r\nfunction isDef(value) {\r\n  return value !== null && value !== undefined;\r\n}\r\n\r\nvar resolveValue = memoize(function (path, obj, defaultValue) {\r\n  var pathParts = path.split(':');\r\n  var locale = pathParts[0];\r\n\r\n  path = pathParts[1];\r\n\r\n  var value = get(obj, path, defaultValue);\r\n\r\n  if (layui.cache.debug) {\r\n    var isFallback = defaultValue === value || value === path;\r\n    var isNotFound = !isDef(value) || isFallback;\r\n    if (isNotFound) {\r\n      hint.errorOnce(\r\n        \"Not found '\" + path + \"' key in '\" + locale + \"' locale messages.\",\r\n        'warn',\r\n      );\r\n    }\r\n    if (isFallback) {\r\n      hint.errorOnce(\r\n        \"Fallback to default message for key: '\" + path + \"'\",\r\n        'warn',\r\n      );\r\n    }\r\n  }\r\n\r\n  return isDef(value) ? value : path;\r\n});\r\n\r\nvar i18n = {\r\n  config: config,\r\n  set: function (options) {\r\n    lay.extend(config, options);\r\n    resolveValue.cleanup();\r\n  },\r\n};\r\n\r\n/**\r\n * 根据给定的键从国际化消息中获取翻译后的内容\r\n * 未文档化的私有方法，仅限内部使用\r\n *\r\n * @internal\r\n * @param {string} keypath 要翻译的键路径\r\n * @param {Record<string, any> | any[]} [parameters] 可选的占位符替换参数：\r\n * - 对象形式：用于替换 `{key}` 形式的占位符；\r\n * - 数组形式：用于替换 `{0}`, `{1}` 等占位符；\r\n * @param {{locale: string, default: string}} [options] 翻译选项\r\n * @returns {string} 翻译后的文本\r\n *\r\n * @example 使用对象替换命名占位符\r\n * message: {\r\n *   hello: '{msg} world'\r\n * }\r\n * i18n.$t('message.hello', { msg: 'Hello' })\r\n *\r\n * @example 使用数组替换索引占位符\r\n * message: {\r\n *   hello: '{0} world'\r\n * }\r\n * i18n.$t('message.hello', ['Hello'])\r\n */\r\ni18n.translation = function (keypath, parameters, options) {\r\n  var locale = (options && options.locale) || config.locale;\r\n  var i18nMessages = config.messages[locale];\r\n  var namespace = locale + ':';\r\n  var hasDefault = options && lay.hasOwn(options, 'default');\r\n  var fallbackMessage = hasDefault ? options.default : undefined;\r\n\r\n  if (!i18nMessages && !hasDefault) {\r\n    hint.errorOnce(\r\n      \"Locale '\" +\r\n        locale +\r\n        \"' not found. Please add i18n messages for this locale first.\",\r\n      'warn',\r\n    );\r\n  }\r\n\r\n  var result = resolveValue(namespace + keypath, i18nMessages, fallbackMessage);\r\n\r\n  // 替换占位符\r\n  if (typeof result === 'string' && parameters) {\r\n    // 第二个参数为对象或数组，替换占位符 {key} 或 {0}, {1}...\r\n    result = result.replace(OBJECT_REPLACE_REGEX, function (match, key) {\r\n      return parameters[key] !== undefined ? parameters[key] : match;\r\n    });\r\n  }\r\n\r\n  return escape(result);\r\n};\r\n\r\n/**\r\n * i18n.translation 的别名，用于简化代码书写，未文档化仅限内部使用\r\n */\r\ni18n.$t = i18n.translation;\r\n\r\nexport { i18n };\r\n","/*!\n * jQuery JavaScript Library v3.7.1\n * https://jquery.com/\n *\n * Copyright OpenJS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2023-08-28T13:37Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket trac-14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar flat = arr.flat ? function( array ) {\n\treturn arr.flat.call( array );\n} : function( array ) {\n\treturn arr.concat.apply( [], array );\n};\n\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n\t\t// Support: Chrome <=57, Firefox <=52\n\t\t// In some browsers, typeof returns \"function\" for HTML <object> elements\n\t\t// (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n\t\t// We don't want to classify *any* DOM node as a function.\n\t\t// Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5\n\t\t// Plus for old WebKit, typeof returns \"function\" for HTML collections\n\t\t// (e.g., `typeof document.getElementsByTagName(\"div\") === \"function\"`). (gh-4756)\n\t\treturn typeof obj === \"function\" && typeof obj.nodeType !== \"number\" &&\n\t\t\ttypeof obj.item !== \"function\";\n\t};\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\nvar document = window.document;\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar version = \"3.7.1\",\n\n\trhtmlSuffix = /HTML$/i,\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teven: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn ( i + 1 ) % 2;\n\t\t} ) );\n\t},\n\n\todd: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn i % 2;\n\t\t} ) );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a provided context; falls back to the global one\n\t// if not specified.\n\tglobalEval: function( code, options, doc ) {\n\t\tDOMEval( code, { nonce: options && options.nonce }, doc );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\n\t// Retrieve the text value of an array of DOM nodes\n\ttext: function( elem ) {\n\t\tvar node,\n\t\t\tret = \"\",\n\t\t\ti = 0,\n\t\t\tnodeType = elem.nodeType;\n\n\t\tif ( !nodeType ) {\n\n\t\t\t// If no nodeType, this is expected to be an array\n\t\t\twhile ( ( node = elem[ i++ ] ) ) {\n\n\t\t\t\t// Do not traverse comment nodes\n\t\t\t\tret += jQuery.text( node );\n\t\t\t}\n\t\t}\n\t\tif ( nodeType === 1 || nodeType === 11 ) {\n\t\t\treturn elem.textContent;\n\t\t}\n\t\tif ( nodeType === 9 ) {\n\t\t\treturn elem.documentElement.textContent;\n\t\t}\n\t\tif ( nodeType === 3 || nodeType === 4 ) {\n\t\t\treturn elem.nodeValue;\n\t\t}\n\n\t\t// Do not include comment or processing instruction nodes\n\n\t\treturn ret;\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\tisXMLDoc: function( elem ) {\n\t\tvar namespace = elem && elem.namespaceURI,\n\t\t\tdocElem = elem && ( elem.ownerDocument || elem ).documentElement;\n\n\t\t// Assume HTML when documentElement doesn't yet exist, such as inside\n\t\t// document fragments.\n\t\treturn !rhtmlSuffix.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn flat( ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\n\tfunction( _i, name ) {\n\t\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n\t} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\n\n\nfunction nodeName( elem, name ) {\n\n\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n}\nvar pop = arr.pop;\n\n\nvar sort = arr.sort;\n\n\nvar splice = arr.splice;\n\n\nvar whitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\";\n\n\nvar rtrimCSS = new RegExp(\n\t\"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\",\n\t\"g\"\n);\n\n\n\n\n// Note: an element does not contain itself\njQuery.contains = function( a, b ) {\n\tvar bup = b && b.parentNode;\n\n\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\n\t\t// Support: IE 9 - 11+\n\t\t// IE doesn't have `contains` on SVG.\n\t\ta.contains ?\n\t\t\ta.contains( bup ) :\n\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t) );\n};\n\n\n\n\n// CSS string/identifier serialization\n// https://drafts.csswg.org/cssom/#common-serializing-idioms\nvar rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n\nfunction fcssescape( ch, asCodePoint ) {\n\tif ( asCodePoint ) {\n\n\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\tif ( ch === \"\\0\" ) {\n\t\t\treturn \"\\uFFFD\";\n\t\t}\n\n\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t}\n\n\t// Other potentially-special ASCII characters get backslash-escaped\n\treturn \"\\\\\" + ch;\n}\n\njQuery.escapeSelector = function( sel ) {\n\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n};\n\n\n\n\nvar preferredDoc = document,\n\tpushNative = push;\n\n( function() {\n\nvar i,\n\tExpr,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\tpush = pushNative,\n\n\t// Local document vars\n\tdocument,\n\tdocumentElement,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\tmatches,\n\n\t// Instance-specific data\n\texpando = jQuery.expando,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|\" +\n\t\t\"loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\n\tidentifier = \"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",\n\n\t// Attribute selectors: https://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" +\n\t\twhitespace + \"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trleadingCombinator = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" +\n\t\twhitespace + \"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\tID: new RegExp( \"^#(\" + identifier + \")\" ),\n\t\tCLASS: new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\tTAG: new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\tATTR: new RegExp( \"^\" + attributes ),\n\t\tPSEUDO: new RegExp( \"^\" + pseudos ),\n\t\tCHILD: new RegExp(\n\t\t\t\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" +\n\t\t\t\twhitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" +\n\t\t\t\twhitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\tbool: new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\tneedsContext: new RegExp( \"^\" + whitespace +\n\t\t\t\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace +\n\t\t\t\"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// https://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\", \"g\" ),\n\tfunescape = function( escape, nonHex ) {\n\t\tvar high = \"0x\" + escape.slice( 1 ) - 0x10000;\n\n\t\tif ( nonHex ) {\n\n\t\t\t// Strip the backslash prefix from a non-hex escape sequence\n\t\t\treturn nonHex;\n\t\t}\n\n\t\t// Replace a hexadecimal escape sequence with the encoded Unicode code point\n\t\t// Support: IE <=11+\n\t\t// For values outside the Basic Multilingual Plane (BMP), manually construct a\n\t\t// surrogate pair\n\t\treturn high < 0 ?\n\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// Used for iframes; see `setDocument`.\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE/Edge.\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && nodeName( elem, \"fieldset\" );\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t( arr = slice.call( preferredDoc.childNodes ) ),\n\t\tpreferredDoc.childNodes\n\t);\n\n\t// Support: Android <=4.0\n\t// Detect silently failing push.apply\n\t// eslint-disable-next-line no-unused-expressions\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = {\n\t\tapply: function( target, els ) {\n\t\t\tpushNative.apply( target, slice.call( els ) );\n\t\t},\n\t\tcall: function( target ) {\n\t\t\tpushNative.apply( target, slice.call( arguments, 1 ) );\n\t\t}\n\t};\n}\n\nfunction find( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\t\tsetDocument( context );\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( ( m = match[ 1 ] ) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( ( elem = context.getElementById( m ) ) ) {\n\n\t\t\t\t\t\t\t// Support: IE 9 only\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE 9 only\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && ( elem = newContext.getElementById( m ) ) &&\n\t\t\t\t\t\t\tfind.contains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[ 2 ] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( ( m = match[ 3 ] ) && context.getElementsByClassName ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( !nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t( !rbuggyQSA || !rbuggyQSA.test( selector ) ) ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// The technique has to be used as well when a leading combinator is used\n\t\t\t\t// as such selectors are not recognized by querySelectorAll.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 &&\n\t\t\t\t\t( rdescend.test( selector ) || rleadingCombinator.test( selector ) ) ) {\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\n\t\t\t\t\t// We can use :scope instead of the ID hack if the browser\n\t\t\t\t\t// supports it & if we're not changing the context.\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when\n\t\t\t\t\t// strict-comparing two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( newContext != context || !support.scope ) {\n\n\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\t\tif ( ( nid = context.getAttribute( \"id\" ) ) ) {\n\t\t\t\t\t\t\tnid = jQuery.escapeSelector( nid );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute( \"id\", ( nid = expando ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[ i ] = ( nid ? \"#\" + nid : \":scope\" ) + \" \" +\n\t\t\t\t\t\t\ttoSelector( groups[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrimCSS, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\n\t\t// Use (key + \" \") to avoid collision with native prototype properties\n\t\t// (see https://github.com/jquery/sizzle/issues/157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn ( cache[ key + \" \" ] = value );\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by jQuery selector module\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement( \"fieldset\" );\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch ( e ) {\n\t\treturn false;\n\t} finally {\n\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\treturn nodeName( elem, \"input\" ) && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\treturn ( nodeName( elem, \"input\" ) || nodeName( elem, \"button\" ) ) &&\n\t\t\telem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11+\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction( function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction( function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ ( j = matchIndexes[ i ] ) ] ) {\n\t\t\t\t\tseed[ j ] = !( matches[ j ] = seed[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Checks a node for validity as a jQuery selector context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [node] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nfunction setDocument( node ) {\n\tvar subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocumentElement = document.documentElement;\n\tdocumentIsHTML = !jQuery.isXMLDoc( document );\n\n\t// Support: iOS 7 only, IE 9 - 11+\n\t// Older browsers didn't support unprefixed `matches`.\n\tmatches = documentElement.matches ||\n\t\tdocumentElement.webkitMatchesSelector ||\n\t\tdocumentElement.msMatchesSelector;\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Accessing iframe documents after unload throws \"permission denied\" errors\n\t// (see trac-13936).\n\t// Limit the fix to IE & Edge Legacy; despite Edge 15+ implementing `matches`,\n\t// all IE 9+ and Edge Legacy versions implement `msMatchesSelector` as well.\n\tif ( documentElement.msMatchesSelector &&\n\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tpreferredDoc != document &&\n\t\t( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t\tsubWindow.addEventListener( \"unload\", unloadHandler );\n\t}\n\n\t// Support: IE <10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert( function( el ) {\n\t\tdocumentElement.appendChild( el ).id = jQuery.expando;\n\t\treturn !document.getElementsByName ||\n\t\t\t!document.getElementsByName( jQuery.expando ).length;\n\t} );\n\n\t// Support: IE 9 only\n\t// Check to see if it's possible to do matchesSelector\n\t// on a disconnected node.\n\tsupport.disconnectedMatch = assert( function( el ) {\n\t\treturn matches.call( el, \"*\" );\n\t} );\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// IE/Edge don't support the :scope pseudo-class.\n\tsupport.scope = assert( function() {\n\t\treturn document.querySelectorAll( \":scope\" );\n\t} );\n\n\t// Support: Chrome 105 - 111 only, Safari 15.4 - 16.3 only\n\t// Make sure the `:has()` argument is parsed unforgivingly.\n\t// We include `*` in the test to detect buggy implementations that are\n\t// _selectively_ forgiving (specifically when the list includes at least\n\t// one valid selector).\n\t// Note that we treat complete lack of support for `:has()` as if it were\n\t// spec-compliant support, which is fine because use of `:has()` in such\n\t// environments will fail in the qSA path and fall back to jQuery traversal\n\t// anyway.\n\tsupport.cssHas = assert( function() {\n\t\ttry {\n\t\t\tdocument.querySelector( \":has(*,:jqfake)\" );\n\t\t\treturn false;\n\t\t} catch ( e ) {\n\t\t\treturn true;\n\t\t}\n\t} );\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter.ID = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"id\" ) === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find.ID = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter.ID =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode( \"id\" );\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find.ID = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( ( elem = elems[ i++ ] ) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find.TAG = function( tag, context ) {\n\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t// DocumentFragment nodes don't have gEBTN\n\t\t} else {\n\t\t\treturn context.querySelectorAll( tag );\n\t\t}\n\t};\n\n\t// Class\n\tExpr.find.CLASS = function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\trbuggyQSA = [];\n\n\t// Build QSA regex\n\t// Regex strategy adopted from Diego Perini\n\tassert( function( el ) {\n\n\t\tvar input;\n\n\t\tdocumentElement.appendChild( el ).innerHTML =\n\t\t\t\"<a id='\" + expando + \"' href='' disabled='disabled'></a>\" +\n\t\t\t\"<select id='\" + expando + \"-\\r\\\\' disabled='disabled'>\" +\n\t\t\t\"<option selected=''></option></select>\";\n\n\t\t// Support: iOS <=7 - 8 only\n\t\t// Boolean attributes and \"value\" are not treated correctly in some XML documents\n\t\tif ( !el.querySelectorAll( \"[selected]\" ).length ) {\n\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t}\n\n\t\t// Support: iOS <=7 - 8 only\n\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\trbuggyQSA.push( \"~=\" );\n\t\t}\n\n\t\t// Support: iOS 8 only\n\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\trbuggyQSA.push( \".#.+[+~]\" );\n\t\t}\n\n\t\t// Support: Chrome <=105+, Firefox <=104+, Safari <=15.4+\n\t\t// In some of the document kinds, these selectors wouldn't work natively.\n\t\t// This is probably OK but for backwards compatibility we want to maintain\n\t\t// handling them through jQuery traversal in jQuery 3.x.\n\t\tif ( !el.querySelectorAll( \":checked\" ).length ) {\n\t\t\trbuggyQSA.push( \":checked\" );\n\t\t}\n\n\t\t// Support: Windows 8 Native Apps\n\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\tinput = document.createElement( \"input\" );\n\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t// Support: IE 9 - 11+\n\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t// Support: Chrome <=105+, Firefox <=104+, Safari <=15.4+\n\t\t// In some of the document kinds, these selectors wouldn't work natively.\n\t\t// This is probably OK but for backwards compatibility we want to maintain\n\t\t// handling them through jQuery traversal in jQuery 3.x.\n\t\tdocumentElement.appendChild( el ).disabled = true;\n\t\tif ( el.querySelectorAll( \":disabled\" ).length !== 2 ) {\n\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t}\n\n\t\t// Support: IE 11+, Edge 15 - 18+\n\t\t// IE 11/Edge don't find elements on a `[name='']` query in some cases.\n\t\t// Adding a temporary attribute to the document before the selection works\n\t\t// around the issue.\n\t\t// Interestingly, IE 10 & older don't seem to have the issue.\n\t\tinput = document.createElement( \"input\" );\n\t\tinput.setAttribute( \"name\", \"\" );\n\t\tel.appendChild( input );\n\t\tif ( !el.querySelectorAll( \"[name='']\" ).length ) {\n\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*name\" + whitespace + \"*=\" +\n\t\t\t\twhitespace + \"*(?:''|\\\"\\\")\" );\n\t\t}\n\t} );\n\n\tif ( !support.cssHas ) {\n\n\t\t// Support: Chrome 105 - 110+, Safari 15.4 - 16.3+\n\t\t// Our regular `try-catch` mechanism fails to detect natively-unsupported\n\t\t// pseudo-classes inside `:has()` (such as `:has(:contains(\"Foo\"))`)\n\t\t// in browsers that parse the `:has()` argument as a forgiving selector list.\n\t\t// https://drafts.csswg.org/selectors/#relational now requires the argument\n\t\t// to be parsed unforgivingly, but browsers have not yet fully adjusted.\n\t\trbuggyQSA.push( \":has\" );\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( \"|\" ) );\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = function( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( a === document || a.ownerDocument == preferredDoc &&\n\t\t\t\tfind.contains( preferredDoc, a ) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( b === document || b.ownerDocument == preferredDoc &&\n\t\t\t\tfind.contains( preferredDoc, b ) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t};\n\n\treturn document;\n}\n\nfind.matches = function( expr, elements ) {\n\treturn find( expr, null, null, elements );\n};\n\nfind.matchesSelector = function( elem, expr ) {\n\tsetDocument( elem );\n\n\tif ( documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyQSA || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn find( expr, document, null, [ elem ] ).length > 0;\n};\n\nfind.contains = function( context, elem ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( context.ownerDocument || context ) != document ) {\n\t\tsetDocument( context );\n\t}\n\treturn jQuery.contains( context, elem );\n};\n\n\nfind.attr = function( elem, name ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( elem.ownerDocument || elem ) != document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\n\t\t// Don't get fooled by Object.prototype properties (see trac-13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\tif ( val !== undefined ) {\n\t\treturn val;\n\t}\n\n\treturn elem.getAttribute( name );\n};\n\nfind.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\njQuery.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\t//\n\t// Support: Android <=4.0+\n\t// Testing for detecting duplicates is unpredictable so instead assume we can't\n\t// depend on duplicate detection in all browsers without a stable sort.\n\thasDuplicate = !support.sortStable;\n\tsortInput = !support.sortStable && slice.call( results, 0 );\n\tsort.call( results, sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tsplice.call( results, duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\njQuery.fn.uniqueSort = function() {\n\treturn this.pushStack( jQuery.uniqueSort( slice.apply( this ) ) );\n};\n\nExpr = jQuery.expr = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\tATTR: function( match ) {\n\t\t\tmatch[ 1 ] = match[ 1 ].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] || match[ 5 ] || \"\" )\n\t\t\t\t.replace( runescape, funescape );\n\n\t\t\tif ( match[ 2 ] === \"~=\" ) {\n\t\t\t\tmatch[ 3 ] = \" \" + match[ 3 ] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\tCHILD: function( match ) {\n\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[ 1 ] = match[ 1 ].toLowerCase();\n\n\t\t\tif ( match[ 1 ].slice( 0, 3 ) === \"nth\" ) {\n\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[ 3 ] ) {\n\t\t\t\t\tfind.error( match[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[ 4 ] = +( match[ 4 ] ?\n\t\t\t\t\tmatch[ 5 ] + ( match[ 6 ] || 1 ) :\n\t\t\t\t\t2 * ( match[ 3 ] === \"even\" || match[ 3 ] === \"odd\" )\n\t\t\t\t);\n\t\t\t\tmatch[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[ 3 ] ) {\n\t\t\t\tfind.error( match[ 0 ] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\tPSEUDO: function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[ 6 ] && match[ 2 ];\n\n\t\t\tif ( matchExpr.CHILD.test( match[ 0 ] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[ 3 ] ) {\n\t\t\t\tmatch[ 2 ] = match[ 4 ] || match[ 5 ] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t( excess = tokenize( unquoted, true ) ) &&\n\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t( excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length ) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[ 0 ] = match[ 0 ].slice( 0, excess );\n\t\t\t\tmatch[ 2 ] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\tTAG: function( nodeNameSelector ) {\n\t\t\tvar expectedNodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn true;\n\t\t\t\t} :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn nodeName( elem, expectedNodeName );\n\t\t\t\t};\n\t\t},\n\n\t\tCLASS: function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t( pattern = new RegExp( \"(^|\" + whitespace + \")\" + className +\n\t\t\t\t\t\"(\" + whitespace + \"|$)\" ) ) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test(\n\t\t\t\t\t\ttypeof elem.className === \"string\" && elem.className ||\n\t\t\t\t\t\t\ttypeof elem.getAttribute !== \"undefined\" &&\n\t\t\t\t\t\t\t\telem.getAttribute( \"class\" ) ||\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t},\n\n\t\tATTR: function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = find.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\tif ( operator === \"=\" ) {\n\t\t\t\t\treturn result === check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"!=\" ) {\n\t\t\t\t\treturn result !== check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"^=\" ) {\n\t\t\t\t\treturn check && result.indexOf( check ) === 0;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"*=\" ) {\n\t\t\t\t\treturn check && result.indexOf( check ) > -1;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"$=\" ) {\n\t\t\t\t\treturn check && result.slice( -check.length ) === check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"~=\" ) {\n\t\t\t\t\treturn ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" )\n\t\t\t\t\t\t.indexOf( check ) > -1;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"|=\" ) {\n\t\t\t\t\treturn result === check || result.slice( 0, check.length + 1 ) === check + \"-\";\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\t\t},\n\n\t\tCHILD: function( type, what, _argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tvar cache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( ( node = node[ dir ] ) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnodeName( node, name ) :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\t\t\t\t\t\t\touterCache = parent[ expando ] || ( parent[ expando ] = {} );\n\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\t\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnodeName( node, name ) :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( node[ expando ] = {} );\n\t\t\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\tPSEUDO: function( pseudo, argument ) {\n\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// https://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tfind.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as jQuery does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction( function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf.call( seed, matched[ i ] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\n\t\t// Potentially complex pseudos\n\t\tnot: markFunction( function( selector ) {\n\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrimCSS, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction( function( seed, matches, _context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\t\t\t\t\tseed[ i ] = !( matches[ i ] = elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ) :\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tinput[ 0 ] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\n\t\t\t\t\t// Don't keep the element\n\t\t\t\t\t// (see https://github.com/jquery/sizzle/issues/299)\n\t\t\t\t\tinput[ 0 ] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t} ),\n\n\t\thas: markFunction( function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn find( selector, elem ).length > 0;\n\t\t\t};\n\t\t} ),\n\n\t\tcontains: markFunction( function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || jQuery.text( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t} ),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// https://www.w3.org/TR/selectors/#lang-pseudo\n\t\tlang: markFunction( function( lang ) {\n\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test( lang || \"\" ) ) {\n\t\t\t\tfind.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( ( elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute( \"xml:lang\" ) || elem.getAttribute( \"lang\" ) ) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t} ),\n\n\t\t// Miscellaneous\n\t\ttarget: function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\troot: function( elem ) {\n\t\t\treturn elem === documentElement;\n\t\t},\n\n\t\tfocus: function( elem ) {\n\t\t\treturn elem === safeActiveElement() &&\n\t\t\t\tdocument.hasFocus() &&\n\t\t\t\t!!( elem.type || elem.href || ~elem.tabIndex );\n\t\t},\n\n\t\t// Boolean properties\n\t\tenabled: createDisabledPseudo( false ),\n\t\tdisabled: createDisabledPseudo( true ),\n\n\t\tchecked: function( elem ) {\n\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// https://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\treturn ( nodeName( elem, \"input\" ) && !!elem.checked ) ||\n\t\t\t\t( nodeName( elem, \"option\" ) && !!elem.selected );\n\t\t},\n\n\t\tselected: function( elem ) {\n\n\t\t\t// Support: IE <=11+\n\t\t\t// Accessing the selectedIndex property\n\t\t\t// forces the browser to treat the default option as\n\t\t\t// selected when in an optgroup.\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\tempty: function( elem ) {\n\n\t\t\t// https://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\tparent: function( elem ) {\n\t\t\treturn !Expr.pseudos.empty( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\theader: function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\tinput: function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\tbutton: function( elem ) {\n\t\t\treturn nodeName( elem, \"input\" ) && elem.type === \"button\" ||\n\t\t\t\tnodeName( elem, \"button\" );\n\t\t},\n\n\t\ttext: function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn nodeName( elem, \"input\" ) && elem.type === \"text\" &&\n\n\t\t\t\t// Support: IE <10 only\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear\n\t\t\t\t// with elem.type === \"text\"\n\t\t\t\t( ( attr = elem.getAttribute( \"type\" ) ) == null ||\n\t\t\t\t\tattr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\tfirst: createPositionalPseudo( function() {\n\t\t\treturn [ 0 ];\n\t\t} ),\n\n\t\tlast: createPositionalPseudo( function( _matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t} ),\n\n\t\teq: createPositionalPseudo( function( _matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t} ),\n\n\t\teven: createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\todd: createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\tlt: createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i;\n\n\t\t\tif ( argument < 0 ) {\n\t\t\t\ti = argument + length;\n\t\t\t} else if ( argument > length ) {\n\t\t\t\ti = length;\n\t\t\t} else {\n\t\t\t\ti = argument;\n\t\t\t}\n\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\tgt: createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} )\n\t}\n};\n\nExpr.pseudos.nth = Expr.pseudos.eq;\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\nfunction tokenize( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || ( match = rcomma.exec( soFar ) ) ) {\n\t\t\tif ( match ) {\n\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[ 0 ].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( ( tokens = [] ) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( ( match = rleadingCombinator.exec( soFar ) ) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[ 0 ].replace( rtrimCSS, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||\n\t\t\t\t( match = preFilters[ type ]( match ) ) ) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\tif ( parseOnly ) {\n\t\treturn soFar.length;\n\t}\n\n\treturn soFar ?\n\t\tfind.error( selector ) :\n\n\t\t// Cache the tokens\n\t\ttokenCache( selector, groups ).slice( 0 );\n}\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[ i ].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\n\t\t\t\t\t\tif ( skip && nodeName( elem, skip ) ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( ( oldCache = outerCache[ key ] ) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn ( newCache[ 2 ] = oldCache[ 2 ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\touterCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[ i ]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[ 0 ];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tfind( selector, contexts[ i ], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction( function( seed, results, context, xml ) {\n\t\tvar temp, i, elem, matcherOut,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed ||\n\t\t\t\tmultipleContexts( selector || \"*\",\n\t\t\t\t\tcontext.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems;\n\n\t\tif ( matcher ) {\n\n\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter\n\t\t\t// or preexisting results,\n\t\t\tmatcherOut = postFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t[] :\n\n\t\t\t\t// ...otherwise use results directly\n\t\t\t\tresults;\n\n\t\t\t// Find primary matches\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t} else {\n\t\t\tmatcherOut = matcherIn;\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( ( elem = temp[ i ] ) ) {\n\t\t\t\t\tmatcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) ) {\n\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( ( matcherIn[ i ] = elem ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, ( matcherOut = [] ), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) &&\n\t\t\t\t\t\t( temp = postFinder ? indexOf.call( seed, elem ) : preMap[ i ] ) > -1 ) {\n\n\t\t\t\t\t\tseed[ temp ] = !( results[ temp ] = elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[ 0 ].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[ \" \" ],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf.call( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tvar ret = ( !leadingRelative && ( xml || context != outermostContext ) ) || (\n\t\t\t\t( checkContext = context ).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\n\t\t\t// Avoid hanging onto element\n\t\t\t// (see https://github.com/jquery/sizzle/issues/299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {\n\t\t\tmatchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[ j ].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 )\n\t\t\t\t\t\t\t.concat( { value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" } )\n\t\t\t\t\t).replace( rtrimCSS, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find.TAG( \"*\", outermost ),\n\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\n\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\toutermostContext = context == document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: iOS <=7 - 9 only\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching\n\t\t\t// elements by id. (see trac-14142)\n\t\t\tfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( !context && elem.ownerDocument != document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( ( matcher = elementMatchers[ j++ ] ) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml ) ) {\n\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( ( elem = !matcher && elem ) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( ( matcher = setMatchers[ j++ ] ) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !( unmatched[ i ] || setMatched[ i ] ) ) {\n\t\t\t\t\t\t\t\tsetMatched[ i ] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tjQuery.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\nfunction compile( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[ i ] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector,\n\t\t\tmatcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n}\n\n/**\n * A low-level selection function that works with jQuery's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with jQuery selector compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nfunction select( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( ( selector = compiled.selector || selector ) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[ 0 ] = match[ 0 ].slice( 0 );\n\t\tif ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === \"ID\" &&\n\t\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {\n\n\t\t\tcontext = ( Expr.find.ID(\n\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\tcontext\n\t\t\t) || [] )[ 0 ];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr.needsContext.test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[ i ];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ ( type = token.type ) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( ( find = Expr.find[ type ] ) ) {\n\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( ( seed = find(\n\t\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[ 0 ].type ) &&\n\t\t\t\t\t\ttestContext( context.parentNode ) || context\n\t\t\t\t) ) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n}\n\n// One-time assignments\n\n// Support: Android <=4.0 - 4.1+\n// Sort stability\nsupport.sortStable = expando.split( \"\" ).sort( sortOrder ).join( \"\" ) === expando;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Android <=4.0 - 4.1+\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert( function( el ) {\n\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement( \"fieldset\" ) ) & 1;\n} );\n\njQuery.find = find;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.unique = jQuery.uniqueSort;\n\n// These have always been private, but they used to be documented as part of\n// Sizzle so let's maintain them for now for backwards compatibility purposes.\nfind.compile = compile;\nfind.select = select;\nfind.setDocument = setDocument;\nfind.tokenize = tokenize;\n\nfind.escape = jQuery.escapeSelector;\nfind.getText = jQuery.text;\nfind.isXML = jQuery.isXMLDoc;\nfind.selectors = jQuery.expr;\nfind.support = jQuery.support;\nfind.uniqueSort = jQuery.uniqueSort;\n\n\t/* eslint-enable */\n\n} )();\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (trac-9521)\n\t// Strict HTML recognition (trac-11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to jQuery#find\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( elem.contentDocument != null &&\n\n\t\t\t// Support: IE 11+\n\t\t\t// <object> elements with no `data` attribute has an object\n\t\t\t// `contentDocument` with a `null` prototype.\n\t\t\tgetProto( elem.contentDocument ) ) {\n\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( _i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.error );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the error, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getErrorHook ) {\n\t\t\t\t\t\t\t\t\tprocess.error = jQuery.Deferred.getErrorHook();\n\n\t\t\t\t\t\t\t\t// The deprecated alias of the above. While the name suggests\n\t\t\t\t\t\t\t\t// returning the stack, not an error instance, jQuery just passes\n\t\t\t\t\t\t\t\t// it directly to `console.warn` so both will work; an instance\n\t\t\t\t\t\t\t\t// just better cooperates with source maps.\n\t\t\t\t\t\t\t\t} else if ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.error = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the primary Deferred\n\t\t\tprimary = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tprimary.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( primary.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn primary.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );\n\t\t}\n\n\t\treturn primary.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\n// If `jQuery.Deferred.getErrorHook` is defined, `asyncError` is an error\n// captured before the async barrier to get the original error cause\n// which may otherwise be hidden.\njQuery.Deferred.exceptionHook = function( error, asyncError ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message,\n\t\t\terror.stack, asyncError );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See trac-6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, _key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\t\tvalue :\n\t\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( _all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (trac-9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see trac-8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (trac-14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (trac-11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (trac-14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// Support: IE <=9 only\n\t// IE <=9 replaces <option> tags with their contents when inserted outside of\n\t// the select element.\n\tdiv.innerHTML = \"<option></option>\";\n\tsupport.option = !!div.lastChild;\n} )();\n\n\n// We have to close these tags to support XHTML (trac-13200)\nvar wrapMap = {\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: IE <=9 only\nif ( !support.option ) {\n\twrapMap.optgroup = wrapMap.option = [ 1, \"<select multiple='multiple'>\", \"</select>\" ];\n}\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (trac-15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (trac-12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\nvar rtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Only attach events to objects that accept data\n\t\tif ( !acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = Object.create( null );\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix( nativeEvent ),\n\n\t\t\thandlers = (\n\t\t\t\tdataPriv.get( this, \"events\" ) || Object.create( null )\n\t\t\t)[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (trac-13208)\n\t\t\t\t// Don't process clicks on disabled elements (trac-6911, trac-8165, trac-11382, trac-11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (trac-13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", true );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, isSetup ) {\n\n\t// Missing `isSetup` indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !isSetup ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\tif ( !saved ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tdataPriv.set( this, type, false );\n\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering\n\t\t\t\t// the native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, jQuery.event.trigger(\n\t\t\t\t\tsaved[ 0 ],\n\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\tthis\n\t\t\t\t) );\n\n\t\t\t\t// Abort handling of the native event by all jQuery handlers while allowing\n\t\t\t\t// native handlers on the same element to run. On target, this is achieved\n\t\t\t\t// by stopping immediate propagation just on the jQuery event. However,\n\t\t\t\t// the native event is re-wrapped by a jQuery one on each level of the\n\t\t\t\t// propagation so the only way to stop it for jQuery is to stop it for\n\t\t\t\t// everyone via native `stopPropagation()`. This is not a problem for\n\t\t\t\t// focus/blur which don't bubble, but it does also stop click on checkboxes\n\t\t\t\t// and radios. We accept this limitation.\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.isImmediatePropagationStopped = returnTrue;\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (trac-504, trac-13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\twhich: true\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\n\tfunction focusMappedHandler( nativeEvent ) {\n\t\tif ( document.documentMode ) {\n\n\t\t\t// Support: IE 11+\n\t\t\t// Attach a single focusin/focusout handler on the document while someone wants\n\t\t\t// focus/blur. This is because the former are synchronous in IE while the latter\n\t\t\t// are async. In other browsers, all those handlers are invoked synchronously.\n\n\t\t\t// `handle` from private data would already wrap the event, but we need\n\t\t\t// to change the `type` here.\n\t\t\tvar handle = dataPriv.get( this, \"handle\" ),\n\t\t\t\tevent = jQuery.event.fix( nativeEvent );\n\t\t\tevent.type = nativeEvent.type === \"focusin\" ? \"focus\" : \"blur\";\n\t\t\tevent.isSimulated = true;\n\n\t\t\t// First, handle focusin/focusout\n\t\t\thandle( nativeEvent );\n\n\t\t\t// ...then, handle focus/blur\n\t\t\t//\n\t\t\t// focus/blur don't bubble while focusin/focusout do; simulate the former by only\n\t\t\t// invoking the handler at the lower level.\n\t\t\tif ( event.target === event.currentTarget ) {\n\n\t\t\t\t// The setup part calls `leverageNative`, which, in turn, calls\n\t\t\t\t// `jQuery.event.add`, so event handle will already have been set\n\t\t\t\t// by this point.\n\t\t\t\thandle( event );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// For non-IE browsers, attach a single capturing handler on the document\n\t\t\t// while someone wants focusin/focusout.\n\t\t\tjQuery.event.simulate( delegateType, nativeEvent.target,\n\t\t\t\tjQuery.event.fix( nativeEvent ) );\n\t\t}\n\t}\n\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\tvar attaches;\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, true );\n\n\t\t\tif ( document.documentMode ) {\n\n\t\t\t\t// Support: IE 9 - 11+\n\t\t\t\t// We use the same native handler for focusin & focus (and focusout & blur)\n\t\t\t\t// so we need to coordinate setup & teardown parts between those events.\n\t\t\t\t// Use `delegateType` as the key as `type` is already used by `leverageNative`.\n\t\t\t\tattaches = dataPriv.get( this, delegateType );\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tthis.addEventListener( delegateType, focusMappedHandler );\n\t\t\t\t}\n\t\t\t\tdataPriv.set( this, delegateType, ( attaches || 0 ) + 1 );\n\t\t\t} else {\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar attaches;\n\n\t\t\tif ( document.documentMode ) {\n\t\t\t\tattaches = dataPriv.get( this, delegateType ) - 1;\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tthis.removeEventListener( delegateType, focusMappedHandler );\n\t\t\t\t\tdataPriv.remove( this, delegateType );\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.set( this, delegateType, attaches );\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Return false to indicate standard teardown should be applied\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Suppress native focus or blur if we're currently inside\n\t\t// a leveraged native-event stack\n\t\t_default: function( event ) {\n\t\t\treturn dataPriv.get( event.target, type );\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n\n\t// Support: Firefox <=44\n\t// Firefox doesn't have focus(in | out) events\n\t// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n\t//\n\t// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n\t// focus(in | out) events fire after focus & blur events,\n\t// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n\t// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\n\t//\n\t// Support: IE 9 - 11+\n\t// To preserve relative focusin/focus & focusout/blur event order guaranteed on the 3.x branch,\n\t// attach a single handler for both events in IE.\n\tjQuery.event.special[ delegateType ] = {\n\t\tsetup: function() {\n\n\t\t\t// Handle: regular nodes (via `this.ownerDocument`), window\n\t\t\t// (via `this.document`) & document (via `this`).\n\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\tdataHolder = document.documentMode ? this : doc,\n\t\t\t\tattaches = dataPriv.get( dataHolder, delegateType );\n\n\t\t\t// Support: IE 9 - 11+\n\t\t\t// We use the same native handler for focusin & focus (and focusout & blur)\n\t\t\t// so we need to coordinate setup & teardown parts between those events.\n\t\t\t// Use `delegateType` as the key as `type` is already used by `leverageNative`.\n\t\t\tif ( !attaches ) {\n\t\t\t\tif ( document.documentMode ) {\n\t\t\t\t\tthis.addEventListener( delegateType, focusMappedHandler );\n\t\t\t\t} else {\n\t\t\t\t\tdoc.addEventListener( type, focusMappedHandler, true );\n\t\t\t\t}\n\t\t\t}\n\t\t\tdataPriv.set( dataHolder, delegateType, ( attaches || 0 ) + 1 );\n\t\t},\n\t\tteardown: function() {\n\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\tdataHolder = document.documentMode ? this : doc,\n\t\t\t\tattaches = dataPriv.get( dataHolder, delegateType ) - 1;\n\n\t\t\tif ( !attaches ) {\n\t\t\t\tif ( document.documentMode ) {\n\t\t\t\t\tthis.removeEventListener( delegateType, focusMappedHandler );\n\t\t\t\t} else {\n\t\t\t\t\tdoc.removeEventListener( type, focusMappedHandler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( dataHolder, delegateType );\n\t\t\t} else {\n\t\t\t\tdataPriv.set( dataHolder, delegateType, attaches );\n\t\t\t}\n\t\t}\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\n\trcleanScript = /^\\s*<!\\[CDATA\\[|\\]\\]>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.get( src );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdataPriv.remove( dest, \"handle events\" );\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = flat( args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (trac-8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Re-enable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t}, doc );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Unwrap a CDATA section containing script contents. This shouldn't be\n\t\t\t\t\t\t\t// needed as in XML documents they're already not visible when\n\t\t\t\t\t\t\t// inspecting element contents and in HTML documents they have no\n\t\t\t\t\t\t\t// meaning but we're preserving that logic for backwards compatibility.\n\t\t\t\t\t\t\t// This will be removed completely in 4.0. See gh-4904.\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html;\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew jQuery#find here for performance reasons:\n\t\t\t// https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar rcustomProp = /^--/;\n\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (trac-15098, trac-14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.call( elem );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableTrDimensionsVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (trac-8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t},\n\n\t\t// Support: IE 9 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Behavior in IE 9 is more subtle than in newer versions & it passes\n\t\t// some versions of this test; make sure not to make it pass there!\n\t\t//\n\t\t// Support: Firefox 70+\n\t\t// Only Firefox includes border widths\n\t\t// in computed dimensions. (gh-4529)\n\t\treliableTrDimensions: function() {\n\t\t\tvar table, tr, trChild, trStyle;\n\t\t\tif ( reliableTrDimensionsVal == null ) {\n\t\t\t\ttable = document.createElement( \"table\" );\n\t\t\t\ttr = document.createElement( \"tr\" );\n\t\t\t\ttrChild = document.createElement( \"div\" );\n\n\t\t\t\ttable.style.cssText = \"position:absolute;left:-11111px;border-collapse:separate\";\n\t\t\t\ttr.style.cssText = \"box-sizing:content-box;border:1px solid\";\n\n\t\t\t\t// Support: Chrome 86+\n\t\t\t\t// Height set through cssText does not get applied.\n\t\t\t\t// Computed height then comes back as 0.\n\t\t\t\ttr.style.height = \"1px\";\n\t\t\t\ttrChild.style.height = \"9px\";\n\n\t\t\t\t// Support: Android 8 Chrome 86+\n\t\t\t\t// In our bodyBackground.html iframe,\n\t\t\t\t// display for all div elements is set to \"inline\",\n\t\t\t\t// which causes a problem only in Android 8 Chrome 86.\n\t\t\t\t// Ensuring the div is `display: block`\n\t\t\t\t// gets around this issue.\n\t\t\t\ttrChild.style.display = \"block\";\n\n\t\t\t\tdocumentElement\n\t\t\t\t\t.appendChild( table )\n\t\t\t\t\t.appendChild( tr )\n\t\t\t\t\t.appendChild( trChild );\n\n\t\t\t\ttrStyle = window.getComputedStyle( tr );\n\t\t\t\treliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderTopWidth, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;\n\n\t\t\t\tdocumentElement.removeChild( table );\n\t\t\t}\n\t\t\treturn reliableTrDimensionsVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tisCustomProp = rcustomProp.test( name ),\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, trac-12537)\n\t//   .css('--customProperty) (gh-3144)\n\tif ( computed ) {\n\n\t\t// Support: IE <=9 - 11+\n\t\t// IE only supports `\"float\"` in `getPropertyValue`; in computed styles\n\t\t// it's only available as `\"cssFloat\"`. We no longer modify properties\n\t\t// sent to `.css()` apart from camelCasing, so we need to check both.\n\t\t// Normally, this would create difference in behavior: if\n\t\t// `getPropertyValue` returns an empty string, the value returned\n\t\t// by `.css()` would be `undefined`. This is usually the case for\n\t\t// disconnected elements. However, in IE even disconnected elements\n\t\t// with no styles return `\"none\"` for `getPropertyValue( \"float\" )`\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( isCustomProp && ret ) {\n\n\t\t\t// Support: Firefox 105+, Chrome <=105+\n\t\t\t// Spec requires trimming whitespace for custom properties (gh-4926).\n\t\t\t// Firefox only trims leading whitespace. Chrome just collapses\n\t\t\t// both leading & trailing whitespace to a single space.\n\t\t\t//\n\t\t\t// Fall back to `undefined` if empty string returned.\n\t\t\t// This collapses a missing definition with property defined\n\t\t\t// and set to an empty string but there's no standard API\n\t\t\t// allowing us to differentiate them without a performance penalty\n\t\t\t// and returning `undefined` aligns with older jQuery.\n\t\t\t//\n\t\t\t// rtrimCSS treats U+000D CARRIAGE RETURN and U+000C FORM FEED\n\t\t\t// as whitespace while CSS does not, but this is not a problem\n\t\t\t// because CSS preprocessing replaces them with U+000A LINE FEED\n\t\t\t// (which *is* CSS whitespace)\n\t\t\t// https://www.w3.org/TR/css-syntax-3/#input-preprocessing\n\t\t\tret = ret.replace( rtrimCSS, \"$1\" ) || undefined;\n\t\t}\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( _elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0,\n\t\tmarginDelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\t// Count margin delta separately to only add it after scroll gutter adjustment.\n\t\t// This is needed to make negative margins work with `outerHeight( true )` (gh-3982).\n\t\tif ( box === \"margin\" ) {\n\t\t\tmarginDelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta + marginDelta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Support: IE 9 - 11 only\n\t// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n\t// In those cases, the computed value can be trusted to be border-box.\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\n\t\t// Support: IE 10 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Interestingly, in some cases IE 9 doesn't suffer from this issue.\n\t\t!support.reliableTrDimensions() && nodeName( elem, \"tr\" ) ||\n\n\t\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t\t// This happens for inline elements with no explicit setting (gh-3571)\n\t\tval === \"auto\" ||\n\n\t\t// Support: Android <=4.1 - 4.3 only\n\t\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\n\t\t// Make sure the element is visible & connected\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\tanimationIterationCount: true,\n\t\taspectRatio: true,\n\t\tborderImageSlice: true,\n\t\tcolumnCount: true,\n\t\tflexGrow: true,\n\t\tflexShrink: true,\n\t\tfontWeight: true,\n\t\tgridArea: true,\n\t\tgridColumn: true,\n\t\tgridColumnEnd: true,\n\t\tgridColumnStart: true,\n\t\tgridRow: true,\n\t\tgridRowEnd: true,\n\t\tgridRowStart: true,\n\t\tlineHeight: true,\n\t\topacity: true,\n\t\torder: true,\n\t\torphans: true,\n\t\tscale: true,\n\t\twidows: true,\n\t\tzIndex: true,\n\t\tzoom: true,\n\n\t\t// SVG-related\n\t\tfillOpacity: true,\n\t\tfloodOpacity: true,\n\t\tstopOpacity: true,\n\t\tstrokeMiterlimit: true,\n\t\tstrokeOpacity: true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (trac-7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug trac-9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (trac-7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( _i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t} ) :\n\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (trac-12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\n\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( _i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( _i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// Use proper attribute retrieval (trac-12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + className + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += className + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + className + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + className + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar classNames, className, i, self,\n\t\t\ttype = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\treturn this.each( function() {\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\tself = jQuery( this );\n\n\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (trac-14686, trac-14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (trac-2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\nvar location = window.location;\n\nvar nonce = { guid: Date.now() };\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml, parserErrorElem;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {}\n\n\tparserErrorElem = xml && xml.getElementsByTagName( \"parsererror\" )[ 0 ];\n\tif ( !xml || parserErrorElem ) {\n\t\tjQuery.error( \"Invalid XML: \" + (\n\t\t\tparserErrorElem ?\n\t\t\t\tjQuery.map( parserErrorElem.childNodes, function( el ) {\n\t\t\t\t\treturn el.textContent;\n\t\t\t\t} ).join( \"\\n\" ) :\n\t\t\t\tdata\n\t\t) );\n\t}\n\treturn xml;\n};\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (trac-9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (trac-9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || Object.create( null ) )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (trac-6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} ).filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} ).map( function( _i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// trac-7653, trac-8125, trac-8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (trac-10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\noriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes trac-9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (trac-10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket trac-12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (trac-15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// trac-9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce.guid++ ) +\n\t\t\t\t\tuncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Use a noop converter for missing script but not if jsonp\n\t\t\tif ( !isSuccess &&\n\t\t\t\tjQuery.inArray( \"script\", s.dataTypes ) > -1 &&\n\t\t\t\tjQuery.inArray( \"json\", s.dataTypes ) < 0 ) {\n\t\t\t\ts.converters[ \"text script\" ] = function() {};\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( _i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\njQuery.ajaxPrefilter( function( s ) {\n\tvar i;\n\tfor ( i in s.headers ) {\n\t\tif ( i.toLowerCase() === \"content-type\" ) {\n\t\t\ts.contentType = s.headers[ i ] || \"\";\n\t\t}\n\t}\n} );\n\n\njQuery._evalUrl = function( url, options, doc ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (trac-11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options, doc );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// trac-1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see trac-8605, trac-14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// trac-14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce.guid++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( _i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( {\n\t\tpadding: \"inner\" + name,\n\t\tcontent: type,\n\t\t\"\": \"outer\" + name\n\t}, function( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( _i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this\n\t\t\t.on( \"mouseenter\", fnOver )\n\t\t\t.on( \"mouseleave\", fnOut || fnOver );\n\t}\n} );\n\njQuery.each(\n\t( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( _i, name ) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[ name ] = function( data, fn ) {\n\t\t\treturn arguments.length > 0 ?\n\t\t\t\tthis.on( name, null, data, fn ) :\n\t\t\t\tthis.trigger( name );\n\t\t};\n\t}\n);\n\n\n\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\n// Require that the \"whitespace run\" starts from a non-whitespace\n// to avoid O(N^2) behavior when the engine would try matching \"\\s+$\" at each space position.\nvar rtrim = /^[\\s\\uFEFF\\xA0]+|([^\\s\\uFEFF\\xA0])[\\s\\uFEFF\\xA0]+$/g;\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\njQuery.trim = function( text ) {\n\treturn text == null ?\n\t\t\"\" :\n\t\t( text + \"\" ).replace( rtrim, \"$1\" );\n};\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (trac-7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (trac-13566)\nif ( typeof noGlobal === \"undefined\" ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n","/**\r\n * component\r\n * Layui 2 组件构建器\r\n */\r\n\r\nimport { layui } from './layui.js';\r\nimport { lay } from './lay.js';\r\nimport $ from 'jquery';\r\n\r\n// export\r\nexport function component(settings) {\r\n  // 默认设置\r\n  settings = $.extend(\r\n    true,\r\n    {\r\n      isDeepReload: false, // 是否默认为深度重载\r\n    },\r\n    settings,\r\n  );\r\n\r\n  // 组件名\r\n  var MOD_NAME = settings.name;\r\n  var MOD_ID = 'lay-' + MOD_NAME + '-id'; // 用于记录组件实例 id 的属性名\r\n\r\n  // 组件基础对外接口\r\n  var component = {\r\n    config: {}, // 全局配置项，一般通过 component.set() 设置\r\n\r\n    // 通用常量集，一般存放固定字符，如类名等\r\n    CONST: $.extend(\r\n      true,\r\n      {\r\n        MOD_NAME: MOD_NAME,\r\n        MOD_ID: MOD_ID,\r\n\r\n        CLASS_THIS: 'layui-this',\r\n        CLASS_SHOW: 'layui-show',\r\n        CLASS_HIDE: 'layui-hide',\r\n        CLASS_HIDEV: 'layui-hide-v',\r\n        CLASS_DISABLED: 'layui-disabled',\r\n        CLASS_NONE: 'layui-none',\r\n      },\r\n      settings.CONST,\r\n    ),\r\n\r\n    // 设置全局项\r\n    set: function (options) {\r\n      var that = this;\r\n      $.extend(true, that.config, options);\r\n      return that;\r\n    },\r\n\r\n    // 事件\r\n    on: function (events, callback) {\r\n      return layui.onevent.call(this, MOD_NAME, events, callback);\r\n    },\r\n  };\r\n\r\n  // 操作当前实例\r\n  var instance = function () {\r\n    var that = this;\r\n    var options = that.config;\r\n    var id = options.id;\r\n\r\n    // 实例对象\r\n    var inst = {\r\n      config: options,\r\n      id: id,\r\n      index: that.index,\r\n\r\n      // 重置实例\r\n      reload: function (options) {\r\n        that.reload.call(that, options);\r\n      },\r\n    };\r\n\r\n    // 扩展实例对象的回调\r\n    if (typeof settings.extendsInstance === 'function') {\r\n      $.extend(true, inst, settings.extendsInstance.call(that));\r\n    }\r\n\r\n    // 返回实例对象\r\n    return inst;\r\n  };\r\n\r\n  // 构造器\r\n  var Class = function (options) {\r\n    var that = this;\r\n    that.index = component.index = lay.autoIncrementer(MOD_NAME);\r\n\r\n    // 扩展配置项：传入选项 -> 全局选项 -> 默认选项 = 当前选项\r\n    that.config = $.extend(true, {}, that.config, component.config, options);\r\n\r\n    // 初始化之前的回调\r\n    if (typeof settings.beforeInit === 'function') {\r\n      settings.beforeInit.call(that, that.config);\r\n    }\r\n\r\n    // 初始化\r\n    that.init();\r\n  };\r\n\r\n  // 默认配置\r\n  Class.prototype.config = settings.config;\r\n\r\n  // 重载实例\r\n  Class.prototype.reload = function (options, type) {\r\n    var that = this;\r\n    that.config = $.extend(settings.isDeepReload, {}, that.config, options);\r\n    that.init(true, type);\r\n  };\r\n\r\n  // 初始化准备（若由事件触发渲染，则必经此步）\r\n  Class.prototype.init = function (rerender, type) {\r\n    var that = this;\r\n    var options = that.config;\r\n    var elem = $(options.elem);\r\n\r\n    // 若 elem 非唯一，则拆分为多个实例\r\n    if (elem.length > 1) {\r\n      layui.each(elem, function () {\r\n        component.render(\r\n          $.extend({}, options, {\r\n            elem: this,\r\n          }),\r\n        );\r\n      });\r\n      return that;\r\n    }\r\n\r\n    // 合并 lay-options 属性上的配置信息\r\n    var layOptions = lay.options(elem[0]);\r\n    if (rerender) {\r\n      // 若重载渲染，则重载传入的 options 配置优先\r\n      options = that.config = $.extend(layOptions, options);\r\n    } else {\r\n      $.extend(options, layOptions); // 若首次渲染，则 lay-options 配置优先\r\n    }\r\n\r\n    // 若重复执行 render，则视为 reload 处理\r\n    if (!rerender && elem.attr(MOD_ID)) {\r\n      var newThat = component.getInst(elem.attr(MOD_ID));\r\n      if (!newThat) return;\r\n      return newThat.reload(options, type);\r\n    }\r\n\r\n    options.elem = $(options.elem);\r\n\r\n    // 初始化 id 属性 - 优先取 options.id > 元素 id > 自增索引\r\n    options.id = lay.hasOwn(options, 'id')\r\n      ? options.id\r\n      : elem.attr('id') || that.index;\r\n\r\n    // 记录当前实例对象\r\n    instance.that[options.id] = that;\r\n\r\n    // 渲染之前的回调\r\n    if (typeof settings.beforeRender === 'function') {\r\n      settings.beforeRender.call(that, options);\r\n    }\r\n\r\n    // 渲染\r\n    if (typeof that.render === 'function') {\r\n      component.cache.id[options.id] = null; // 记录所有实例 id，用于批量操作（如 resize）\r\n      elem.attr(MOD_ID, options.id); // 目标元素已渲染过的标记\r\n      that.render(rerender); // 渲染核心\r\n    }\r\n\r\n    // 事件\r\n    typeof that.events === 'function' && that.events();\r\n  };\r\n\r\n  // 组件必传项\r\n  Class.prototype.render = settings.render; // 渲染\r\n  Class.prototype.events = settings.events; // 事件\r\n\r\n  /**\r\n   * 元素缓存操作\r\n   * @param {string} key - 缓存键\r\n   * @param {*} value - 缓存值\r\n   * @param {boolean} remove - 是否删除缓存\r\n   * @returns {*} - 若 value 未传，则返回缓存值\r\n   */\r\n  Class.prototype.cache = function (key, value, remove) {\r\n    var that = this;\r\n    var options = that.config;\r\n    var elem = options.elem;\r\n    var MOD_CACHE_NAME = MOD_ID + '-cache';\r\n    if (!elem) return;\r\n\r\n    var cache = elem.data(MOD_CACHE_NAME) || {};\r\n\r\n    // value 未传则获取缓存值\r\n    if (value === undefined) {\r\n      return cache[key];\r\n    }\r\n\r\n    if (remove) {\r\n      delete cache[key]; // 删除缓存\r\n    } else {\r\n      cache[key] = value; // 设置缓存\r\n    }\r\n\r\n    elem.data(MOD_CACHE_NAME, cache);\r\n  };\r\n\r\n  // 清除缓存\r\n  Class.prototype.removeCache = function (key) {\r\n    this.cache(key, null, true);\r\n  };\r\n\r\n  // 缓存所有实例对象\r\n  instance.that = {};\r\n\r\n  // 获取指定的实例对象\r\n  component.getInst = component.getThis = function (id) {\r\n    if (id === undefined) {\r\n      throw new Error('ID argument required');\r\n    }\r\n    return instance.that[id];\r\n  };\r\n\r\n  // 获取所有实例\r\n  component.getAllInst = function () {\r\n    return instance.that;\r\n  };\r\n\r\n  // 移除指定的实例对象\r\n  component.removeInst = function (id) {\r\n    delete instance.that[id];\r\n    delete component.cache.id[id];\r\n  };\r\n\r\n  // 组件缓存\r\n  component.cache = {\r\n    id: {},\r\n  };\r\n\r\n  // 用于扩展原型\r\n  component.Class = Class;\r\n\r\n  /**\r\n   * 组件完整重载\r\n   * @param {string} id - 实例 id\r\n   * @param {Object} options - 配置项\r\n   * @returns\r\n   */\r\n  component.reload = function (id, options) {\r\n    var that = component.getInst(id);\r\n    if (!that) return;\r\n\r\n    that.reload(options);\r\n    return instance.call(that);\r\n  };\r\n\r\n  /**\r\n   * 组件渲染\r\n   * @param {Object} options - 配置项\r\n   * @returns\r\n   */\r\n  component.render = function (options) {\r\n    var inst = new Class(options);\r\n    return instance.call(inst);\r\n  };\r\n\r\n  return component;\r\n}\r\n\r\nexport { component as componentBuilder };\r\n","/**\r\n * laypage 分页组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport { lay } from '../core/lay.js';\r\nimport { i18n } from '../core/i18n.js';\r\n\r\nvar doc = document;\r\nvar id = 'getElementById';\r\nvar tag = 'getElementsByTagName';\r\n\r\n// 字符常量\r\n// var MOD_NAME = 'laypage';\r\nvar DISABLED = 'layui-disabled';\r\n\r\n// 构造器\r\nvar Class = function (options) {\r\n  var that = this;\r\n  that.config = options || {};\r\n  that.config.index = laypage.index = lay.autoIncrementer('laypage');\r\n  that.render(true);\r\n};\r\n\r\n// 判断传入的容器类型\r\nClass.prototype.type = function () {\r\n  var config = this.config;\r\n  if (typeof config.elem === 'object') {\r\n    return config.elem.length === undefined ? 2 : 3;\r\n  }\r\n};\r\n\r\n// 分页视图\r\nClass.prototype.view = function () {\r\n  var that = this;\r\n  var config = that.config;\r\n\r\n  // 连续页码个数\r\n  var groups = (config.groups =\r\n    'groups' in config ? Number(config.groups) || 0 : 5);\r\n\r\n  // 排版\r\n  config.layout =\r\n    typeof config.layout === 'object'\r\n      ? config.layout\r\n      : ['prev', 'page', 'next'];\r\n\r\n  config.count = Number(config.count) || 0; // 数据总数\r\n  config.curr = Number(config.curr) || 1; // 当前页\r\n\r\n  // 每页条数的选择项\r\n  config.limits =\r\n    typeof config.limits === 'object' ? config.limits : [10, 20, 30, 40, 50];\r\n\r\n  // 默认条数\r\n  config.limit = Number(config.limit) || 10;\r\n\r\n  // 总页数\r\n  config.pages = Math.ceil(config.count / config.limit) || 1;\r\n\r\n  // 当前页不能超过总页数\r\n  if (config.curr > config.pages) {\r\n    config.curr = config.pages;\r\n  } else if (config.curr < 1) {\r\n    // 当前分页不能小于 1\r\n    config.curr = 1;\r\n  }\r\n\r\n  // 连续分页个数不能低于 0 且不能大于总页数\r\n  if (groups < 0) {\r\n    groups = 1;\r\n  } else if (groups > config.pages) {\r\n    groups = config.pages;\r\n  }\r\n\r\n  config.prev = 'prev' in config ? config.prev : i18n.$t('laypage.prev'); // 上一页文本\r\n  config.next = 'next' in config ? config.next : i18n.$t('laypage.next'); // 下一页文本\r\n\r\n  // 计算当前组\r\n  var index =\r\n    config.pages > groups\r\n      ? Math.ceil(\r\n          (config.curr + (groups > 1 ? 1 : 0)) / (groups > 0 ? groups : 1),\r\n        )\r\n      : 1;\r\n\r\n  // 视图片段\r\n  var views = {\r\n    // 上一页\r\n    prev: (function () {\r\n      return config.prev\r\n        ? '<a class=\"layui-laypage-prev' +\r\n            (config.curr == 1 ? ' ' + DISABLED : '') +\r\n            '\" data-page=\"' +\r\n            (config.curr - 1) +\r\n            '\">' +\r\n            config.prev +\r\n            '</a>'\r\n        : '';\r\n    })(),\r\n\r\n    // 页码\r\n    page: (function () {\r\n      var pager = [];\r\n\r\n      // 数据量为0时，不输出页码\r\n      if (config.count < 1) {\r\n        return '';\r\n      }\r\n\r\n      // 首页\r\n      if (index > 1 && config.first !== false && groups !== 0) {\r\n        pager.push(\r\n          '<a class=\"layui-laypage-first\" data-page=\"1\"  title=\"' +\r\n            i18n.$t('laypage.first') +\r\n            '\">' +\r\n            (config.first || 1) +\r\n            '</a>',\r\n        );\r\n      }\r\n\r\n      // 计算当前页码组的起始页\r\n      var halve = Math.floor((groups - 1) / 2); // 页码数等分\r\n      var start = index > 1 ? config.curr - halve : 1;\r\n      var end =\r\n        index > 1\r\n          ? (function () {\r\n              var max = config.curr + (groups - halve - 1);\r\n              return max > config.pages ? config.pages : max;\r\n            })()\r\n          : groups;\r\n\r\n      // 防止最后一组出现“不规定”的连续页码数\r\n      if (end - start < groups - 1) {\r\n        start = end - groups + 1;\r\n      }\r\n\r\n      // 输出左分割符\r\n      if (config.first !== false && start > 2) {\r\n        pager.push('<span class=\"layui-laypage-spr\">...</span>');\r\n      }\r\n\r\n      // 输出连续页码\r\n      for (; start <= end; start++) {\r\n        if (start === config.curr) {\r\n          // 当前页\r\n          pager.push(\r\n            '<span class=\"layui-laypage-curr\"><em class=\"layui-laypage-em\" ' +\r\n              (/^#/.test(config.theme)\r\n                ? 'style=\"background-color:' + config.theme + ';\"'\r\n                : '') +\r\n              '></em><em>' +\r\n              start +\r\n              '</em></span>',\r\n          );\r\n        } else {\r\n          pager.push('<a data-page=\"' + start + '\">' + start + '</a>');\r\n        }\r\n      }\r\n\r\n      // 输出输出右分隔符 & 末页\r\n      if (\r\n        config.pages > groups &&\r\n        config.pages > end &&\r\n        config.last !== false\r\n      ) {\r\n        if (end + 1 < config.pages) {\r\n          pager.push('<span class=\"layui-laypage-spr\">...</span>');\r\n        }\r\n        if (groups !== 0) {\r\n          pager.push(\r\n            '<a class=\"layui-laypage-last\" title=\"' +\r\n              i18n.$t('laypage.last') +\r\n              '\"  data-page=\"' +\r\n              config.pages +\r\n              '\">' +\r\n              (config.last || config.pages) +\r\n              '</a>',\r\n          );\r\n        }\r\n      }\r\n\r\n      return pager.join('');\r\n    })(),\r\n\r\n    // 下一页\r\n    next: (function () {\r\n      return config.next\r\n        ? '<a class=\"layui-laypage-next' +\r\n            (config.curr == config.pages ? ' ' + DISABLED : '') +\r\n            '\" data-page=\"' +\r\n            (config.curr + 1) +\r\n            '\">' +\r\n            config.next +\r\n            '</a>'\r\n        : '';\r\n    })(),\r\n\r\n    // 数据总数\r\n    count: (function () {\r\n      var countText =\r\n        typeof config.countText === 'object'\r\n          ? config.countText[0] + config.count + config.countText[1]\r\n          : i18n.$t('laypage.total', { total: config.count });\r\n\r\n      return '<span class=\"layui-laypage-count\">' + countText + '</span>';\r\n    })(),\r\n\r\n    // 每页条数\r\n    limit: (function () {\r\n      var elemArr = ['<span class=\"layui-laypage-limits\"><select lay-ignore>'];\r\n      var template = function (item) {\r\n        var def = item + ' ' + i18n.$t('laypage.pagesize');\r\n        return typeof config.limitTemplet === 'function'\r\n          ? config.limitTemplet(item) || def\r\n          : def;\r\n      };\r\n\r\n      // 条目选项列表\r\n      layui.each(config.limits, function (index, item) {\r\n        elemArr.push(\r\n          '<option value=\"' +\r\n            item +\r\n            '\"' +\r\n            (item === config.limit ? ' selected' : '') +\r\n            '>' +\r\n            template(item) +\r\n            '</option>',\r\n        );\r\n      });\r\n\r\n      return elemArr.join('') + '</select></span>';\r\n    })(),\r\n\r\n    // 刷新当前页\r\n    refresh: [\r\n      '<a data-page=\"' + config.curr + '\" class=\"layui-laypage-refresh\">',\r\n      '<i class=\"layui-icon layui-icon-refresh\"></i>',\r\n      '</a>',\r\n    ].join(''),\r\n\r\n    // 跳页区域\r\n    skip: (function () {\r\n      var skipText =\r\n        typeof config.skipText === 'object'\r\n          ? config.skipText\r\n          : [\r\n              i18n.$t('laypage.goto'),\r\n              i18n.$t('laypage.page'),\r\n              i18n.$t('laypage.confirm'),\r\n            ];\r\n      return [\r\n        '<span class=\"layui-laypage-skip\">' + skipText[0],\r\n        '<input type=\"text\" min=\"1\" value=\"' +\r\n          config.curr +\r\n          '\" class=\"layui-input\">',\r\n        skipText[1] +\r\n          '<button type=\"button\" class=\"layui-laypage-btn\">' +\r\n          skipText[2] +\r\n          '</button>',\r\n        '</span>',\r\n      ].join('');\r\n    })(),\r\n  };\r\n\r\n  return [\r\n    '<div class=\"layui-box layui-unselect layui-laypage layui-laypage-' +\r\n      (config.theme\r\n        ? /^#/.test(config.theme)\r\n          ? 'molv'\r\n          : config.theme\r\n        : 'default') +\r\n      '\" id=\"layui-laypage-' +\r\n      config.index +\r\n      '\">',\r\n    (function () {\r\n      var plate = [];\r\n      layui.each(config.layout, function (index, item) {\r\n        if (views[item]) {\r\n          plate.push(views[item]);\r\n        }\r\n      });\r\n      return plate.join('');\r\n    })(),\r\n    '</div>',\r\n  ].join('');\r\n};\r\n\r\n// 跳页的回调\r\nClass.prototype.jump = function (elem, isskip) {\r\n  if (!elem) return;\r\n\r\n  var that = this;\r\n  var config = that.config;\r\n  var childs = elem.children;\r\n  var btn = elem[tag]('button')[0];\r\n  var input = elem[tag]('input')[0];\r\n  var select = elem[tag]('select')[0];\r\n  var skip = function () {\r\n    var curr = Number(input.value.replace(/\\s|\\D/g, ''));\r\n    if (curr) {\r\n      config.curr = curr;\r\n      that.render();\r\n    }\r\n  };\r\n\r\n  if (isskip) return skip();\r\n\r\n  // 页码\r\n  for (var i = 0, len = childs.length; i < len; i++) {\r\n    if (childs[i].nodeName.toLowerCase() === 'a') {\r\n      laypage.on(childs[i], 'click', function () {\r\n        var curr = Number(this.getAttribute('data-page'));\r\n        if (curr < 1 || curr > config.pages) return;\r\n        config.curr = curr;\r\n        that.render();\r\n      });\r\n    }\r\n  }\r\n\r\n  // 条数\r\n  if (select) {\r\n    laypage.on(select, 'change', function () {\r\n      var value = this.value;\r\n      if (config.curr * value > config.count) {\r\n        config.curr = Math.ceil(config.count / value);\r\n      }\r\n      config.limit = value;\r\n      that.render();\r\n    });\r\n  }\r\n\r\n  // 确定\r\n  if (btn) {\r\n    laypage.on(btn, 'click', function () {\r\n      skip();\r\n    });\r\n  }\r\n};\r\n\r\n// 输入页数字控制\r\nClass.prototype.skip = function (elem) {\r\n  if (!elem) return;\r\n\r\n  var that = this;\r\n  var input = elem[tag]('input')[0];\r\n\r\n  if (!input) return;\r\n\r\n  // 键盘事件\r\n  laypage.on(input, 'keyup', function (e) {\r\n    var value = this.value;\r\n    var keyCode = e.keyCode;\r\n\r\n    if (/^(37|38|39|40)$/.test(keyCode)) return;\r\n\r\n    if (/\\D/.test(value)) {\r\n      this.value = value.replace(/\\D/, '');\r\n    }\r\n    if (keyCode === 13) {\r\n      that.jump(elem, true);\r\n    }\r\n  });\r\n};\r\n\r\n// 渲染分页\r\nClass.prototype.render = function (load) {\r\n  var that = this;\r\n  var config = that.config;\r\n  var type = that.type();\r\n  var view = that.view();\r\n\r\n  if (type === 2) {\r\n    config.elem && (config.elem.innerHTML = view);\r\n  } else if (type === 3) {\r\n    config.elem.html(view);\r\n  } else {\r\n    if (doc[id](config.elem)) {\r\n      doc[id](config.elem).innerHTML = view;\r\n    }\r\n  }\r\n\r\n  config.jump && config.jump(config, load);\r\n\r\n  var elem = doc[id]('layui-laypage-' + config.index);\r\n  that.jump(elem);\r\n\r\n  if (config.hash && !load) {\r\n    location.hash = '!' + config.hash + '=' + config.curr;\r\n  }\r\n\r\n  that.skip(elem);\r\n};\r\n\r\n// 外部接口\r\nvar laypage = {\r\n  // 分页渲染\r\n  render: function (options) {\r\n    var o = new Class(options);\r\n    return o.index;\r\n  },\r\n  on: function (elem, even, fn) {\r\n    elem.attachEvent\r\n      ? elem.attachEvent('on' + even, function (e) {\r\n          // for ie\r\n          e.target = e.srcElement;\r\n          fn.call(elem, e);\r\n        })\r\n      : elem.addEventListener(even, fn, false);\r\n    return this;\r\n  },\r\n};\r\n\r\nexport { laypage };\r\n","/**\r\n * laydate\r\n * 日期与时间组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport { lay } from '../core/lay.js';\r\nimport { i18n } from '../core/i18n.js';\r\n\r\n// 模块名\r\nvar MOD_NAME = 'laydate';\r\nvar MOD_ID = 'lay-' + MOD_NAME + '-id'; // 已渲染过的索引标记名\r\nvar zhCN = 'zh-CN'; // 简体中文语言码\r\nvar YearBeforeMonthLocale = [\r\n  'eu-ES',\r\n  'ja-JP',\r\n  'km-KH',\r\n  'ko-KR',\r\n  'pt-BR',\r\n  'si-LK',\r\n  'ms-MY',\r\n  'ug-CN',\r\n  'zh-CN',\r\n  'zh-HK',\r\n  'zh-TW',\r\n]; // 年份在前的语言\r\n\r\nfunction addSpaceBetweenChars(str) {\r\n  if (typeof str !== 'string' || str.length <= 1) {\r\n    return str;\r\n  }\r\n\r\n  var result = '';\r\n  for (var i = 0; i < str.length - 1; i++) {\r\n    var char = str[i];\r\n    var nextChar = str[i + 1];\r\n    result += char;\r\n\r\n    // 判断当前字符和下一个字符的类型\r\n    var isCharDigit = isDigit(char);\r\n    var isNextCharDigit = isDigit(nextChar);\r\n\r\n    // 在数字和非数字（非空格）之间添加空格\r\n    if (\r\n      (isCharDigit && !isNextCharDigit && nextChar !== ' ') || // 数字 → 非数字（非空格）\r\n      (char !== ' ' && !isCharDigit && isNextCharDigit) // 非空格非数字 → 数字\r\n    ) {\r\n      result += ' ';\r\n    }\r\n  }\r\n  result += str[str.length - 1]; // 添加最后一个字符\r\n  return result;\r\n}\r\n\r\nfunction isDigit(char) {\r\n  var code = char.charCodeAt(0);\r\n  return code >= 48 && code <= 57; // '0' 到 '9' 的 ASCII 码范围\r\n}\r\n\r\n// 外部调用\r\nvar laydate = {\r\n  v: '5.7.0', // layDate 版本号\r\n  config: {\r\n    weekStart: 0, // 默认周日一周的开始\r\n  }, // 全局配置项\r\n\r\n  // 设置全局项\r\n  set: function (options) {\r\n    var that = this;\r\n    that.config = lay.extend({}, that.config, options);\r\n    return that;\r\n  },\r\n\r\n  // 主体 CSS 等待事件\r\n  ready: function (callback) {\r\n    var cssname = 'laydate';\r\n    var path = 'modules/laydate.css?v=' + laydate.v;\r\n\r\n    // 打包版直接执行回调函数\r\n    if (layui['layui.all']) {\r\n      typeof callback === 'function' && callback();\r\n    } else {\r\n      layui.addcss(path, callback, cssname);\r\n    }\r\n\r\n    return this;\r\n  },\r\n};\r\n\r\n// 操作当前实例\r\nvar thisModule = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var id = options.id;\r\n\r\n  thisModule.that[id] = that; // 记录当前实例对象\r\n\r\n  return (that.inst = {\r\n    // 提示框\r\n    hint: function (content) {\r\n      that.hint.call(that, content);\r\n    },\r\n    // 重载实例\r\n    reload: function (options) {\r\n      that.reload.call(that, options);\r\n    },\r\n    config: that.config,\r\n  });\r\n};\r\n\r\n// 字符常量\r\nvar ELEM = '.layui-laydate';\r\nvar THIS = 'layui-this';\r\nvar SHOW = 'layui-show';\r\nvar HIDE = 'layui-hide';\r\nvar DISABLED = 'laydate-disabled';\r\nvar LIMIT_YEAR = [100, 200000];\r\n\r\nvar ELEM_STATIC = 'layui-laydate-static';\r\nvar ELEM_LIST = 'layui-laydate-list';\r\nvar ELEM_SELECTED = 'laydate-selected';\r\nvar ELEM_HINT = 'layui-laydate-hint';\r\nvar ELEM_DAY_NOW = 'laydate-day-now';\r\nvar ELEM_PREV = 'laydate-day-prev';\r\nvar ELEM_NEXT = 'laydate-day-next';\r\nvar ELEM_FOOTER = 'layui-laydate-footer';\r\nvar ELEM_SHORTCUT = 'layui-laydate-shortcut';\r\nvar ELEM_NOW = '.laydate-btns-now';\r\nvar ELEM_CONFIRM = '.laydate-btns-confirm';\r\nvar ELEM_TIME_TEXT = 'laydate-time-text';\r\nvar ELEM_TIME_BTN = 'laydate-btns-time';\r\nvar ELEM_PREVIEW = 'layui-laydate-preview';\r\nvar ELEM_MAIN = 'layui-laydate-main';\r\nvar ELEM_SHADE = 'layui-laydate-shade';\r\n\r\n// 组件构造器\r\nvar Class = function (options) {\r\n  var that = this;\r\n  that.index = laydate.index = lay.autoIncrementer('laydate');\r\n  that.config = lay.extend({}, that.config, laydate.config, options);\r\n\r\n  // 若 elem 非唯一，则拆分为多个实例\r\n  var elem = lay(options.elem || that.config.elem);\r\n  if (elem.length > 1) {\r\n    lay.each(elem, function () {\r\n      laydate.render(\r\n        lay.extend({}, that.config, {\r\n          elem: this,\r\n        }),\r\n      );\r\n    });\r\n    return that;\r\n  }\r\n\r\n  // 初始化属性\r\n  options = lay.extend(that.config, lay.options(elem[0])); // 继承节点上的属性\r\n\r\n  // 更新 i18n 消息对象\r\n  that.i18nMessages = that.getI18nMessages();\r\n\r\n  // 处理日期面板顶部年月顺序\r\n  // 这是一个变通的方法，因为 i18nMessages.monthBeforeYear 不存在\r\n  if (typeof that.i18nMessages.monthBeforeYear !== 'boolean') {\r\n    if (!window.Intl) {\r\n      that.i18nMessages.monthBeforeYear = !(\r\n        YearBeforeMonthLocale.indexOf(options.lang) > -1\r\n      );\r\n    } else {\r\n      var formatter = new Intl.DateTimeFormat(options.lang, {\r\n        year: 'numeric',\r\n        month: 'short',\r\n      });\r\n      var parts = formatter.formatToParts(new Date(1970, 0));\r\n      var order = [];\r\n      parts.map(function (part) {\r\n        if (part.type === 'year' || part.type === 'month') {\r\n          order.push(part.type);\r\n        }\r\n      });\r\n      that.i18nMessages.monthBeforeYear = order[0] === 'month';\r\n    }\r\n  }\r\n\r\n  // 若重复执行 render，则视为 reload 处理\r\n  if (elem[0] && elem.attr(MOD_ID)) {\r\n    var newThat = thisModule.getThis(elem.attr(MOD_ID));\r\n    if (!newThat) return;\r\n    return newThat.reload(options);\r\n  }\r\n\r\n  // 初始化 id 属性 - 优先取 options > 元素 id > 自增索引\r\n  options.id = 'id' in options ? options.id : elem.attr('id') || that.index;\r\n\r\n  // 自增索引\r\n  options.index = that.index;\r\n\r\n  // 初始化\r\n  laydate.ready(function () {\r\n    that.init();\r\n  });\r\n};\r\n\r\n// 日期格式字符\r\nvar dateType = 'yyyy|y|MM|M|dd|d|HH|H|mm|m|ss|s';\r\n\r\n// 将日期格式字符转换为数组\r\nthisModule.formatArr = function (format) {\r\n  return (format || '').match(new RegExp(dateType + '|.', 'g')) || [];\r\n};\r\n\r\n/*\r\n  组件操作\r\n*/\r\n\r\n// 是否闰年\r\nClass.isLeapYear = function (year) {\r\n  return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\r\n};\r\n\r\n// 默认配置\r\nClass.prototype.config = {\r\n  type: 'date', // 控件类型，支持：year/month/date/time/datetime\r\n  range: false, // 是否开启范围选择，即双控件\r\n  format: 'yyyy-MM-dd', // 默认日期格式\r\n  value: null, // 默认日期，支持传入new Date()，或者符合format参数设定的日期格式字符\r\n  isInitValue: true, // 用于控制是否自动向元素填充初始值（需配合 value 参数使用）\r\n  min: '1900-1-1', // 有效最小日期，年月日必须用“-”分割，时分秒必须用“:”分割。注意：它并不是遵循 format 设定的格式。\r\n  max: '2099-12-31', // 有效最大日期，同上\r\n  trigger: 'click', // 呼出控件的事件\r\n  show: false, // 是否直接显示，如果设置 true，则默认直接显示控件\r\n  showBottom: true, // 是否显示底部栏\r\n  isPreview: true, // 是否显示值预览\r\n  btns: ['clear', 'now', 'confirm'], // 右下角显示的按钮，会按照数组顺序排列\r\n  // 为实现 lang 选项就近生效，去除此处的默认值，$t 设置了英文回退值\r\n  lang: '', // 语言，只支持 cn/en，即中文和英文\r\n  theme: 'default', // 主题\r\n  position: null, // 控件定位方式定位, 默认absolute，支持：fixed/absolute/static\r\n  calendar: false, // 是否开启公历重要节日，仅支持中文版\r\n  mark: {}, // 日期备注，如重要事件或活动标记\r\n  holidays: null, // 标注法定节假日或补假上班\r\n  zIndex: null, // 控件层叠顺序\r\n  done: null, // 控件选择完毕后的回调，点击清空/现在/确定也均会触发\r\n  change: null, // 日期时间改变后的回调\r\n  autoConfirm: true, // 是否自动确认（日期|年份|月份选择器非range下是否自动确认）\r\n  shade: 0,\r\n};\r\n\r\nClass.prototype.getI18nMessages = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var locale = i18n.config.locale;\r\n\r\n  // 纠正旧版「简体中文」语言码\r\n  if (options.lang === 'cn') {\r\n    options.lang = zhCN;\r\n  } else if (!options.lang) {\r\n    options.lang = i18n.config.locale;\r\n  }\r\n  locale = options.lang;\r\n\r\n  return {\r\n    months: i18n.$t('laydate.months', null, {\r\n      locale: locale,\r\n      default: [\r\n        'Jan',\r\n        'Feb',\r\n        'Mar',\r\n        'Apr',\r\n        'May',\r\n        'Jun',\r\n        'Jul',\r\n        'Aug',\r\n        'Sep',\r\n        'Oct',\r\n        'Nov',\r\n        'Dec',\r\n      ],\r\n    }),\r\n    weeks: i18n.$t('laydate.weeks', null, {\r\n      locale: locale,\r\n      default: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\r\n    }),\r\n    time: i18n.$t('laydate.time', null, {\r\n      locale: locale,\r\n      default: ['Hour', 'Minute', 'Second'],\r\n    }),\r\n    literal: {\r\n      year: i18n.$t('laydate.literal.year', null, {\r\n        locale: locale,\r\n        default: '',\r\n      }),\r\n    },\r\n    monthBeforeYear: i18n.$t('laydate.monthBeforeYear', null, {\r\n      locale: locale,\r\n      default: null,\r\n    }),\r\n    selectDate: i18n.$t('laydate.selectDate', null, {\r\n      locale: locale,\r\n      default: 'Select Date',\r\n    }),\r\n    selectTime: i18n.$t('laydate.selectTime', null, {\r\n      locale: locale,\r\n      default: 'Select Time',\r\n    }),\r\n    startTime: i18n.$t('laydate.startTime', null, {\r\n      locale: locale,\r\n      default: 'Start Time',\r\n    }),\r\n    endTime: i18n.$t('laydate.endTime', null, {\r\n      locale: locale,\r\n      default: 'End Time',\r\n    }),\r\n    tools: {\r\n      confirm: i18n.$t('laydate.tools.confirm', null, {\r\n        locale: locale,\r\n        default: 'Confirm',\r\n      }),\r\n      clear: i18n.$t('laydate.tools.clear', null, {\r\n        locale: locale,\r\n        default: 'Clear',\r\n      }),\r\n      now: i18n.$t('laydate.tools.now', null, {\r\n        locale: locale,\r\n        default: 'Now',\r\n      }),\r\n      reset: i18n.$t('laydate.tools.reset', null, {\r\n        locale: locale,\r\n        default: 'Reset',\r\n      }),\r\n    },\r\n    rangeOrderPrompt: i18n.$t('laydate.rangeOrderPrompt', null, {\r\n      locale: locale,\r\n      default: 'End time cannot be less than start Time\\nPlease re-select',\r\n    }),\r\n    invalidDatePrompt: i18n.$t('laydate.invalidDatePrompt', null, {\r\n      locale: locale,\r\n      default: 'Invalid date\\n',\r\n    }),\r\n    formatErrorPrompt: function (format) {\r\n      return i18n.$t(\r\n        'laydate.formatErrorPrompt',\r\n        { format: format },\r\n        {\r\n          locale: locale,\r\n          default:\r\n            'Date format is invalid\\nMust follow the format:\\n{format}\\n',\r\n        },\r\n      );\r\n    },\r\n    autoResetPrompt: i18n.$t('laydate.autoResetPrompt', null, {\r\n      locale: locale,\r\n      default: 'It has been reset',\r\n    }),\r\n    preview: i18n.$t('laydate.preview', null, {\r\n      locale: locale,\r\n      default: 'The selected result',\r\n    }),\r\n  };\r\n};\r\n\r\n// 仅简体中文生效，不做国际化\r\nClass.prototype.markerOfChineseFestivals = {\r\n  '0-1-1': '元旦',\r\n  '0-2-14': '情人',\r\n  '0-3-8': '妇女',\r\n  '0-3-12': '植树',\r\n  '0-4-1': '愚人',\r\n  '0-5-1': '劳动',\r\n  '0-5-4': '青年',\r\n  '0-6-1': '儿童',\r\n  '0-9-10': '教师',\r\n  '0-10-1': '国庆',\r\n  '0-12-25': '圣诞',\r\n};\r\n\r\n// 重载实例\r\nClass.prototype.reload = function (options) {\r\n  var that = this;\r\n  that.config = lay.extend({}, that.config, options);\r\n  that.init();\r\n};\r\n\r\n//初始准备\r\nClass.prototype.init = function () {\r\n  var that = this,\r\n    options = that.config,\r\n    isStatic = options.position === 'static',\r\n    format = {\r\n      year: 'yyyy',\r\n      month: 'yyyy-MM',\r\n      date: 'yyyy-MM-dd',\r\n      time: 'HH:mm:ss',\r\n      datetime: 'yyyy-MM-dd HH:mm:ss',\r\n    };\r\n\r\n  options.elem = lay(options.elem);\r\n  options.eventElem = lay(options.eventElem);\r\n\r\n  if (!options.elem[0]) return;\r\n\r\n  layui.type(options.theme) !== 'array' && (options.theme = [options.theme]);\r\n  // 设置了全面版模式\r\n  if (options.fullPanel) {\r\n    if (options.type !== 'datetime' || options.range) {\r\n      // 目前只支持datetime的全面版\r\n      delete options.fullPanel;\r\n    }\r\n  }\r\n\r\n  //日期范围分隔符\r\n  that.rangeStr = options.range\r\n    ? typeof options.range === 'string'\r\n      ? options.range\r\n      : '-'\r\n    : '';\r\n\r\n  //日期范围的日历面板是否联动\r\n  that.rangeLinked = !!(\r\n    options.range &&\r\n    options.rangeLinked &&\r\n    (options.type === 'date' || options.type === 'datetime')\r\n  );\r\n\r\n  //切换日历联动方式\r\n  that.autoCalendarModel = function () {\r\n    var state = that.rangeLinked;\r\n    that.rangeLinked =\r\n      options.range &&\r\n      (options.type === 'date' || options.type === 'datetime') &&\r\n      (!that.startDate ||\r\n        !that.endDate ||\r\n        (that.startDate &&\r\n          that.endDate &&\r\n          that.startDate.year === that.endDate.year &&\r\n          that.startDate.month === that.endDate.month));\r\n    lay(that.elem)[that.rangeLinked ? 'addClass' : 'removeClass'](\r\n      'layui-laydate-linkage',\r\n    );\r\n    return that.rangeLinked != state; // 返回发生了变化\r\n  };\r\n\r\n  //是否自动切换\r\n  that.autoCalendarModel.auto =\r\n    that.rangeLinked && options.rangeLinked === 'auto';\r\n\r\n  //若 range 参数为数组，则表示为开始日期和结束日期的 input 对象\r\n  if (layui.type(options.range) === 'array') {\r\n    that.rangeElem = [lay(options.range[0]), lay(options.range[1])];\r\n  }\r\n\r\n  //若 type 设置非法，则初始化为 date 类型\r\n  if (!format[options.type]) {\r\n    window.console &&\r\n      console.error &&\r\n      console.error(\r\n        \"laydate type error:'\" + options.type + \"' is not supported\",\r\n      );\r\n    options.type = 'date';\r\n  }\r\n\r\n  //根据不同 type，初始化默认 format\r\n  if (options.format === format.date) {\r\n    options.format = format[options.type] || format.date;\r\n  }\r\n\r\n  //将日期格式转化成数组\r\n  that.format = thisModule.formatArr(options.format);\r\n\r\n  // 设置了一周的开始是周几，此处做一个控制\r\n  if (options.weekStart) {\r\n    if (!/^[0-6]$/.test(options.weekStart)) {\r\n      var lang = that.i18nMessages;\r\n      options.weekStart = lang.weeks.indexOf(options.weekStart);\r\n      if (options.weekStart === -1) options.weekStart = 0;\r\n    }\r\n  }\r\n\r\n  //生成正则表达式\r\n  that.EXP_IF = '';\r\n  that.EXP_SPLIT = '';\r\n  lay.each(that.format, function (i, item) {\r\n    var EXP = new RegExp(dateType).test(item)\r\n      ? '\\\\d{' +\r\n        (function () {\r\n          if (\r\n            new RegExp(dateType).test(\r\n              that.format[i === 0 ? i + 1 : i - 1] || '',\r\n            )\r\n          ) {\r\n            if (/^yyyy|y$/.test(item)) return 4;\r\n            return item.length;\r\n          }\r\n          if (/^yyyy$/.test(item)) return '1,4';\r\n          if (/^y$/.test(item)) return '1,308';\r\n          return '1,2';\r\n        })() +\r\n        '}'\r\n      : '\\\\' + item;\r\n    that.EXP_IF = that.EXP_IF + EXP;\r\n    that.EXP_SPLIT = that.EXP_SPLIT + '(' + EXP + ')';\r\n  });\r\n  //验证日期格式正则\r\n  that.EXP_IF_ONE = new RegExp('^' + that.EXP_IF + '$'); //验证单个日期格式\r\n  that.EXP_IF = new RegExp(\r\n    '^' +\r\n      (options.range\r\n        ? that.EXP_IF + '\\\\s\\\\' + that.rangeStr + '\\\\s' + that.EXP_IF\r\n        : that.EXP_IF) +\r\n      '$',\r\n  );\r\n  that.EXP_SPLIT = new RegExp('^' + that.EXP_SPLIT + '$', '');\r\n\r\n  //如果不是 input|textarea 元素，则默认采用 click 事件\r\n  if (!that.isInput(options.elem[0])) {\r\n    if (options.trigger === 'focus') {\r\n      options.trigger = 'click';\r\n    }\r\n  }\r\n\r\n  // 设置唯一 KEY\r\n  options.elem.attr('lay-key', that.index);\r\n  options.eventElem.attr('lay-key', that.index);\r\n  options.elem.attr(MOD_ID, options.id); // 渲染过的标记\r\n\r\n  //获取限制内日期\r\n  lay.each(['min', 'max'], function (i, item) {\r\n    var ymd = [];\r\n    var hms = [];\r\n    if (typeof options[item] === 'number') {\r\n      //如果为数字\r\n      var day = options[item],\r\n        tDate = new Date(),\r\n        time = that\r\n          .newDate({\r\n            //今天的最大毫秒数\r\n            year: tDate.getFullYear(),\r\n            month: tDate.getMonth(),\r\n            date: tDate.getDate(),\r\n            hours: i ? 23 : 0,\r\n            minutes: i ? 59 : 0,\r\n            seconds: i ? 59 : 0,\r\n          })\r\n          .getTime(),\r\n        STAMP = 86400000, //代表一天的毫秒数\r\n        thisDate = new Date(\r\n          day\r\n            ? day < STAMP\r\n              ? time + day * STAMP\r\n              : day //如果数字小于一天的毫秒数，则数字为天数，否则为毫秒数\r\n            : time,\r\n        );\r\n      ymd = [\r\n        thisDate.getFullYear(),\r\n        thisDate.getMonth() + 1,\r\n        thisDate.getDate(),\r\n      ];\r\n      hms = [thisDate.getHours(), thisDate.getMinutes(), thisDate.getSeconds()];\r\n    } else if (typeof options[item] === 'string') {\r\n      ymd = (options[item].match(/\\d+-\\d+-\\d+/) || [''])[0].split('-');\r\n      hms = (options[item].match(/\\d+:\\d+:\\d+/) || [''])[0].split(':');\r\n    } else if (typeof options[item] === 'object') {\r\n      return options[item];\r\n    }\r\n    options[item] = {\r\n      year: ymd[0] | 0 || new Date().getFullYear(),\r\n      month: ymd[1] ? (ymd[1] | 0) - 1 : new Date().getMonth(),\r\n      date: ymd[2] | 0 || new Date().getDate(),\r\n      hours: hms[0] | 0,\r\n      minutes: hms[1] | 0,\r\n      seconds: hms[2] | 0,\r\n    };\r\n  });\r\n\r\n  that.elemID = 'layui-laydate' + options.elem.attr('lay-key');\r\n\r\n  if (options.show || isStatic) that.render();\r\n  isStatic || that.events();\r\n\r\n  // 重定义 input 元素的 get set\r\n  if (typeof options.formatToDisplay === 'function') {\r\n    if (that.isInput(options.elem[0])) {\r\n      that.formatToDisplay(options.elem[0], options.formatToDisplay);\r\n    } else {\r\n      var rangeElem = that.rangeElem;\r\n      if (rangeElem) {\r\n        that.formatToDisplay(rangeElem[0][0], options.formatToDisplay);\r\n        that.formatToDisplay(rangeElem[1][0], options.formatToDisplay);\r\n      }\r\n    }\r\n  }\r\n\r\n  //默认赋值\r\n  if (options.value && options.isInitValue) {\r\n    if (layui.type(options.value) === 'date') {\r\n      that.setValue(that.parse(0, that.systemDate(options.value)));\r\n    } else {\r\n      that.setValue(options.value);\r\n    }\r\n  }\r\n};\r\n\r\n//控件主体渲染\r\nClass.prototype.render = function () {\r\n  var that = this,\r\n    options = that.config,\r\n    lang = that.i18nMessages,\r\n    isStatic = options.position === 'static',\r\n    //主面板\r\n    elem = (that.elem = lay.elem('div', {\r\n      id: that.elemID,\r\n      class: [\r\n        'layui-laydate',\r\n        options.range ? ' layui-laydate-range' : '',\r\n        that.rangeLinked ? ' layui-laydate-linkage' : '',\r\n        isStatic ? ' ' + ELEM_STATIC : '',\r\n        options.fullPanel ? ' laydate-theme-fullpanel' : '', // 全面版\r\n        // ,options.theme && options.theme !== 'default' && !/^#/.test(options.theme) ? (' laydate-theme-' + options.theme) : ''\r\n        (function () {\r\n          var themeStr = '';\r\n          lay.each(options.theme, function (index, theme) {\r\n            if (theme !== 'default' && !/^#/.test(theme)) {\r\n              themeStr += ' laydate-theme-' + theme;\r\n            }\r\n          });\r\n          return themeStr;\r\n        })(),\r\n      ].join(''),\r\n    })),\r\n    //主区域\r\n    elemMain = (that.elemMain = []),\r\n    elemHeader = (that.elemHeader = []),\r\n    elemCont = (that.elemCont = []),\r\n    elemTable = (that.table = []),\r\n    //底部区域\r\n    divFooter = (that.footer = lay.elem('div', {\r\n      class: ELEM_FOOTER,\r\n    })),\r\n    //快捷栏\r\n    divShortcut = (that.shortcut = lay.elem('ul', {\r\n      class: ELEM_SHORTCUT,\r\n    }));\r\n\r\n  if (options.zIndex) elem.style.zIndex = options.zIndex;\r\n\r\n  //单双日历区域\r\n  lay.each(new Array(2), function (i) {\r\n    if (!options.range && i > 0) {\r\n      return true;\r\n    }\r\n\r\n    //头部区域\r\n    var divHeader = lay.elem('div', {\r\n        class: 'layui-laydate-header',\r\n      }),\r\n      //左右切换\r\n      headerChild = [\r\n        (function () {\r\n          //上一年\r\n          var elem = lay.elem('i', {\r\n            class: 'layui-icon laydate-icon laydate-prev-y',\r\n          });\r\n          elem.innerHTML = '&#xe65a;';\r\n          return elem;\r\n        })(),\r\n        (function () {\r\n          //上一月\r\n          var elem = lay.elem('i', {\r\n            class: 'layui-icon laydate-icon laydate-prev-m',\r\n          });\r\n          elem.innerHTML = '&#xe603;';\r\n          return elem;\r\n        })(),\r\n        (function () {\r\n          //年月选择\r\n          var elem = lay.elem('div', {\r\n            class: 'laydate-set-ym',\r\n          });\r\n          elem.appendChild(lay.elem('span'));\r\n          elem.appendChild(lay.elem('span'));\r\n          return elem;\r\n        })(),\r\n        (function () {\r\n          //下一月\r\n          var elem = lay.elem('i', {\r\n            class: 'layui-icon laydate-icon laydate-next-m',\r\n          });\r\n          elem.innerHTML = '&#xe602;';\r\n          return elem;\r\n        })(),\r\n        (function () {\r\n          //下一年\r\n          var elem = lay.elem('i', {\r\n            class: 'layui-icon laydate-icon laydate-next-y',\r\n          });\r\n          elem.innerHTML = '&#xe65b;';\r\n          return elem;\r\n        })(),\r\n      ],\r\n      //日历内容区域\r\n      divContent = lay.elem('div', {\r\n        class: 'layui-laydate-content',\r\n      }),\r\n      table = lay.elem('table'),\r\n      thead = lay.elem('thead'),\r\n      theadTr = lay.elem('tr');\r\n\r\n    //生成年月选择\r\n    lay.each(headerChild, function (i, item) {\r\n      divHeader.appendChild(item);\r\n    });\r\n\r\n    //生成表格\r\n    thead.appendChild(theadTr);\r\n    lay.each(new Array(6), function (i) {\r\n      //表体\r\n      var tr = table.insertRow(0);\r\n      lay.each(new Array(7), function (j) {\r\n        if (i === 0) {\r\n          var th = lay.elem('th');\r\n          th.innerHTML = lang.weeks[(j + options.weekStart) % 7];\r\n          theadTr.appendChild(th);\r\n        }\r\n        tr.insertCell(j);\r\n      });\r\n    });\r\n    table.insertBefore(thead, table.children[0]); //表头\r\n    divContent.appendChild(table);\r\n\r\n    elemMain[i] = lay.elem('div', {\r\n      class: ELEM_MAIN + ' laydate-main-list-' + i,\r\n    });\r\n\r\n    elemMain[i].appendChild(divHeader);\r\n    elemMain[i].appendChild(divContent);\r\n\r\n    elemHeader.push(headerChild);\r\n    elemCont.push(divContent);\r\n    elemTable.push(table);\r\n  });\r\n\r\n  //生成底部栏\r\n  lay(divFooter).html(\r\n    (function () {\r\n      var html = [],\r\n        btns = [];\r\n      if (options.type === 'datetime') {\r\n        html.push(\r\n          '<span lay-type=\"datetime\" class=\"' +\r\n            ELEM_TIME_BTN +\r\n            '\">' +\r\n            lang.selectTime +\r\n            '</span>',\r\n        );\r\n      }\r\n      if (\r\n        !(!options.range && options.type === 'datetime') ||\r\n        options.fullPanel\r\n      ) {\r\n        html.push(\r\n          '<span class=\"' +\r\n            ELEM_PREVIEW +\r\n            '\" title=\"' +\r\n            lang.preview +\r\n            '\"></span>',\r\n        );\r\n      }\r\n\r\n      lay.each(options.btns, function (i, item) {\r\n        var title = lang.tools[item] || 'btn';\r\n        if (options.range && item === 'now') return;\r\n        if (isStatic && item === 'clear') {\r\n          title = lang.tools.reset;\r\n        }\r\n        btns.push(\r\n          '<span lay-type=\"' +\r\n            item +\r\n            '\" class=\"laydate-btns-' +\r\n            item +\r\n            '\">' +\r\n            title +\r\n            '</span>',\r\n        );\r\n      });\r\n      html.push('<div class=\"laydate-footer-btns\">' + btns.join('') + '</div>');\r\n      return html.join('');\r\n    })(),\r\n  );\r\n\r\n  // 生成快捷键栏\r\n  if (options.shortcuts) {\r\n    elem.appendChild(divShortcut);\r\n    lay(divShortcut)\r\n      .html(\r\n        (function () {\r\n          var shortcutBtns = [];\r\n          lay.each(options.shortcuts, function (i, item) {\r\n            shortcutBtns.push(\r\n              '<li data-index=\"' + i + '\">' + item.text + '</li>',\r\n            );\r\n          });\r\n          return shortcutBtns.join('');\r\n        })(),\r\n      )\r\n      .find('li')\r\n      .on('click', function (event) {\r\n        var btnSetting = options.shortcuts[this.dataset['index']] || {};\r\n        var value =\r\n          (typeof btnSetting.value === 'function'\r\n            ? btnSetting.value()\r\n            : btnSetting.value) || [];\r\n        if (!layui.isArray(value)) {\r\n          value = [value];\r\n        }\r\n        var type = options.type;\r\n        lay.each(value, function (i, item) {\r\n          var dateTime = [options.dateTime, that.endDate][i];\r\n          if (type === 'time' && layui.type(item) !== 'date') {\r\n            if (that.EXP_IF.test(item)) {\r\n              item = (item.match(that.EXP_SPLIT) || []).slice(1);\r\n              lay.extend(dateTime, {\r\n                hours: item[0] | 0,\r\n                minutes: item[2] | 0,\r\n                seconds: item[4] | 0,\r\n              });\r\n            }\r\n          } else {\r\n            lay.extend(\r\n              dateTime,\r\n              that.systemDate(\r\n                layui.type(item) === 'date' ? item : new Date(item),\r\n              ),\r\n            );\r\n          }\r\n\r\n          if (type === 'time' || type === 'datetime') {\r\n            that[['startTime', 'endTime'][i]] = {\r\n              hours: dateTime.hours,\r\n              minutes: dateTime.minutes,\r\n              seconds: dateTime.seconds,\r\n            };\r\n          }\r\n          if (i === 0) {\r\n            // 第一个值作为startDate\r\n            that.startDate = lay.extend({}, dateTime);\r\n          } else {\r\n            that.endState = true;\r\n          }\r\n          if (type === 'year' || type === 'month' || type === 'time') {\r\n            that.listYM[i] = [dateTime.year, dateTime.month + 1];\r\n          } else if (i) {\r\n            that.autoCalendarModel.auto && that.autoCalendarModel();\r\n          }\r\n        });\r\n        that.checkDate('limit').calendar(null, null, 'init');\r\n\r\n        var timeBtn = lay(that.footer)\r\n          .find('.' + ELEM_TIME_BTN)\r\n          .removeClass(DISABLED);\r\n        timeBtn && timeBtn.attr('lay-type') === 'date' && timeBtn[0].click();\r\n        that.done(null, 'change');\r\n\r\n        lay(this).addClass(THIS);\r\n\r\n        // 自动确认\r\n        if (options.position !== 'static') {\r\n          that.setValue(that.parse()).done().remove();\r\n        }\r\n        /*\r\n      if (options.position !== 'static' && !options.range && options.autoConfirm) {\r\n        if (type === 'date') {\r\n          that.choose(lay(elem).find('td.layui-this'))\r\n        } else if (type === 'year' || type === 'month') {\r\n          if(lay(elemMain[0]).find('.' + ELEM_MAIN + ' li.' + THIS + ':not(.laydate-disabled)')[0]) {\r\n            that.setValue(that.parse()).done().remove();\r\n          }\r\n        }\r\n      }\r\n      */\r\n      });\r\n  }\r\n\r\n  //插入到主区域\r\n  lay.each(elemMain, function (i, main) {\r\n    elem.appendChild(main);\r\n  });\r\n  options.showBottom && elem.appendChild(divFooter);\r\n\r\n  // 生成自定义主题\r\n  var style = lay.elem('style');\r\n  var styleText = [];\r\n  var colorTheme;\r\n  var isPrimaryColor = true;\r\n  lay.each(options.theme, function (index, theme) {\r\n    // 主色\r\n    if (isPrimaryColor && /^#/.test(theme)) {\r\n      colorTheme = true;\r\n      isPrimaryColor = false;\r\n      styleText.push(\r\n        [\r\n          '#{{id}} .layui-laydate-header{background-color:{{theme}};}',\r\n          '#{{id}} li.layui-this,#{{id}} td.layui-this>div{background-color:{{theme}} !important;}',\r\n          options.theme.indexOf('circle') !== -1\r\n            ? ''\r\n            : '#{{id}} .layui-this{background-color:{{theme}} !important;}',\r\n          '#{{id}} .laydate-day-now{color:{{theme}} !important;}',\r\n          '#{{id}} .laydate-day-now:after{border-color:{{theme}} !important;}',\r\n        ]\r\n          .join('')\r\n          .replace(/{{id}}/g, that.elemID)\r\n          .replace(/{{theme}}/g, theme),\r\n      );\r\n      return;\r\n    }\r\n    // 第二个自定义颜色作为辅色\r\n    if (!isPrimaryColor && /^#/.test(theme)) {\r\n      styleText.push(\r\n        [\r\n          '#{{id}} .laydate-selected>div{background-color:{{theme}} !important;}',\r\n          '#{{id}} .laydate-selected:hover>div{background-color:{{theme}} !important;}',\r\n        ]\r\n          .join('')\r\n          .replace(/{{id}}/g, that.elemID)\r\n          .replace(/{{theme}}/g, theme),\r\n      );\r\n    }\r\n  });\r\n  //快捷栏样式\r\n  if (options.shortcuts && options.range) {\r\n    styleText.push(\r\n      '#{{id}}.layui-laydate-range{width: 628px;}'.replace(\r\n        /{{id}}/g,\r\n        that.elemID,\r\n      ),\r\n    );\r\n  }\r\n  if (styleText.length) {\r\n    styleText = styleText.join('');\r\n    if ('styleSheet' in style) {\r\n      style.setAttribute('type', 'text/css');\r\n      style.styleSheet.cssText = styleText;\r\n    } else {\r\n      style.innerHTML = styleText;\r\n    }\r\n\r\n    colorTheme && lay(elem).addClass('laydate-theme-molv');\r\n    elem.appendChild(style);\r\n  }\r\n\r\n  //移除上一个控件\r\n  that.remove(Class.thisElemDate);\r\n\r\n  //记录当前执行的实例索引\r\n  laydate.thisId = options.id;\r\n\r\n  //如果是静态定位，则插入到指定的容器中，否则，插入到body\r\n  isStatic\r\n    ? options.elem.append(elem)\r\n    : (document.body.appendChild(elem), that.position()); //定位\r\n\r\n  var shade = options.shade\r\n    ? '<div class=\"' +\r\n      ELEM_SHADE +\r\n      '\" style=\"' +\r\n      ('z-index:' +\r\n        (parseInt(layui.getStyle(elem, 'z-index')) - 1) +\r\n        '; background-color: ' +\r\n        (options.shade[1] || '#000') +\r\n        '; opacity: ' +\r\n        (options.shade[0] || options.shade)) +\r\n      '\"></div>'\r\n    : '';\r\n  elem.insertAdjacentHTML('beforebegin', shade);\r\n\r\n  that.checkDate().calendar(null, 0, 'init'); //初始校验\r\n  that.changeEvent(); //日期切换\r\n\r\n  Class.thisElemDate = that.elemID;\r\n\r\n  that.renderAdditional();\r\n  typeof options.ready === 'function' &&\r\n    options.ready(\r\n      lay.extend({}, options.dateTime, {\r\n        month: options.dateTime.month + 1,\r\n      }),\r\n    );\r\n\r\n  that.preview();\r\n};\r\n\r\n//控件移除\r\nClass.prototype.remove = function (prev) {\r\n  var that = this,\r\n    options = that.config,\r\n    elem = lay('#' + (prev || that.elemID));\r\n  if (!elem[0]) return that;\r\n\r\n  if (!elem.hasClass(ELEM_STATIC)) {\r\n    that.checkDate(function () {\r\n      elem.remove();\r\n      //delete options.dateTime;\r\n      delete that.startDate;\r\n      delete that.endDate;\r\n      delete that.endState;\r\n      delete that.startTime;\r\n      delete that.endTime;\r\n      delete laydate.thisId;\r\n      typeof options.close === 'function' && options.close(that);\r\n    });\r\n  }\r\n  lay('.' + ELEM_SHADE).remove();\r\n  return that;\r\n};\r\n\r\n//定位算法\r\nClass.prototype.position = function () {\r\n  var that = this,\r\n    options = that.config;\r\n  lay.position(options.elem[0], that.elem, {\r\n    position: options.position,\r\n  });\r\n  return that;\r\n};\r\n\r\n// 提示\r\nClass.prototype.hint = function (opts) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var div = lay.elem('div', {\r\n    class: ELEM_HINT,\r\n  });\r\n\r\n  if (!that.elem) return;\r\n\r\n  // 兼容旧版参数\r\n  if (typeof opts === 'object') {\r\n    opts = opts || {};\r\n  } else {\r\n    opts = {\r\n      content: opts,\r\n    };\r\n  }\r\n\r\n  div.innerHTML = opts.content || '';\r\n  lay(that.elem)\r\n    .find('.' + ELEM_HINT)\r\n    .remove();\r\n  that.elem.appendChild(div);\r\n\r\n  clearTimeout(that.hinTimer);\r\n  that.hinTimer = setTimeout(\r\n    function () {\r\n      lay(that.elem)\r\n        .find('.' + ELEM_HINT)\r\n        .remove();\r\n    },\r\n    'ms' in opts ? opts.ms : 3000,\r\n  );\r\n};\r\n\r\n//获取递增/减后的年月\r\nClass.prototype.getAsYM = function (Y, M, type) {\r\n  type ? M-- : M++;\r\n  if (M < 0) {\r\n    M = 11;\r\n    Y--;\r\n  }\r\n  if (M > 11) {\r\n    M = 0;\r\n    Y++;\r\n  }\r\n  return [Y, M];\r\n};\r\n\r\n//系统日期\r\nClass.prototype.systemDate = function (newDate) {\r\n  var thisDate = newDate || new Date();\r\n  return {\r\n    year: thisDate.getFullYear(), //年\r\n    month: thisDate.getMonth(), //月\r\n    date: thisDate.getDate(), //日\r\n    hours: newDate ? newDate.getHours() : 0, //时\r\n    minutes: newDate ? newDate.getMinutes() : 0, //分\r\n    seconds: newDate ? newDate.getSeconds() : 0, //秒\r\n  };\r\n};\r\n\r\n//日期校验\r\nClass.prototype.checkDate = function (fn) {\r\n  var that = this,\r\n    thisDate = new Date(),\r\n    options = that.config,\r\n    lang = that.i18nMessages,\r\n    dateTime = (options.dateTime = options.dateTime || that.systemDate()),\r\n    thisMaxDate,\r\n    error,\r\n    elem = options.elem[0],\r\n    valType = that.isInput(elem) ? 'val' : 'html',\r\n    value = (function () {\r\n      //如果传入了开始和结束日期的 input 对象，则将其拼接为日期范围字符\r\n      if (that.rangeElem) {\r\n        var vals = [that.rangeElem[0].val(), that.rangeElem[1].val()];\r\n\r\n        if (vals[0] && vals[1]) {\r\n          return vals.join(' ' + that.rangeStr + ' ');\r\n        }\r\n      }\r\n      return that.isInput(elem)\r\n        ? elem.value\r\n        : options.position === 'static'\r\n          ? ''\r\n          : lay(elem).attr('lay-date');\r\n    })(),\r\n    //校验日期有效数字\r\n    checkValid = function (dateTime) {\r\n      if (!dateTime) {\r\n        return;\r\n      }\r\n      if (dateTime.year > LIMIT_YEAR[1])\r\n        ((dateTime.year = LIMIT_YEAR[1]), (error = true)); //不能超过20万年\r\n      if (dateTime.month > 11) ((dateTime.month = 11), (error = true));\r\n      if (dateTime.seconds > 59)\r\n        ((dateTime.seconds = 0), dateTime.minutes++, (error = true));\r\n      if (dateTime.minutes > 59)\r\n        ((dateTime.minutes = 0), dateTime.hours++, (error = true));\r\n      if (dateTime.hours > 23) ((dateTime.hours = 0), (error = true));\r\n\r\n      //计算当前月的最后一天\r\n      thisMaxDate = laydate.getEndDate(dateTime.month + 1, dateTime.year);\r\n      if (dateTime.date > thisMaxDate)\r\n        ((dateTime.date = thisMaxDate), (error = true));\r\n    },\r\n    //获得初始化日期值\r\n    initDate = function (dateTime, value, index) {\r\n      var startEnd = ['startTime', 'endTime'];\r\n      value = (value.match(that.EXP_SPLIT) || []).slice(1);\r\n      index = index || 0;\r\n\r\n      if (options.range) {\r\n        that[startEnd[index]] = that[startEnd[index]] || {};\r\n      }\r\n      lay.each(that.format, function (i, item) {\r\n        var thisv = parseFloat(value[i]);\r\n        if (value[i].length < item.length) error = true;\r\n        if (/yyyy|y/.test(item)) {\r\n          //年\r\n          if (thisv < LIMIT_YEAR[0]) ((thisv = LIMIT_YEAR[0]), (error = true)); //年不能低于100年\r\n          dateTime.year = thisv;\r\n        } else if (/MM|M/.test(item)) {\r\n          //月\r\n          if (thisv < 1) ((thisv = 1), (error = true));\r\n          dateTime.month = thisv - 1;\r\n        } else if (/dd|d/.test(item)) {\r\n          //日\r\n          if (thisv < 1) ((thisv = 1), (error = true));\r\n          dateTime.date = thisv;\r\n        } else if (/HH|H/.test(item)) {\r\n          //时\r\n          if (thisv < 0) ((thisv = 0), (error = true));\r\n          if (thisv > 23) ((thisv = 23), (error = true));\r\n          dateTime.hours = thisv;\r\n          options.range && (that[startEnd[index]].hours = thisv);\r\n        } else if (/mm|m/.test(item)) {\r\n          //分\r\n          if (thisv < 0) ((thisv = 0), (error = true));\r\n          if (thisv > 59) ((thisv = 59), (error = true));\r\n          dateTime.minutes = thisv;\r\n          options.range && (that[startEnd[index]].minutes = thisv);\r\n        } else if (/ss|s/.test(item)) {\r\n          //秒\r\n          if (thisv < 0) ((thisv = 0), (error = true));\r\n          if (thisv > 59) ((thisv = 59), (error = true));\r\n          dateTime.seconds = thisv;\r\n          options.range && (that[startEnd[index]].seconds = thisv);\r\n        }\r\n      });\r\n      checkValid(dateTime);\r\n    };\r\n\r\n  if (fn === 'limit') {\r\n    if (options.range) {\r\n      checkValid(that.rangeLinked ? that.startDate : dateTime); // 校验开始时间\r\n      that.endDate && checkValid(that.endDate); // 校验结束时间\r\n    } else {\r\n      checkValid(dateTime);\r\n    }\r\n    return that;\r\n  }\r\n\r\n  value = value || options.value;\r\n  if (typeof value === 'string') {\r\n    value = value.replace(/\\s+/g, ' ').replace(/^\\s|\\s$/g, '');\r\n  }\r\n\r\n  //如果开启范围，则计算结束日期\r\n  var getEndDate = function () {\r\n    if (options.range) {\r\n      that.endDate =\r\n        that.endDate ||\r\n        lay.extend(\r\n          {},\r\n          options.dateTime,\r\n          (function () {\r\n            var obj = {},\r\n              dateTime = options.dateTime,\r\n              EYM = that.getAsYM(dateTime.year, dateTime.month);\r\n\r\n            //初始右侧面板的年月\r\n            if (options.type === 'year') {\r\n              obj.year = dateTime.year + 1;\r\n            } else if (options.type !== 'time') {\r\n              obj.year = EYM[0];\r\n              obj.month = EYM[1];\r\n            }\r\n\r\n            //初始右侧面板的时间\r\n            if (options.type === 'datetime' || options.type === 'time') {\r\n              obj.hours = 23;\r\n              obj.minutes = obj.seconds = 59;\r\n            }\r\n\r\n            return obj;\r\n          })(),\r\n        );\r\n    }\r\n  };\r\n  getEndDate();\r\n\r\n  if (typeof value === 'string' && value) {\r\n    if (that.EXP_IF.test(value)) {\r\n      //校验日期格式\r\n      if (options.range) {\r\n        value = value.split(' ' + that.rangeStr + ' ');\r\n        lay.each([options.dateTime, that.endDate], function (i, item) {\r\n          initDate(item, value[i], i);\r\n        });\r\n      } else {\r\n        initDate(dateTime, value);\r\n      }\r\n    } else {\r\n      //格式不合法\r\n      that.hint(\r\n        lang.formatErrorPrompt(\r\n          options.range\r\n            ? options.format + ' ' + that.rangeStr + ' ' + options.format\r\n            : options.format,\r\n        ) + lang.autoResetPrompt,\r\n      );\r\n      error = true;\r\n    }\r\n  } else if (value && layui.type(value) === 'date') {\r\n    //若值为日期对象\r\n    options.dateTime = that.systemDate(value);\r\n  } else {\r\n    //重置开始日期\r\n    options.dateTime = that.systemDate();\r\n    delete that.startTime;\r\n\r\n    //重置结束日期\r\n    delete that.endDate; //删除原有的结束日期\r\n    getEndDate(); //并重新获得新的结束日期\r\n    delete that.endTime;\r\n  }\r\n\r\n  //从日期范围表单中获取初始值\r\n  (function () {\r\n    if (that.rangeElem) {\r\n      var vals = [that.rangeElem[0].val(), that.rangeElem[1].val()],\r\n        arrDate = [options.dateTime, that.endDate];\r\n      lay.each(vals, function (_i, _v) {\r\n        if (that.EXP_IF_ONE.test(_v)) {\r\n          //校验日期格式\r\n          initDate(arrDate[_i], _v, _i);\r\n        }\r\n      });\r\n    }\r\n  })();\r\n\r\n  // 校验日期有效数字\r\n  checkValid(dateTime);\r\n  if (options.range) checkValid(that.endDate);\r\n\r\n  // 如果初始值格式错误，则纠正初始值\r\n  if (error && value) {\r\n    that.setValue(\r\n      options.range ? (that.endDate ? that.parse() : '') : that.parse(),\r\n    );\r\n  }\r\n\r\n  //如果当前日期不在设定的最大小日期区间，则自动纠正在可选区域\r\n  //校验主面板是否在可选日期区间\r\n  var minMaxError;\r\n  if (that.getDateTime(dateTime) > that.getDateTime(options.max)) {\r\n    //若超出最大日期\r\n    dateTime = options.dateTime = lay.extend({}, options.max);\r\n    minMaxError = true;\r\n  } else if (that.getDateTime(dateTime) < that.getDateTime(options.min)) {\r\n    //若少于最小日期\r\n    dateTime = options.dateTime = lay.extend({}, options.min);\r\n    minMaxError = true;\r\n  }\r\n\r\n  //校验右侧面板是否在可选日期区间\r\n  if (options.range) {\r\n    if (\r\n      that.getDateTime(that.endDate) < that.getDateTime(options.min) ||\r\n      that.getDateTime(that.endDate) > that.getDateTime(options.max)\r\n    ) {\r\n      that.endDate = lay.extend({}, options.max);\r\n      minMaxError = true;\r\n    }\r\n    // 有时间范围的情况下初始化startTime和endTime\r\n    that.startTime = {\r\n      hours: options.dateTime.hours,\r\n      minutes: options.dateTime.minutes,\r\n      seconds: options.dateTime.seconds,\r\n    };\r\n    that.endTime = {\r\n      hours: that.endDate.hours,\r\n      minutes: that.endDate.minutes,\r\n      seconds: that.endDate.seconds,\r\n    };\r\n    // 如果是年月范围，将对应的日期统一成当月的1日进行比较，避免出现同一个月但是开始日期大于结束日期的情况\r\n    if (options.type === 'month') {\r\n      options.dateTime.date = 1;\r\n      that.endDate.date = 1;\r\n    }\r\n  }\r\n\r\n  // 初始值不在最大最小范围内\r\n  if (minMaxError && value) {\r\n    that.setValue(that.parse());\r\n    that.hint('value ' + lang.invalidDatePrompt + lang.autoResetPrompt);\r\n  }\r\n\r\n  // 初始赋值 startDate,endState\r\n  that.startDate =\r\n    that.startDate || (value && lay.extend({}, options.dateTime)); // 有默认值才初始化startDate\r\n  that.autoCalendarModel.auto && that.autoCalendarModel();\r\n  that.endState =\r\n    !options.range || !that.rangeLinked || !!(that.startDate && that.endDate); // 初始化选中范围状态\r\n\r\n  fn && fn();\r\n  return that;\r\n};\r\n\r\n/**\r\n * 渲染备注\r\n * @param {JQuery} tdElem td 元素\r\n * @param {[number, number, number]} YMD 年月日\r\n * @param {object | string} markers 备注信息\r\n */\r\nClass.prototype.markRender = function (tdElem, YMD, markers) {\r\n  var markText;\r\n\r\n  if (typeof markers === 'object') {\r\n    lay.each(markers || {}, function (key, title) {\r\n      var keys = key.split('-');\r\n      if (\r\n        (keys[0] == YMD[0] || keys[0] == 0) && //每年的每月\r\n        (keys[1] == YMD[1] || keys[1] == 0) && //每月的每日\r\n        keys[2] == YMD[2]\r\n      ) {\r\n        //特定日\r\n        markText = title || YMD[2];\r\n      }\r\n    });\r\n  } else if (typeof markers === 'string') {\r\n    markText = markers || YMD[2];\r\n  }\r\n\r\n  markText &&\r\n    tdElem\r\n      .find('div')\r\n      .html('<span class=\"laydate-day-mark\">' + markText + '</span>');\r\n};\r\n\r\n/**\r\n * 公历重要日期与自定义备注\r\n * @param {JQuery} td\r\n * @param {[number, number, number]} YMD\r\n * @returns Class\r\n */\r\nClass.prototype.mark = function (td, YMD) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  var render = function (markers) {\r\n    that.markRender(td, YMD, markers);\r\n  };\r\n\r\n  // chineseFestivals 仅简体中文生效\r\n  if (options.calendar) {\r\n    if (options.lang === zhCN) {\r\n      render(that.markerOfChineseFestivals);\r\n    }\r\n  }\r\n\r\n  if (typeof options.mark === 'function') {\r\n    options.mark({ year: YMD[0], month: YMD[1], date: YMD[2] }, render);\r\n  } else if (typeof options.mark === 'object') {\r\n    render(options.mark);\r\n  }\r\n\r\n  return that;\r\n};\r\n\r\n/**\r\n * 渲染法定节假日或补假上班标记\r\n * @param {JQuery} tdElem td 元素\r\n * @param {[number, number, number]} YMD 年月日\r\n * @param {[Array<string>, Array<string>] | string} markers 标记信息\r\n */\r\nClass.prototype.holidaysRender = function (tdElem, YMD, markers) {\r\n  var type = ['holidays', 'workdays'];\r\n\r\n  var isEquals = function (ymdStr1, ymdStr2) {\r\n    var ymd1 = ymdStr1.split('-');\r\n    var ymd2 = ymdStr2.split('-');\r\n\r\n    lay.each(ymd1, function (i, v) {\r\n      ymd1[i] = parseInt(v, 10);\r\n    });\r\n    lay.each(ymd2, function (i, v) {\r\n      ymd2[i] = parseInt(v, 10);\r\n    });\r\n\r\n    return ymd1.join('-') === ymd2.join('-');\r\n  };\r\n\r\n  var insertHtml = function (el, type, text) {\r\n    el.find('div').html(\r\n      [\r\n        '<span',\r\n        ' class=\"laydate-day-holidays\"',\r\n        ' type=\"' + type + '\"',\r\n        '>',\r\n        text,\r\n        '</span>',\r\n      ].join(''),\r\n    );\r\n  };\r\n\r\n  if (layui.type(markers) === 'array') {\r\n    lay.each(markers, function (idx, item) {\r\n      lay.each(item, function (i, dayStr) {\r\n        if (isEquals(dayStr, tdElem.attr('lay-ymd'))) {\r\n          insertHtml(tdElem, type[idx], YMD[2]);\r\n        }\r\n      });\r\n    });\r\n  } else if (typeof markers === 'string') {\r\n    if (type.indexOf(markers) !== -1) {\r\n      insertHtml(tdElem, markers, YMD[2]);\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * 标注法定节假日或补假上班\r\n * @param {JQuery} td\r\n * @param {[number, number, number]} YMD\r\n * @returns Class\r\n */\r\nClass.prototype.holidays = function (td, YMD) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  var render = function (markers) {\r\n    that.holidaysRender(td, YMD, markers);\r\n  };\r\n\r\n  if (typeof options.holidays === 'function') {\r\n    options.holidays({ year: YMD[0], month: YMD[1], date: YMD[2] }, render);\r\n  } else if (layui.type(options.holidays) === 'array') {\r\n    render(options.holidays);\r\n  }\r\n\r\n  return that;\r\n};\r\n\r\n/**\r\n * 自定义单元格\r\n * @param {HTMLElement|Array<HTMLElement>} el - 单元格元素\r\n * @param {{year:number, month:number, date:number}} dateObj - 当前单元格对应的日期信息\r\n * @param {'year' | 'month' | 'date'} panelMode - 面板模式\r\n * @returns\r\n */\r\nClass.prototype.cellRender = function (el, dateObj, panelMode) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  if (typeof options.cellRender === 'function') {\r\n    var render = function (content) {\r\n      if (typeof content === 'string') {\r\n        lay(el).html(content);\r\n      } else if (typeof content === 'object') {\r\n        lay(el).html('').append(lay(content)[0]);\r\n      }\r\n    };\r\n    options.cellRender(dateObj, render, { originElem: el, type: panelMode });\r\n  }\r\n\r\n  return that;\r\n};\r\n\r\n/**\r\n * 给定年份的开始日期\r\n * @param {Date} date\r\n */\r\nClass.prototype.startOfYear = function (date) {\r\n  var newDate = new Date(date);\r\n  newDate.setFullYear(newDate.getFullYear(), 0, 1);\r\n  newDate.setHours(0, 0, 0, 0);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * 给定年份的结束日期\r\n * @param {Date} date\r\n */\r\nClass.prototype.endOfYear = function (date) {\r\n  var newDate = new Date(date);\r\n  var year = newDate.getFullYear();\r\n  newDate.setFullYear(year + 1, 0, 0);\r\n  newDate.setHours(23, 59, 59, 999);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * 给定月份的开始日期\r\n * @param {Date} date\r\n */\r\nClass.prototype.startOfMonth = function (date) {\r\n  var newDate = new Date(date);\r\n  newDate.setDate(1);\r\n  newDate.setHours(0, 0, 0, 0);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * 给定月份的结束日期\r\n * @param {Date} date\r\n */\r\nClass.prototype.endOfMonth = function (date) {\r\n  var newDate = new Date(date);\r\n  var month = newDate.getMonth();\r\n  newDate.setFullYear(newDate.getFullYear(), month + 1, 0);\r\n  newDate.setHours(23, 59, 59, 999);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * 将指定的天数添加到给定日期\r\n * @param {Date} date 要更改的日期\r\n * @param {number} amount 天数\r\n */\r\nClass.prototype.addDays = function (date, amount) {\r\n  var newDate = new Date(date);\r\n  if (!amount) return newDate;\r\n  newDate.setDate(newDate.getDate() + amount);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * 不可选取的年或月。年或月中的所有日期都禁用时，才判定为不可选取。\r\n * @param {Date} date 要检测的年或月\r\n * @param {'year' | 'month'} type 面板类型\r\n * @param {'start' | 'end'} position 面板位置\r\n */\r\nClass.prototype.isDisabledYearOrMonth = function (date, type, position) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var millisecondsInDay = 24 * 60 * 60 * 1000;\r\n\r\n  var startDay =\r\n    type === 'year' ? that.startOfYear(date) : that.startOfMonth(date);\r\n  var endDay = type === 'year' ? that.endOfYear(date) : that.endOfMonth(date);\r\n  var numOfDays =\r\n    Math.floor((endDay.getTime() - startDay.getTime()) / millisecondsInDay) + 1;\r\n  var disabledCount = 0;\r\n\r\n  for (var i = 0; i < numOfDays; i++) {\r\n    var day = that.addDays(startDay, i);\r\n    if (options.disabledDate.call(options, day, position)) {\r\n      disabledCount++;\r\n    }\r\n  }\r\n\r\n  return disabledCount === numOfDays;\r\n};\r\n\r\n/**\r\n * @typedef limitOptions\r\n * @prop {JQuery} [elem] - 检测的元素, 例如面板中年月日时分秒元素，“现在”，“确认” 按钮等\r\n * @prop {number} [index] - 元素集合中，当前检测元素的索引，years:0,month:0,date:0-41,hms:0\r\n * @prop {['hours', 'minutes', 'seconds'] | ['hours', 'minutes'] | ['hours']} [time] - 是否比较时分秒\r\n * @prop {'year'|'month'|string} [type] - 面板类型?\r\n * @prop {0 | 1} [rangeType] - 面板索引, 0 表示 start, 1 表示 end\r\n * @prop {Partial<{year:number,month: number,date:number,hours:number,minutes:number,seconds:number}>} [date] - 检测的日期时间对象\r\n * @prop {'date' | 'time' | 'datetime'} disabledType - 禁用类型，按钮应使用 datetime\r\n */\r\n/**\r\n * 不可选取的日期\r\n * @param {number} date 当前检测的日期的时间戳\r\n * @param {limitOptions} opts\r\n * @returns {boolean}\r\n */\r\nClass.prototype.isDisabledDate = function (date, opts) {\r\n  opts = opts || {};\r\n\r\n  var that = this;\r\n  var options = that.config;\r\n  var position = options.range\r\n    ? opts.rangeType === 0\r\n      ? 'start'\r\n      : 'end'\r\n    : 'start';\r\n\r\n  if (!options.disabledDate) return false;\r\n  if (options.type === 'time') return false;\r\n  if (!(opts.disabledType === 'date' || opts.disabledType === 'datetime'))\r\n    return false;\r\n\r\n  // 不需要时分秒\r\n  var normalizedDate = new Date(date);\r\n  normalizedDate.setHours(0, 0, 0, 0);\r\n\r\n  return opts.type === 'year' || opts.type === 'month'\r\n    ? that.isDisabledYearOrMonth(normalizedDate, opts.type, position)\r\n    : options.disabledDate.call(options, normalizedDate, position);\r\n};\r\n\r\n/**\r\n * 不可选取的时间\r\n * @param {number} date 当前检测的日期的时间戳\r\n * @param {limitOptions} opts\r\n * @returns {boolean}\r\n */\r\nClass.prototype.isDisabledTime = function (date, opts) {\r\n  opts = opts || {};\r\n\r\n  var that = this;\r\n  var options = that.config;\r\n  var position = options.range\r\n    ? opts.rangeType === 0\r\n      ? 'start'\r\n      : 'end'\r\n    : 'start';\r\n\r\n  if (!options.disabledTime) return false;\r\n  if (!(options.type === 'time' || options.type === 'datetime')) return false;\r\n  if (!(opts.disabledType === 'time' || opts.disabledType === 'datetime'))\r\n    return false;\r\n\r\n  var isDisabledItem = function (compareVal, rangeFn, rangeFnParam) {\r\n    return function () {\r\n      return (\r\n        (\r\n          (typeof rangeFn === 'function' &&\r\n            rangeFn.apply(options, rangeFnParam)) ||\r\n          []\r\n        ).indexOf(compareVal) !== -1\r\n      );\r\n    };\r\n  };\r\n\r\n  var dateObj = that.systemDate(new Date(date));\r\n  var disabledTime =\r\n    options.disabledTime.call(options, that.newDate(dateObj), position) || {};\r\n\r\n  // 面板中的时分秒 HTML 元素需要分别检测是否禁用\r\n  // 按钮检测任意一项是否禁用即可\r\n  return opts.disabledType === 'datetime'\r\n    ? isDisabledItem(dateObj.hours, disabledTime.hours)() ||\r\n        isDisabledItem(dateObj.minutes, disabledTime.minutes, [\r\n          dateObj.hours,\r\n        ])() ||\r\n        isDisabledItem(dateObj.seconds, disabledTime.seconds, [\r\n          dateObj.hours,\r\n          dateObj.minutes,\r\n        ])()\r\n    : [\r\n        isDisabledItem(dateObj.hours, disabledTime.hours),\r\n        isDisabledItem(dateObj.minutes, disabledTime.minutes, [dateObj.hours]),\r\n        isDisabledItem(dateObj.seconds, disabledTime.seconds, [\r\n          dateObj.hours,\r\n          dateObj.minutes,\r\n        ]),\r\n      ][opts.time.length - 1]();\r\n};\r\n\r\n/**\r\n * 不可选取的日期时间\r\n * @param {number} timestamp 当前检测的日期的时间戳\r\n * @param {limitOptions} opts\r\n * @returns\r\n */\r\nClass.prototype.isDisabledDateTime = function (timestamp, opts) {\r\n  opts = opts || {};\r\n\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  return (\r\n    that.isDisabledDate(timestamp, opts) || that.isDisabledTime(timestamp, opts)\r\n  );\r\n};\r\n\r\n/**\r\n * 无效日期范围的标记\r\n * @param {limitOptions} opts\r\n *\r\n */\r\nClass.prototype.limit = function (opts) {\r\n  opts = opts || {};\r\n\r\n  var that = this;\r\n  var options = that.config;\r\n  var timestamp = {};\r\n  var dateTime =\r\n    opts.index > (opts.time ? 0 : 41) ? that.endDate : options.dateTime;\r\n  var isOut;\r\n\r\n  lay.each(\r\n    {\r\n      now: lay.extend({}, dateTime, opts.date || {}),\r\n      min: options.min,\r\n      max: options.max,\r\n    },\r\n    function (key, item) {\r\n      timestamp[key] = that\r\n        .newDate(\r\n          lay.extend(\r\n            {\r\n              year: item.year,\r\n              month: opts.type === 'year' ? 0 : item.month, // 年份的时候只比较年\r\n              date:\r\n                opts.type === 'year' || opts.type === 'month' ? 1 : item.date, // 年月只比较年月不与最大最小比日期\r\n            },\r\n            (function () {\r\n              var hms = {};\r\n              lay.each(opts.time, function (i, keys) {\r\n                hms[keys] = item[keys];\r\n              });\r\n              return hms;\r\n            })(),\r\n          ),\r\n        )\r\n        .getTime(); //time：是否比较时分秒\r\n    },\r\n  );\r\n\r\n  isOut =\r\n    timestamp.now < timestamp.min ||\r\n    timestamp.now > timestamp.max ||\r\n    that.isDisabledDateTime(timestamp.now, opts);\r\n  opts.elem && opts.elem[isOut ? 'addClass' : 'removeClass'](DISABLED);\r\n\r\n  return isOut;\r\n};\r\n\r\n//当前日期对象\r\nClass.prototype.thisDateTime = function (index) {\r\n  var that = this,\r\n    options = that.config;\r\n  return index ? that.endDate : options.dateTime;\r\n};\r\n\r\n//日历表\r\nClass.prototype.calendar = function (value, index, type) {\r\n  index = index ? 1 : 0;\r\n  var that = this,\r\n    options = that.config,\r\n    dateTime = value || that.thisDateTime(index),\r\n    thisDate = new Date(),\r\n    startWeek,\r\n    prevMaxDate,\r\n    thisMaxDate,\r\n    lang = that.i18nMessages,\r\n    isAlone = options.type !== 'date' && options.type !== 'datetime',\r\n    tds = lay(that.table[index]).find('td'),\r\n    elemYM = lay(that.elemHeader[index][2]).find('span');\r\n\r\n  if (dateTime.year < LIMIT_YEAR[0])\r\n    ((dateTime.year = LIMIT_YEAR[0]), that.hint(lang.invalidDatePrompt));\r\n  if (dateTime.year > LIMIT_YEAR[1])\r\n    ((dateTime.year = LIMIT_YEAR[1]), that.hint(lang.invalidDatePrompt));\r\n\r\n  //记录初始值\r\n  if (!that.firstDate) {\r\n    that.firstDate = lay.extend({}, dateTime);\r\n  }\r\n\r\n  //计算当前月第一天的星期\r\n  thisDate.setFullYear(dateTime.year, dateTime.month, 1);\r\n  startWeek = (thisDate.getDay() + (7 - options.weekStart)) % 7;\r\n\r\n  prevMaxDate = laydate.getEndDate(dateTime.month || 12, dateTime.year); //计算上个月的最后一天\r\n  thisMaxDate = laydate.getEndDate(dateTime.month + 1, dateTime.year); //计算当前月的最后一天\r\n\r\n  //赋值日\r\n  lay.each(tds, function (index_, item) {\r\n    var YMD = [dateTime.year, dateTime.month],\r\n      st;\r\n    item = lay(item);\r\n    item.removeAttr('class');\r\n    if (index_ < startWeek) {\r\n      st = prevMaxDate - startWeek + index_;\r\n      item.addClass('laydate-day-prev');\r\n      YMD = that.getAsYM(dateTime.year, dateTime.month, 'sub');\r\n    } else if (index_ >= startWeek && index_ < thisMaxDate + startWeek) {\r\n      st = index_ - startWeek;\r\n      if (!that.rangeLinked) {\r\n        st + 1 === dateTime.date && item.addClass(THIS);\r\n      }\r\n    } else {\r\n      st = index_ - thisMaxDate - startWeek;\r\n      item.addClass('laydate-day-next');\r\n      YMD = that.getAsYM(dateTime.year, dateTime.month);\r\n    }\r\n    YMD[1]++;\r\n    YMD[2] = st + 1;\r\n    item.attr('lay-ymd', YMD.join('-')).html('<div>' + YMD[2] + '</div>');\r\n    that\r\n      .mark(item, YMD)\r\n      .holidays(item, YMD)\r\n      .limit({\r\n        elem: item,\r\n        date: {\r\n          year: YMD[0],\r\n          month: YMD[1] - 1,\r\n          date: YMD[2],\r\n        },\r\n        index: index_,\r\n        rangeType: index,\r\n        disabledType: 'date', // 日面板，检测当前日期是否禁用\r\n      });\r\n    that.cellRender(\r\n      item,\r\n      { year: YMD[0], month: YMD[1], date: YMD[2] },\r\n      'date',\r\n    );\r\n  });\r\n\r\n  //同步头部年月\r\n  lay(elemYM[0]).attr('lay-ym', dateTime.year + '-' + (dateTime.month + 1));\r\n  lay(elemYM[1]).attr('lay-ym', dateTime.year + '-' + (dateTime.month + 1));\r\n  if (!that.panelYM) that.panelYM = {};\r\n  that.panelYM[index] = { year: dateTime.year, month: dateTime.month };\r\n\r\n  var normalizedYearStr = addSpaceBetweenChars(\r\n    dateTime.year + lang.literal.year,\r\n  );\r\n  var normalizedMonthStr = addSpaceBetweenChars(lang.months[dateTime.month]);\r\n  if (!lang.monthBeforeYear) {\r\n    lay(elemYM[0]).attr('lay-type', 'year').html(normalizedYearStr);\r\n    lay(elemYM[1]).attr('lay-type', 'month').html(normalizedMonthStr);\r\n  } else {\r\n    lay(elemYM[0]).attr('lay-type', 'month').html(normalizedMonthStr);\r\n    lay(elemYM[1]).attr('lay-type', 'year').html(normalizedYearStr);\r\n  }\r\n\r\n  //初始默认选择器\r\n  if (isAlone) {\r\n    //年、月等独立选择器\r\n    if (options.range) {\r\n      if (value || type !== 'init') {\r\n        // 判断是否需要显示年月时间列表\r\n        that.listYM = [\r\n          [\r\n            (that.startDate || options.dateTime).year,\r\n            (that.startDate || options.dateTime).month + 1,\r\n          ],\r\n          [that.endDate.year, that.endDate.month + 1],\r\n        ];\r\n        that.list(options.type, 0).list(options.type, 1);\r\n\r\n        //同步按钮可点状态\r\n        options.type === 'time'\r\n          ? that.setBtnStatus(\r\n              true,\r\n              lay.extend({}, that.systemDate(), that.startTime),\r\n              lay.extend({}, that.systemDate(), that.endTime),\r\n            )\r\n          : that.setBtnStatus(true);\r\n      }\r\n    } else {\r\n      that.listYM = [[dateTime.year, dateTime.month + 1]];\r\n      that.list(options.type, 0);\r\n    }\r\n  }\r\n\r\n  //初始赋值双日历\r\n  if (options.range && type === 'init') {\r\n    //执行渲染第二个日历\r\n    if (that.rangeLinked) {\r\n      var EYM = that.getAsYM(\r\n        dateTime.year,\r\n        dateTime.month,\r\n        index ? 'sub' : null,\r\n      );\r\n      that.calendar(\r\n        lay.extend({}, dateTime, {\r\n          year: EYM[0],\r\n          month: EYM[1],\r\n        }),\r\n        1 - index,\r\n      ); // 渲染另外一个\r\n    } else {\r\n      that.calendar(null, 1 - index);\r\n    }\r\n  }\r\n\r\n  // 通过检测当前有效日期，来设定底部按钮状态\r\n  if (!options.range) {\r\n    var timeParams = ['hours', 'minutes', 'seconds'];\r\n\r\n    // 现在按钮\r\n    that.limit({\r\n      elem: lay(that.footer).find(ELEM_NOW),\r\n      date: that.systemDate(\r\n        /^(datetime|time)$/.test(options.type) ? new Date() : null,\r\n      ),\r\n      index: 0,\r\n      time: timeParams,\r\n      disabledType: 'datetime', // 按钮，检测日期和时间\r\n    });\r\n    // 确认按钮\r\n    that.limit({\r\n      elem: lay(that.footer).find(ELEM_CONFIRM),\r\n      index: 0,\r\n      time: timeParams,\r\n      disabledType: 'datetime', // 按钮，检测日期和时间\r\n    });\r\n  }\r\n\r\n  //同步按钮可点状态\r\n  that.setBtnStatus();\r\n\r\n  // 重置快捷栏选中状态\r\n  lay(that.shortcut)\r\n    .find('li.' + THIS)\r\n    .removeClass(THIS);\r\n\r\n  //标记选择范围\r\n  if (options.range && !isAlone && type !== 'init') that.stampRange();\r\n\r\n  return that;\r\n};\r\n\r\n//生成年月时分秒列表\r\nClass.prototype.list = function (type, index) {\r\n  var that = this,\r\n    options = that.config,\r\n    dateTime = that.rangeLinked\r\n      ? options.dateTime\r\n      : [options.dateTime, that.endDate][index],\r\n    lang = that.i18nMessages,\r\n    isAlone =\r\n      options.range && options.type !== 'date' && options.type !== 'datetime', //独立范围选择器\r\n    ul = lay.elem('ul', {\r\n      class:\r\n        ELEM_LIST +\r\n        ' ' +\r\n        {\r\n          year: 'laydate-year-list',\r\n          month: 'laydate-month-list',\r\n          time: 'laydate-time-list',\r\n        }[type],\r\n    }),\r\n    elemHeader = that.elemHeader[index],\r\n    elemYM = lay(elemHeader[2]).find('span'),\r\n    elemCont = that.elemCont[index || 0],\r\n    haveList = lay(elemCont).find('.' + ELEM_LIST)[0],\r\n    isMonthBeforeYear = lang.monthBeforeYear,\r\n    text = lang.literal.year,\r\n    listYM = that.listYM[index] || {},\r\n    hms = ['hours', 'minutes', 'seconds'],\r\n    startEnd = ['startTime', 'endTime'][index];\r\n\r\n  if (listYM[0] < 1) listYM[0] = 1;\r\n\r\n  //生成年列表\r\n  if (type === 'year') {\r\n    var yearNum,\r\n      startY = (yearNum = listYM[0] - 7);\r\n    if (startY < 1) startY = yearNum = 1;\r\n    lay.each(new Array(15), function (i) {\r\n      var li = lay.elem('li', {\r\n          'lay-ym': yearNum,\r\n        }),\r\n        ymd = {\r\n          year: yearNum,\r\n          month: 0,\r\n          date: 1,\r\n        };\r\n\r\n      yearNum == listYM[0] && lay(li).addClass(THIS);\r\n      li.innerHTML = yearNum + text;\r\n      ul.appendChild(li);\r\n\r\n      /*\r\n      if(yearNum < that.firstDate.year){\r\n        ymd.month = options.min.month;\r\n        ymd.date = options.min.date;\r\n      } else if(yearNum >= that.firstDate.year){\r\n        ymd.month = options.max.month;\r\n        ymd.date = options.max.date;\r\n      }\r\n      */\r\n\r\n      that.limit({\r\n        elem: lay(li),\r\n        date: ymd,\r\n        index: index,\r\n        type: type,\r\n        rangeType: index,\r\n        disabledType: 'date', // 年面板，检测当前年份中的所有日期是否禁用\r\n      });\r\n      that.cellRender(li, { year: yearNum, month: 1, date: 1 }, 'year');\r\n      yearNum++;\r\n    });\r\n\r\n    lay(elemYM[!isMonthBeforeYear ? 0 : 1])\r\n      .attr('lay-ym', yearNum - 8 + '-' + listYM[1])\r\n      .html(startY + text + ' - ' + (yearNum - 1 + text));\r\n  }\r\n\r\n  //生成月列表\r\n  else if (type === 'month') {\r\n    lay.each(new Array(12), function (i) {\r\n      var li = lay.elem('li', {\r\n          'lay-ym': i,\r\n        }),\r\n        ymd = {\r\n          year: listYM[0],\r\n          month: i,\r\n          date: 1,\r\n        };\r\n\r\n      i + 1 == listYM[1] && lay(li).addClass(THIS);\r\n      li.innerHTML = lang.months[i];\r\n      ul.appendChild(li);\r\n\r\n      /*\r\n      if(listYM[0] < that.firstDate.year){\r\n        ymd.date = options.min.date;\r\n      } else if(listYM[0] >= that.firstDate.year){\r\n        ymd.date = options.max.date;\r\n      }\r\n      */\r\n\r\n      that.limit({\r\n        elem: lay(li),\r\n        date: ymd,\r\n        index: index,\r\n        type: type,\r\n        rangeType: index,\r\n        disabledType: 'date', // 月面板，检测当前月份中的所有日期是否禁用\r\n      });\r\n      that.cellRender(li, { year: listYM[0], month: i + 1, date: 1 }, 'month');\r\n    });\r\n\r\n    lay(elemYM[!isMonthBeforeYear ? 0 : 1])\r\n      .attr('lay-ym', listYM[0] + '-' + listYM[1])\r\n      .html(listYM[0] + text);\r\n  }\r\n\r\n  //生成时间列表\r\n  else if (type === 'time') {\r\n    //检测时分秒状态是否在有效日期时间范围内\r\n    var setTimeStatus = function () {\r\n      lay(ul)\r\n        .find('ol')\r\n        .each(function (i, ol) {\r\n          lay(ol)\r\n            .find('li')\r\n            .each(function (ii, li) {\r\n              that.limit({\r\n                elem: lay(li),\r\n                date: [\r\n                  {\r\n                    hours: ii,\r\n                  },\r\n                  {\r\n                    hours: that[startEnd].hours,\r\n                    minutes: ii,\r\n                  },\r\n                  {\r\n                    hours: that[startEnd].hours,\r\n                    minutes: that[startEnd].minutes,\r\n                    seconds: ii,\r\n                  },\r\n                ][i],\r\n                index: index,\r\n                rangeType: index,\r\n                disabledType: 'time', // 时间面板，分别检测时分秒列表是否禁用\r\n                time: [\r\n                  ['hours'],\r\n                  ['hours', 'minutes'],\r\n                  ['hours', 'minutes', 'seconds'],\r\n                ][i],\r\n              });\r\n            });\r\n        });\r\n      if (!options.range) {\r\n        that.limit({\r\n          elem: lay(that.footer).find(ELEM_CONFIRM),\r\n          date: that[startEnd],\r\n          index: 0,\r\n          time: ['hours', 'minutes', 'seconds'],\r\n          disabledType: 'datetime', // 确认按钮，检测时分秒列表任意一项是否禁用\r\n        });\r\n      }\r\n    };\r\n\r\n    var setTimeListVisibility = function () {\r\n      var showHour = options.format.indexOf('H') !== -1;\r\n      var showMinute = options.format.indexOf('m') !== -1;\r\n      var showSecond = options.format.indexOf('s') !== -1;\r\n      var liElem = ul.children;\r\n      var hideCount = 0;\r\n\r\n      lay.each([showHour, showMinute, showSecond], function (i, isShow) {\r\n        if (!isShow) {\r\n          liElem[i].className += ' layui-hide';\r\n          hideCount++;\r\n        }\r\n      });\r\n      ul.className += ' laydate-time-list-hide-' + hideCount;\r\n    };\r\n\r\n    //初始化时间对象\r\n    if (options.range) {\r\n      if (!that[startEnd]) {\r\n        that[startEnd] = startEnd === 'startTime' ? dateTime : that.endDate;\r\n      }\r\n    } else {\r\n      that[startEnd] = dateTime;\r\n    }\r\n\r\n    //生成时分秒\r\n    lay.each([24, 60, 60], function (i, item) {\r\n      var li = lay.elem('li'),\r\n        childUL = ['<p>' + lang.time[i] + '</p><ol>'];\r\n      lay.each(new Array(item), function (ii) {\r\n        childUL.push(\r\n          '<li' +\r\n            (that[startEnd][hms[i]] === ii ? ' class=\"' + THIS + '\"' : '') +\r\n            '>' +\r\n            lay.digit(ii, 2) +\r\n            '</li>',\r\n        );\r\n      });\r\n      li.innerHTML = childUL.join('') + '</ol>';\r\n      ul.appendChild(li);\r\n    });\r\n    setTimeStatus();\r\n    setTimeListVisibility();\r\n  }\r\n\r\n  //插入容器\r\n  if (haveList) elemCont.removeChild(haveList);\r\n  elemCont.appendChild(ul);\r\n\r\n  //年月面板 - 选择事件\r\n  if (type === 'year' || type === 'month') {\r\n    //显示切换箭头\r\n    lay(that.elemMain[index]).addClass('laydate-ym-show');\r\n\r\n    //选中\r\n    lay(ul)\r\n      .find('li')\r\n      .on('click', function () {\r\n        var ym = lay(this).attr('lay-ym') | 0;\r\n        if (lay(this).hasClass(DISABLED)) return;\r\n        if (that.rangeLinked) {\r\n          lay.extend(dateTime, {\r\n            year: type === 'year' ? ym : listYM[0],\r\n            month: type === 'year' ? listYM[1] - 1 : ym,\r\n          });\r\n        } else {\r\n          dateTime[type] = ym;\r\n        }\r\n\r\n        //当为年选择器或者年月选择器\r\n        var isYearOrMonth = ['year', 'month'].indexOf(options.type) !== -1;\r\n        var isChangeMonth =\r\n          type === 'year' && ['date', 'datetime'].indexOf(options.type) !== -1;\r\n        if (isYearOrMonth || isChangeMonth) {\r\n          lay(ul)\r\n            .find('.' + THIS)\r\n            .removeClass(THIS);\r\n          lay(this).addClass(THIS);\r\n\r\n          //如果为年月选择器，点击了年列表，则切换到月选择器\r\n          if ((options.type === 'month' && type === 'year') || isChangeMonth) {\r\n            that.listYM[index][0] = ym;\r\n            isAlone && ((index ? that.endDate : dateTime).year = ym);\r\n            that.list('month', index);\r\n          }\r\n        } else {\r\n          that.checkDate('limit').calendar(dateTime, index, 'init'); // 重新渲染一下两个面板\r\n          that.closeList();\r\n        }\r\n\r\n        if (!options.range) {\r\n          that.limit({\r\n            type: type,\r\n            elem: lay(that.footer).find(ELEM_CONFIRM),\r\n            date: dateTime,\r\n            disabledType: 'datetime', // 按钮，检测日期和时间\r\n          });\r\n        }\r\n\r\n        that.setBtnStatus(); //同步按钮可点状态\r\n\r\n        //若为月选择器，只有当选择月份时才自动关闭；\r\n        //若为年选择器，选择年份即自动关闭\r\n        //且在范围未开启时\r\n        if (!options.range && options.autoConfirm) {\r\n          if (\r\n            (options.type === 'month' && type === 'month') ||\r\n            (options.type === 'year' && type === 'year')\r\n          ) {\r\n            that.setValue(that.parse()).done().remove();\r\n          }\r\n        }\r\n\r\n        that.autoCalendarModel.auto && !that.rangeLinked\r\n          ? that.choose(lay(elemCont).find('td.layui-this'), index)\r\n          : that.endState && that.done(null, 'change');\r\n        lay(that.footer)\r\n          .find('.' + ELEM_TIME_BTN)\r\n          .removeClass(DISABLED);\r\n      });\r\n  } else {\r\n    //时间选择面板 - 选择事件\r\n    var span = lay.elem('span', {\r\n        class: ELEM_TIME_TEXT,\r\n      }),\r\n      //滚动条定位\r\n      scroll = function () {\r\n        lay(ul)\r\n          .find('ol')\r\n          .each(function (i) {\r\n            var ol = this,\r\n              li = lay(ol).find('li');\r\n            ol.scrollTop = 30 * (that[startEnd][hms[i]] - 2);\r\n            if (ol.scrollTop <= 0) {\r\n              li.each(function (ii, item) {\r\n                if (!lay(this).hasClass(DISABLED)) {\r\n                  ol.scrollTop = 30 * (ii - 2);\r\n                  return true;\r\n                }\r\n              });\r\n            }\r\n          });\r\n      },\r\n      haveSpan = lay(elemHeader[2]).find('.' + ELEM_TIME_TEXT);\r\n\r\n    scroll();\r\n    span.innerHTML = options.range\r\n      ? [lang.startTime, lang.endTime][index]\r\n      : lang.selectTime;\r\n    lay(that.elemMain[index]).addClass('laydate-time-show');\r\n\r\n    if (haveSpan[0]) haveSpan.remove();\r\n    elemHeader[2].appendChild(span);\r\n\r\n    var olElem = lay(ul).find('ol');\r\n    olElem.each(function (i) {\r\n      var ol = this;\r\n      //选择时分秒\r\n      lay(ol)\r\n        .find('li')\r\n        .on('click', function () {\r\n          var value = this.innerHTML | 0;\r\n          if (lay(this).hasClass(DISABLED)) return;\r\n\r\n          if (options.range) {\r\n            that[startEnd][hms[i]] = value;\r\n          } else {\r\n            dateTime[hms[i]] = value;\r\n          }\r\n          lay(ol)\r\n            .find('.' + THIS)\r\n            .removeClass(THIS);\r\n          lay(this).addClass(THIS);\r\n\r\n          setTimeStatus();\r\n          scroll();\r\n          (that.endDate ||\r\n            options.type === 'time' ||\r\n            options.type === 'datetime') &&\r\n            that.done(null, 'change');\r\n\r\n          //同步按钮可点状态\r\n          that.setBtnStatus();\r\n        });\r\n    });\r\n\r\n    if (layui.device().mobile) {\r\n      olElem.css({\r\n        overflowY: 'auto',\r\n        touchAction: 'pan-y',\r\n      });\r\n    }\r\n  }\r\n\r\n  return that;\r\n};\r\n\r\n//记录列表切换后的年月\r\nClass.prototype.listYM = [];\r\n\r\n//关闭列表\r\nClass.prototype.closeList = function () {\r\n  var that = this,\r\n    options = that.config;\r\n\r\n  lay.each(that.elemCont, function (index, item) {\r\n    lay(this)\r\n      .find('.' + ELEM_LIST)\r\n      .remove();\r\n    lay(that.elemMain[index]).removeClass('laydate-ym-show laydate-time-show');\r\n  });\r\n  lay(that.elem)\r\n    .find('.' + ELEM_TIME_TEXT)\r\n    .remove();\r\n};\r\n\r\n//检测结束日期是否超出开始日期\r\nClass.prototype.setBtnStatus = function (tips, start, end) {\r\n  var that = this,\r\n    options = that.config,\r\n    lang = that.i18nMessages,\r\n    isOut,\r\n    elemBtn = lay(that.footer).find(ELEM_CONFIRM),\r\n    timeParams =\r\n      options.type === 'datetime' || options.type === 'time'\r\n        ? ['hours', 'minutes', 'seconds']\r\n        : undefined;\r\n  if (options.range) {\r\n    start = start || (that.rangeLinked ? that.startDate : options.dateTime);\r\n    end = end || that.endDate;\r\n    isOut =\r\n      !that.endState ||\r\n      that.newDate(start).getTime() > that.newDate(end).getTime();\r\n\r\n    //如果不在有效日期内，直接禁用按钮，否则比较开始和结束日期\r\n    that.limit({\r\n      date: start,\r\n      disabledType: 'datetime', // 按钮，检测日期和时间\r\n      time: timeParams,\r\n      rangeType: 0,\r\n    }) ||\r\n    that.limit({\r\n      date: end,\r\n      disabledType: 'datetime', // 按钮，检测日期和时间\r\n      time: timeParams,\r\n      rangeType: 1,\r\n    })\r\n      ? elemBtn.addClass(DISABLED)\r\n      : elemBtn[isOut ? 'addClass' : 'removeClass'](DISABLED);\r\n\r\n    // 是否异常提示\r\n    if (tips && isOut) {\r\n      that.hint(lang.rangeOrderPrompt);\r\n    }\r\n  }\r\n};\r\n\r\n// 转义为规定格式的日期字符\r\nClass.prototype.parse = function (state, date) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var startDate = that.rangeLinked ? that.startDate : options.dateTime;\r\n  var dateTime =\r\n    date ||\r\n    (state == 'end'\r\n      ? lay.extend({}, that.endDate, that.endTime)\r\n      : options.range\r\n        ? lay.extend({}, startDate || options.dateTime, that.startTime)\r\n        : options.dateTime);\r\n  var format = laydate.parse(dateTime, that.format, 1);\r\n\r\n  // 返回日期范围字符\r\n  if (options.range && state === undefined) {\r\n    return format + ' ' + that.rangeStr + ' ' + that.parse('end');\r\n  }\r\n\r\n  return format;\r\n};\r\n\r\n//创建指定日期时间对象\r\nClass.prototype.newDate = function (dateTime) {\r\n  dateTime = dateTime || {};\r\n  return new Date(\r\n    dateTime.year || 1,\r\n    dateTime.month || 0,\r\n    dateTime.date || 1,\r\n    dateTime.hours || 0,\r\n    dateTime.minutes || 0,\r\n    dateTime.seconds || 0,\r\n  );\r\n};\r\n\r\n// 获得指定日期时间对象的毫秒数\r\nClass.prototype.getDateTime = function (obj) {\r\n  return this.newDate(obj).getTime();\r\n};\r\n\r\n/**\r\n * 格式化输入框显示值\r\n * @param {HTMLInputElement} elem HTML input 元素\r\n * @param {(value: string) => string} displayValueCallback\r\n */\r\nClass.prototype.formatToDisplay = function (elem, displayValueCallback) {\r\n  var that = this;\r\n  var props = Object.getOwnPropertyDescriptor(\r\n    HTMLInputElement.prototype,\r\n    'value',\r\n  );\r\n\r\n  Object.defineProperty(\r\n    elem,\r\n    'value',\r\n    lay.extend({}, props, {\r\n      get: function () {\r\n        return this.getAttribute('lay-date');\r\n      },\r\n      set: function (value) {\r\n        props.set.call(this, displayValueCallback.call(that, value));\r\n        this.setAttribute('lay-date', value);\r\n      },\r\n    }),\r\n  );\r\n};\r\n\r\n//赋值\r\nClass.prototype.setValue = function (value) {\r\n  var that = this,\r\n    options = that.config,\r\n    elem = options.elem[0];\r\n\r\n  //静态展现则不作默认赋值\r\n  if (options.position === 'static') return that;\r\n\r\n  value = value || '';\r\n\r\n  //绑定的元素是否为 input\r\n  if (that.isInput(elem)) {\r\n    lay(elem).val(value);\r\n  } else {\r\n    //如果 range 传入了开始和结束的 input 对象，则分别对其赋值\r\n    var rangeElem = that.rangeElem;\r\n    if (rangeElem) {\r\n      if (layui.type(value) !== 'array') {\r\n        value = value.split(' ' + that.rangeStr + ' ');\r\n      }\r\n      rangeElem[0].val(value[0] || '');\r\n      rangeElem[1].val(value[1] || '');\r\n    } else {\r\n      if (lay(elem).find('*').length === 0) {\r\n        var displayValue =\r\n          typeof options.formatToDisplay === 'function'\r\n            ? options.formatToDisplay(value)\r\n            : value;\r\n        lay(elem).html(displayValue);\r\n      }\r\n      lay(elem).attr('lay-date', value);\r\n    }\r\n  }\r\n\r\n  return that;\r\n};\r\n\r\n//预览\r\nClass.prototype.preview = function () {\r\n  var that = this,\r\n    options = that.config;\r\n\r\n  if (!options.isPreview) return;\r\n\r\n  var elemPreview = lay(that.elem).find('.' + ELEM_PREVIEW),\r\n    value = options.range\r\n      ? (that.rangeLinked ? that.endState : that.endDate)\r\n        ? that.parse()\r\n        : ''\r\n      : that.parse();\r\n\r\n  // 显示预览\r\n  elemPreview.html(value);\r\n\r\n  // 预览颜色渐变\r\n  var oldValue = elemPreview.html();\r\n  if (oldValue) {\r\n    var color =\r\n      layui.type(options.theme) === 'array' ? options.theme[0] : options.theme;\r\n    elemPreview.css({\r\n      color: /^#/.test(String(color)) ? color : '#16b777',\r\n    });\r\n\r\n    setTimeout(function () {\r\n      elemPreview.css({\r\n        color: '#777',\r\n      });\r\n    }, 300);\r\n  }\r\n};\r\n\r\n// 附加的渲染处理，在 ready 和 change 的时候调用\r\nClass.prototype.renderAdditional = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  // 处理全面板\r\n  if (options.fullPanel) {\r\n    that.list('time', 0);\r\n  }\r\n};\r\n\r\n// 标记范围内的日期\r\nClass.prototype.stampRange = function () {\r\n  var that = this,\r\n    options = that.config,\r\n    startTime = that.rangeLinked ? that.startDate : options.dateTime,\r\n    endTime,\r\n    tds = lay(that.elem).find('td');\r\n\r\n  if (options.range && !that.endState)\r\n    lay(that.footer).find(ELEM_CONFIRM).addClass(DISABLED);\r\n  // if(!that.endState) return;\r\n\r\n  startTime =\r\n    startTime &&\r\n    that\r\n      .newDate({\r\n        year: startTime.year,\r\n        month: startTime.month,\r\n        date: startTime.date,\r\n      })\r\n      .getTime();\r\n\r\n  endTime =\r\n    that.endState &&\r\n    that.endDate &&\r\n    that\r\n      .newDate({\r\n        year: that.endDate.year,\r\n        month: that.endDate.month,\r\n        date: that.endDate.date,\r\n      })\r\n      .getTime();\r\n\r\n  // if(startTime > endTime) return that.hint(TIPS_OUT);\r\n\r\n  lay.each(tds, function (i, item) {\r\n    var ymd = lay(item).attr('lay-ymd').split('-');\r\n    var thisTime = that\r\n      .newDate({\r\n        year: ymd[0],\r\n        month: ymd[1] - 1,\r\n        date: ymd[2],\r\n      })\r\n      .getTime();\r\n\r\n    // 标记当天\r\n    if (options.rangeLinked && !that.startDate) {\r\n      if (thisTime === that.newDate(that.systemDate()).getTime()) {\r\n        lay(item).addClass(\r\n          lay(item).hasClass(ELEM_PREV) || lay(item).hasClass(ELEM_NEXT)\r\n            ? ''\r\n            : ELEM_DAY_NOW,\r\n        );\r\n      }\r\n    }\r\n\r\n    /*\r\n     * 标注区间\r\n     */\r\n\r\n    lay(item).removeClass(ELEM_SELECTED + ' ' + THIS);\r\n\r\n    if (thisTime === startTime || thisTime === endTime) {\r\n      (that.rangeLinked ||\r\n        (!that.rangeLinked &&\r\n          (i < 42 ? thisTime === startTime : thisTime === endTime))) &&\r\n        lay(item).addClass(\r\n          lay(item).hasClass(ELEM_PREV) || lay(item).hasClass(ELEM_NEXT)\r\n            ? ELEM_SELECTED\r\n            : THIS,\r\n        );\r\n    }\r\n    if (thisTime > startTime && thisTime < endTime) {\r\n      lay(item).addClass(ELEM_SELECTED);\r\n    }\r\n  });\r\n};\r\n\r\n// 执行 done/change 回调\r\nClass.prototype.done = function (param, type) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var start = lay.extend(\r\n    {},\r\n    lay.extend(\r\n      that.rangeLinked ? that.startDate : options.dateTime,\r\n      that.startTime,\r\n    ),\r\n  );\r\n  var end = lay.extend({}, lay.extend(that.endDate, that.endTime));\r\n\r\n  lay.each([start, end], function (i, item) {\r\n    if (!('month' in item)) return;\r\n    lay.extend(item, {\r\n      month: item.month + 1,\r\n    });\r\n  });\r\n\r\n  that.preview();\r\n\r\n  param = param || [that.parse(), start, end];\r\n  type === 'change' && that.renderAdditional();\r\n  typeof options[type || 'done'] === 'function' &&\r\n    options[type || 'done'].apply(options, param);\r\n\r\n  return that;\r\n};\r\n\r\n/**\r\n * 判断日期是否存在面板，用于处理日期范围选择的一些边缘情况\r\n * @param {object} datetime 日期时间对象\r\n * @param {number} index - 面板索引\r\n * @returns\r\n */\r\nClass.prototype.checkPanelDate = function (datetime, index) {\r\n  var that = this;\r\n  var options = that.config;\r\n  // 年月范围选择不需要处理\r\n  if (options.type !== 'date' && options.type !== 'datetime') return;\r\n\r\n  var startPanel = index === 0;\r\n  var month = datetime.month + 1; // 点击的日期所在月份\r\n  var panelMonth = that.panelYM[index].month + 1; // 当前面板头部月份\r\n\r\n  // 边缘日期的处理\r\n  var firstRenderIndex = that.endState\r\n    ? // 二次点击（一般为结束日期）任意一侧面板时：\r\n      // 1. 左侧面板中，点击的月份属于下一个月时，应渲染右侧面板而不是左侧面板;\r\n      // 2. 左侧面板中，点击的月份属于上一个月时，应将两个面板都重新渲染(等效点击 prevMonth);\r\n      // 3. 右侧面板同理。\r\n      (function () {\r\n        return (startPanel && month > panelMonth) ||\r\n          (!startPanel && month < panelMonth)\r\n          ? 1 - index\r\n          : index;\r\n      })()\r\n    : // 初次点击（一般为开始日期）任意一侧面板时：\r\n      // 1. 让该面板自行切换，以保持日期的「选中状态」在该侧；\r\n      // 2. 另一侧面板则根据点击的面板进行响应式切换，以保持左右面板始终为连续月份。\r\n      index;\r\n\r\n  // 为简化实现，只要点击的月份不等于当前面板顶部显示的月份时，就重新渲染两侧面板\r\n  return {\r\n    needFullRender: month !== panelMonth,\r\n    index: firstRenderIndex,\r\n  };\r\n};\r\n\r\n//选择日期\r\nClass.prototype.choose = function (td, index) {\r\n  if (td.hasClass(DISABLED)) return;\r\n\r\n  var that = this,\r\n    options = that.config,\r\n    panelIndex = index; // 记录点击的是哪一个面板的\r\n\r\n  if (that.rangeLinked) {\r\n    if (that.endState || !that.startDate) {\r\n      // 重新选择或者第一次选择\r\n      index = 0;\r\n      that.endState = false;\r\n    } else {\r\n      index = 1;\r\n      that.endState = true;\r\n    }\r\n  }\r\n\r\n  var dateTime = that.thisDateTime(index),\r\n    tds = lay(that.elem).find('td'),\r\n    YMD = td.attr('lay-ymd').split('-');\r\n\r\n  YMD = {\r\n    year: YMD[0] | 0,\r\n    month: (YMD[1] | 0) - 1,\r\n    date: YMD[2] | 0,\r\n  };\r\n\r\n  lay.extend(dateTime, YMD); //同步 dateTime\r\n\r\n  //范围选择\r\n  if (options.range) {\r\n    //补充时分秒\r\n    lay.each(['startTime', 'endTime'], function (i, item) {\r\n      that[item] = that[item] || {\r\n        hours: i ? 23 : 0,\r\n        minutes: i ? 59 : 0,\r\n        seconds: i ? 59 : 0,\r\n      };\r\n      if (index === i) {\r\n        // 判断选择之后的是否在范围内，超出则需要调整时分秒\r\n        if (\r\n          that.getDateTime(lay.extend({}, dateTime, that[item])) <\r\n          that.getDateTime(options.min)\r\n        ) {\r\n          that[item] = {\r\n            hours: options.min.hours,\r\n            minutes: options.min.minutes,\r\n            seconds: options.min.seconds,\r\n          };\r\n          lay.extend(dateTime, that[item]);\r\n        } else if (\r\n          that.getDateTime(lay.extend({}, dateTime, that[item])) >\r\n          that.getDateTime(options.max)\r\n        ) {\r\n          that[item] = {\r\n            hours: options.max.hours,\r\n            minutes: options.max.minutes,\r\n            seconds: options.max.seconds,\r\n          };\r\n          lay.extend(dateTime, that[item]);\r\n        }\r\n      }\r\n    });\r\n    if (!index) {\r\n      that.startDate = lay.extend({}, dateTime); // 同步startDate\r\n    }\r\n    // 校验另外一个日期是否在有效的范围内\r\n    // 此处为范围选择的日期面板点击选中处理，所以 disabledType 为 date\r\n    if (\r\n      that.endState &&\r\n      !that.limit({\r\n        date: that.rangeLinked ? that.startDate : that.thisDateTime(1 - index),\r\n        disabledType: 'date',\r\n      })\r\n    ) {\r\n      // 根据选择之后判断是否需要切换模式\r\n      var isChange;\r\n      if (that.endState && that.autoCalendarModel.auto) {\r\n        isChange = that.autoCalendarModel();\r\n      }\r\n      // 判断是否反选\r\n      var needSwapDate =\r\n        (isChange || (that.rangeLinked && that.endState)) &&\r\n        that.newDate(that.startDate) > that.newDate(that.endDate);\r\n      if (needSwapDate) {\r\n        var isSameDate =\r\n          that.startDate.year === that.endDate.year &&\r\n          that.startDate.month === that.endDate.month &&\r\n          that.startDate.date === that.endDate.date;\r\n        var startDate;\r\n        // 如果是同一天并且出现了反选证明是时分秒出现开始时间大于结束时间的现象\r\n        if (isSameDate) {\r\n          startDate = that.startTime;\r\n          that.startTime = that.endTime;\r\n          that.endTime = startDate;\r\n        }\r\n        // 当出现反向选择时（即“后点击”的日期比“先点击”的日期小），重新提取区间\r\n        startDate = that.startDate;\r\n        that.startDate = lay.extend({}, that.endDate, that.startTime);\r\n        options.dateTime = lay.extend({}, that.startDate);\r\n        that.endDate = lay.extend({}, startDate, that.endTime);\r\n      }\r\n      isChange && (options.dateTime = lay.extend({}, that.startDate));\r\n    }\r\n    if (that.rangeLinked) {\r\n      // 处理日期范围选择的一些边缘情况\r\n      var checkState = that.checkPanelDate(dateTime, panelIndex);\r\n      var dateTimeTemp = lay.extend({}, dateTime);\r\n      var renderMode =\r\n        isChange || (checkState && checkState.needFullRender) ? 'init' : null;\r\n      var panelIdx = checkState ? checkState.index : panelIndex;\r\n      that.calendar(dateTimeTemp, panelIdx, renderMode);\r\n    } else {\r\n      that.calendar(null, index, isChange ? 'init' : null);\r\n    }\r\n    that.endState && that.done(null, 'change');\r\n  } else if (options.position === 'static') {\r\n    //直接嵌套的选中\r\n    that.calendar().done().done(null, 'change'); //同时执行 done 和 change 回调\r\n  } else if (options.type === 'date') {\r\n    options.autoConfirm\r\n      ? that.setValue(that.parse()).done().remove()\r\n      : that.calendar().done(null, 'change');\r\n  } else if (options.type === 'datetime') {\r\n    that.calendar().done(null, 'change');\r\n  }\r\n};\r\n\r\n//底部按钮\r\nClass.prototype.tool = function (btn, type) {\r\n  var that = this,\r\n    options = that.config,\r\n    lang = that.i18nMessages,\r\n    dateTime = options.dateTime,\r\n    isStatic = options.position === 'static',\r\n    active = {\r\n      //选择时间\r\n      datetime: function () {\r\n        if (lay(btn).hasClass(DISABLED)) return;\r\n        that.list('time', 0);\r\n        options.range && that.list('time', 1);\r\n        lay(btn).attr('lay-type', 'date').html(that.i18nMessages.selectDate);\r\n      },\r\n\r\n      //选择日期\r\n      date: function () {\r\n        that.closeList();\r\n        lay(btn)\r\n          .attr('lay-type', 'datetime')\r\n          .html(that.i18nMessages.selectTime);\r\n      },\r\n\r\n      //清空、重置\r\n      clear: function () {\r\n        isStatic && (lay.extend(dateTime, that.firstDate), that.calendar());\r\n        options.range &&\r\n          (delete options.dateTime,\r\n          delete that.endDate,\r\n          delete that.startTime,\r\n          delete that.endTime);\r\n        that.setValue('');\r\n        that.done(null, 'onClear').done(['', {}, {}]).remove();\r\n      },\r\n\r\n      // 现在\r\n      now: function () {\r\n        var thisDate = new Date();\r\n\r\n        // 当前系统时间未在 min/max 范围内，则不可点击\r\n        if (lay(btn).hasClass(DISABLED)) {\r\n          return that.hint(lang.tools.now + ', ' + lang.invalidDatePrompt);\r\n        }\r\n\r\n        lay.extend(dateTime, that.systemDate(), {\r\n          hours: thisDate.getHours(),\r\n          minutes: thisDate.getMinutes(),\r\n          seconds: thisDate.getSeconds(),\r\n        });\r\n\r\n        that.setValue(that.parse());\r\n        isStatic && that.calendar();\r\n        that.done(null, 'onNow').done().remove();\r\n      },\r\n\r\n      //确定\r\n      confirm: function () {\r\n        if (options.range) {\r\n          if (lay(btn).hasClass(DISABLED)) {\r\n            var isTimeout =\r\n              options.type === 'time'\r\n                ? that.startTime &&\r\n                  that.endTime &&\r\n                  that.newDate(that.startTime) > that.newDate(that.endTime)\r\n                : that.startDate &&\r\n                  that.endDate &&\r\n                  that.newDate(\r\n                    lay.extend({}, that.startDate, that.startTime || {}),\r\n                  ) >\r\n                    that.newDate(\r\n                      lay.extend({}, that.endDate, that.endTime || {}),\r\n                    );\r\n\r\n            return that.hint(\r\n              isTimeout ? lang.rangeOrderPrompt : lang.invalidDatePrompt,\r\n            );\r\n          }\r\n        } else {\r\n          if (lay(btn).hasClass(DISABLED))\r\n            return that.hint(lang.invalidDatePrompt);\r\n        }\r\n\r\n        that.setValue(that.parse());\r\n        that.done(null, 'onConfirm').done().remove();\r\n      },\r\n    };\r\n  active[type] && active[type]();\r\n};\r\n\r\n//统一切换处理\r\nClass.prototype.change = function (index) {\r\n  var that = this,\r\n    options = that.config,\r\n    dateTime = that.thisDateTime(index),\r\n    isAlone =\r\n      options.range && (options.type === 'year' || options.type === 'month'),\r\n    elemCont = that.elemCont[index || 0],\r\n    listYM = that.listYM[index],\r\n    addSubYear = function (type) {\r\n      var isYear = lay(elemCont).find('.laydate-year-list')[0],\r\n        isMonth = lay(elemCont).find('.laydate-month-list')[0];\r\n\r\n      //切换年列表\r\n      if (isYear) {\r\n        listYM[0] = type ? listYM[0] - 15 : listYM[0] + 15;\r\n        that.list('year', index);\r\n      }\r\n\r\n      if (isMonth) {\r\n        //切换月面板中的年\r\n        type ? listYM[0]-- : listYM[0]++;\r\n        that.list('month', index);\r\n      }\r\n\r\n      if (isYear || isMonth) {\r\n        lay.extend(dateTime, {\r\n          year: listYM[0],\r\n        });\r\n        if (isAlone) dateTime.year = listYM[0];\r\n        options.range || that.done(null, 'change');\r\n        options.range ||\r\n          that.limit({\r\n            elem: lay(that.footer).find(ELEM_CONFIRM),\r\n            date: {\r\n              year: listYM[0],\r\n              month: isYear ? 0 : listYM[1] - 1,\r\n            },\r\n            disabledType: 'datetime', // 按钮，检测日期和时间\r\n          });\r\n      }\r\n\r\n      that.setBtnStatus();\r\n      return isYear || isMonth;\r\n    };\r\n\r\n  return {\r\n    prevYear: function () {\r\n      if (addSubYear('sub')) return;\r\n      if (that.rangeLinked) {\r\n        options.dateTime.year--;\r\n        that.checkDate('limit').calendar(null, null, 'init');\r\n      } else {\r\n        dateTime.year--;\r\n        that.checkDate('limit').calendar(null, index);\r\n        // 面板自动切换的模式下重新判定是否发生模式转换等细节处理\r\n        that.autoCalendarModel.auto\r\n          ? that.choose(lay(elemCont).find('td.layui-this'), index)\r\n          : that.done(null, 'change');\r\n      }\r\n    },\r\n    prevMonth: function () {\r\n      var YM;\r\n      // rangeLinked 模式非实时选择日期，不需要同步 options.dateTime，应根据面板显示日期切换\r\n      if (that.rangeLinked) {\r\n        var panelYM = that.panelYM[0];\r\n        var dateTimeTemp;\r\n        YM = that.getAsYM(panelYM.year, panelYM.month, 'sub');\r\n        dateTimeTemp = lay.extend({}, options.dateTime, that.panelYM[0], {\r\n          year: YM[0],\r\n          month: YM[1],\r\n        });\r\n        that.checkDate('limit').calendar(dateTimeTemp, null, 'init');\r\n      } else {\r\n        YM = that.getAsYM(dateTime.year, dateTime.month, 'sub');\r\n        lay.extend(dateTime, {\r\n          year: YM[0],\r\n          month: YM[1],\r\n        });\r\n\r\n        that.checkDate('limit').calendar(null, null, 'init');\r\n        that.autoCalendarModel.auto\r\n          ? that.choose(lay(elemCont).find('td.layui-this'), index)\r\n          : that.done(null, 'change');\r\n      }\r\n    },\r\n    nextMonth: function () {\r\n      var YM;\r\n\r\n      if (that.rangeLinked) {\r\n        var panelYM = that.panelYM[0];\r\n        YM = that.getAsYM(panelYM.year, panelYM.month);\r\n        var dateTimeTemp = lay.extend({}, options.dateTime, that.panelYM[0], {\r\n          year: YM[0],\r\n          month: YM[1],\r\n        });\r\n        that.checkDate('limit').calendar(dateTimeTemp, null, 'init');\r\n      } else {\r\n        YM = that.getAsYM(dateTime.year, dateTime.month);\r\n\r\n        lay.extend(dateTime, {\r\n          year: YM[0],\r\n          month: YM[1],\r\n        });\r\n\r\n        that.checkDate('limit').calendar(null, null, 'init');\r\n        that.autoCalendarModel.auto\r\n          ? that.choose(lay(elemCont).find('td.layui-this'), index)\r\n          : that.done(null, 'change');\r\n      }\r\n    },\r\n    nextYear: function () {\r\n      if (addSubYear()) return;\r\n      if (that.rangeLinked) {\r\n        options.dateTime.year++;\r\n        that.checkDate('limit').calendar(null, 0, 'init');\r\n      } else {\r\n        dateTime.year++;\r\n        that.checkDate('limit').calendar(null, index);\r\n        that.autoCalendarModel.auto\r\n          ? that.choose(lay(elemCont).find('td.layui-this'), index)\r\n          : that.done(null, 'change');\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\n//日期切换事件\r\nClass.prototype.changeEvent = function () {\r\n  var that = this,\r\n    options = that.config;\r\n\r\n  //日期选择事件\r\n  lay(that.elem)\r\n    .on('click', function (e) {\r\n      lay.stope(e);\r\n    })\r\n    .on('mousedown', function (e) {\r\n      lay.stope(e);\r\n    });\r\n\r\n  //年月切换\r\n  lay.each(that.elemHeader, function (i, header) {\r\n    //上一年\r\n    lay(header[0]).on('click', function () {\r\n      that.change(i).prevYear();\r\n    });\r\n\r\n    //上一月\r\n    lay(header[1]).on('click', function () {\r\n      that.change(i).prevMonth();\r\n    });\r\n\r\n    //选择年月\r\n    lay(header[2])\r\n      .find('span')\r\n      .on('click', function () {\r\n        var othis = lay(this),\r\n          layYM = othis.attr('lay-ym'),\r\n          layType = othis.attr('lay-type');\r\n\r\n        if (!layYM) return;\r\n\r\n        layYM = layYM.split('-');\r\n\r\n        that.listYM[i] = [layYM[0] | 0, layYM[1] | 0];\r\n        that.list(layType, i);\r\n        lay(that.footer)\r\n          .find('.' + ELEM_TIME_BTN)\r\n          .addClass(DISABLED);\r\n      });\r\n\r\n    //下一月\r\n    lay(header[3]).on('click', function () {\r\n      that.change(i).nextMonth();\r\n    });\r\n\r\n    //下一年\r\n    lay(header[4]).on('click', function () {\r\n      that.change(i).nextYear();\r\n    });\r\n  });\r\n\r\n  //点击日期\r\n  lay.each(that.table, function (i, table) {\r\n    var tds = lay(table).find('td');\r\n    tds.on('click', function () {\r\n      that.choose(lay(this), i);\r\n    });\r\n  });\r\n\r\n  //点击底部按钮\r\n  lay(that.footer)\r\n    .find('span')\r\n    .on('click', function () {\r\n      var type = lay(this).attr('lay-type');\r\n      that.tool(this, type);\r\n    });\r\n};\r\n\r\n//是否输入框\r\nClass.prototype.isInput = function (elem) {\r\n  return (\r\n    /input|textarea/.test(elem.tagName.toLocaleLowerCase()) ||\r\n    /INPUT|TEXTAREA/.test(elem.tagName)\r\n  );\r\n};\r\n\r\n//绑定的元素事件处理\r\nClass.prototype.events = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  if (!options.elem[0] || options.elem[0].eventHandler) return;\r\n\r\n  var showEvent = function () {\r\n    // 已经打开的面板避免重新渲染\r\n    if (laydate.thisId === options.id) return;\r\n    that.render();\r\n  };\r\n\r\n  //绑定呼出控件事件\r\n  options.elem.on(options.trigger, showEvent);\r\n  options.elem[0].eventHandler = true;\r\n  options.eventElem.on(options.trigger, showEvent);\r\n\r\n  // 元素解绑\r\n  that.unbind = function () {\r\n    that.remove();\r\n    options.elem.off(options.trigger, showEvent);\r\n    options.elem.removeAttr('lay-key');\r\n    options.elem.removeAttr(MOD_ID);\r\n    options.elem[0].eventHandler = false;\r\n    options.eventElem.off(options.trigger, showEvent);\r\n    options.eventElem.removeAttr('lay-key');\r\n    delete thisModule.that[options.id];\r\n  };\r\n};\r\n\r\n// 绑定关闭控件事件\r\nlay(document)\r\n  .on('mousedown', function (e) {\r\n    if (!laydate.thisId) return;\r\n    var that = thisModule.getThis(laydate.thisId);\r\n    if (!that) return;\r\n\r\n    var options = that.config;\r\n\r\n    if (\r\n      e.target === options.elem[0] ||\r\n      e.target === options.eventElem[0] ||\r\n      e.target === lay(options.closeStop)[0] ||\r\n      (options.elem[0] && options.elem[0].contains(e.target))\r\n    )\r\n      return;\r\n\r\n    that.remove();\r\n  })\r\n  .on('keydown', function (e) {\r\n    if (!laydate.thisId) return;\r\n    var that = thisModule.getThis(laydate.thisId);\r\n    if (!that) return;\r\n\r\n    // 回车触发确认\r\n    if (that.config.position === 'static') return;\r\n    if (e.keyCode === 13) {\r\n      if (lay('#' + that.elemID)[0] && that.elemID === Class.thisElemDate) {\r\n        e.preventDefault();\r\n        lay(that.footer).find(ELEM_CONFIRM)[0].click();\r\n      }\r\n    }\r\n  });\r\n\r\n//自适应定位\r\nlay(window).on('resize', function () {\r\n  if (!laydate.thisId) return;\r\n  var that = thisModule.getThis(laydate.thisId);\r\n  if (!that) return;\r\n\r\n  if (!that.elem || !lay(ELEM)[0]) {\r\n    return false;\r\n  }\r\n\r\n  that.position();\r\n});\r\n\r\n// 记录所有实例\r\nthisModule.that = {}; //记录所有实例对象\r\n\r\n// 获取当前实例对象\r\nthisModule.getThis = function (id) {\r\n  var that = thisModule.that[id];\r\n  if (!that) {\r\n    layui\r\n      .hint()\r\n      .error(\r\n        id\r\n          ? MOD_NAME + \" instance with ID '\" + id + \"' not found\"\r\n          : 'ID argument required',\r\n      );\r\n  }\r\n  return that;\r\n};\r\n\r\n// 渲染 - 核心接口\r\nlaydate.render = function (options) {\r\n  var inst = new Class(options);\r\n  return thisModule.call(inst);\r\n};\r\n\r\n// 重载\r\nlaydate.reload = function (id, options) {\r\n  var that = thisModule.getThis(id);\r\n  if (!that) return;\r\n  return that.reload(options);\r\n};\r\n\r\n// 获取对应 ID 的实例\r\nlaydate.getInst = function (id) {\r\n  var that = thisModule.getThis(id);\r\n  if (that) {\r\n    return that.inst;\r\n  }\r\n};\r\n\r\n// 面板提示\r\nlaydate.hint = function (id, opts) {\r\n  var that = thisModule.getThis(id);\r\n  if (!that) return;\r\n  return that.hint(opts);\r\n};\r\n\r\n// 解绑实例\r\nlaydate.unbind = function (id) {\r\n  var that = thisModule.getThis(id);\r\n  if (!that) return;\r\n  return that.unbind();\r\n};\r\n\r\n// 关闭日期面板\r\nlaydate.close = function (id) {\r\n  var that = thisModule.getThis(id || laydate.thisId);\r\n  if (!that) return;\r\n  return that.remove();\r\n};\r\n\r\n// 将指定对象转化为日期值\r\nlaydate.parse = function (dateTime, format, one) {\r\n  dateTime = dateTime || {};\r\n\r\n  //如果 format 是字符型，则转换为数组格式\r\n  if (typeof format === 'string') {\r\n    format = thisModule.formatArr(format);\r\n  }\r\n\r\n  format = (format || []).concat();\r\n\r\n  //转义为规定格式\r\n  lay.each(format, function (i, item) {\r\n    if (/yyyy|y/.test(item)) {\r\n      //年\r\n      format[i] = lay.digit(dateTime.year, item.length);\r\n    } else if (/MM|M/.test(item)) {\r\n      //月\r\n      format[i] = lay.digit(dateTime.month + (one || 0), item.length);\r\n    } else if (/dd|d/.test(item)) {\r\n      //日\r\n      format[i] = lay.digit(dateTime.date, item.length);\r\n    } else if (/HH|H/.test(item)) {\r\n      //时\r\n      format[i] = lay.digit(dateTime.hours, item.length);\r\n    } else if (/mm|m/.test(item)) {\r\n      //分\r\n      format[i] = lay.digit(dateTime.minutes, item.length);\r\n    } else if (/ss|s/.test(item)) {\r\n      //秒\r\n      format[i] = lay.digit(dateTime.seconds, item.length);\r\n    }\r\n  });\r\n\r\n  return format.join('');\r\n};\r\n\r\n// 得到某月的最后一天\r\nlaydate.getEndDate = function (month, year) {\r\n  var thisDate = new Date();\r\n  //设置日期为下个月的第一天\r\n  thisDate.setFullYear(\r\n    year || thisDate.getFullYear(),\r\n    month || thisDate.getMonth() + 1,\r\n    1,\r\n  );\r\n  //减去一天，得到当前月最后一天\r\n  return new Date(thisDate.getTime() - 1000 * 60 * 60 * 24).getDate();\r\n};\r\n\r\nexport { laydate };\r\n","/**\r\n * layer\r\n * 通用 Web 弹出层组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport { lay } from '../core/lay.js';\r\nimport { i18n } from '../core/i18n.js';\r\nimport $ from 'jquery';\r\n\r\nvar win;\r\nvar ready = {\r\n  config: {\r\n    removeFocus: true,\r\n  },\r\n  end: {},\r\n  beforeEnd: {},\r\n  events: { resize: {} },\r\n  minStackIndex: 0,\r\n  minStackArr: [],\r\n  // 五种原始层模式\r\n  type: ['dialog', 'page', 'iframe', 'loading', 'tips'],\r\n\r\n  // 获取节点的 style 属性值\r\n  getStyle: function (node, name) {\r\n    var style = node.currentStyle\r\n      ? node.currentStyle\r\n      : window.getComputedStyle(node, null);\r\n    return style[style.getPropertyValue ? 'getPropertyValue' : 'getAttribute'](\r\n      name,\r\n    );\r\n  },\r\n};\r\n\r\n// 默认内置方法。\r\nvar layer = {\r\n  v: '3.7.0',\r\n  ie: (function () {\r\n    // ie 版本\r\n    var agent = navigator.userAgent.toLowerCase();\r\n    return !!window.ActiveXObject || 'ActiveXObject' in window\r\n      ? (agent.match(/msie\\s(\\d+)/) || [])[1] || '11' // 由于 ie11 并没有 msie 的标识\r\n      : false;\r\n  })(),\r\n  config: function (options) {\r\n    options = options || {};\r\n    layer.cache = ready.config = $.extend({}, ready.config, options);\r\n    typeof options.extend === 'string' && (options.extend = [options.extend]);\r\n\r\n    return this;\r\n  },\r\n\r\n  // 主体 CSS 等待事件（已弃用）\r\n  ready: function (callback) {\r\n    typeof callback === 'function' && callback();\r\n    return this;\r\n  },\r\n\r\n  // 各种快捷引用\r\n  alert: function (content, options, yes) {\r\n    var type = typeof options === 'function';\r\n    if (type) yes = options;\r\n    return layer.open(\r\n      $.extend(\r\n        {\r\n          content: content,\r\n          yes: yes,\r\n        },\r\n        type ? {} : options,\r\n      ),\r\n    );\r\n  },\r\n\r\n  confirm: function (content, options, yes, cancel) {\r\n    var type = typeof options === 'function';\r\n    if (type) {\r\n      cancel = yes;\r\n      yes = options;\r\n    }\r\n    return layer.open(\r\n      $.extend(\r\n        {\r\n          content: content,\r\n          btn: [i18n.$t('layer.confirm'), i18n.$t('layer.cancel')],\r\n          yes: yes,\r\n          btn2: cancel,\r\n        },\r\n        type ? {} : options,\r\n      ),\r\n    );\r\n  },\r\n\r\n  msg: function (content, options, end) {\r\n    // 最常用提示层\r\n    var type = typeof options === 'function',\r\n      rskin = ready.config.skin;\r\n    var skin = (rskin ? rskin + ' ' + rskin + '-msg' : '') || 'layui-layer-msg';\r\n    var anim = doms.anim.length - 1;\r\n    if (type) end = options;\r\n    return layer.open(\r\n      $.extend(\r\n        {\r\n          content: content,\r\n          time: 3000,\r\n          shade: false,\r\n          skin: skin,\r\n          title: false,\r\n          closeBtn: false,\r\n          btn: false,\r\n          resize: false,\r\n          end: end,\r\n          removeFocus: false,\r\n        },\r\n        type && !ready.config.skin\r\n          ? {\r\n              skin: skin + ' layui-layer-hui',\r\n              anim: anim,\r\n            }\r\n          : (function () {\r\n              options = options || {};\r\n              if (\r\n                options.icon === -1 ||\r\n                (options.icon === undefined && !ready.config.skin)\r\n              ) {\r\n                options.skin = skin + ' ' + (options.skin || 'layui-layer-hui');\r\n              }\r\n              return options;\r\n            })(),\r\n      ),\r\n    );\r\n  },\r\n\r\n  load: function (icon, options) {\r\n    return layer.open(\r\n      $.extend(\r\n        {\r\n          type: 3,\r\n          icon: icon || 0,\r\n          resize: false,\r\n          shade: 0.01,\r\n          removeFocus: false,\r\n        },\r\n        options,\r\n      ),\r\n    );\r\n  },\r\n\r\n  tips: function (content, follow, options) {\r\n    return layer.open(\r\n      $.extend(\r\n        {\r\n          type: 4,\r\n          content: [content, follow],\r\n          closeBtn: false,\r\n          time: 3000,\r\n          shade: false,\r\n          resize: false,\r\n          fixed: false,\r\n          maxWidth: 260,\r\n          removeFocus: false,\r\n        },\r\n        options,\r\n      ),\r\n    );\r\n  },\r\n};\r\n\r\nvar Class = function (setings) {\r\n  var that = this,\r\n    creat = function () {\r\n      that.creat();\r\n    };\r\n  // TODO 临时的同步方案\r\n  ready.config.title = i18n.$t('layer.defaultTitle');\r\n  that.index = layer.index = lay.autoIncrementer('layer');\r\n  that.config.maxWidth = $(win).width() - 15 * 2; // 初始最大宽度：当前屏幕宽，左右留 15px 边距\r\n  that.config = $.extend({}, that.config, ready.config, setings);\r\n  document.body\r\n    ? creat()\r\n    : setTimeout(function () {\r\n        creat();\r\n      }, 30);\r\n};\r\n\r\nClass.pt = Class.prototype;\r\n\r\n// 缓存常用字符\r\nvar doms = [\r\n  'layui-layer',\r\n  '.layui-layer-title',\r\n  '.layui-layer-main',\r\n  '.layui-layer-dialog',\r\n  'layui-layer-iframe',\r\n  'layui-layer-content',\r\n  'layui-layer-btn',\r\n  'layui-layer-close',\r\n];\r\n\r\n// 内置动画类\r\ndoms.anim = {\r\n  // 旧版动画\r\n  0: 'layer-anim-00',\r\n  1: 'layer-anim-01',\r\n  2: 'layer-anim-02',\r\n  3: 'layer-anim-03',\r\n  4: 'layer-anim-04',\r\n  5: 'layer-anim-05',\r\n  6: 'layer-anim-06',\r\n\r\n  // 滑出方向\r\n  slideDown: 'layer-anim-slide-down',\r\n  slideLeft: 'layer-anim-slide-left',\r\n  slideUp: 'layer-anim-slide-up',\r\n  slideRight: 'layer-anim-slide-right',\r\n};\r\n\r\ndoms.SHADE = 'layui-layer-shade';\r\ndoms.MOVE = 'layui-layer-move';\r\n\r\nvar SHADE_KEY = 'LAYUI-LAYER-SHADE-KEY';\r\nvar RECORD_HEIGHT_KEY = 'LAYUI_LAYER_CONTENT_RECORD_HEIGHT';\r\n\r\n// 默认配置\r\nClass.pt.config = {\r\n  type: 0,\r\n  shade: 0.3,\r\n  fixed: true,\r\n  move: doms[1],\r\n  title: i18n.$t('layer.defaultTitle'),\r\n  offset: 'auto',\r\n  area: 'auto',\r\n  closeBtn: 1,\r\n  icon: -1,\r\n  time: 0, // 0 表示不自动关闭\r\n  zIndex: 19891014,\r\n  maxWidth: 360,\r\n  anim: 0,\r\n  isOutAnim: true, // 退出动画\r\n  minStack: true, // 最小化堆叠\r\n  moveType: 1,\r\n  resize: true,\r\n  scrollbar: true, // 是否允许浏览器滚动条\r\n  tips: 2,\r\n};\r\n\r\n// 容器\r\nClass.pt.vessel = function (conType, callback) {\r\n  var that = this,\r\n    times = that.index,\r\n    config = that.config;\r\n  var zIndex = config.zIndex + times,\r\n    titype = typeof config.title === 'object';\r\n  var ismax = config.maxmin && (config.type === 1 || config.type === 2);\r\n  var titleHTML = config.title\r\n    ? '<div class=\"layui-layer-title\" style=\"' +\r\n      (titype ? config.title[1] : '') +\r\n      '\">' +\r\n      (titype ? config.title[0] : config.title) +\r\n      '</div>'\r\n    : '';\r\n\r\n  config.zIndex = zIndex;\r\n  callback(\r\n    [\r\n      // 遮罩\r\n      config.shade\r\n        ? '<div class=\"' +\r\n          doms.SHADE +\r\n          '\" id=\"' +\r\n          doms.SHADE +\r\n          times +\r\n          '\" times=\"' +\r\n          times +\r\n          '\" style=\"' +\r\n          ('z-index:' + (zIndex - 1) + '; ') +\r\n          '\"></div>'\r\n        : '',\r\n\r\n      // 主体\r\n      '<div class=\"' +\r\n        doms[0] +\r\n        (' layui-layer-' + ready.type[config.type]) +\r\n        ((config.type == 0 || config.type == 2) && !config.shade\r\n          ? ' layui-layer-border'\r\n          : '') +\r\n        ' ' +\r\n        (config.skin || '') +\r\n        '\" id=\"' +\r\n        doms[0] +\r\n        times +\r\n        '\" type=\"' +\r\n        ready.type[config.type] +\r\n        '\" times=\"' +\r\n        times +\r\n        '\" showtime=\"' +\r\n        config.time +\r\n        '\" conType=\"' +\r\n        (conType ? 'object' : 'string') +\r\n        '\" style=\"z-index: ' +\r\n        zIndex +\r\n        '; width:' +\r\n        config.area[0] +\r\n        ';height:' +\r\n        config.area[1] +\r\n        ';position:' +\r\n        (config.fixed ? 'fixed;' : 'absolute;') +\r\n        '\">' +\r\n        (conType && config.type != 2 ? '' : titleHTML) +\r\n        // 内容区\r\n        '<div' +\r\n        (config.id ? ' id=\"' + config.id + '\"' : '') +\r\n        ' class=\"layui-layer-content' +\r\n        (config.type == 0 && config.icon !== -1 ? ' layui-layer-padding' : '') +\r\n        (config.type == 3 ? ' layui-layer-loading' + config.icon : '') +\r\n        '\">' +\r\n        // 表情或图标\r\n        (function () {\r\n          var face = [\r\n            'layui-icon-tips',\r\n            'layui-icon-success',\r\n            'layui-icon-error',\r\n            'layui-icon-question',\r\n            'layui-icon-lock',\r\n            'layui-icon-face-cry',\r\n            'layui-icon-face-smile',\r\n          ];\r\n\r\n          var additFaceClass;\r\n\r\n          // 动画类\r\n          var animClass = 'layui-anim layui-anim-rotate layui-anim-loop';\r\n\r\n          // 信息框表情\r\n          if (config.type == 0 && config.icon !== -1) {\r\n            // 加载（加载图标）\r\n            if (config.icon == 16) {\r\n              additFaceClass = 'layui-icon layui-icon-loading ' + animClass;\r\n            }\r\n            return (\r\n              '<i class=\"layui-layer-face layui-icon ' +\r\n              (additFaceClass || face[config.icon] || face[0]) +\r\n              '\"></i>'\r\n            );\r\n          }\r\n\r\n          // 加载层图标\r\n          if (config.type == 3) {\r\n            var type = ['layui-icon-loading', 'layui-icon-loading-1'];\r\n            // 风格 2\r\n            if (config.icon == 2) {\r\n              return (\r\n                '<div class=\"layui-layer-loading-2 ' + animClass + '\"></div>'\r\n              );\r\n            }\r\n            return (\r\n              '<i class=\"layui-layer-loading-icon layui-icon ' +\r\n              (type[config.icon] || type[0]) +\r\n              ' ' +\r\n              animClass +\r\n              '\"></i>'\r\n            );\r\n          }\r\n\r\n          return '';\r\n        })() +\r\n        (config.type == 1 && conType ? '' : config.content || '') +\r\n        '</div>' +\r\n        // 右上角按钮\r\n        '<div class=\"layui-layer-setwin\">' +\r\n        (function () {\r\n          var arr = [];\r\n\r\n          // 最小化、最大化\r\n          if (ismax) {\r\n            arr.push('<span class=\"layui-layer-min\"></span>');\r\n            arr.push('<span class=\"layui-layer-max\"></span>');\r\n          }\r\n\r\n          // 关闭按钮\r\n          if (config.closeBtn) {\r\n            arr.push(\r\n              '<span class=\"layui-icon layui-icon-close ' +\r\n                [\r\n                  doms[7],\r\n                  doms[7] +\r\n                    (config.title\r\n                      ? config.closeBtn\r\n                      : config.type == 4\r\n                        ? '1'\r\n                        : '2'),\r\n                ].join(' ') +\r\n                '\"></span>',\r\n            );\r\n          }\r\n\r\n          return arr.join('');\r\n        })() +\r\n        '</div>' +\r\n        // 底部按钮\r\n        (config.btn\r\n          ? (function () {\r\n              var button = '';\r\n              typeof config.btn === 'string' && (config.btn = [config.btn]);\r\n              for (var i = 0, len = config.btn.length; i < len; i++) {\r\n                button +=\r\n                  '<a class=\"' +\r\n                  doms[6] +\r\n                  '' +\r\n                  i +\r\n                  '\">' +\r\n                  config.btn[i] +\r\n                  '</a>';\r\n              }\r\n              return (\r\n                '<div class=\"' +\r\n                (function () {\r\n                  var className = [doms[6]];\r\n                  if (config.btnAlign)\r\n                    className.push(doms[6] + '-' + config.btnAlign);\r\n                  return className.join(' ');\r\n                })() +\r\n                '\">' +\r\n                button +\r\n                '</div>'\r\n              );\r\n            })()\r\n          : '') +\r\n        (config.resize ? '<span class=\"layui-layer-resize\"></span>' : '') +\r\n        '</div>',\r\n    ],\r\n    titleHTML,\r\n    $('<div class=\"' + doms.MOVE + '\" id=\"' + doms.MOVE + '\"></div>'),\r\n  );\r\n  return that;\r\n};\r\n\r\n// 创建骨架\r\nClass.pt.creat = function () {\r\n  var that = this;\r\n  var config = that.config;\r\n  var times = that.index;\r\n  var content = config.content;\r\n  var conType = typeof content === 'object';\r\n  var body = $('body');\r\n\r\n  var setAnim = function (layero) {\r\n    // anim 兼容旧版 shift\r\n    if (config.shift) {\r\n      config.anim = config.shift;\r\n    }\r\n\r\n    // 为兼容 jQuery3.0 的 css 动画影响元素尺寸计算\r\n    if (doms.anim[config.anim]) {\r\n      var animClass = 'layer-anim ' + doms.anim[config.anim];\r\n      layero\r\n        .addClass(animClass)\r\n        .one(\r\n          'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',\r\n          function () {\r\n            $(this).removeClass(animClass);\r\n          },\r\n        );\r\n    }\r\n  };\r\n\r\n  // 若 id 对应的弹层已经存在，则不重新创建\r\n  if (config.id && $('.' + doms[0]).find('#' + config.id)[0]) {\r\n    return (function () {\r\n      var layero = $('#' + config.id).closest('.' + doms[0]);\r\n      var index = layero.attr('times');\r\n      var options = layero.data('config');\r\n      var elemShade = $('#' + doms.SHADE + index);\r\n\r\n      var maxminStatus = layero.data('maxminStatus') || {};\r\n      // 若弹层为最小化状态，则点击目标元素时，自动还原\r\n      if (maxminStatus === 'min') {\r\n        layer.restore(index);\r\n      } else if (options.hideOnClose) {\r\n        elemShade.show();\r\n        layero.show();\r\n        setAnim(layero);\r\n        setTimeout(function () {\r\n          elemShade.css({ opacity: elemShade.data(SHADE_KEY) });\r\n        }, 10);\r\n      }\r\n    })();\r\n  }\r\n\r\n  // 是否移除活动元素的焦点\r\n  if (config.removeFocus && document.activeElement) {\r\n    document.activeElement.blur(); // 将原始的聚焦节点失焦\r\n  }\r\n\r\n  // 初始化 area 属性\r\n  if (typeof config.area === 'string') {\r\n    config.area = config.area === 'auto' ? ['', ''] : [config.area, ''];\r\n  }\r\n\r\n  switch (config.type) {\r\n    case 0:\r\n      config.btn = 'btn' in config ? config.btn : i18n.$t('layer.confirm');\r\n      layer.closeAll('dialog');\r\n      break;\r\n    case 2:\r\n      content = config.content = conType\r\n        ? config.content\r\n        : [config.content || '', 'auto'];\r\n      config.content =\r\n        '<iframe scrolling=\"' +\r\n        (config.content[1] || 'auto') +\r\n        '\" allowtransparency=\"true\" id=\"' +\r\n        doms[4] +\r\n        '' +\r\n        times +\r\n        '\" name=\"' +\r\n        doms[4] +\r\n        '' +\r\n        times +\r\n        '\" onload=\"this.className=\\'\\';\" class=\"layui-layer-load\" frameborder=\"0\" src=\"' +\r\n        config.content[0] +\r\n        '\"></iframe>';\r\n      break;\r\n    case 3:\r\n      delete config.title;\r\n      delete config.closeBtn;\r\n      config.icon === -1 && config.icon === 0;\r\n      layer.closeAll('loading');\r\n      break;\r\n    case 4:\r\n      conType || (config.content = [config.content, 'body']);\r\n      config.follow = config.content[1];\r\n      config.content = config.content[0] + '<i class=\"layui-layer-TipsG\"></i>';\r\n      delete config.title;\r\n      config.tips =\r\n        typeof config.tips === 'object' ? config.tips : [config.tips, true];\r\n      config.tipsMore || layer.closeAll('tips');\r\n      break;\r\n  }\r\n\r\n  // 建立容器\r\n  that\r\n    .vessel(conType, function (html, titleHTML, moveElem) {\r\n      body.append(html[0]);\r\n      conType\r\n        ? (function () {\r\n            config.type == 2 || config.type == 4\r\n              ? (function () {\r\n                  $('body').append(html[1]);\r\n                })()\r\n              : (function () {\r\n                  if (!content.parents('.' + doms[0])[0]) {\r\n                    content\r\n                      .data('display', content.css('display'))\r\n                      .show()\r\n                      .addClass('layui-layer-wrap')\r\n                      .wrap(html[1]);\r\n                    $('#' + doms[0] + times)\r\n                      .find('.' + doms[5])\r\n                      .before(titleHTML);\r\n                  }\r\n                })();\r\n          })()\r\n        : body.append(html[1]);\r\n      $('#' + doms.MOVE)[0] || body.append((ready.moveElem = moveElem));\r\n\r\n      that.layero = $('#' + doms[0] + times);\r\n      that.shadeo = $('#' + doms.SHADE + times);\r\n\r\n      config.scrollbar || ready.setScrollbar(times);\r\n    })\r\n    .auto(times);\r\n\r\n  // 遮罩\r\n  that.shadeo.css({\r\n    'background-color': config.shade[1] || '#000',\r\n    opacity: config.shade[0] || config.shade,\r\n    transition: config.shade[2] || '',\r\n  });\r\n  that.shadeo.data(SHADE_KEY, config.shade[0] || config.shade);\r\n\r\n  // 坐标自适应浏览器窗口尺寸\r\n  config.type == 4\r\n    ? that.tips()\r\n    : (function () {\r\n        that.offset();\r\n        // 首次弹出时，若 css 尚未加载，则等待 css 加载完毕后，重新设定尺寸\r\n        parseInt(\r\n          ready.getStyle(document.getElementById(doms.MOVE), 'z-index'),\r\n        ) ||\r\n          (function () {\r\n            that.layero.css('visibility', 'hidden');\r\n            layer.ready(function () {\r\n              that.offset();\r\n              that.layero.css('visibility', 'visible');\r\n            });\r\n          })();\r\n      })();\r\n\r\n  // 若是固定定位，则跟随 resize 事件来自适应坐标\r\n  if (config.fixed) {\r\n    if (!ready.events.resize[that.index]) {\r\n      ready.events.resize[that.index] = function () {\r\n        that.resize();\r\n      };\r\n      // 此处 resize 事件不会一直叠加，当关闭弹层时会移除该事件\r\n      win.on('resize', ready.events.resize[that.index]);\r\n    }\r\n  }\r\n\r\n  // 记录配置信息\r\n  that.layero.data('config', config);\r\n\r\n  // 自动关闭\r\n  config.time <= 0 ||\r\n    setTimeout(function () {\r\n      layer.close(that.index);\r\n    }, config.time);\r\n\r\n  that.move().callback();\r\n  setAnim(that.layero);\r\n};\r\n\r\n// 当前实例的 resize 事件\r\nClass.pt.resize = function () {\r\n  var that = this;\r\n  var config = that.config;\r\n\r\n  that.offset();\r\n  (/^\\d+%$/.test(config.area[0]) || /^\\d+%$/.test(config.area[1])) &&\r\n    that.auto(that.index);\r\n  config.type == 4 && that.tips();\r\n};\r\n\r\n// 自适应\r\nClass.pt.auto = function (index) {\r\n  var that = this,\r\n    config = that.config,\r\n    layero = $('#' + doms[0] + index);\r\n\r\n  if (\r\n    (config.area[0] === '' || config.area[0] === 'auto') &&\r\n    config.maxWidth > 0\r\n  ) {\r\n    layero.outerWidth() > config.maxWidth && layero.width(config.maxWidth);\r\n  }\r\n\r\n  var area = [layero.innerWidth(), layero.innerHeight()];\r\n  var titHeight = layero.find(doms[1]).outerHeight() || 0;\r\n  var btnHeight = layero.find('.' + doms[6]).outerHeight() || 0;\r\n  var setHeight = function (elem) {\r\n    elem = layero.find(elem);\r\n    elem.height(\r\n      area[1] -\r\n        titHeight -\r\n        btnHeight -\r\n        2 * (parseFloat(elem.css('padding-top')) | 0),\r\n    );\r\n  };\r\n\r\n  switch (config.type) {\r\n    case 2:\r\n      setHeight('iframe');\r\n      break;\r\n    default:\r\n      if (config.area[1] === '' || config.area[1] === 'auto') {\r\n        if (config.maxHeight > 0 && layero.outerHeight() > config.maxHeight) {\r\n          area[1] = config.maxHeight;\r\n          setHeight('.' + doms[5]);\r\n        } else if (config.fixed && area[1] >= win.height()) {\r\n          area[1] = win.height();\r\n          setHeight('.' + doms[5]);\r\n        }\r\n      } else {\r\n        setHeight('.' + doms[5]);\r\n      }\r\n      break;\r\n  }\r\n\r\n  return that;\r\n};\r\n\r\n// 计算坐标\r\nClass.pt.offset = function () {\r\n  var that = this,\r\n    config = that.config,\r\n    layero = that.layero;\r\n  var coords = ready.updatePosition(layero, config);\r\n\r\n  that.offsetTop = coords.offsetTop;\r\n  that.offsetLeft = coords.offsetLeft;\r\n};\r\n\r\n// Tips\r\nClass.pt.tips = function () {\r\n  var that = this,\r\n    config = that.config,\r\n    layero = that.layero;\r\n  var layArea = [layero.outerWidth(), layero.outerHeight()],\r\n    follow = $(config.follow);\r\n  if (!follow[0]) follow = $('body');\r\n  var goal = {\r\n      width: follow.outerWidth(),\r\n      height: follow.outerHeight(),\r\n      top: follow.offset().top,\r\n      left: follow.offset().left,\r\n    },\r\n    tipsG = layero.find('.layui-layer-TipsG');\r\n\r\n  var guide = config.tips[0];\r\n  config.tips[1] || tipsG.remove();\r\n\r\n  goal.autoLeft = function () {\r\n    if (goal.left + layArea[0] - win.width() > 0) {\r\n      goal.tipLeft = goal.left + goal.width - layArea[0];\r\n      tipsG.css({ right: 12, left: 'auto' });\r\n    } else {\r\n      goal.tipLeft =\r\n        goal.left - (goal.width * 0.75 < 21 ? 21 - goal.width * 0.5 : 0);\r\n      goal.tipLeft = Math.max(goal.tipLeft, 0);\r\n    }\r\n  };\r\n\r\n  // 辨别 tips 的方位\r\n  // 21 为箭头大小 8*2 + 箭头相对父元素的top偏移 5\r\n  goal.where = [\r\n    function () {\r\n      // 上\r\n      goal.autoLeft();\r\n      goal.tipTop = goal.top - layArea[1] - 10;\r\n      tipsG\r\n        .removeClass('layui-layer-TipsB')\r\n        .addClass('layui-layer-TipsT')\r\n        .css('border-right-color', config.tips[1]);\r\n    },\r\n    function () {\r\n      // 右\r\n      goal.tipLeft = goal.left + goal.width + 10;\r\n      goal.tipTop =\r\n        goal.top - (goal.height * 0.75 < 21 ? 21 - goal.height * 0.5 : 0);\r\n      goal.tipTop = Math.max(goal.tipTop, 0);\r\n      tipsG\r\n        .removeClass('layui-layer-TipsL')\r\n        .addClass('layui-layer-TipsR')\r\n        .css('border-bottom-color', config.tips[1]);\r\n    },\r\n    function () {\r\n      // 下\r\n      goal.autoLeft();\r\n      goal.tipTop = goal.top + goal.height + 10;\r\n      tipsG\r\n        .removeClass('layui-layer-TipsT')\r\n        .addClass('layui-layer-TipsB')\r\n        .css('border-right-color', config.tips[1]);\r\n    },\r\n    function () {\r\n      // 左\r\n      goal.tipLeft = goal.left - layArea[0] - 10;\r\n      goal.tipTop =\r\n        goal.top - (goal.height * 0.75 < 21 ? 21 - goal.height * 0.5 : 0);\r\n      goal.tipTop = Math.max(goal.tipTop, 0);\r\n      tipsG\r\n        .removeClass('layui-layer-TipsR')\r\n        .addClass('layui-layer-TipsL')\r\n        .css('border-bottom-color', config.tips[1]);\r\n    },\r\n  ];\r\n  goal.where[guide - 1]();\r\n\r\n  /* 8*2为小三角形占据的空间 */\r\n  if (guide === 1) {\r\n    goal.top - (win.scrollTop() + layArea[1] + 8 * 2) < 0 && goal.where[2]();\r\n  } else if (guide === 2) {\r\n    win.width() - (goal.left + goal.width + layArea[0] + 8 * 2) > 0 ||\r\n      goal.where[3]();\r\n  } else if (guide === 3) {\r\n    goal.top -\r\n      win.scrollTop() +\r\n      goal.height +\r\n      layArea[1] +\r\n      8 * 2 -\r\n      win.height() >\r\n      0 && goal.where[0]();\r\n  } else if (guide === 4) {\r\n    layArea[0] + 8 * 2 - goal.left > 0 && goal.where[1]();\r\n  }\r\n\r\n  layero.find('.' + doms[5]).css({\r\n    'background-color': config.tips[1],\r\n    'padding-right': config.closeBtn ? '30px' : '',\r\n  });\r\n  layero.css({\r\n    left: goal.tipLeft - (config.fixed ? win.scrollLeft() : 0),\r\n    top: goal.tipTop - (config.fixed ? win.scrollTop() : 0),\r\n  });\r\n};\r\n\r\n// 拖拽层\r\nClass.pt.move = function () {\r\n  var that = this;\r\n  var config = that.config;\r\n  var _DOC = $(document);\r\n  var layero = that.layero;\r\n  var DATA_NAME = ['LAY_MOVE_DICT', 'LAY_RESIZE_DICT'];\r\n  var moveElem = layero.find(config.move);\r\n  var resizeElem = layero.find('.layui-layer-resize');\r\n\r\n  // 给指定元素添加拖动光标\r\n  if (config.move) moveElem.css('cursor', 'move');\r\n\r\n  // 按下拖动元素\r\n  moveElem.on('mousedown', function (e) {\r\n    if (e.button) {\r\n      return;\r\n    } // 不是左键不处理\r\n    var othis = $(this);\r\n    var dict = {};\r\n\r\n    if (config.move) {\r\n      dict.layero = layero;\r\n      dict.config = config;\r\n      dict.offset = [\r\n        e.clientX - parseFloat(layero.css('left')),\r\n        e.clientY - parseFloat(layero.css('top')),\r\n      ];\r\n\r\n      othis.data(DATA_NAME[0], dict);\r\n      ready.eventMoveElem = othis;\r\n      ready.moveElem.css('cursor', 'move').show();\r\n    }\r\n\r\n    e.preventDefault();\r\n  });\r\n\r\n  // 按下右下角拉伸\r\n  resizeElem.on('mousedown', function (e) {\r\n    var othis = $(this);\r\n    var dict = {};\r\n\r\n    if (config.resize) {\r\n      dict.layero = layero;\r\n      dict.config = config;\r\n      dict.offset = [e.clientX, e.clientY];\r\n      dict.index = that.index;\r\n      dict.area = [layero.outerWidth(), layero.outerHeight()];\r\n\r\n      othis.data(DATA_NAME[1], dict);\r\n      ready.eventResizeElem = othis;\r\n      ready.moveElem.css('cursor', 'se-resize').show();\r\n    }\r\n\r\n    e.preventDefault();\r\n  });\r\n\r\n  // 拖动元素，避免多次调用实例造成事件叠加\r\n  if (ready.docEvent) return that;\r\n  _DOC\r\n    .on('mousemove', function (e) {\r\n      var dict, config, X, Y;\r\n\r\n      // 拖拽移动\r\n      if (ready.eventMoveElem) {\r\n        dict = ready.eventMoveElem.data(DATA_NAME[0]) || {};\r\n        config = dict.config;\r\n        X = e.clientX - dict.offset[0];\r\n        Y = e.clientY - dict.offset[1];\r\n\r\n        var layero = dict.layero;\r\n        var fixed = layero.css('position') === 'fixed';\r\n\r\n        e.preventDefault();\r\n\r\n        dict.stX = fixed ? 0 : win.scrollLeft();\r\n        dict.stY = fixed ? 0 : win.scrollTop();\r\n\r\n        // 控制元素不被拖出窗口外\r\n        if (!config.moveOut) {\r\n          var setRig = win.width() - layero.outerWidth() + dict.stX;\r\n          var setBot = win.height() - layero.outerHeight() + dict.stY;\r\n          X < dict.stX && (X = dict.stX);\r\n          X > setRig && (X = setRig);\r\n          Y < dict.stY && (Y = dict.stY);\r\n          Y > setBot && (Y = setBot);\r\n        }\r\n\r\n        // 拖动时跟随鼠标位置\r\n        layero.css({\r\n          left: X,\r\n          top: Y,\r\n        });\r\n      }\r\n\r\n      // Resize\r\n      if (ready.eventResizeElem) {\r\n        dict = ready.eventResizeElem.data(DATA_NAME[1]) || {};\r\n        config = dict.config;\r\n        X = e.clientX - dict.offset[0];\r\n        Y = e.clientY - dict.offset[1];\r\n\r\n        e.preventDefault();\r\n\r\n        // 拉伸宽高\r\n        layer.style(dict.index, {\r\n          width: dict.area[0] + X,\r\n          height: dict.area[1] + Y,\r\n        });\r\n\r\n        config.resizing && config.resizing(dict.layero);\r\n      }\r\n    })\r\n    .on('mouseup', function () {\r\n      if (ready.eventMoveElem) {\r\n        var dict = ready.eventMoveElem.data(DATA_NAME[0]) || {};\r\n        var config = dict.config;\r\n\r\n        ready.eventMoveElem.removeData(DATA_NAME[0]);\r\n        delete ready.eventMoveElem;\r\n        ready.moveElem.hide();\r\n        config.moveEnd && config.moveEnd(dict.layero);\r\n      }\r\n      if (ready.eventResizeElem) {\r\n        ready.eventResizeElem.removeData(DATA_NAME[1]);\r\n        delete ready.eventResizeElem;\r\n        ready.moveElem.hide();\r\n      }\r\n    });\r\n\r\n  ready.docEvent = true; // 已给 document 执行全局事件\r\n  return that;\r\n};\r\n\r\nClass.pt.btnLoading = function (btnElem, isLoading) {\r\n  if (isLoading) {\r\n    var loadingTpl =\r\n      '<i class=\"layui-layer-btn-loading-icon layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop\"></i>';\r\n    if (btnElem.find('.layui-layer-btn-loading-icon')[0]) return;\r\n    btnElem\r\n      .addClass('layui-layer-btn-is-loading')\r\n      .attr({ disabled: '' })\r\n      .prepend(loadingTpl);\r\n  } else {\r\n    btnElem\r\n      .removeClass('layui-layer-btn-is-loading')\r\n      .removeAttr('disabled')\r\n      .find('.layui-layer-btn-loading-icon')\r\n      .remove();\r\n  }\r\n};\r\n\r\nClass.pt.callback = function () {\r\n  var that = this,\r\n    layero = that.layero,\r\n    config = that.config;\r\n  that.openLayer();\r\n  if (config.success) {\r\n    if (config.type == 2) {\r\n      layero.find('iframe').on('load', function () {\r\n        config.success(layero, that.index, that);\r\n      });\r\n    } else {\r\n      config.success(layero, that.index, that);\r\n    }\r\n  }\r\n\r\n  // 按钮\r\n  layero\r\n    .find('.' + doms[6])\r\n    .children('a')\r\n    .on('click', function () {\r\n      var btnElem = $(this);\r\n      var index = btnElem.index();\r\n      if (btnElem.attr('disabled')) return;\r\n\r\n      // 若为异步按钮\r\n      if (config.btnAsync) {\r\n        var btnCallback =\r\n          index === 0\r\n            ? config.yes || config['btn1']\r\n            : config['btn' + (index + 1)];\r\n        that.loading = function (isLoading) {\r\n          that.btnLoading(btnElem, isLoading);\r\n        };\r\n\r\n        if (btnCallback) {\r\n          ready\r\n            .promiseLikeResolve(\r\n              btnCallback.call(config, that.index, layero, that),\r\n            )\r\n            .then(\r\n              function (result) {\r\n                if (result !== false) {\r\n                  layer.close(that.index);\r\n                }\r\n              },\r\n              function (reason) {\r\n                reason !== undefined &&\r\n                  window.console &&\r\n                  window.console.error('layer error hint: ' + reason);\r\n              },\r\n            );\r\n        } else {\r\n          layer.close(that.index);\r\n        }\r\n      } else {\r\n        // 普通按钮\r\n        if (index === 0) {\r\n          if (config.yes) {\r\n            config.yes(that.index, layero, that);\r\n          } else if (config['btn1']) {\r\n            config['btn1'](that.index, layero, that);\r\n          } else {\r\n            layer.close(that.index);\r\n          }\r\n        } else {\r\n          var close =\r\n            config['btn' + (index + 1)] &&\r\n            config['btn' + (index + 1)](that.index, layero, that);\r\n          close === false || layer.close(that.index);\r\n        }\r\n      }\r\n    });\r\n\r\n  // 取消\r\n  function cancel() {\r\n    var close = config.cancel && config.cancel(that.index, layero, that);\r\n    close === false || layer.close(that.index);\r\n  }\r\n\r\n  // 右上角关闭回调\r\n  layero.find('.' + doms[7]).on('click', cancel);\r\n\r\n  // 点遮罩关闭\r\n  if (config.shadeClose) {\r\n    that.shadeo.on('click', function () {\r\n      layer.close(that.index);\r\n    });\r\n  }\r\n\r\n  // 最小化\r\n  layero.find('.layui-layer-min').on('click', function () {\r\n    var min = config.min && config.min(layero, that.index, that);\r\n    min === false || layer.min(that.index, config);\r\n  });\r\n\r\n  // 全屏/还原\r\n  layero.find('.layui-layer-max').on('click', function () {\r\n    if ($(this).hasClass('layui-layer-maxmin')) {\r\n      layer.restore(that.index);\r\n      config.restore && config.restore(layero, that.index, that);\r\n    } else {\r\n      layer.full(that.index, config);\r\n      setTimeout(function () {\r\n        config.full && config.full(layero, that.index, that);\r\n      }, 100);\r\n    }\r\n  });\r\n\r\n  config.end && (ready.end[that.index] = config.end);\r\n  config.beforeEnd &&\r\n    (ready.beforeEnd[that.index] = $.proxy(\r\n      config.beforeEnd,\r\n      config,\r\n      layero,\r\n      that.index,\r\n      that,\r\n    ));\r\n};\r\n\r\n// 需依赖原型的对外方法\r\nClass.pt.openLayer = function () {\r\n  var that = this;\r\n\r\n  // 置顶当前窗口\r\n  layer.zIndex = that.config.zIndex;\r\n  layer.setTop = function (layero) {\r\n    var setZindex = function () {\r\n      layer.zIndex++;\r\n      layero.css('z-index', layer.zIndex + 1);\r\n    };\r\n    layer.zIndex = parseInt(layero[0].style.zIndex);\r\n    layero.on('mousedown', setZindex);\r\n    return layer.zIndex;\r\n  };\r\n};\r\n\r\n// 记录宽高坐标，用于还原\r\nready.record = function (layero) {\r\n  if (!layero[0]) return window.console && console.error('index error');\r\n  var type = layero.attr('type');\r\n  var contentElem = layero.find('.layui-layer-content');\r\n  var contentRecordHeightElem =\r\n    type === ready.type[2] ? contentElem.children('iframe') : contentElem;\r\n  var area = [\r\n    layero[0].style.width || ready.getStyle(layero[0], 'width'),\r\n    layero[0].style.height || ready.getStyle(layero[0], 'height'),\r\n    layero.position().top,\r\n    layero.position().left + parseFloat(layero.css('margin-left')),\r\n  ];\r\n  layero.find('.layui-layer-max').addClass('layui-layer-maxmin');\r\n  layero.attr({ area: area });\r\n  contentElem.data(\r\n    RECORD_HEIGHT_KEY,\r\n    ready.getStyle(contentRecordHeightElem[0], 'height'),\r\n  );\r\n};\r\n\r\n// 设置页面滚动条\r\nready.setScrollbar = function () {\r\n  doms.html.css('overflow', 'hidden');\r\n};\r\n\r\n// 恢复页面滚动条\r\nready.restScrollbar = function (index) {\r\n  if (!doms.html.css('overflow')) return;\r\n\r\n  // 关闭和大小化, layer-full 处理\r\n  var targetEl = $('.' + doms[0]).filter(function () {\r\n    var layero = $(this);\r\n    var options = layero.data('config') || {};\r\n    return (\r\n      options.scrollbar === false &&\r\n      layero.data('maxminStatus') !== 'min' &&\r\n      layero.attr('times') !== String(index)\r\n    );\r\n  });\r\n  if (targetEl.length === 0) {\r\n    doms.html.css('overflow', '');\r\n  }\r\n};\r\n\r\n// 类似 Promise.resolve\r\nready.promiseLikeResolve = function (value) {\r\n  var deferred = $.Deferred();\r\n\r\n  if (value && typeof value.then === 'function') {\r\n    value.then(deferred.resolve, deferred.reject);\r\n  } else {\r\n    deferred.resolve(value);\r\n  }\r\n  return deferred.promise();\r\n};\r\n\r\nready.updatePosition = function (layero, config) {\r\n  var area = [layero.outerWidth(), layero.outerHeight()];\r\n  var coords = {\r\n    offsetTop: (win.height() - area[1]) / 2,\r\n    offsetLeft: (win.width() - area[0]) / 2,\r\n  };\r\n\r\n  if (typeof config.offset === 'object') {\r\n    coords.offsetTop = config.offset[0];\r\n    coords.offsetLeft = config.offset[1] || coords.offsetLeft;\r\n  } else if (config.offset !== 'auto') {\r\n    if (config.offset === 't') {\r\n      // 上\r\n      coords.offsetTop = 0;\r\n    } else if (config.offset === 'r') {\r\n      // 右\r\n      coords.offsetLeft = win.width() - area[0];\r\n    } else if (config.offset === 'b') {\r\n      // 下\r\n      coords.offsetTop = win.height() - area[1];\r\n    } else if (config.offset === 'l') {\r\n      // 左\r\n      coords.offsetLeft = 0;\r\n    } else if (config.offset === 'lt') {\r\n      // 左上\r\n      coords.offsetTop = 0;\r\n      coords.offsetLeft = 0;\r\n    } else if (config.offset === 'lb') {\r\n      // 左下\r\n      coords.offsetTop = win.height() - area[1];\r\n      coords.offsetLeft = 0;\r\n    } else if (config.offset === 'rt') {\r\n      // 右上\r\n      coords.offsetTop = 0;\r\n      coords.offsetLeft = win.width() - area[0];\r\n    } else if (config.offset === 'rb') {\r\n      // 右下\r\n      coords.offsetTop = win.height() - area[1];\r\n      coords.offsetLeft = win.width() - area[0];\r\n    } else {\r\n      coords.offsetTop = config.offset;\r\n    }\r\n  }\r\n\r\n  if (!config.fixed) {\r\n    coords.offsetTop = /%$/.test(coords.offsetTop)\r\n      ? (win.height() * parseFloat(coords.offsetTop)) / 100\r\n      : parseFloat(coords.offsetTop);\r\n    coords.offsetLeft = /%$/.test(coords.offsetLeft)\r\n      ? (win.width() * parseFloat(coords.offsetLeft)) / 100\r\n      : parseFloat(coords.offsetLeft);\r\n    coords.offsetTop += win.scrollTop();\r\n    coords.offsetLeft += win.scrollLeft();\r\n  }\r\n\r\n  // 最小化窗口时的自适应\r\n  if (layero.data('maxminStatus') === 'min') {\r\n    coords.offsetTop = win.height() - (layero.find(doms[1]).outerHeight() || 0);\r\n    coords.offsetLeft = layero.css('left');\r\n  }\r\n\r\n  // 设置坐标\r\n  layero.css({\r\n    top: coords.offsetTop,\r\n    left: coords.offsetLeft,\r\n  });\r\n\r\n  return coords;\r\n};\r\n\r\n/**\r\n * 外部方法\r\n */\r\n\r\n// 获取子 iframe 的 DOM\r\nlayer.getChildFrame = function (selector, index) {\r\n  index = index || $('.' + doms[4]).attr('times');\r\n  return $('#' + doms[0] + index)\r\n    .find('iframe')\r\n    .contents()\r\n    .find(selector);\r\n};\r\n\r\n// 得到当前 iframe 层的索引，子 iframe 时使用\r\nlayer.getFrameIndex = function (name) {\r\n  if (!name) return;\r\n  return $('#' + name)\r\n    .parents('.' + doms[4])\r\n    .attr('times');\r\n};\r\n\r\n// iframe 层自适应宽高\r\nlayer.iframeAuto = function (index) {\r\n  if (!index) return;\r\n  var layero = $('#' + doms[0] + index);\r\n  var options = layero.data('config');\r\n  var iframeHeight = layer.getChildFrame('html', index).outerHeight();\r\n  var titleHeight = layero.find(doms[1]).outerHeight() || 0;\r\n  var btnHeight = layero.find('.' + doms[6]).outerHeight() || 0;\r\n  var maxHeight = 'maxHeight' in options ? options.maxHeight : win.height();\r\n  if (maxHeight) {\r\n    iframeHeight = Math.min(iframeHeight, maxHeight - titleHeight - btnHeight);\r\n  }\r\n  layero.css({ height: iframeHeight + titleHeight + btnHeight });\r\n  layero.find('iframe').css({ height: iframeHeight });\r\n\r\n  ready.updatePosition(layero, options);\r\n};\r\n\r\n// 重置 iframe url\r\nlayer.iframeSrc = function (index, url) {\r\n  $('#' + doms[0] + index)\r\n    .find('iframe')\r\n    .attr('src', url);\r\n};\r\n\r\n// 设定层的样式\r\nlayer.style = function (index, options, limit) {\r\n  var layero = $('#' + doms[0] + index);\r\n  var contentElem = layero.find('.layui-layer-content');\r\n  var type = layero.attr('type');\r\n  var titHeight = layero.find(doms[1]).outerHeight() || 0;\r\n  var btnHeight = layero.find('.' + doms[6]).outerHeight() || 0;\r\n  // var minLeft = layero.attr('minLeft');\r\n\r\n  // loading 和 tips 层不允许更改\r\n  if (type === ready.type[3] || type === ready.type[4]) {\r\n    return;\r\n  }\r\n\r\n  if (!limit) {\r\n    if (parseFloat(options.width) <= 260) {\r\n      options.width = 260;\r\n    }\r\n\r\n    if (parseFloat(options.height) - titHeight - btnHeight <= 64) {\r\n      options.height = 64 + titHeight + btnHeight;\r\n    }\r\n  }\r\n  layero.css(options);\r\n  btnHeight = layero.find('.' + doms[6]).outerHeight() || 0;\r\n\r\n  if (type === ready.type[2]) {\r\n    layero.find('iframe').css({\r\n      height:\r\n        (typeof options.height === 'number'\r\n          ? options.height\r\n          : layero.height()) -\r\n        titHeight -\r\n        btnHeight,\r\n    });\r\n  } else {\r\n    contentElem.css({\r\n      height:\r\n        (typeof options.height === 'number'\r\n          ? options.height\r\n          : layero.height()) -\r\n        titHeight -\r\n        btnHeight -\r\n        parseFloat(contentElem.css('padding-top')) -\r\n        parseFloat(contentElem.css('padding-bottom')),\r\n    });\r\n  }\r\n};\r\n\r\n// 最小化\r\nlayer.min = function (index, options) {\r\n  var layero = $('#' + doms[0] + index);\r\n  var maxminStatus = layero.data('maxminStatus');\r\n\r\n  if (maxminStatus === 'min') return; // 当前的状态是否已经是最小化\r\n  if (maxminStatus === 'max') layer.restore(index); // 若当前为最大化，则先还原后再最小化\r\n\r\n  layero.data('maxminStatus', 'min');\r\n  options = options || layero.data('config') || {};\r\n\r\n  var shadeo = $('#' + doms.SHADE + index);\r\n  var elemMin = layero.find('.layui-layer-min');\r\n  var titHeight = layero.find(doms[1]).outerHeight() || 0;\r\n  var minLeft = layero.attr('minLeft'); // 最小化时的横坐标\r\n  var hasMinLeft = typeof minLeft === 'string'; // 是否已经赋值过最小化坐标\r\n  var left = hasMinLeft ? minLeft : 181 * ready.minStackIndex + 'px';\r\n  var position = layero.css('position');\r\n  var minWidth = 180; // 最小化时的宽度\r\n  var settings = {\r\n    width: minWidth,\r\n    height: titHeight,\r\n    position: 'fixed',\r\n    overflow: 'hidden',\r\n  };\r\n\r\n  ready.record(layero); // 记录当前尺寸、坐标，用于还原\r\n\r\n  // 简易最小化补位\r\n  if (ready.minStackArr.length > 0) {\r\n    left = ready.minStackArr[0];\r\n    ready.minStackArr.shift();\r\n  }\r\n\r\n  // left 是否超出边界\r\n  if (parseFloat(left) + minWidth > win.width()) {\r\n    left =\r\n      win.width() -\r\n      minWidth -\r\n      (function () {\r\n        ready.minStackArr.edgeIndex = ready.minStackArr.edgeIndex || 0;\r\n        return (ready.minStackArr.edgeIndex += 3);\r\n      })();\r\n    if (left < 0) left = 0;\r\n  }\r\n\r\n  // 是否堆叠在左下角\r\n  if (options.minStack) {\r\n    settings.left = left;\r\n    settings.top = win.height() - titHeight;\r\n    hasMinLeft || ready.minStackIndex++; // 若未赋值过最小化坐标，则最小化操作索引自增\r\n    layero.attr('minLeft', left);\r\n  }\r\n\r\n  layero.attr('position', position);\r\n  layer.style(index, settings, true);\r\n\r\n  elemMin.hide();\r\n  layero.attr('type') === 'page' && layero.find(doms[4]).hide();\r\n  ready.restScrollbar(index);\r\n\r\n  // 隐藏遮罩\r\n  shadeo.hide();\r\n};\r\n\r\n// 还原\r\nlayer.restore = function (index) {\r\n  var layero = $('#' + doms[0] + index);\r\n  var shadeo = $('#' + doms.SHADE + index);\r\n  var contentElem = layero.find('.layui-layer-content');\r\n  var area = layero.attr('area').split(',');\r\n  var type = layero.attr('type');\r\n  var options = layero.data('config') || {};\r\n  var contentRecordHeight = contentElem.data(RECORD_HEIGHT_KEY);\r\n\r\n  layero.removeData('maxminStatus'); // 移除最大最小状态\r\n\r\n  // 恢复原来尺寸\r\n  layer.style(\r\n    index,\r\n    {\r\n      width: area[0], // 数值或百分比\r\n      height: area[1],\r\n      top: parseFloat(area[2]),\r\n      left: parseFloat(area[3]),\r\n      position: layero.attr('position'),\r\n      overflow: 'visible',\r\n    },\r\n    true,\r\n  );\r\n\r\n  layero.find('.layui-layer-max').removeClass('layui-layer-maxmin');\r\n  layero.find('.layui-layer-min').show();\r\n  type === 'page' && layero.find(doms[4]).show();\r\n\r\n  // 恢复页面滚动条弹层打开时的状态\r\n  options.scrollbar ? ready.restScrollbar(index) : ready.setScrollbar(index);\r\n\r\n  // #1604\r\n  if (contentRecordHeight !== undefined) {\r\n    contentElem.removeData(RECORD_HEIGHT_KEY);\r\n    var contentRecordHeightElem =\r\n      type === ready.type[2] ? contentElem.children('iframe') : contentElem;\r\n    contentRecordHeightElem.css({ height: contentRecordHeight });\r\n  }\r\n\r\n  // 恢复遮罩\r\n  shadeo.show();\r\n  // ready.events.resize[index](); // ?\r\n};\r\n\r\n// 全屏（最大化）\r\nlayer.full = function (index) {\r\n  var layero = $('#' + doms[0] + index);\r\n  var maxminStatus = layero.data('maxminStatus');\r\n\r\n  if (maxminStatus === 'max') return; // 检查当前的状态是否已经是最大化\r\n  if (maxminStatus === 'min') layer.restore(index); // 若当前为最小化，则先还原后再最大化\r\n\r\n  layero.data('maxminStatus', 'max');\r\n  ready.record(layero); // 记录当前尺寸、坐标\r\n\r\n  ready.setScrollbar(index);\r\n\r\n  setTimeout(function () {\r\n    var isfix = layero.css('position') === 'fixed';\r\n    layer.style(\r\n      index,\r\n      {\r\n        top: isfix ? 0 : win.scrollTop(),\r\n        left: isfix ? 0 : win.scrollLeft(),\r\n        width: '100%',\r\n        height: '100%',\r\n      },\r\n      true,\r\n    );\r\n    layero.find('.layui-layer-min').hide();\r\n  }, 100);\r\n};\r\n\r\n// 改变 title\r\nlayer.title = function (name, index) {\r\n  var title = $('#' + doms[0] + (index || layer.index)).find(doms[1]);\r\n  title.html(name);\r\n};\r\n\r\n// 关闭 layer 总方法\r\nlayer.close = function (index, callback) {\r\n  var layero = (function () {\r\n    var closest = $('.' + doms[0])\r\n      .children('#' + index)\r\n      .closest('.' + doms[0]);\r\n    return closest[0]\r\n      ? ((index = closest.attr('times')), closest)\r\n      : $('#' + doms[0] + index);\r\n  })();\r\n  var type = layero.attr('type');\r\n  var options = layero.data('config') || {};\r\n  var hideOnClose = options.id && options.hideOnClose; // 是否关闭时移除弹层容器\r\n\r\n  if (!layero[0]) return;\r\n\r\n  var executor = function () {\r\n    // 关闭动画\r\n    var closeAnim =\r\n      {\r\n        slideDown: 'layer-anim-slide-down-out',\r\n        slideLeft: 'layer-anim-slide-left-out',\r\n        slideUp: 'layer-anim-slide-up-out',\r\n        slideRight: 'layer-anim-slide-right-out',\r\n      }[options.anim] || 'layer-anim-close';\r\n\r\n    // 移除主容器\r\n    var remove = function () {\r\n      var WRAP = 'layui-layer-wrap';\r\n\r\n      // 是否关闭时隐藏弹层容器\r\n      if (hideOnClose) {\r\n        layero.removeClass('layer-anim ' + closeAnim);\r\n        return layero.hide();\r\n      }\r\n\r\n      // 是否为页面捕获层\r\n      if (type === ready.type[1] && layero.attr('conType') === 'object') {\r\n        layero.children(':not(.' + doms[5] + ')').remove();\r\n        var wrap = layero.find('.' + WRAP);\r\n        for (var i = 0; i < 2; i++) {\r\n          wrap.unwrap();\r\n        }\r\n        wrap.css('display', wrap.data('display')).removeClass(WRAP);\r\n      } else {\r\n        // 低版本 IE 回收 iframe\r\n        if (type === ready.type[2]) {\r\n          try {\r\n            var iframe = $('#' + doms[4] + index)[0];\r\n            iframe.contentWindow.document.write('');\r\n            iframe.contentWindow.close();\r\n            layero.find('.' + doms[5])[0].removeChild(iframe);\r\n          } catch {\r\n            // ignore\r\n          }\r\n        }\r\n        layero[0].innerHTML = '';\r\n        layero.remove();\r\n      }\r\n\r\n      typeof ready.end[index] === 'function' && ready.end[index]();\r\n      delete ready.end[index];\r\n      typeof callback === 'function' && callback();\r\n\r\n      // 移除 reisze 事件\r\n      if (ready.events.resize[index]) {\r\n        win.off('resize', ready.events.resize[index]);\r\n        delete ready.events.resize[index];\r\n      }\r\n    };\r\n    // 移除遮罩\r\n    var shadeo = $('#' + doms.SHADE + index);\r\n    if ((layer.ie && layer.ie < 10) || !options.isOutAnim) {\r\n      shadeo[hideOnClose ? 'hide' : 'remove']();\r\n    } else {\r\n      shadeo.css({ opacity: 0 });\r\n      setTimeout(function () {\r\n        shadeo[hideOnClose ? 'hide' : 'remove']();\r\n      }, 350);\r\n    }\r\n\r\n    // 是否允许关闭动画\r\n    if (options.isOutAnim) {\r\n      layero.addClass('layer-anim ' + closeAnim);\r\n    }\r\n\r\n    ready.restScrollbar(index);\r\n\r\n    // 记住被关闭层的最小化堆叠坐标\r\n    if (typeof layero.attr('minLeft') === 'string') {\r\n      ready.minStackIndex--;\r\n      ready.minStackArr.push(layero.attr('minLeft'));\r\n    }\r\n\r\n    if ((layer.ie && layer.ie < 10) || !options.isOutAnim) {\r\n      remove();\r\n    } else {\r\n      setTimeout(function () {\r\n        remove();\r\n      }, 200);\r\n    }\r\n  };\r\n\r\n  if (!hideOnClose && typeof ready.beforeEnd[index] === 'function') {\r\n    ready.promiseLikeResolve(ready.beforeEnd[index]()).then(\r\n      function (result) {\r\n        if (result !== false) {\r\n          delete ready.beforeEnd[index];\r\n          executor();\r\n        }\r\n      },\r\n      function (reason) {\r\n        reason !== undefined &&\r\n          window.console &&\r\n          window.console.error('layer error hint: ' + reason);\r\n      },\r\n    );\r\n  } else {\r\n    delete ready.beforeEnd[index];\r\n    executor();\r\n  }\r\n};\r\n\r\n// 关闭所有层\r\nlayer.closeAll = function (type, callback) {\r\n  if (typeof type === 'function') {\r\n    callback = type;\r\n    type = null;\r\n  }\r\n  var domsElem = $('.' + doms[0]);\r\n  $.each(domsElem, function (_index) {\r\n    var othis = $(this);\r\n    var is = type ? othis.attr('type') === type : 1;\r\n    is &&\r\n      layer.close(\r\n        othis.attr('times'),\r\n        _index === domsElem.length - 1 ? callback : null,\r\n      );\r\n    is = null;\r\n  });\r\n  if (domsElem.length === 0) typeof callback === 'function' && callback();\r\n};\r\n\r\n// 根据弹层类型关闭最近打开的层\r\nlayer.closeLast = function (type, callback) {\r\n  var layerIndexList = [];\r\n  var isArrayType = $.isArray(type);\r\n  $(typeof type === 'string' ? '.layui-layer-' + type : '.layui-layer').each(\r\n    function (i, el) {\r\n      var layero = $(el);\r\n      var shouldSkip =\r\n        (isArrayType && type.indexOf(layero.attr('type')) === -1) ||\r\n        layero.css('display') === 'none';\r\n      if (shouldSkip) return true;\r\n      layerIndexList.push(Number(layero.attr('times')));\r\n    },\r\n  );\r\n  if (layerIndexList.length > 0) {\r\n    var layerIndexMax = Math.max.apply(null, layerIndexList);\r\n    layer.close(layerIndexMax, callback);\r\n  }\r\n};\r\n\r\n/*\r\n * 拓展模块，layui 开始合并在一起\r\n */\r\n\r\nvar cache = layer.cache || {};\r\nvar skin = function (type) {\r\n  return cache.skin ? ' ' + cache.skin + ' ' + cache.skin + '-' + type : '';\r\n};\r\n\r\n// 仿系统 prompt\r\nlayer.prompt = function (options, yes) {\r\n  var style = '';\r\n  var placeholder = '';\r\n  options = options || {};\r\n\r\n  // 兼容旧版参数\r\n  var legacyTypeMap = {\r\n    0: 'text',\r\n    1: 'password',\r\n    2: 'textarea',\r\n  };\r\n  if (options.formType in legacyTypeMap) {\r\n    options.formType = legacyTypeMap[options.formType];\r\n  }\r\n\r\n  if (typeof options === 'function') yes = options;\r\n\r\n  if (options.area) {\r\n    var area = options.area;\r\n    style = 'style=\"width: ' + area[0] + '; height: ' + area[1] + ';\"';\r\n    delete options.area;\r\n  }\r\n  if (options.placeholder) {\r\n    placeholder = ' placeholder=\"' + options.placeholder + '\"';\r\n  }\r\n  var prompt;\r\n  var content =\r\n    options.formType == 'textarea'\r\n      ? '<textarea class=\"layui-layer-input\"' +\r\n        style +\r\n        placeholder +\r\n        '></textarea>'\r\n      : (function () {\r\n          return (\r\n            '<input type=\"' +\r\n            (options.formType || 'text') +\r\n            '\" class=\"layui-layer-input\"' +\r\n            placeholder +\r\n            '>'\r\n          );\r\n        })();\r\n\r\n  var success = options.success;\r\n  delete options.success;\r\n\r\n  return layer.open(\r\n    $.extend(\r\n      {\r\n        type: 1,\r\n        btn: [i18n.$t('layer.confirm'), i18n.$t('layer.cancel')],\r\n        content: content,\r\n        skin: 'layui-layer-prompt' + skin('prompt'),\r\n        maxWidth: win.width(),\r\n        success: function (layero) {\r\n          prompt = layero.find('.layui-layer-input');\r\n          prompt.val(options.value || '').focus();\r\n          typeof success === 'function' && success(layero);\r\n        },\r\n        resize: false,\r\n        yes: function (index) {\r\n          var value = prompt.val();\r\n          if (value.length > (options.maxlength || 500)) {\r\n            layer.tips(\r\n              i18n.$t('layer.prompt.InputLengthPrompt', {\r\n                length: options.maxlength || 500,\r\n              }),\r\n              prompt,\r\n              { tips: 1 },\r\n            );\r\n          } else {\r\n            yes && yes(value, index, prompt);\r\n          }\r\n        },\r\n      },\r\n      options,\r\n    ),\r\n  );\r\n};\r\n\r\n// tab 层\r\nlayer.tab = function (options) {\r\n  options = options || {};\r\n\r\n  var tab = options.tab || {};\r\n  var THIS = 'layui-this';\r\n  var success = options.success;\r\n\r\n  delete options.success;\r\n\r\n  return layer.open(\r\n    $.extend(\r\n      {\r\n        type: 1,\r\n        skin: 'layui-layer-tab' + skin('tab'),\r\n        resize: false,\r\n        title: (function () {\r\n          var len = tab.length,\r\n            ii = 1,\r\n            str = '';\r\n          if (len > 0) {\r\n            str = '<span class=\"' + THIS + '\">' + tab[0].title + '</span>';\r\n            for (; ii < len; ii++) {\r\n              str += '<span>' + tab[ii].title + '</span>';\r\n            }\r\n          }\r\n          return str;\r\n        })(),\r\n        content:\r\n          '<ul class=\"layui-layer-tabmain\">' +\r\n          (function () {\r\n            var len = tab.length,\r\n              ii = 1,\r\n              str = '';\r\n            if (len > 0) {\r\n              str =\r\n                '<li class=\"layui-layer-tabli ' +\r\n                THIS +\r\n                '\">' +\r\n                (tab[0].content || 'no content') +\r\n                '</li>';\r\n              for (; ii < len; ii++) {\r\n                str +=\r\n                  '<li class=\"layui-layer-tabli\">' +\r\n                  (tab[ii].content || 'no  content') +\r\n                  '</li>';\r\n              }\r\n            }\r\n            return str;\r\n          })() +\r\n          '</ul>',\r\n        success: function (layero) {\r\n          var btn = layero.find('.layui-layer-title').children();\r\n          var main = layero.find('.layui-layer-tabmain').children();\r\n          btn.on('mousedown', function (e) {\r\n            e.stopPropagation ? e.stopPropagation() : (e.cancelBubble = true);\r\n            var othis = $(this),\r\n              index = othis.index();\r\n            othis.addClass(THIS).siblings().removeClass(THIS);\r\n            main.eq(index).show().siblings().hide();\r\n            typeof options.change === 'function' && options.change(index);\r\n          });\r\n          typeof success === 'function' && success(layero);\r\n        },\r\n      },\r\n      options,\r\n    ),\r\n  );\r\n};\r\n\r\n// 图片层\r\nlayer.photos = function (options, loop, key) {\r\n  var dict = {};\r\n\r\n  // 默认属性\r\n  options = $.extend(\r\n    true,\r\n    {\r\n      toolbar: true,\r\n      footer: true,\r\n    },\r\n    options,\r\n  );\r\n\r\n  if (!options.photos) return;\r\n\r\n  // 若 photos 并非选择器或 jQuery 对象，则为普通 object\r\n  var isObject = !(\r\n    typeof options.photos === 'string' || options.photos instanceof $\r\n  );\r\n  var photos = isObject ? options.photos : {};\r\n  var data = photos.data || [];\r\n  var start = photos.start || 0;\r\n  var success = options.success;\r\n\r\n  dict.imgIndex = (start | 0) + 1;\r\n  options.img = options.img || 'img';\r\n  delete options.success;\r\n\r\n  // 若 options.photos 不是一个对象\r\n  if (!isObject) {\r\n    // 页面直接获取\r\n    var parent = $(options.photos),\r\n      pushData = function () {\r\n        data = [];\r\n        parent.find(options.img).each(function (index) {\r\n          var othis = $(this);\r\n          othis.attr('layer-index', index);\r\n          data.push({\r\n            alt: othis.attr('alt'),\r\n            pid: othis.attr('layer-pid'),\r\n            src:\r\n              othis.attr('lay-src') ||\r\n              othis.attr('layer-src') ||\r\n              othis.attr('src'),\r\n            thumb: othis.attr('src'),\r\n          });\r\n        });\r\n      };\r\n\r\n    pushData();\r\n\r\n    loop ||\r\n      parent.on('click', options.img, function () {\r\n        pushData();\r\n        var othis = $(this),\r\n          index = othis.attr('layer-index');\r\n        layer.photos(\r\n          $.extend(options, {\r\n            photos: {\r\n              start: index,\r\n              data: data,\r\n              tab: options.tab,\r\n            },\r\n            full: options.full,\r\n          }),\r\n          true,\r\n        );\r\n      });\r\n\r\n    // 不直接弹出\r\n    if (!loop) return;\r\n  } else if (data.length === 0) {\r\n    return layer.msg(i18n.$t('layer.photos.noData'));\r\n  }\r\n\r\n  // 上一张\r\n  dict.imgprev = function (key) {\r\n    dict.imgIndex--;\r\n    if (dict.imgIndex < 1) {\r\n      dict.imgIndex = data.length;\r\n    }\r\n    dict.tabimg(key);\r\n  };\r\n\r\n  // 下一张\r\n  dict.imgnext = function (key, errorMsg) {\r\n    dict.imgIndex++;\r\n    if (dict.imgIndex > data.length) {\r\n      dict.imgIndex = 1;\r\n      if (errorMsg) {\r\n        return;\r\n      }\r\n    }\r\n    dict.tabimg(key);\r\n  };\r\n\r\n  // 方向键\r\n  dict.keyup = function (event) {\r\n    if (!dict.end) {\r\n      var code = event.keyCode;\r\n      event.preventDefault();\r\n      if (code === 37) {\r\n        dict.imgprev(true);\r\n      } else if (code === 39) {\r\n        dict.imgnext(true);\r\n      } else if (code === 27) {\r\n        layer.close(dict.index);\r\n      }\r\n    }\r\n  };\r\n\r\n  // 切换\r\n  dict.tabimg = function (key) {\r\n    if (data.length <= 1) return;\r\n    photos.start = dict.imgIndex - 1;\r\n    layer.close(dict.index);\r\n    return layer.photos(options, true, key);\r\n  };\r\n\r\n  dict.isNumber = function (n) {\r\n    return typeof n === 'number' && !isNaN(n);\r\n  };\r\n\r\n  dict.image = {};\r\n\r\n  dict.getTransform = function (opts) {\r\n    var transforms = [];\r\n    var rotate = opts.rotate;\r\n    var scaleX = opts.scaleX;\r\n    var scale = opts.scale;\r\n\r\n    if (dict.isNumber(rotate) && rotate !== 0) {\r\n      transforms.push('rotate(' + rotate + 'deg)');\r\n    }\r\n\r\n    if (dict.isNumber(scaleX) && scaleX !== 1) {\r\n      transforms.push('scaleX(' + scaleX + ')');\r\n    }\r\n\r\n    if (dict.isNumber(scale)) {\r\n      transforms.push('scale(' + scale + ')');\r\n    }\r\n\r\n    return transforms.length ? transforms.join(' ') : 'none';\r\n  };\r\n\r\n  // 一些动作\r\n  dict.event = function (layero, index, that) {\r\n    // 上一张\r\n    dict.main.find('.layui-layer-photos-prev').on('click', function (event) {\r\n      event.preventDefault();\r\n      dict.imgprev(true);\r\n    });\r\n\r\n    // 下一张\r\n    dict.main.find('.layui-layer-photos-next').on('click', function (event) {\r\n      event.preventDefault();\r\n      dict.imgnext(true);\r\n    });\r\n\r\n    $(document).on('keyup', dict.keyup);\r\n\r\n    // 头部工具栏事件\r\n    layero.off('click').on('click', '*[toolbar-event]', function () {\r\n      var othis = $(this);\r\n      var event = othis.attr('toolbar-event');\r\n      switch (event) {\r\n        case 'rotate':\r\n          dict.image.rotate =\r\n            ((dict.image.rotate || 0) + Number(othis.attr('data-option'))) %\r\n            360;\r\n          dict.imgElem.css({\r\n            transform: dict.getTransform(dict.image),\r\n          });\r\n          break;\r\n        case 'scalex':\r\n          dict.image.scaleX = dict.image.scaleX === -1 ? 1 : -1;\r\n          dict.imgElem.css({\r\n            transform: dict.getTransform(dict.image),\r\n          });\r\n          break;\r\n        case 'zoom':\r\n          var ratio = Number(othis.attr('data-option'));\r\n          dict.image.scale = (dict.image.scale || 1) + ratio;\r\n          // 缩小状态最小值\r\n          if (ratio < 0 && dict.image.scale < 0 - ratio) {\r\n            dict.image.scale = 0 - ratio;\r\n          }\r\n          dict.imgElem.css({\r\n            transform: dict.getTransform(dict.image),\r\n          });\r\n          break;\r\n        case 'reset':\r\n          dict.image.scaleX = 1;\r\n          dict.image.scale = 1;\r\n          dict.image.rotate = 0;\r\n          dict.imgElem.css({\r\n            transform: 'none',\r\n          });\r\n          break;\r\n        case 'close':\r\n          layer.close(index);\r\n          break;\r\n      }\r\n      that.offset();\r\n      that.auto(index);\r\n    });\r\n\r\n    // 鼠标滚轮缩放图片事件\r\n    dict.main.on('mousewheel DOMMouseScroll', function (e) {\r\n      var delta = e.originalEvent.wheelDelta || -e.originalEvent.detail;\r\n      var zoomElem = dict.main.find('[toolbar-event=\"zoom\"]');\r\n      if (delta > 0) {\r\n        zoomElem.eq(0).trigger('click');\r\n      } else {\r\n        zoomElem.eq(1).trigger('click');\r\n      }\r\n      e.preventDefault();\r\n    });\r\n\r\n    // 滑动切换图片事件\r\n    var touchEndCallback = function (e, state) {\r\n      var duration = Date.now() - state.timeStart;\r\n      var speed = state.distanceX / duration;\r\n      var threshold = win.width() / 3;\r\n      var shouldSwipe =\r\n        Math.abs(speed) > 0.25 || Math.abs(state.distanceX) > threshold;\r\n      if (!shouldSwipe) return;\r\n      if (state.direction === 'left') {\r\n        dict.imgnext(true);\r\n      } else if (state.direction === 'right') {\r\n        dict.imgprev(true);\r\n      }\r\n    };\r\n\r\n    $.each([that.shadeo, dict.main], function (i, elem) {\r\n      lay.touchSwipe(elem, {\r\n        onTouchEnd: touchEndCallback,\r\n      });\r\n    });\r\n  };\r\n\r\n  // 图片预加载\r\n  function loadImage(url, callback, error) {\r\n    var img = new Image();\r\n    img.src = url;\r\n    if (img.complete) {\r\n      return callback(img);\r\n    }\r\n    img.onload = function () {\r\n      img.onload = null;\r\n      callback(img);\r\n    };\r\n    img.onerror = function (e) {\r\n      img.onerror = null;\r\n      error(e);\r\n    };\r\n  }\r\n\r\n  dict.loadi = layer.load(1, {\r\n    shade: 'shade' in options ? false : [0.9, undefined, 'unset'],\r\n    scrollbar: false,\r\n  });\r\n\r\n  loadImage(\r\n    data[start].src,\r\n    function (img) {\r\n      layer.close(dict.loadi);\r\n\r\n      var alt = data[start].alt || '';\r\n\r\n      // 切换图片时不出现动画\r\n      if (key) options.anim = -1;\r\n\r\n      // 弹出图片层\r\n      dict.index = layer.open(\r\n        $.extend(\r\n          {\r\n            type: 1,\r\n            id: 'layui-layer-photos',\r\n            area: (function () {\r\n              var imgarea = [img.width, img.height];\r\n              var winarea = [$(window).width() - 100, $(window).height() - 100];\r\n\r\n              // 若实际图片的宽或者高比 屏幕大（那么进行缩放）\r\n              if (\r\n                !options.full &&\r\n                (imgarea[0] > winarea[0] || imgarea[1] > winarea[1])\r\n              ) {\r\n                var wh = [imgarea[0] / winarea[0], imgarea[1] / winarea[1]]; // 取宽度缩放比例、高度缩放比例\r\n                if (wh[0] > wh[1]) {\r\n                  // 取缩放比例最大的进行缩放\r\n                  imgarea[0] = imgarea[0] / wh[0];\r\n                  imgarea[1] = imgarea[1] / wh[0];\r\n                } else if (wh[0] < wh[1]) {\r\n                  imgarea[0] = imgarea[0] / wh[1];\r\n                  imgarea[1] = imgarea[1] / wh[1];\r\n                }\r\n              }\r\n\r\n              return [imgarea[0] + 'px', imgarea[1] + 'px'];\r\n            })(),\r\n            title: false,\r\n            shade: [0.9, undefined, 'unset'],\r\n            shadeClose: true,\r\n            closeBtn: false,\r\n            move: '.layer-layer-photos-main img',\r\n            moveType: 1,\r\n            scrollbar: false,\r\n            moveOut: true,\r\n            anim: 5,\r\n            isOutAnim: false,\r\n            skin: 'layui-layer-photos' + skin('photos'),\r\n            content:\r\n              '<div class=\"layer-layer-photos-main\">' +\r\n              '<img src=\"' +\r\n              data[start].src +\r\n              '\" alt=\"' +\r\n              alt +\r\n              '\" layer-pid=\"' +\r\n              (data[start].pid || '') +\r\n              '\">' +\r\n              (function () {\r\n                var arr = ['<div class=\"layui-layer-photos-pointer\">'];\r\n\r\n                // 左右箭头翻页\r\n                if (data.length > 1) {\r\n                  arr.push(\r\n                    [\r\n                      '<div class=\"layer-layer-photos-page\">',\r\n                      '<span class=\"layui-icon layui-icon-left layui-layer-photos-prev\"></span>',\r\n                      '<span class=\"layui-icon layui-icon-right layui-layer-photos-next\"></span>',\r\n                      '</div>',\r\n                    ].join(''),\r\n                  );\r\n                }\r\n\r\n                // 头部工具栏\r\n                if (options.toolbar) {\r\n                  arr.push(\r\n                    [\r\n                      '<div class=\"layui-layer-photos-toolbar layui-layer-photos-header\">',\r\n                      '<span toolbar-event=\"rotate\" data-option=\"90\" title=\"' +\r\n                        i18n.$t('layer.photos.tools.rotate') +\r\n                        '\"><i class=\"layui-icon layui-icon-refresh\"></i></span>',\r\n                      '<span toolbar-event=\"scalex\" title=\"' +\r\n                        i18n.$t('layer.photos.tools.scaleX') +\r\n                        '\"><i class=\"layui-icon layui-icon-slider\"></i></span>',\r\n                      '<span toolbar-event=\"zoom\" data-option=\"0.1\" title=\"' +\r\n                        i18n.$t('layer.photos.tools.zoomIn') +\r\n                        '\"><i class=\"layui-icon layui-icon-add-circle\"></i></span>',\r\n                      '<span toolbar-event=\"zoom\" data-option=\"-0.1\" title=\"' +\r\n                        i18n.$t('layer.photos.tools.zoomOut') +\r\n                        '\"><i class=\"layui-icon layui-icon-reduce-circle\"></i></span>',\r\n                      '<span toolbar-event=\"reset\" title=\"' +\r\n                        i18n.$t('layer.photos.tools.reset') +\r\n                        '\"><i class=\"layui-icon layui-icon-refresh-1\"></i></span>',\r\n                      '<span toolbar-event=\"close\" title=\"' +\r\n                        i18n.$t('layer.photos.tools.close') +\r\n                        '\"><i class=\"layui-icon layui-icon-close\"></i></span>',\r\n                      '</div>',\r\n                    ].join(''),\r\n                  );\r\n                }\r\n\r\n                // 底部栏\r\n                if (options.footer) {\r\n                  arr.push(\r\n                    [\r\n                      '<div class=\"layui-layer-photos-toolbar layui-layer-photos-footer\">',\r\n                      '<h3>' + alt + '</h3>',\r\n                      '<em>' + dict.imgIndex + ' / ' + data.length + '</em>',\r\n                      '<a href=\"' +\r\n                        data[start].src +\r\n                        '\" target=\"_blank\">' +\r\n                        i18n.$t('layer.photos.viewPicture') +\r\n                        '</a>',\r\n                      '</div>',\r\n                    ].join(''),\r\n                  );\r\n                }\r\n\r\n                arr.push('</div>');\r\n                return arr.join('');\r\n              })() +\r\n              '</div>',\r\n            success: function (layero, index, that) {\r\n              dict.main = layero.find('.layer-layer-photos-main');\r\n              dict.footer = layero.find('.layui-layer-photos-footer');\r\n              dict.imgElem = dict.main.children('img');\r\n              dict.event(layero, index, that);\r\n              options.tab && options.tab(data[start], layero);\r\n              typeof success === 'function' && success(layero);\r\n            },\r\n            end: function () {\r\n              dict.end = true;\r\n              $(document).off('keyup', dict.keyup);\r\n            },\r\n          },\r\n          options,\r\n        ),\r\n      );\r\n    },\r\n    function () {\r\n      layer.close(dict.loadi);\r\n      layer.msg(\r\n        '<span style=\"white-space: pre-line;\">' +\r\n          i18n.$t('layer.photos.urlError.prompt') +\r\n          '</span>',\r\n        {\r\n          time: 30000,\r\n          btn: [\r\n            i18n.$t('layer.photos.urlError.confirm'),\r\n            i18n.$t('layer.photos.urlError.cancel'),\r\n          ],\r\n          yes: function () {\r\n            data.length > 1 && dict.imgnext(true, true);\r\n          },\r\n        },\r\n      );\r\n    },\r\n  );\r\n};\r\n\r\n// 主入口\r\nready.run = function (_$) {\r\n  var $ = _$;\r\n  win = $(window);\r\n\r\n  // 移动端兼容性处理\r\n  // https://gitee.com/layui/layui/issues/I81WGC\r\n  // https://github.com/jquery/jquery/issues/1729\r\n  var agent = navigator.userAgent.toLowerCase();\r\n  var isMobile = /android|iphone|ipod|ipad|ios/.test(agent);\r\n  var _win = $(window);\r\n  if (isMobile) {\r\n    $.each(\r\n      { Height: 'height', Width: 'width' },\r\n      function (propSuffix, funcName) {\r\n        var propName = 'inner' + propSuffix;\r\n        win[funcName] = function () {\r\n          return propName in window ? window[propName] : _win[funcName]();\r\n        };\r\n      },\r\n    );\r\n  }\r\n  doms.html = $('html');\r\n  layer.open = function (deliver) {\r\n    var o = new Class(deliver);\r\n    return o.index;\r\n  };\r\n};\r\n\r\nlayer.path = layui.cache.dir;\r\nlayer.ready();\r\nready.run($);\r\n\r\nexport { layer };\r\n","/**\r\n * util 工具组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport { lay } from '../core/lay.js';\r\nimport { i18n } from '../core/i18n.js';\r\nimport $ from 'jquery';\r\n\r\nvar hint = layui.hint();\r\n\r\n// 引用自 dayjs\r\n// https://github.com/iamkun/dayjs/blob/v1.11.9/src/constant.js#L30\r\nvar REGEX_FORMAT =\r\n  /\\[([^\\]]+)]|y{1,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|SSS/g;\r\nvar REGEX_PARSE =\r\n  /^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[T\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/i;\r\n\r\n// 外部接口\r\nvar util = {\r\n  // 固定块\r\n  fixbar: function (options) {\r\n    var ELEM = 'layui-fixbar';\r\n    var $doc = $(document);\r\n\r\n    // 默认可选项\r\n    options = $.extend(\r\n      true,\r\n      {\r\n        target: 'body', // fixbar 的插入目标选择器\r\n        bars: [], //  bar 信息\r\n        default: true, // 是否显示默认 bar\r\n        margin: 160, // 出现 top bar 的滚动条高度临界值\r\n        duration: 320, // top bar 等动画时长（毫秒）\r\n      },\r\n      options,\r\n    );\r\n\r\n    // 目标元素对象\r\n    var $target = $(options.target);\r\n\r\n    // 滚动条所在元素对象\r\n    var $scroll = options.scroll\r\n      ? $(options.scroll)\r\n      : $(options.target === 'body' ? $doc : $target);\r\n\r\n    // 是否提供默认图标\r\n    if (options['default']) {\r\n      // 兼容旧版本的一些属性\r\n      if (options.bar1) {\r\n        options.bars.push({\r\n          type: 'bar1',\r\n          icon: 'layui-icon-chat',\r\n        });\r\n      }\r\n      if (options.bar2) {\r\n        options.bars.push({\r\n          type: 'bar2',\r\n          icon: 'layui-icon-help',\r\n        });\r\n      }\r\n      // 默认 top bar\r\n      options.bars.push({\r\n        type: 'top',\r\n        icon: 'layui-icon-top',\r\n      });\r\n    }\r\n\r\n    var elem = $('<ul>').addClass(ELEM);\r\n    var elemTopBar;\r\n\r\n    // 遍历生成 bars 节点\r\n    layui.each(options.bars, function (i, item) {\r\n      var elemBar = $('<li class=\"layui-icon\">');\r\n\r\n      // 设置 bar 相关属性\r\n      elemBar\r\n        .addClass(item.icon)\r\n        .attr({\r\n          'lay-type': item.type,\r\n          style:\r\n            item.style ||\r\n            (options.bgcolor ? 'background-color: ' + options.bgcolor : ''),\r\n        })\r\n        .html(item.content);\r\n\r\n      // bar 点击事件\r\n      elemBar.on('click', function () {\r\n        var type = $(this).attr('lay-type');\r\n        if (type === 'top') {\r\n          (options.target === 'body' ? $('html,body') : $scroll).animate(\r\n            {\r\n              scrollTop: 0,\r\n            },\r\n            options.duration,\r\n          );\r\n        }\r\n        typeof options.click === 'function' && options.click.call(this, type);\r\n      });\r\n\r\n      // 自定义任意事件\r\n      if (layui.type(options.on) === 'object') {\r\n        layui.each(options.on, function (eventName, callback) {\r\n          elemBar.on(eventName, function () {\r\n            var type = $(this).attr('lay-type');\r\n            typeof callback === 'function' && callback.call(this, type);\r\n          });\r\n        });\r\n      }\r\n\r\n      // 获得 top bar 节点\r\n      if (item.type === 'top') {\r\n        elemBar.addClass('layui-fixbar-top');\r\n        elemTopBar = elemBar;\r\n      }\r\n\r\n      elem.append(elemBar); // 插入 bar 节点\r\n    });\r\n\r\n    // 若目标元素已存在 fixbar，则移除旧的节点\r\n    $target.find('.' + ELEM).remove();\r\n\r\n    // 向目标元素插入 fixbar 节点\r\n    typeof options.css === 'object' && elem.css(options.css);\r\n    $target.append(elem);\r\n\r\n    // top bar 的显示隐藏\r\n    if (elemTopBar) {\r\n      var lock;\r\n      var setTopBar = (function setTopBar() {\r\n        var top = $scroll.scrollTop();\r\n        if (top >= options.margin) {\r\n          lock || (elemTopBar.show(), (lock = 1));\r\n        } else {\r\n          lock && (elemTopBar.hide(), (lock = 0));\r\n        }\r\n        return setTopBar;\r\n      })();\r\n    }\r\n\r\n    // 根据 scrollbar 设置 fixbar 相关状态\r\n    var timer;\r\n    $scroll.on('scroll', function () {\r\n      if (!setTopBar) return;\r\n      clearTimeout(timer);\r\n      timer = setTimeout(function () {\r\n        setTopBar();\r\n      }, 100);\r\n    });\r\n  },\r\n\r\n  // 倒计时\r\n  countdown: function (options) {\r\n    // var that = this;\r\n\r\n    // 默认可选项\r\n    options = $.extend(\r\n      true,\r\n      {\r\n        date: new Date(),\r\n        now: new Date(),\r\n      },\r\n      options,\r\n    );\r\n\r\n    // 兼容旧版参数\r\n    var args = arguments;\r\n    if (args.length > 1) {\r\n      options.date = new Date(args[0]);\r\n      options.now = new Date(args[1]);\r\n      options.clock = args[2];\r\n    }\r\n\r\n    // 实例对象\r\n    var inst = {\r\n      options: options,\r\n      clear: function () {\r\n        // 清除计时器\r\n        clearTimeout(inst.timer);\r\n      },\r\n      reload: function (opts) {\r\n        // 重置倒计时\r\n        this.clear();\r\n        $.extend(\r\n          true,\r\n          this.options,\r\n          {\r\n            now: new Date(),\r\n          },\r\n          opts,\r\n        );\r\n        count();\r\n      },\r\n    };\r\n\r\n    typeof options.ready === 'function' && options.ready();\r\n\r\n    // 计算倒计时\r\n    var count = (function fn() {\r\n      var date = new Date(options.date);\r\n      var now = new Date(options.now);\r\n      var countTime = (function (time) {\r\n        return time > 0 ? time : 0;\r\n      })(date.getTime() - now.getTime());\r\n      var result = {\r\n        d: Math.floor(countTime / (1000 * 60 * 60 * 24)), // 天\r\n        h: Math.floor(countTime / (1000 * 60 * 60)) % 24, // 时\r\n        m: Math.floor(countTime / (1000 * 60)) % 60, // 分\r\n        s: Math.floor(countTime / 1000) % 60, // 秒\r\n      };\r\n      var next = function () {\r\n        now.setTime(now.getTime() + 1000);\r\n        options.now = now;\r\n        count();\r\n      };\r\n\r\n      // 兼容旧版返回值\r\n      if (args.length > 1) result = [result.d, result.h, result.m, result.s];\r\n\r\n      // 计时 - 以秒间隔\r\n      inst.timer = setTimeout(next, 1000);\r\n      typeof options.clock === 'function' && options.clock(result, inst);\r\n\r\n      // 计时完成\r\n      if (countTime <= 0) {\r\n        clearTimeout(inst.timer);\r\n        typeof options.done === 'function' && options.done(result, inst);\r\n      }\r\n\r\n      return fn;\r\n    })();\r\n\r\n    return inst;\r\n  },\r\n\r\n  // 某个时间在当前时间的多久前\r\n  timeAgo: function (time, onlyDate) {\r\n    var that = this;\r\n    var arr = [[], []];\r\n    var stamp = new Date().getTime() - new Date(time).getTime();\r\n\r\n    // 返回具体日期\r\n    if (stamp > 1000 * 60 * 60 * 24 * 31) {\r\n      stamp = new Date(time);\r\n      arr[0][0] = that.digit(stamp.getFullYear(), 4);\r\n      arr[0][1] = that.digit(stamp.getMonth() + 1);\r\n      arr[0][2] = that.digit(stamp.getDate());\r\n\r\n      // 是否输出时间\r\n      if (!onlyDate) {\r\n        arr[1][0] = that.digit(stamp.getHours());\r\n        arr[1][1] = that.digit(stamp.getMinutes());\r\n        arr[1][2] = that.digit(stamp.getSeconds());\r\n      }\r\n      return arr[0].join('-') + ' ' + arr[1].join(':');\r\n    }\r\n\r\n    // 30 天以内，返回「多久前」\r\n    if (stamp >= 1000 * 60 * 60 * 24) {\r\n      return i18n.$t('util.timeAgo.days', {\r\n        days: (stamp / 1000 / 60 / 60 / 24) | 0,\r\n      });\r\n    } else if (stamp >= 1000 * 60 * 60) {\r\n      return i18n.$t('util.timeAgo.hours', {\r\n        hours: (stamp / 1000 / 60 / 60) | 0,\r\n      });\r\n    } else if (stamp >= 1000 * 60 * 3) {\r\n      // 3 分钟以内为：刚刚\r\n      return i18n.$t('util.timeAgo.minutes', {\r\n        minutes: (stamp / 1000 / 60) | 0,\r\n      });\r\n    } else if (stamp < 0) {\r\n      return i18n.$t('util.timeAgo.future');\r\n    } else {\r\n      return i18n.$t('util.timeAgo.justNow');\r\n    }\r\n  },\r\n\r\n  // 数字前置补零\r\n  digit: function (num, length) {\r\n    var str = '';\r\n    num = String(num);\r\n    length = length || 2;\r\n    for (var i = num.length; i < length; i++) {\r\n      str += '0';\r\n    }\r\n    return num < Math.pow(10, length) ? str + (num | 0) : num;\r\n  },\r\n\r\n  // 转化为日期格式字符\r\n  toDateString: function (time, format, options) {\r\n    // 若 null 或空字符，则返回空字符\r\n    if (time === null || time === '') return '';\r\n\r\n    var that = this;\r\n\r\n    var normalizeDate = function (date) {\r\n      if (typeof date === 'undefined') {\r\n        return new Date();\r\n      }\r\n      if (!isNaN(date)) {\r\n        return new Date(typeof date === 'string' ? parseInt(date) : date);\r\n      }\r\n      if (typeof date === 'string' && !/Z$/i.test(date)) {\r\n        var d = date.match(REGEX_PARSE);\r\n        if (d) {\r\n          var m = d[2] - 1 || 0;\r\n          var ms = (d[7] || '0').substring(0, 3);\r\n          return new Date(\r\n            d[1],\r\n            m,\r\n            d[3] || 1,\r\n            d[4] || 0,\r\n            d[5] || 0,\r\n            d[6] || 0,\r\n            ms,\r\n          );\r\n        }\r\n      }\r\n\r\n      return new Date(date);\r\n    };\r\n    var date = normalizeDate(time);\r\n\r\n    if (!date.getDate())\r\n      return (\r\n        hint.error('Invalid millisecond for \"util.toDateString(millisecond)\"'),\r\n        ''\r\n      );\r\n\r\n    var years = date.getFullYear();\r\n    var month = date.getMonth();\r\n    var days = date.getDate();\r\n    var hours = date.getHours();\r\n    var minutes = date.getMinutes();\r\n    var seconds = date.getSeconds();\r\n    var milliseconds = date.getMilliseconds();\r\n\r\n    var defaultMeridiem = i18n.$t('util.toDateString.meridiem');\r\n\r\n    var meridiem = (options && options.customMeridiem) || defaultMeridiem;\r\n\r\n    var matches = {\r\n      yy: function () {\r\n        return String(years).slice(-2);\r\n      },\r\n      yyyy: function () {\r\n        return that.digit(years, 4);\r\n      },\r\n      M: function () {\r\n        return String(month + 1);\r\n      },\r\n      MM: function () {\r\n        return that.digit(month + 1);\r\n      },\r\n      d: function () {\r\n        return String(days);\r\n      },\r\n      dd: function () {\r\n        return that.digit(days);\r\n      },\r\n      H: function () {\r\n        return String(hours);\r\n      },\r\n      HH: function () {\r\n        return that.digit(hours);\r\n      },\r\n      h: function () {\r\n        return String(hours % 12 || 12);\r\n      },\r\n      hh: function () {\r\n        return that.digit(hours % 12 || 12);\r\n      },\r\n      A: function () {\r\n        return meridiem(hours, minutes);\r\n      },\r\n      m: function () {\r\n        return String(minutes);\r\n      },\r\n      mm: function () {\r\n        return that.digit(minutes);\r\n      },\r\n      s: function () {\r\n        return String(seconds);\r\n      },\r\n      ss: function () {\r\n        return that.digit(seconds);\r\n      },\r\n      SSS: function () {\r\n        return that.digit(milliseconds, 3);\r\n      },\r\n    };\r\n\r\n    format = format || 'yyyy-MM-dd HH:mm:ss';\r\n\r\n    return format.replace(REGEX_FORMAT, function (match, $1) {\r\n      return $1 || (matches[match] && matches[match]()) || match;\r\n    });\r\n  },\r\n\r\n  // 转义 html\r\n  escape: lay.escape,\r\n\r\n  // 还原转义的 html\r\n  unescape: lay.unescape,\r\n\r\n  // 打开新窗口\r\n  openWin: function (options) {\r\n    var win;\r\n    options = options || {};\r\n    win =\r\n      options.window ||\r\n      window.open(options.url || '', options.target, options.specs);\r\n    if (options.url) return;\r\n    win.document.open('text/html', 'replace');\r\n    win.document.write(options.content || '');\r\n    win.document.close();\r\n  },\r\n\r\n  // 让指定的元素保持在可视区域\r\n  toVisibleArea: function (options) {\r\n    options = $.extend(\r\n      {\r\n        margin: 160, // 触发动作的边界值\r\n        duration: 200, // 动画持续毫秒数\r\n        type: 'y', // 触发方向，x 水平、y 垂直\r\n      },\r\n      options,\r\n    );\r\n\r\n    if (!options.scrollElem[0] || !options.thisElem[0]) return;\r\n\r\n    var scrollElem = options.scrollElem; // 滚动元素\r\n    var thisElem = options.thisElem; // 目标元素\r\n    var vertical = options.type === 'y'; // 是否垂直方向\r\n    var SCROLL_NAME = vertical ? 'scrollTop' : 'scrollLeft'; // 滚动方法\r\n    var OFFSET_NAME = vertical ? 'top' : 'left'; // 坐标方式\r\n    var scrollValue = scrollElem[SCROLL_NAME](); // 当前滚动距离\r\n    var size = scrollElem[vertical ? 'height' : 'width'](); // 滚动元素的尺寸\r\n    var scrollOffset = scrollElem.offset()[OFFSET_NAME]; // 滚动元素所处位置\r\n    var thisOffset = thisElem.offset()[OFFSET_NAME] - scrollOffset; // 目标元素当前的所在位置\r\n    var obj = {};\r\n\r\n    // 边界满足条件\r\n    if (thisOffset > size - options.margin || thisOffset < options.margin) {\r\n      obj[SCROLL_NAME] = thisOffset - size / 2 + scrollValue;\r\n      scrollElem.animate(obj, options.duration);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * 批量事件\r\n   * @param {string} [attr=\"lay-on\"] - 触发事件的元素属性名\r\n   * @param {Object.<string, Function>} events - 事件集合\r\n   * @param {Object} [options] - 参数的更多选项\r\n   * @param {(string|HTMLElement|JQuery)} [options.elem=\"body\"] - 触发事件的委托元素\r\n   * @param {string} [options.trigger=\"click\"] - 事件触发的方式\r\n   * @returns {Object} 返回当前 events 参数设置的事件集合\r\n   */\r\n  on: function (attr, events, options) {\r\n    // 若参数一为 object 类型，则为事件集，且省略 attr\r\n    if (typeof attr === 'object') {\r\n      options = events || {};\r\n      events = attr;\r\n      attr = options.attr || 'lay-on'; // 默认属性名\r\n    }\r\n\r\n    // 更多选项\r\n    options = $.extend(\r\n      {\r\n        elem: 'body',\r\n        trigger: 'click',\r\n      },\r\n      typeof options === 'object'\r\n        ? options\r\n        : {\r\n            trigger: options, // 兼容旧版\r\n          },\r\n    );\r\n\r\n    var elem = (options.elem = $(options.elem));\r\n    var attrSelector = '[' + attr + ']';\r\n    var DATANAME = 'UTIL_ON_DATA'; // 缓存在委托元素上的 data-* 属性名\r\n\r\n    if (!elem[0]) return; // 若委托元素不存在\r\n\r\n    // 初始化 data 默认值，以委托元素为存储单元\r\n    if (!elem.data(DATANAME)) {\r\n      elem.data(DATANAME, {\r\n        events: {},\r\n      });\r\n    }\r\n\r\n    // 读取 data 缓存\r\n    var dataCache = elem.data(DATANAME);\r\n\r\n    // 根据 attr 和 trigger 的组合作为 key\r\n    var key = attr + '_' + options.trigger;\r\n\r\n    // 根据 key 记录事件集合\r\n    events = dataCache.events[key] = $.extend(\r\n      true,\r\n      dataCache.events[key],\r\n      events,\r\n    );\r\n\r\n    // 清除事件委托，避免重复绑定\r\n    var trigger = options.trigger + '.lay_util_on';\r\n    elem.off(trigger, attrSelector);\r\n\r\n    // 绑定事件委托\r\n    elem.on(trigger, attrSelector, function (e) {\r\n      var othis = $(this);\r\n      var attrValue = othis.attr(attr);\r\n      typeof events[attrValue] === 'function' &&\r\n        events[attrValue].call(this, othis, e);\r\n    });\r\n\r\n    return events;\r\n  },\r\n};\r\n\r\n// 兼容旧版\r\nutil.event = util.on;\r\n\r\n// 输出接口\r\nexport { util };\r\n","/**\r\n * dropdown\r\n * 下拉菜单组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport { lay } from '../core/lay.js';\r\nimport { i18n } from '../core/i18n.js';\r\nimport $ from 'jquery';\r\nimport { laytpl } from '../core/laytpl.js';\r\nimport { util } from './util.js';\r\n\r\nvar device = layui.device();\r\nvar clickOrMousedown = device.mobile ? 'touchstart' : 'mousedown';\r\n\r\n// 模块名\r\nvar MOD_NAME = 'dropdown';\r\nvar MOD_INDEX = 'layui_' + MOD_NAME + '_index'; // 模块索引名\r\nvar MOD_INDEX_OPENED = MOD_INDEX + '_opened';\r\nvar MOD_ID = 'lay-' + MOD_NAME + '-id';\r\n\r\nvar resizeObserver = lay.createSharedResizeObserver(MOD_NAME);\r\n\r\n// 外部接口\r\nvar dropdown = {\r\n  config: {\r\n    customName: {\r\n      // 自定义 data 字段名\r\n      id: 'id',\r\n      title: 'title',\r\n      children: 'child',\r\n    },\r\n  },\r\n\r\n  // 设置全局项\r\n  set: function (options) {\r\n    var that = this;\r\n    that.config = $.extend({}, that.config, options);\r\n    return that;\r\n  },\r\n\r\n  // 事件\r\n  on: function (events, callback) {\r\n    return layui.onevent.call(this, MOD_NAME, events, callback);\r\n  },\r\n};\r\n\r\n// 操作当前实例\r\nvar thisModule = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var id = options.id;\r\n\r\n  return {\r\n    config: options,\r\n    // 重置实例\r\n    reload: function (options) {\r\n      that.reload.call(that, options);\r\n    },\r\n    reloadData: function (options) {\r\n      dropdown.reloadData(id, options);\r\n    },\r\n    close: function () {\r\n      that.remove();\r\n    },\r\n    open: function () {\r\n      that.render();\r\n    },\r\n  };\r\n};\r\n\r\n// 字符常量\r\nvar STR_ELEM = 'layui-dropdown';\r\nvar STR_HIDE = 'layui-hide';\r\nvar STR_DISABLED = 'layui-disabled';\r\nvar STR_NONE = 'layui-none';\r\nvar STR_ITEM_UP = 'layui-menu-item-up';\r\nvar STR_ITEM_DOWN = 'layui-menu-item-down';\r\nvar STR_MENU_TITLE = 'layui-menu-body-title';\r\nvar STR_ITEM_GROUP = 'layui-menu-item-group';\r\nvar STR_ITEM_PARENT = 'layui-menu-item-parent';\r\nvar STR_ITEM_DIV = 'layui-menu-item-divider';\r\nvar STR_ITEM_CHECKED = 'layui-menu-item-checked';\r\nvar STR_ITEM_CHECKED2 = 'layui-menu-item-checked2';\r\nvar STR_MENU_PANEL = 'layui-menu-body-panel';\r\nvar STR_MENU_PANEL_L = 'layui-menu-body-panel-left';\r\nvar STR_ELEM_SHADE = 'layui-dropdown-shade';\r\n\r\nvar STR_GROUP_TITLE = '.' + STR_ITEM_GROUP + '>.' + STR_MENU_TITLE;\r\n\r\n// 构造器\r\nvar Class = function (options) {\r\n  var that = this;\r\n  that.index = dropdown.index = lay.autoIncrementer('dropdown');\r\n  that.config = $.extend({}, that.config, dropdown.config, options);\r\n  that.stopClickOutsideEvent = $.noop;\r\n  that.stopResizeEvent = $.noop;\r\n  that.init();\r\n};\r\n\r\n// 默认配置\r\nClass.prototype.config = {\r\n  trigger: 'click', // 事件类型\r\n  content: '', // 自定义菜单内容\r\n  className: '', // 自定义样式类名\r\n  style: '', // 设置面板 style 属性\r\n  show: false, // 是否初始即显示菜单面板\r\n  isAllowSpread: true, // 是否允许菜单组展开收缩\r\n  isSpreadItem: true, // 是否初始展开子菜单\r\n  data: [], // 菜单数据结构\r\n  delay: [200, 300], // 延时显示或隐藏的毫秒数，若为 number 类型，则表示显示和隐藏的延迟时间相同，trigger 为 hover 时才生效\r\n  shade: 0, // 遮罩\r\n  accordion: false, // 手风琴效果，仅菜单组生效。基础菜单需要在容器上追加 'lay-accordion' 属性。\r\n  closeOnClick: true, // 面板打开后，再次点击目标元素时是否关闭面板。行为取决于所使用的触发事件类型\r\n};\r\n\r\n// 重载实例\r\nClass.prototype.reload = function (options, type) {\r\n  var that = this;\r\n  that.config = $.extend({}, that.config, options);\r\n  that.init(true, type);\r\n};\r\n\r\n// 初始化准备\r\nClass.prototype.init = function (rerender, type) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  // 若 elem 非唯一\r\n  var elem = $(options.elem);\r\n  if (elem.length > 1) {\r\n    layui.each(elem, function () {\r\n      dropdown.render(\r\n        $.extend({}, options, {\r\n          elem: this,\r\n        }),\r\n      );\r\n    });\r\n    return that;\r\n  }\r\n\r\n  // 合并 lay-options 属性上的配置信息\r\n  $.extend(options, lay.options(elem[0]));\r\n\r\n  // 若重复执行 render，则视为 reload 处理\r\n  if (!rerender && elem.attr(MOD_ID)) {\r\n    var newThat = thisModule.getThis(elem.attr(MOD_ID));\r\n    if (!newThat) return;\r\n    return newThat.reload(options, type);\r\n  }\r\n\r\n  options.elem = $(options.elem);\r\n  options.target = $('body'); // 后续考虑开放 target 元素\r\n\r\n  // 初始化 id 属性 - 优先取 options > 元素 id > 自增索引\r\n  options.id = 'id' in options ? options.id : elem.attr('id') || that.index;\r\n\r\n  thisModule.that[options.id] = that; // 记录当前实例对象\r\n  elem.attr(MOD_ID, options.id); // 目标元素已渲染过的标记\r\n\r\n  // 初始化自定义字段名\r\n  options.customName = $.extend(\r\n    {},\r\n    dropdown.config.customName,\r\n    options.customName,\r\n  );\r\n\r\n  // 若传入 hover，则解析为 mouseenter\r\n  if (options.trigger === 'hover') {\r\n    options.trigger = 'mouseenter';\r\n  }\r\n\r\n  // 初始即显示或者面板弹出之后执行了刷新数据\r\n  if (\r\n    options.show ||\r\n    (type === 'reloadData' &&\r\n      that.mainElem &&\r\n      options.target.find(that.mainElem.get(0)).length)\r\n  )\r\n    that.render(type);\r\n\r\n  // 事件\r\n  that.events();\r\n};\r\n\r\n// 渲染\r\nClass.prototype.render = function (type) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var customName = options.customName;\r\n\r\n  // 默认菜单内容\r\n  var getDefaultView = function () {\r\n    var elemUl = $('<ul class=\"layui-menu layui-dropdown-menu\"></ul>');\r\n    if (options.data.length > 0) {\r\n      eachItemView(elemUl, options.data);\r\n    } else {\r\n      elemUl.html(\r\n        '<li class=\"layui-menu-item-none\">' +\r\n          i18n.$t('dropdown.noData') +\r\n          '</li>',\r\n      );\r\n    }\r\n    return elemUl;\r\n  };\r\n\r\n  // 遍历菜单项\r\n  var eachItemView = function (views, data) {\r\n    // var views = [];\r\n\r\n    layui.each(data, function (index, item) {\r\n      // 是否存在子级\r\n      var isChild =\r\n        item[customName.children] && item[customName.children].length > 0;\r\n      var isSpreadItem =\r\n        'isSpreadItem' in item ? item.isSpreadItem : options.isSpreadItem;\r\n      var title = (function (title) {\r\n        var templet = item.templet || options.templet;\r\n        if (templet) {\r\n          title =\r\n            typeof templet === 'function'\r\n              ? templet(item)\r\n              : laytpl(templet).render(item);\r\n        }\r\n        return title;\r\n      })(util.escape(item[customName.title]));\r\n\r\n      // 初始类型\r\n      var type = (function () {\r\n        if (isChild) {\r\n          item.type = item.type || 'parent';\r\n        }\r\n        if (item.type) {\r\n          return (\r\n            {\r\n              group: 'group',\r\n              parent: 'parent',\r\n              '-': '-',\r\n            }[item.type] || 'parent'\r\n          );\r\n        }\r\n        return '';\r\n      })();\r\n\r\n      if (\r\n        type !== '-' &&\r\n        !item[customName.title] &&\r\n        !item[customName.id] &&\r\n        !isChild\r\n      )\r\n        return;\r\n\r\n      //列表元素\r\n      var viewLi = $(\r\n        [\r\n          '<li' +\r\n            (function () {\r\n              var className = {\r\n                group:\r\n                  'layui-menu-item-group' +\r\n                  (options.isAllowSpread\r\n                    ? isSpreadItem\r\n                      ? ' layui-menu-item-down'\r\n                      : ' layui-menu-item-up'\r\n                    : ''),\r\n                parent: STR_ITEM_PARENT,\r\n                '-': 'layui-menu-item-divider',\r\n              };\r\n              if (isChild || type) {\r\n                return ' class=\"' + className[type] + '\"';\r\n              }\r\n              return item.disabled ? ' class=\"' + STR_DISABLED + '\"' : '';\r\n            })() +\r\n            '>',\r\n          //标题区\r\n          (function () {\r\n            //是否超文本\r\n            var viewText =\r\n              'href' in item\r\n                ? '<a href=\"' +\r\n                  item.href +\r\n                  '\" target=\"' +\r\n                  (item.target || '_self') +\r\n                  '\">' +\r\n                  title +\r\n                  '</a>'\r\n                : title;\r\n\r\n            //是否存在子级\r\n            if (isChild) {\r\n              return (\r\n                '<div class=\"' +\r\n                STR_MENU_TITLE +\r\n                '\">' +\r\n                viewText +\r\n                (function () {\r\n                  if (type === 'parent') {\r\n                    return '<i class=\"layui-icon layui-icon-right\"></i>';\r\n                  } else if (type === 'group' && options.isAllowSpread) {\r\n                    return (\r\n                      '<i class=\"layui-icon layui-icon-' +\r\n                      (isSpreadItem ? 'up' : 'down') +\r\n                      '\"></i>'\r\n                    );\r\n                  } else {\r\n                    return '';\r\n                  }\r\n                })() +\r\n                '</div>'\r\n              );\r\n            }\r\n            return '<div class=\"' + STR_MENU_TITLE + '\">' + viewText + '</div>';\r\n          })(),\r\n          '</li>',\r\n        ].join(''),\r\n      );\r\n\r\n      viewLi.data('item', item);\r\n\r\n      //子级区\r\n      if (isChild) {\r\n        var elemPanel = $(\r\n          '<div class=\"layui-panel layui-menu-body-panel\"></div>',\r\n        );\r\n        var elemUl = $('<ul></ul>');\r\n\r\n        if (type === 'parent') {\r\n          elemPanel.append(eachItemView(elemUl, item[customName.children]));\r\n          viewLi.append(elemPanel);\r\n        } else {\r\n          viewLi.append(eachItemView(elemUl, item[customName.children]));\r\n        }\r\n      }\r\n\r\n      views.append(viewLi);\r\n    });\r\n    return views;\r\n  };\r\n\r\n  // 主模板\r\n  var TPL_MAIN = [\r\n    '<div class=\"layui-dropdown layui-border-box layui-panel layui-anim layui-anim-downbit\" ' +\r\n      MOD_ID +\r\n      '=\"' +\r\n      options.id +\r\n      '\">',\r\n    '</div>',\r\n  ].join('');\r\n\r\n  // 重载或插入面板内容\r\n  var mainElem;\r\n  var content = options.content || getDefaultView();\r\n  var mainElemExisted = thisModule.findMainElem(options.id);\r\n  if (type === 'reloadData' && mainElemExisted.length) {\r\n    // 是否仅重载数据\r\n    mainElem = that.mainElem = mainElemExisted;\r\n    mainElemExisted.html(content);\r\n  } else {\r\n    // 常规渲染\r\n    mainElem = that.mainElem = $(TPL_MAIN);\r\n    mainElem.append(content);\r\n\r\n    // 初始化某些属性\r\n    mainElem.addClass(options.className);\r\n    mainElem.attr('style', options.style);\r\n\r\n    // 辞旧迎新\r\n    that.remove(options.id);\r\n    options.target.append(mainElem);\r\n    options.elem.data(MOD_INDEX_OPENED, true); // 面板已打开的标记\r\n\r\n    // 遮罩\r\n    var shade = options.shade\r\n      ? '<div class=\"' +\r\n        STR_ELEM_SHADE +\r\n        '\" style=\"' +\r\n        ('z-index:' +\r\n          (mainElem.css('z-index') - 1) +\r\n          '; background-color: ' +\r\n          (options.shade[1] || '#000') +\r\n          '; opacity: ' +\r\n          (options.shade[0] || options.shade)) +\r\n        '\"></div>'\r\n      : '';\r\n    var shadeElem = $(shade);\r\n    // 处理移动端点击穿透问题\r\n    if (clickOrMousedown === 'touchstart') {\r\n      shadeElem.on(clickOrMousedown, function (e) {\r\n        e.preventDefault();\r\n      });\r\n    }\r\n    mainElem.before(shadeElem);\r\n\r\n    // 如果是鼠标移入事件，则鼠标移出时自动关闭\r\n    if (options.trigger === 'mouseenter') {\r\n      mainElem\r\n        .on('mouseenter', function () {\r\n          clearTimeout(that.timer);\r\n        })\r\n        .on('mouseleave', function () {\r\n          that.delayRemove();\r\n        });\r\n    }\r\n  }\r\n\r\n  that.position(); // 定位坐标\r\n\r\n  // 阻止全局事件\r\n  mainElem.find('.layui-menu').on(clickOrMousedown, function (e) {\r\n    layui.stope(e);\r\n  });\r\n\r\n  // 触发菜单列表事件\r\n  mainElem.find('.layui-menu li').on('click', function (e) {\r\n    var othis = $(this);\r\n    var data = othis.data('item') || {};\r\n    var isChild =\r\n      data[customName.children] && data[customName.children].length > 0;\r\n    var isClickAllScope = options.clickScope === 'all'; // 是否所有父子菜单均触发点击事件\r\n\r\n    if (data.disabled) return; // 菜单项禁用状态\r\n\r\n    // 普通菜单项点击后的回调及关闭面板\r\n    if ((!isChild || isClickAllScope) && data.type !== '-') {\r\n      var ret =\r\n        typeof options.click === 'function'\r\n          ? options.click(data, othis, e)\r\n          : null;\r\n\r\n      ret === false || isChild || that.remove();\r\n      layui.stope(e);\r\n    }\r\n  });\r\n\r\n  // 触发菜单组展开收缩\r\n  mainElem.find(STR_GROUP_TITLE).on('click', function (e) {\r\n    var othis = $(this);\r\n    var elemGroup = othis.parent();\r\n    var data = elemGroup.data('item') || {};\r\n\r\n    if (data.type === 'group' && options.isAllowSpread) {\r\n      thisModule.spread(elemGroup, options.accordion);\r\n    }\r\n  });\r\n\r\n  that.onClickOutside();\r\n  that.autoUpdatePosition();\r\n\r\n  // 组件打开完毕的事件\r\n  typeof options.ready === 'function' && options.ready(mainElem, options.elem);\r\n};\r\n\r\n// 位置定位\r\nClass.prototype.position = function (obj) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  lay.position(options.elem[0], that.mainElem[0], {\r\n    position: options.position,\r\n    e: that.e,\r\n    clickType: options.trigger === 'contextmenu' ? 'right' : null,\r\n    align: options.align || null,\r\n  });\r\n};\r\n\r\n// 移除面板\r\nClass.prototype.remove = function (id) {\r\n  id = id || this.config.id;\r\n  var that = thisModule.getThis(id); // 根据 id 查找对应的实例\r\n  if (!that) return;\r\n\r\n  var options = that.config;\r\n  var mainElem = thisModule.findMainElem(id);\r\n  that.stopClickOutsideEvent();\r\n  that.stopResizeEvent();\r\n\r\n  // 若存在已打开的面板元素，则移除\r\n  if (mainElem[0]) {\r\n    mainElem.prev('.' + STR_ELEM_SHADE).remove(); // 先移除遮罩\r\n    mainElem.remove();\r\n    options.elem.removeData(MOD_INDEX_OPENED);\r\n    typeof options.close === 'function' && options.close(options.elem);\r\n  }\r\n};\r\n\r\nClass.prototype.normalizedDelay = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var delay = [].concat(options.delay);\r\n\r\n  return {\r\n    show: delay[0],\r\n    hide: delay[1] !== undefined ? delay[1] : delay[0],\r\n  };\r\n};\r\n\r\n// 延迟移除面板\r\nClass.prototype.delayRemove = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  clearTimeout(that.timer);\r\n\r\n  that.timer = setTimeout(function () {\r\n    that.remove();\r\n  }, that.normalizedDelay().hide);\r\n};\r\n\r\n// 事件\r\nClass.prototype.events = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  // 是否鼠标移入时触发\r\n  var isMouseEnter = options.trigger === 'mouseenter';\r\n  var trigger = options.trigger + '.lay_dropdown_render';\r\n\r\n  // 始终先解除上一个触发元素的事件（如重载时改变 elem 的情况）\r\n  if (that.thisEventElem) that.thisEventElem.off(trigger);\r\n  that.thisEventElem = options.elem;\r\n\r\n  // 触发元素事件\r\n  options.elem.off(trigger).on(trigger, function (e) {\r\n    clearTimeout(that.timer);\r\n    that.e = e;\r\n\r\n    // 主面板是否已打开\r\n    var opened = options.elem.data(MOD_INDEX_OPENED);\r\n\r\n    // 若为鼠标移入事件，则延迟触发\r\n    if (isMouseEnter) {\r\n      if (!opened) {\r\n        that.timer = setTimeout(function () {\r\n          that.render();\r\n        }, that.normalizedDelay().show);\r\n      }\r\n    } else {\r\n      // 若为 click 事件，则根据主面板状态，自动切换打开与关闭\r\n      if (options.closeOnClick && opened && options.trigger === 'click') {\r\n        that.remove();\r\n      } else {\r\n        that.render();\r\n      }\r\n    }\r\n\r\n    e.preventDefault();\r\n  });\r\n\r\n  // 如果是鼠标移入事件\r\n  if (isMouseEnter) {\r\n    // 执行鼠标移出事件\r\n    options.elem.on('mouseleave', function () {\r\n      that.delayRemove();\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * 点击面板外部时的事件\r\n */\r\nClass.prototype.onClickOutside = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var isCtxMenu = options.trigger === 'contextmenu';\r\n  var isTopElem = lay.isTopElem(options.elem[0]);\r\n\r\n  that.stopClickOutsideEvent();\r\n\r\n  var stop = lay.onClickOutside(\r\n    that.mainElem[0],\r\n    function (e) {\r\n      // 点击面板外部时的事件\r\n      if (typeof options.onClickOutside === 'function') {\r\n        var shouldClose = options.onClickOutside(e);\r\n        if (shouldClose === false) return;\r\n      }\r\n\r\n      that.remove();\r\n    },\r\n    {\r\n      ignore: isCtxMenu || isTopElem ? null : [options.elem[0]],\r\n      event: clickOrMousedown,\r\n      capture: false,\r\n      detectIframe: true,\r\n    },\r\n  );\r\n\r\n  that.stopClickOutsideEvent = function () {\r\n    stop();\r\n    that.stopClickOutsideEvent = $.noop;\r\n  };\r\n};\r\n\r\n/**\r\n * 窗口大小变化时自动更新位置\r\n */\r\nClass.prototype.autoUpdatePosition = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  that.stopResizeEvent();\r\n\r\n  var windowResizeHandler = function () {\r\n    if (that.mainElem && (!that.mainElem[0] || !that.mainElem.is(':visible')))\r\n      return;\r\n    if (options.trigger === 'contextmenu') {\r\n      that.remove();\r\n    } else {\r\n      that.position();\r\n    }\r\n  };\r\n  $(window).on('resize.lay_dropdown_resize', windowResizeHandler);\r\n\r\n  var shouldObserveResize = resizeObserver && options.trigger !== 'contextmenu';\r\n  var triggerEl = options.elem[0];\r\n  var contentEl = that.mainElem[0];\r\n  if (shouldObserveResize) {\r\n    resizeObserver.observe(triggerEl, $.proxy(that.position, that));\r\n    resizeObserver.observe(contentEl, $.proxy(that.position, that));\r\n  }\r\n\r\n  that.stopResizeEvent = function () {\r\n    $(window).off('resize.lay_dropdown_resize', windowResizeHandler);\r\n    if (shouldObserveResize) {\r\n      resizeObserver.unobserve(triggerEl);\r\n      resizeObserver.unobserve(contentEl);\r\n    }\r\n\r\n    that.stopResizeEvent = $.noop;\r\n  };\r\n};\r\n\r\n// 记录所有实例\r\nthisModule.that = {}; // 记录所有实例对象\r\n\r\n// 获取当前实例对象\r\nthisModule.getThis = function (id) {\r\n  if (id === undefined) {\r\n    throw new Error('ID argument required');\r\n  }\r\n  return thisModule.that[id];\r\n};\r\n\r\n// 根据 id 从页面查找组件主面板元素\r\nthisModule.findMainElem = function (id) {\r\n  return $('.' + STR_ELEM + '[' + MOD_ID + '=\"' + id + '\"]');\r\n};\r\n\r\n// 设置菜单组展开和收缩状态\r\nthisModule.spread = function (othis, isAccordion) {\r\n  var contentElem = othis.children('ul');\r\n  var needSpread = othis.hasClass(STR_ITEM_UP);\r\n  var ANIM_MS = 200;\r\n\r\n  // 动画执行完成后的操作\r\n  var complete = function () {\r\n    $(this).css({ display: '' }); // 剔除临时 style，以适配外部样式的状态重置;\r\n  };\r\n\r\n  // 动画是否正在执行\r\n  if (contentElem.is(':animated')) return;\r\n\r\n  // 展开\r\n  if (needSpread) {\r\n    othis.removeClass(STR_ITEM_UP).addClass(STR_ITEM_DOWN);\r\n    contentElem.hide().stop().slideDown(ANIM_MS, complete);\r\n  } else {\r\n    // 收缩\r\n    contentElem.stop().slideUp(ANIM_MS, complete);\r\n    othis.removeClass(STR_ITEM_DOWN).addClass(STR_ITEM_UP);\r\n  }\r\n\r\n  // 手风琴\r\n  if (needSpread && isAccordion) {\r\n    var groupSibs = othis.siblings('.' + STR_ITEM_DOWN);\r\n    groupSibs.children('ul').stop().slideUp(ANIM_MS, complete);\r\n    groupSibs.removeClass(STR_ITEM_DOWN).addClass(STR_ITEM_UP);\r\n  }\r\n};\r\n\r\n// 全局事件\r\n(function () {\r\n  var _WIN = $(window);\r\n  var _DOC = $(document);\r\n\r\n  // 基础菜单的静态元素事件\r\n  var ELEM_LI = '.layui-menu:not(.layui-dropdown-menu) li';\r\n  _DOC.on('click', ELEM_LI, function (e) {\r\n    var othis = $(this);\r\n    var parent = othis.parents('.layui-menu').eq(0);\r\n    var isChild =\r\n      othis.hasClass(STR_ITEM_GROUP) || othis.hasClass(STR_ITEM_PARENT);\r\n    var filter = parent.attr('lay-filter') || parent.attr('id');\r\n    var options = lay.options(this);\r\n\r\n    // 非触发元素\r\n    if (othis.hasClass(STR_ITEM_DIV)) return;\r\n\r\n    // 非菜单组\r\n    if (!isChild) {\r\n      // 选中\r\n      parent.find('.' + STR_ITEM_CHECKED).removeClass(STR_ITEM_CHECKED); // 清除选中样式\r\n      parent.find('.' + STR_ITEM_CHECKED2).removeClass(STR_ITEM_CHECKED2); // 清除父级菜单选中样式\r\n      othis.addClass(STR_ITEM_CHECKED); //添加选中样式\r\n      othis.parents('.' + STR_ITEM_PARENT).addClass(STR_ITEM_CHECKED2); // 添加父级菜单选中样式\r\n\r\n      options.title =\r\n        options.title || $.trim(othis.children('.' + STR_MENU_TITLE).text());\r\n\r\n      // 触发事件\r\n      layui.event.call(this, MOD_NAME, 'click(' + filter + ')', options);\r\n    }\r\n  });\r\n\r\n  // 基础菜单的展开收缩事件\r\n  _DOC.on('click', ELEM_LI + STR_GROUP_TITLE, function (e) {\r\n    var othis = $(this);\r\n    var elemGroup = othis.parents('.' + STR_ITEM_GROUP + ':eq(0)');\r\n    var options = lay.options(elemGroup[0]);\r\n    var isAccordion =\r\n      typeof othis.parents('.layui-menu').eq(0).attr('lay-accordion') ===\r\n      'string';\r\n\r\n    if ('isAllowSpread' in options ? options.isAllowSpread : true) {\r\n      thisModule.spread(elemGroup, isAccordion);\r\n    }\r\n  });\r\n\r\n  // 判断子级菜单是否超出屏幕\r\n  var ELEM_LI_PAR = '.layui-menu .' + STR_ITEM_PARENT;\r\n  _DOC\r\n    .on('mouseenter', ELEM_LI_PAR, function (e) {\r\n      var othis = $(this);\r\n      var elemPanel = othis.find('.' + STR_MENU_PANEL);\r\n\r\n      if (!elemPanel[0]) return;\r\n      var rect = elemPanel[0].getBoundingClientRect();\r\n\r\n      // 是否超出右侧屏幕\r\n      if (rect.right > _WIN.width()) {\r\n        elemPanel.addClass(STR_MENU_PANEL_L);\r\n        // 不允许超出左侧屏幕\r\n        rect = elemPanel[0].getBoundingClientRect();\r\n        if (rect.left < 0) {\r\n          elemPanel.removeClass(STR_MENU_PANEL_L);\r\n        }\r\n      }\r\n\r\n      // 是否超出底部屏幕\r\n      if (rect.bottom > _WIN.height()) {\r\n        elemPanel.eq(0).css('margin-top', -(rect.bottom - _WIN.height() + 5));\r\n      }\r\n    })\r\n    .on('mouseleave', ELEM_LI_PAR, function (e) {\r\n      var othis = $(this);\r\n      var elemPanel = othis.children('.' + STR_MENU_PANEL);\r\n\r\n      elemPanel.removeClass(STR_MENU_PANEL_L);\r\n      elemPanel.css('margin-top', 0);\r\n    });\r\n})();\r\n\r\n// 关闭面板\r\ndropdown.close = function (id) {\r\n  var that = thisModule.getThis(id);\r\n  if (!that) return this;\r\n\r\n  that.remove();\r\n  return thisModule.call(that);\r\n};\r\n\r\n// 打开面板\r\ndropdown.open = function (id) {\r\n  var that = thisModule.getThis(id);\r\n  if (!that) return this;\r\n\r\n  that.render();\r\n  return thisModule.call(that);\r\n};\r\n\r\n// 重载实例\r\ndropdown.reload = function (id, options, type) {\r\n  var that = thisModule.getThis(id);\r\n  if (!that) return this;\r\n\r\n  that.reload(options, type);\r\n  return thisModule.call(that);\r\n};\r\n\r\n// 仅重载数据\r\ndropdown.reloadData = function () {\r\n  var args = $.extend([], arguments);\r\n  args[2] = 'reloadData';\r\n\r\n  // 重载时，与数据相关的参数\r\n  var dataParams = new RegExp(\r\n    '^(' + ['data', 'templet', 'content'].join('|') + ')$',\r\n  );\r\n\r\n  // 过滤与数据无关的参数\r\n  layui.each(args[1], function (key, value) {\r\n    if (!dataParams.test(key)) {\r\n      delete args[1][key];\r\n    }\r\n  });\r\n\r\n  return dropdown.reload.apply(null, args);\r\n};\r\n\r\n// 核心入口\r\ndropdown.render = function (options) {\r\n  var inst = new Class(options);\r\n  return thisModule.call(inst);\r\n};\r\n\r\nexport { dropdown };\r\n","/**\r\n * slider 滑块组件\r\n */\r\n\r\nimport { lay } from '../core/lay.js';\r\nimport $ from 'jquery';\r\nimport { componentBuilder } from '../core/component.js';\r\n\r\nvar component = componentBuilder({\r\n  name: 'slider',\r\n  config: {\r\n    type: 'default', // 滑块类型，垂直：vertical\r\n    min: 0, // 最小值\r\n    max: 100, // 最大值，默认100\r\n    value: 0, // 初始值，默认为0\r\n    step: 1, // 间隔值\r\n    showstep: false, // 间隔点开启\r\n    tips: true, // 文字提示，开启\r\n    tipsAlways: false, // 文字提示，始终开启\r\n    input: false, // 输入框，关闭\r\n    range: false, // 范围选择，与输入框不能同时开启，默认关闭\r\n    height: 200, // 配合 type:\"vertical\" 使用，默认200px\r\n    disabled: false, // 滑块禁用，默认关闭\r\n    theme: '#16baaa', // 主题颜色\r\n  },\r\n  CONST: {\r\n    ELEM_VIEW: 'layui-slider',\r\n    SLIDER_BAR: 'layui-slider-bar',\r\n    SLIDER_WRAP: 'layui-slider-wrap',\r\n    SLIDER_WRAP_BTN: 'layui-slider-wrap-btn',\r\n    SLIDER_TIPS: 'layui-slider-tips',\r\n    SLIDER_INPUT: 'layui-slider-input',\r\n    SLIDER_INPUT_TXT: 'layui-slider-input-txt',\r\n    SLIDER_INPUT_BTN: 'layui-slider-input-btn',\r\n    ELEM_HOVER: 'layui-slider-hover',\r\n  },\r\n  render: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n    var scale;\r\n\r\n    //间隔值不能小于等于 0\r\n    if (options.step <= 0) options.step = 1;\r\n\r\n    //最大值不能小于最小值\r\n    if (options.max < options.min) options.max = options.min + options.step;\r\n\r\n    //判断是否开启双滑块\r\n    if (options.range) {\r\n      options.value =\r\n        typeof options.value == 'object'\r\n          ? options.value\r\n          : [options.min, options.value];\r\n      var minValue = Math.min(options.value[0], options.value[1]),\r\n        maxValue = Math.max(options.value[0], options.value[1]);\r\n      options.value[0] = Math.max(minValue, options.min);\r\n      options.value[1] = Math.max(maxValue, options.min);\r\n      options.value[0] = Math.min(options.value[0], options.max);\r\n      options.value[1] = Math.min(options.value[1], options.max);\r\n\r\n      var scaleFir =\r\n        ((options.value[0] - options.min) / (options.max - options.min)) * 100;\r\n      var scaleSec =\r\n        ((options.value[1] - options.min) / (options.max - options.min)) * 100;\r\n      scale = scaleSec - scaleFir + '%';\r\n      scaleFir = scaleFir + '%';\r\n      scaleSec = scaleSec + '%';\r\n    } else {\r\n      //如果初始值是一个数组，则获取数组的最小值\r\n      if (typeof options.value == 'object') {\r\n        options.value = Math.min.apply(null, options.value);\r\n      }\r\n\r\n      //初始值不能小于最小值且不能大于最大值\r\n      if (options.value < options.min) options.value = options.min;\r\n      if (options.value > options.max) options.value = options.max;\r\n\r\n      scale =\r\n        ((options.value - options.min) / (options.max - options.min)) * 100 +\r\n        '%';\r\n    }\r\n\r\n    //如果禁用，颜色为统一的灰色\r\n    var theme = options.disabled ? '#c2c2c2' : options.theme;\r\n\r\n    //滑块\r\n    var temp =\r\n      '<div class=\"layui-slider ' +\r\n      (options.type === 'vertical' ? 'layui-slider-vertical' : '') +\r\n      '\">' +\r\n      (options.tips\r\n        ? '<div class=\"' +\r\n          CONST.SLIDER_TIPS +\r\n          '\" ' +\r\n          (options.tipsAlways ? '' : 'style=\"display:none;\"') +\r\n          '></div>'\r\n        : '') +\r\n      '<div class=\"layui-slider-bar\" style=\"background:' +\r\n      theme +\r\n      '; ' +\r\n      (options.type === 'vertical' ? 'height' : 'width') +\r\n      ':' +\r\n      scale +\r\n      ';' +\r\n      (options.type === 'vertical' ? 'bottom' : 'left') +\r\n      ':' +\r\n      (scaleFir || 0) +\r\n      ';\"></div><div class=\"layui-slider-wrap\" style=\"' +\r\n      (options.type === 'vertical' ? 'bottom' : 'left') +\r\n      ':' +\r\n      (scaleFir || scale) +\r\n      ';\">' +\r\n      '<div class=\"layui-slider-wrap-btn\" style=\"border: 2px solid ' +\r\n      theme +\r\n      ';\"></div></div>' +\r\n      (options.range\r\n        ? '<div class=\"layui-slider-wrap\" style=\"' +\r\n          (options.type === 'vertical' ? 'bottom' : 'left') +\r\n          ':' +\r\n          scaleSec +\r\n          ';\"><div class=\"layui-slider-wrap-btn\" style=\"border: 2px solid ' +\r\n          theme +\r\n          ';\"></div></div>'\r\n        : '') +\r\n      '</div>';\r\n\r\n    var othis = $(options.elem);\r\n    var hasRender = othis.next('.' + CONST.ELEM_VIEW);\r\n    //生成替代元素\r\n    hasRender[0] && hasRender.remove(); //如果已经渲染，则Rerender\r\n    that.elemTemp = $(temp);\r\n\r\n    //把数据缓存到滑块上\r\n    if (options.range) {\r\n      that.elemTemp\r\n        .find('.' + CONST.SLIDER_WRAP)\r\n        .eq(0)\r\n        .data('value', options.value[0]);\r\n      that.elemTemp\r\n        .find('.' + CONST.SLIDER_WRAP)\r\n        .eq(1)\r\n        .data('value', options.value[1]);\r\n    } else {\r\n      that.elemTemp.find('.' + CONST.SLIDER_WRAP).data('value', options.value);\r\n    }\r\n\r\n    //插入替代元素\r\n    othis.html(that.elemTemp);\r\n\r\n    //垂直滑块\r\n    if (options.type === 'vertical') {\r\n      that.elemTemp.height(options.height + 'px');\r\n    }\r\n\r\n    //显示间断点\r\n    if (options.showstep) {\r\n      var number = (options.max - options.min) / options.step,\r\n        item = '';\r\n      for (var i = 1; i < number + 1; i++) {\r\n        var step = (i * 100) / number;\r\n        if (step < 100) {\r\n          item +=\r\n            '<div class=\"layui-slider-step\" style=\"' +\r\n            (options.type === 'vertical' ? 'bottom' : 'left') +\r\n            ':' +\r\n            step +\r\n            '%\"></div>';\r\n        }\r\n      }\r\n      that.elemTemp.append(item);\r\n    }\r\n\r\n    //插入输入框\r\n    if (options.input && !options.range) {\r\n      var elemInput = $(\r\n        '<div class=\"layui-slider-input\"><div class=\"layui-slider-input-txt\"><input type=\"text\" class=\"layui-input\"></div><div class=\"layui-slider-input-btn\"><i class=\"layui-icon layui-icon-up\"></i><i class=\"layui-icon layui-icon-down\"></i></div></div>',\r\n      );\r\n      othis.css('position', 'relative');\r\n      othis.append(elemInput);\r\n      othis\r\n        .find('.' + CONST.SLIDER_INPUT_TXT)\r\n        .children('input')\r\n        .val(options.value);\r\n      if (options.type === 'vertical') {\r\n        elemInput.css({\r\n          left: 0,\r\n          top: -48,\r\n        });\r\n      } else {\r\n        that.elemTemp.css('margin-right', elemInput.outerWidth() + 15);\r\n      }\r\n    }\r\n\r\n    //给未禁止的滑块滑动事件\r\n    if (!options.disabled) {\r\n      that.slide();\r\n    } else {\r\n      that.elemTemp.addClass(CONST.CLASS_DISABLED);\r\n      that.elemTemp\r\n        .find('.' + CONST.SLIDER_WRAP_BTN)\r\n        .addClass(CONST.CLASS_DISABLED);\r\n    }\r\n\r\n    /**\r\n     * @description 设置提示文本内容\r\n     * @param {Element} sliderWrapBtnElem 提示文本节点元素\r\n     */\r\n    function setSliderTipsTxt(sliderWrapBtnElem) {\r\n      var value = sliderWrapBtnElem.parent().data('value');\r\n      var tipsTxt = options.setTips ? options.setTips(value) : value;\r\n      that.elemTemp.find('.' + CONST.SLIDER_TIPS).html(tipsTxt);\r\n    }\r\n\r\n    /**\r\n     * @description 计算提示文本元素的 position left\r\n     * @param {Element} sliderWrapBtnElem 提示文本节点元素\r\n     */\r\n    function calcSliderTipsLeft(sliderWrapBtnElem) {\r\n      var sliderWidth =\r\n        options.type === 'vertical'\r\n          ? options.height\r\n          : that.elemTemp[0].offsetWidth;\r\n      var sliderWrap = that.elemTemp.find('.' + CONST.SLIDER_WRAP);\r\n      var tipsLeft =\r\n        options.type === 'vertical'\r\n          ? sliderWidth -\r\n            sliderWrapBtnElem.parent()[0].offsetTop -\r\n            sliderWrap.height()\r\n          : sliderWrapBtnElem.parent()[0].offsetLeft;\r\n      var left = (tipsLeft / sliderWidth) * 100;\r\n      return left;\r\n    }\r\n\r\n    /**\r\n     * @description 设置提示文本元素的 position left\r\n     * @param {number} left 要设置的 left 的大小\r\n     */\r\n    function setSliderTipsLeft(left) {\r\n      if (options.type === 'vertical') {\r\n        that.elemTemp.find('.' + CONST.SLIDER_TIPS).css({\r\n          bottom: left + '%',\r\n          'margin-bottom': '20px',\r\n          display: 'inline-block',\r\n        });\r\n      } else {\r\n        that.elemTemp.find('.' + CONST.SLIDER_TIPS).css({\r\n          left: left + '%',\r\n          display: 'inline-block',\r\n        });\r\n      }\r\n    }\r\n\r\n    //判断是否要始终显示提示文本\r\n    if (options.tips) {\r\n      if (options.tipsAlways) {\r\n        var sliderWrapBtnElem = that.elemTemp.find('.' + CONST.SLIDER_WRAP_BTN);\r\n        setSliderTipsTxt(sliderWrapBtnElem);\r\n        var left = calcSliderTipsLeft(sliderWrapBtnElem);\r\n        setSliderTipsLeft(left);\r\n      } else {\r\n        //划过滑块显示数值\r\n        var timer;\r\n        that.elemTemp\r\n          .find('.' + CONST.SLIDER_WRAP_BTN)\r\n          .on('mouseover', function () {\r\n            setSliderTipsTxt($(this));\r\n            var left = calcSliderTipsLeft($(this));\r\n            clearTimeout(timer);\r\n            timer = setTimeout(function () {\r\n              setSliderTipsLeft(left);\r\n            }, 300);\r\n          })\r\n          .on('mouseout', function () {\r\n            clearTimeout(timer);\r\n            if (!options.tipsAlways) {\r\n              that.elemTemp\r\n                .find('.' + CONST.SLIDER_TIPS)\r\n                .css('display', 'none');\r\n            }\r\n          });\r\n      }\r\n    }\r\n  },\r\n  extendsInstance: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n    return {\r\n      setValue: function (value, index) {\r\n        value = value > options.max ? options.max : value;\r\n        value = value < options.min ? options.min : value;\r\n        options.value = value;\r\n        return that.slide('set', value, index || 0);\r\n      },\r\n    };\r\n  },\r\n});\r\n\r\nvar CONST = component.CONST;\r\nvar Class = component.Class;\r\n\r\n// 数值精度\r\nClass.prototype.precision = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var precisions = $.map(\r\n    [options.min, options.max, options.step],\r\n    function (v) {\r\n      var decimalArr = String(v).split('.');\r\n      return decimalArr[1] ? decimalArr[1].length : 0;\r\n    },\r\n  );\r\n  return Math.max.apply(null, precisions);\r\n};\r\n\r\n//滑块滑动\r\nClass.prototype.slide = function (setValue, value, i) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var sliderAct = that.elemTemp;\r\n  var sliderWidth = function () {\r\n    return options.type === 'vertical'\r\n      ? options.height\r\n      : sliderAct[0].offsetWidth;\r\n  };\r\n  var sliderWrap = sliderAct.find('.' + CONST.SLIDER_WRAP);\r\n  var sliderTxt = sliderAct.next('.' + CONST.SLIDER_INPUT);\r\n  var inputValue = sliderTxt\r\n    .children('.' + CONST.SLIDER_INPUT_TXT)\r\n    .children('input')\r\n    .val();\r\n  var step = 100 / ((options.max - options.min) / options.step);\r\n  var precision = that.precision();\r\n  var change = function (offsetValue, index, from) {\r\n    if (Math.ceil(offsetValue) * step > 100) {\r\n      offsetValue = Math.ceil(offsetValue) * step;\r\n    } else {\r\n      offsetValue = Math.round(offsetValue) * step;\r\n    }\r\n    offsetValue = offsetValue > 100 ? 100 : offsetValue;\r\n    offsetValue = offsetValue < 0 ? 0 : offsetValue;\r\n    sliderWrap\r\n      .eq(index)\r\n      .css(options.type === 'vertical' ? 'bottom' : 'left', offsetValue + '%');\r\n    var firLeft = valueTo(sliderWrap[0].offsetLeft);\r\n    var secLeft = options.range ? valueTo(sliderWrap[1].offsetLeft) : 0;\r\n    if (options.type === 'vertical') {\r\n      sliderAct\r\n        .find('.' + CONST.SLIDER_TIPS)\r\n        .css({ bottom: offsetValue + '%', 'margin-bottom': '20px' });\r\n      firLeft = valueTo(\r\n        sliderWidth() - sliderWrap[0].offsetTop - sliderWrap.height(),\r\n      );\r\n      secLeft = options.range\r\n        ? valueTo(sliderWidth() - sliderWrap[1].offsetTop - sliderWrap.height())\r\n        : 0;\r\n    } else {\r\n      sliderAct.find('.' + CONST.SLIDER_TIPS).css('left', offsetValue + '%');\r\n    }\r\n    firLeft = firLeft > 100 ? 100 : firLeft;\r\n    secLeft = secLeft > 100 ? 100 : secLeft;\r\n    var minLeft = Math.min(firLeft, secLeft),\r\n      wrapWidth = Math.abs(firLeft - secLeft);\r\n    if (options.type === 'vertical') {\r\n      sliderAct\r\n        .find('.' + CONST.SLIDER_BAR)\r\n        .css({ height: wrapWidth + '%', bottom: minLeft + '%' });\r\n    } else {\r\n      sliderAct\r\n        .find('.' + CONST.SLIDER_BAR)\r\n        .css({ width: wrapWidth + '%', left: minLeft + '%' });\r\n    }\r\n    var selfValue =\r\n      options.min + ((options.max - options.min) * offsetValue) / 100;\r\n    selfValue = Number(parseFloat(selfValue).toFixed(precision));\r\n    inputValue = selfValue;\r\n    sliderTxt\r\n      .children('.' + CONST.SLIDER_INPUT_TXT)\r\n      .children('input')\r\n      .val(inputValue);\r\n    sliderWrap.eq(index).data('value', selfValue);\r\n    sliderAct\r\n      .find('.' + CONST.SLIDER_TIPS)\r\n      .html(options.setTips ? options.setTips(selfValue) : selfValue);\r\n\r\n    //如果开启范围选择，则返回数组值\r\n    if (options.range) {\r\n      var arrValue = [\r\n        sliderWrap.eq(0).data('value'),\r\n        sliderWrap.eq(1).data('value'),\r\n      ];\r\n      if (arrValue[0] > arrValue[1]) arrValue.reverse(); //如果前面的圆点超过了后面的圆点值，则调换顺序\r\n    }\r\n\r\n    that.value = options.range ? arrValue : selfValue; // 最新值\r\n    options.change && options.change(that.value); // change 回调\r\n\r\n    // 值完成选中的事件\r\n    if (from === 'done') options.done && options.done(that.value);\r\n  };\r\n  var valueTo = function (value) {\r\n    var oldLeft = ((value / sliderWidth()) * 100) / step;\r\n    var left = Math.round(oldLeft) * step;\r\n    if (value == sliderWidth()) {\r\n      left = Math.ceil(oldLeft) * step;\r\n    }\r\n    return left;\r\n  };\r\n\r\n  //拖拽元素\r\n  var elemMove = $(\r\n    ['<div class=\"layui-auxiliar-moving\" id=\"LAY-slider-moving\"></div'].join(\r\n      '',\r\n    ),\r\n  );\r\n  var createMoveElem = function (sliderBtnElem, move, up) {\r\n    var upCall = function () {\r\n      // 移动端延时一秒关闭\r\n      up && up(lay.touchEventsSupported() ? 1000 : 0);\r\n      elemMove.remove();\r\n      options.done && options.done(that.value);\r\n      // 移动端\r\n      if (lay.touchEventsSupported()) {\r\n        sliderBtnElem[0].removeEventListener(\r\n          'touchmove',\r\n          move,\r\n          lay.passiveSupported ? { passive: false } : false,\r\n        );\r\n        sliderBtnElem[0].removeEventListener('touchend', upCall);\r\n        sliderBtnElem[0].removeEventListener('touchcancel', upCall);\r\n      }\r\n    };\r\n    $('#LAY-slider-moving')[0] || $('body').append(elemMove);\r\n    elemMove.on('mousemove', move);\r\n    elemMove.on('mouseup', upCall).on('mouseleave', upCall);\r\n    // 移动端\r\n    if (lay.touchEventsSupported()) {\r\n      sliderBtnElem[0].addEventListener(\r\n        'touchmove',\r\n        move,\r\n        lay.passiveSupported ? { passive: false } : false,\r\n      );\r\n      sliderBtnElem[0].addEventListener('touchend', upCall);\r\n      sliderBtnElem[0].addEventListener('touchcancel', upCall);\r\n    }\r\n  };\r\n\r\n  //动态赋值\r\n  if (setValue === 'set') {\r\n    return change(\r\n      (((value - options.min) / (options.max - options.min)) * 100) / step,\r\n      i,\r\n      'done',\r\n    );\r\n  }\r\n\r\n  //滑块滑动\r\n  sliderAct.find('.' + CONST.SLIDER_WRAP_BTN).each(function (index) {\r\n    var othis = $(this);\r\n    othis.on('mousedown touchstart', function (e) {\r\n      e = e || window.event;\r\n      if (e.type === 'touchstart') {\r\n        e.clientX = e.originalEvent.touches[0].clientX;\r\n        e.clientY = e.originalEvent.touches[0].clientY;\r\n      }\r\n\r\n      var oldleft = othis.parent()[0].offsetLeft;\r\n      var oldx = e.clientX;\r\n      if (options.type === 'vertical') {\r\n        oldleft =\r\n          sliderWidth() - othis.parent()[0].offsetTop - sliderWrap.height();\r\n        oldx = e.clientY;\r\n      }\r\n\r\n      var move = function (e) {\r\n        e = e || window.event;\r\n        if (e.type === 'touchmove') {\r\n          e.clientX = e.touches[0].clientX;\r\n          e.clientY = e.touches[0].clientY;\r\n        }\r\n        var left =\r\n          oldleft +\r\n          (options.type === 'vertical' ? oldx - e.clientY : e.clientX - oldx);\r\n        if (left < 0) left = 0;\r\n        if (left > sliderWidth()) left = sliderWidth();\r\n        var reaLeft = ((left / sliderWidth()) * 100) / step;\r\n        change(reaLeft, index);\r\n        othis.addClass(CONST.ELEM_HOVER);\r\n        sliderAct.find('.' + CONST.SLIDER_TIPS).show();\r\n        e.preventDefault();\r\n      };\r\n\r\n      var up = function (delay) {\r\n        othis.removeClass(CONST.ELEM_HOVER);\r\n        if (!options.tipsAlways) {\r\n          setTimeout(function () {\r\n            sliderAct.find('.' + CONST.SLIDER_TIPS).hide();\r\n          }, delay);\r\n        }\r\n      };\r\n\r\n      createMoveElem(othis, move, up);\r\n    });\r\n  });\r\n\r\n  // 点击滑块\r\n  sliderAct.on('click', function (e) {\r\n    var main = $('.' + CONST.SLIDER_WRAP_BTN);\r\n    var othis = $(this);\r\n    if (\r\n      !main.is(event.target) &&\r\n      main.has(event.target).length === 0 &&\r\n      main.length\r\n    ) {\r\n      var index;\r\n      var offset =\r\n        options.type === 'vertical'\r\n          ? sliderWidth() -\r\n            e.clientY +\r\n            othis.offset().top -\r\n            $(window).scrollTop()\r\n          : e.clientX - othis.offset().left - $(window).scrollLeft();\r\n\r\n      if (offset < 0) offset = 0;\r\n      if (offset > sliderWidth()) offset = sliderWidth();\r\n      var reaLeft = ((offset / sliderWidth()) * 100) / step;\r\n      if (options.range) {\r\n        if (options.type === 'vertical') {\r\n          index =\r\n            Math.abs(offset - parseInt($(sliderWrap[0]).css('bottom'))) >\r\n            Math.abs(offset - parseInt($(sliderWrap[1]).css('bottom')))\r\n              ? 1\r\n              : 0;\r\n        } else {\r\n          index =\r\n            Math.abs(offset - sliderWrap[0].offsetLeft) >\r\n            Math.abs(offset - sliderWrap[1].offsetLeft)\r\n              ? 1\r\n              : 0;\r\n        }\r\n      } else {\r\n        index = 0;\r\n      }\r\n      change(reaLeft, index, 'done');\r\n      e.preventDefault();\r\n    }\r\n  });\r\n\r\n  //点击加减输入框\r\n  sliderTxt\r\n    .children('.' + CONST.SLIDER_INPUT_BTN)\r\n    .children('i')\r\n    .each(function (index) {\r\n      $(this).on('click', function () {\r\n        inputValue = sliderTxt\r\n          .children('.' + CONST.SLIDER_INPUT_TXT)\r\n          .children('input')\r\n          .val();\r\n        if (index == 1) {\r\n          //减\r\n          inputValue =\r\n            inputValue - options.step < options.min\r\n              ? options.min\r\n              : Number(inputValue) - options.step;\r\n        } else {\r\n          inputValue =\r\n            Number(inputValue) + options.step > options.max\r\n              ? options.max\r\n              : Number(inputValue) + options.step;\r\n        }\r\n        var inputScale =\r\n          (((inputValue - options.min) / (options.max - options.min)) * 100) /\r\n          step;\r\n        change(inputScale, 0, 'done');\r\n      });\r\n    });\r\n\r\n  //获取输入框值\r\n  var getInputValue = function () {\r\n    var realValue = this.value;\r\n    realValue = isNaN(realValue) ? 0 : realValue;\r\n    realValue = realValue < options.min ? options.min : realValue;\r\n    realValue = realValue > options.max ? options.max : realValue;\r\n    this.value = realValue;\r\n    var inputScale =\r\n      (((realValue - options.min) / (options.max - options.min)) * 100) / step;\r\n    change(inputScale, 0, 'done');\r\n  };\r\n  sliderTxt\r\n    .children('.' + CONST.SLIDER_INPUT_TXT)\r\n    .children('input')\r\n    .on('keydown', function (e) {\r\n      if (e.keyCode === 13) {\r\n        e.preventDefault();\r\n        getInputValue.call(this);\r\n      }\r\n    })\r\n    .on('change', getInputValue);\r\n};\r\n\r\nexport { component as slider };\r\n","/**\r\n * colorpicker\r\n * 颜色选择组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport { lay } from '../core/lay.js';\r\nimport { i18n } from '../core/i18n.js';\r\nimport $ from 'jquery';\r\nimport { componentBuilder } from '../core/component.js';\r\n\r\nvar device = layui.device();\r\nvar clickOrMousedown = device.mobile ? 'click' : 'mousedown';\r\n\r\n// 创建组件\r\nvar component = componentBuilder({\r\n  name: 'colorpicker',\r\n\r\n  // 默认配置\r\n  config: {\r\n    color: '', // 默认颜色，默认没有\r\n    size: null, // 选择器大小\r\n    alpha: false, // 是否开启透明度\r\n    format: 'hex', // 颜色显示/输入格式，可选 rgb,hex\r\n    predefine: false, // 预定义颜色是否开启\r\n    colors: [\r\n      // 默认预定义颜色列表\r\n      '#16baaa',\r\n      '#16b777',\r\n      '#1E9FFF',\r\n      '#FF5722',\r\n      '#FFB800',\r\n      '#01AAED',\r\n      '#999',\r\n      '#c00',\r\n      '#ff8c00',\r\n      '#ffd700',\r\n      '#90ee90',\r\n      '#00ced1',\r\n      '#1e90ff',\r\n      '#c71585',\r\n      '#393D49',\r\n      'rgb(0, 186, 189)',\r\n      'rgb(255, 120, 0)',\r\n      'rgb(250, 212, 0)',\r\n      'rgba(0,0,0,.5)',\r\n      'rgba(255, 69, 0, 0.68)',\r\n      'rgba(144, 240, 144, 0.5)',\r\n      'rgba(31, 147, 255, 0.73)',\r\n    ],\r\n  },\r\n\r\n  CONST: {\r\n    ELEM: 'layui-colorpicker',\r\n    ELEM_MAIN: '.layui-colorpicker-main',\r\n    ICON_PICKER_DOWN: 'layui-icon-down',\r\n    ICON_PICKER_CLOSE: 'layui-icon-close',\r\n    PICKER_TRIG_SPAN: 'layui-colorpicker-trigger-span',\r\n    PICKER_TRIG_I: 'layui-colorpicker-trigger-i',\r\n    PICKER_SIDE: 'layui-colorpicker-side',\r\n    PICKER_SIDE_SLIDER: 'layui-colorpicker-side-slider',\r\n    PICKER_BASIS: 'layui-colorpicker-basis',\r\n    PICKER_ALPHA_BG: 'layui-colorpicker-alpha-bgcolor',\r\n    PICKER_ALPHA_SLIDER: 'layui-colorpicker-alpha-slider',\r\n    PICKER_BASIS_CUR: 'layui-colorpicker-basis-cursor',\r\n    PICKER_INPUT: 'layui-colorpicker-main-input',\r\n  },\r\n\r\n  // 初始化之前\r\n  beforeInit: function () {\r\n    var that = this;\r\n    that.stopClickOutsideEvent = $.noop;\r\n    that.stopResizeEvent = $.noop;\r\n    CONST.PICKER_OPENED = CONST.MOD_ID + '-opened';\r\n  },\r\n\r\n  // 渲染之前\r\n  beforeRender: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n    options.target = $('body'); // 后续考虑开放 target 元素\r\n  },\r\n\r\n  // 渲染\r\n  render: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n\r\n    // 颜色选择框对象\r\n    var elemColorBox = $(\r\n      [\r\n        '<div class=\"layui-unselect layui-colorpicker\">',\r\n        '<span ' +\r\n          (options.format == 'rgb' && options.alpha\r\n            ? 'class=\"layui-colorpicker-trigger-bgcolor\"'\r\n            : '') +\r\n          '>',\r\n        '<span class=\"layui-colorpicker-trigger-span\" ',\r\n        'lay-type=\"' +\r\n          (options.format == 'rgb' ? (options.alpha ? 'rgba' : 'torgb') : '') +\r\n          '\" ',\r\n        'style=\"' +\r\n          (function () {\r\n            var bgstr = '';\r\n            if (options.color) {\r\n              bgstr = options.color;\r\n\r\n              if ((options.color.match(/[0-9]{1,3}/g) || []).length > 3) {\r\n                //需要优化\r\n                if (!(options.alpha && options.format == 'rgb')) {\r\n                  bgstr = '#' + HSBToHEX(RGBToHSB(RGBSTo(options.color)));\r\n                }\r\n              }\r\n\r\n              return 'background: ' + bgstr;\r\n            }\r\n\r\n            return bgstr;\r\n          })() +\r\n          '\">',\r\n        '<i class=\"layui-icon layui-colorpicker-trigger-i ' +\r\n          (options.color ? CONST.ICON_PICKER_DOWN : CONST.ICON_PICKER_CLOSE) +\r\n          '\"></i>',\r\n        '</span>',\r\n        '</span>',\r\n        '</div>',\r\n      ].join(''),\r\n    );\r\n\r\n    // 初始化颜色选择框尺寸\r\n    var elem = options.elem;\r\n    options.size && elemColorBox.addClass('layui-colorpicker-' + options.size);\r\n\r\n    // 插入颜色选择框\r\n    elem.addClass('layui-inline').html((that.elemColorBox = elemColorBox));\r\n\r\n    // 获取背景色值\r\n    that.color = that.elemColorBox.find(\r\n      '.' + CONST.PICKER_TRIG_SPAN,\r\n    )[0].style.background;\r\n  },\r\n});\r\n\r\n// RGB 转 HSB\r\nvar RGBToHSB = function (rgb) {\r\n  var hsb = { h: 0, s: 0, b: 0 };\r\n  var min = Math.min(rgb.r, rgb.g, rgb.b);\r\n  var max = Math.max(rgb.r, rgb.g, rgb.b);\r\n  var delta = max - min;\r\n  hsb.b = max;\r\n  hsb.s = max !== 0 ? (255 * delta) / max : 0;\r\n  if (hsb.s !== 0) {\r\n    if (rgb.r == max) {\r\n      // 因 rgb 中返回的数字为 string 类型\r\n      hsb.h = (rgb.g - rgb.b) / delta;\r\n    } else if (rgb.g == max) {\r\n      hsb.h = 2 + (rgb.b - rgb.r) / delta;\r\n    } else {\r\n      hsb.h = 4 + (rgb.r - rgb.g) / delta;\r\n    }\r\n  } else {\r\n    hsb.h = -1;\r\n  }\r\n  if (max === min) {\r\n    hsb.h = 0;\r\n  }\r\n  hsb.h *= 60;\r\n  if (hsb.h < 0) {\r\n    hsb.h += 360;\r\n  }\r\n  hsb.s *= 100 / 255;\r\n  hsb.b *= 100 / 255;\r\n  return hsb;\r\n};\r\n\r\n// HEX 转 HSB\r\nvar HEXToHSB = function (hex) {\r\n  hex = hex.indexOf('#') > -1 ? hex.substring(1) : hex;\r\n  if (hex.length === 3) {\r\n    var num = hex.split('');\r\n    hex = num[0] + num[0] + num[1] + num[1] + num[2] + num[2];\r\n  }\r\n  hex = parseInt(hex, 16);\r\n  var rgb = { r: hex >> 16, g: (hex & 0x00ff00) >> 8, b: hex & 0x0000ff };\r\n  return RGBToHSB(rgb);\r\n};\r\n\r\n// HSB 转 RGB\r\nvar HSBToRGB = function (hsb) {\r\n  var rgb = {};\r\n  var h = hsb.h;\r\n  var s = (hsb.s * 255) / 100;\r\n  var b = (hsb.b * 255) / 100;\r\n\r\n  if (s === 0) {\r\n    rgb.r = rgb.g = rgb.b = b;\r\n  } else {\r\n    var t1 = b;\r\n    var t2 = ((255 - s) * b) / 255;\r\n    var t3 = ((t1 - t2) * (h % 60)) / 60;\r\n    if (h === 360) h = 0;\r\n    if (h < 60) {\r\n      rgb.r = t1;\r\n      rgb.b = t2;\r\n      rgb.g = t2 + t3;\r\n    } else if (h < 120) {\r\n      rgb.g = t1;\r\n      rgb.b = t2;\r\n      rgb.r = t1 - t3;\r\n    } else if (h < 180) {\r\n      rgb.g = t1;\r\n      rgb.r = t2;\r\n      rgb.b = t2 + t3;\r\n    } else if (h < 240) {\r\n      rgb.b = t1;\r\n      rgb.r = t2;\r\n      rgb.g = t1 - t3;\r\n    } else if (h < 300) {\r\n      rgb.b = t1;\r\n      rgb.g = t2;\r\n      rgb.r = t2 + t3;\r\n    } else if (h < 360) {\r\n      rgb.r = t1;\r\n      rgb.g = t2;\r\n      rgb.b = t1 - t3;\r\n    } else {\r\n      rgb.r = 0;\r\n      rgb.g = 0;\r\n      rgb.b = 0;\r\n    }\r\n  }\r\n  return { r: Math.round(rgb.r), g: Math.round(rgb.g), b: Math.round(rgb.b) };\r\n};\r\n\r\n// HSB 转 HEX\r\nvar HSBToHEX = function (hsb) {\r\n  var rgb = HSBToRGB(hsb);\r\n  var hex = [rgb.r.toString(16), rgb.g.toString(16), rgb.b.toString(16)];\r\n  $.each(hex, function (nr, val) {\r\n    if (val.length === 1) {\r\n      hex[nr] = '0' + val;\r\n    }\r\n  });\r\n  return hex.join('');\r\n};\r\n\r\n// 转化成所需 rgb 格式\r\nvar RGBSTo = function (rgbs) {\r\n  var regexp = /[0-9]{1,3}/g;\r\n  var re = rgbs.match(regexp) || [];\r\n  return { r: re[0], g: re[1], b: re[2] };\r\n};\r\n\r\nvar $win = $(window);\r\nvar $doc = $(document);\r\n\r\nvar CONST = component.CONST;\r\n\r\n/**\r\n * 扩展组件原型方法\r\n */\r\n\r\nvar Class = component.Class;\r\n\r\n// 渲染颜色选择器\r\nClass.prototype.renderPicker = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  // 颜色选择器对象\r\n  var elemPicker = (that.elemPicker = $(\r\n    [\r\n      '<div id=\"layui-colorpicker' +\r\n        that.index +\r\n        '\" data-index=\"' +\r\n        that.index +\r\n        '\" class=\"layui-anim layui-anim-downbit layui-colorpicker-main\">',\r\n      //颜色面板\r\n      '<div class=\"layui-colorpicker-main-wrapper\">',\r\n      '<div class=\"layui-colorpicker-basis\">',\r\n      '<div class=\"layui-colorpicker-basis-white\"></div>',\r\n      '<div class=\"layui-colorpicker-basis-black\"></div>',\r\n      '<div class=\"layui-colorpicker-basis-cursor\"></div>',\r\n      '</div>',\r\n      '<div class=\"layui-colorpicker-side\">',\r\n      '<div class=\"layui-colorpicker-side-slider\"></div>',\r\n      '</div>',\r\n      '</div>',\r\n      //透明度条块\r\n      '<div class=\"layui-colorpicker-main-alpha ' +\r\n        (options.alpha ? CONST.CLASS_SHOW : '') +\r\n        '\">',\r\n      '<div class=\"layui-colorpicker-alpha-bgcolor\">',\r\n      '<div class=\"layui-colorpicker-alpha-slider\"></div>',\r\n      '</div>',\r\n      '</div>',\r\n      //预设颜色列表\r\n      (function () {\r\n        if (options.predefine) {\r\n          var list = ['<div class=\"layui-colorpicker-main-pre\">'];\r\n          layui.each(options.colors, function (i, v) {\r\n            list.push(\r\n              [\r\n                '<div class=\"layui-colorpicker-pre' +\r\n                  ((v.match(/[0-9]{1,3}/g) || []).length > 3\r\n                    ? ' layui-colorpicker-pre-isalpha'\r\n                    : '') +\r\n                  '\">',\r\n                '<div style=\"background:' + v + '\"></div>',\r\n                '</div>',\r\n              ].join(''),\r\n            );\r\n          });\r\n          list.push('</div>');\r\n          return list.join('');\r\n        } else {\r\n          return '';\r\n        }\r\n      })(),\r\n      //底部表单元素区域\r\n      '<div class=\"layui-colorpicker-main-input\">',\r\n      '<div class=\"layui-inline\">',\r\n      '<input type=\"text\" class=\"layui-input\">',\r\n      '</div>',\r\n      '<div class=\"layui-btn-group\">',\r\n      '<button style=\"border-radius: 0\" class=\"layui-btn layui-btn-primary layui-btn-sm\" colorpicker-events=\"clear\">' +\r\n        i18n.$t('colorpicker.clear') +\r\n        '</button>',\r\n      '<button style=\"border-radius: 0; border-left: 0\" class=\"layui-btn layui-btn-primary layui-btn-sm\" colorpicker-events=\"confirm\">' +\r\n        i18n.$t('colorpicker.confirm') +\r\n        '</button>',\r\n      '</div',\r\n      '</div>',\r\n      '</div>',\r\n    ].join(''),\r\n  ));\r\n\r\n  that.removePicker(options.id); // 若已存在则先移除\r\n  options.target.append(elemPicker);\r\n  options.elem.data(CONST.PICKER_OPENED, true); // 面板已打开的标记\r\n\r\n  that.position();\r\n  that.pickerEvents();\r\n  that.onClickOutside();\r\n  that.autoUpdatePosition();\r\n};\r\n\r\n// 颜色选择器移除\r\nClass.prototype.removePicker = function (index) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var elem = $('#layui-colorpicker' + (index || that.index));\r\n\r\n  that.stopClickOutsideEvent();\r\n  that.stopResizeEvent();\r\n\r\n  if (elem[0]) {\r\n    elem.remove();\r\n    options.elem.removeData(CONST.PICKER_OPENED);\r\n\r\n    // 面板关闭后的回调\r\n    typeof options.close === 'function' && options.close(that.color);\r\n  }\r\n\r\n  return that;\r\n};\r\n\r\n// 面板定位\r\nClass.prototype.position = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  lay.position(that.bindElem || that.elemColorBox[0], that.elemPicker[0], {\r\n    position: options.position,\r\n    align: 'center',\r\n  });\r\n  return that;\r\n};\r\n\r\n// 颜色选择器赋值\r\nClass.prototype.val = function () {\r\n  var that = this,\r\n    options = that.config,\r\n    elemColorBox = that.elemColorBox.find('.' + CONST.PICKER_TRIG_SPAN),\r\n    elemPickerInput = that.elemPicker.find('.' + CONST.PICKER_INPUT),\r\n    e = elemColorBox[0],\r\n    bgcolor = e.style.backgroundColor;\r\n\r\n  // 判断是否有背景颜色\r\n  if (bgcolor) {\r\n    // 转化成 hsb 格式\r\n    var hsb = RGBToHSB(RGBSTo(bgcolor));\r\n    var type = elemColorBox.attr('lay-type');\r\n\r\n    // 同步滑块的位置及颜色选择器的选择\r\n    that.select(hsb.h, hsb.s, hsb.b);\r\n\r\n    // 若格式要求为rgb\r\n    if (type === 'torgb') {\r\n      elemPickerInput.find('input').val(bgcolor);\r\n    } else if (type === 'rgba') {\r\n      // 若格式要求为 rgba\r\n      var rgb = RGBSTo(bgcolor);\r\n\r\n      // 若开启透明度而没有设置，则给默认值\r\n      if ((bgcolor.match(/[0-9]{1,3}/g) || []).length === 3) {\r\n        elemPickerInput\r\n          .find('input')\r\n          .val('rgba(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ', 1)');\r\n        that.elemPicker.find('.' + CONST.PICKER_ALPHA_SLIDER).css('left', 280);\r\n      } else {\r\n        elemPickerInput.find('input').val(bgcolor);\r\n        var left =\r\n          bgcolor.slice(bgcolor.lastIndexOf(',') + 1, bgcolor.length - 1) * 280;\r\n        that.elemPicker.find('.' + CONST.PICKER_ALPHA_SLIDER).css('left', left);\r\n      }\r\n\r\n      // 设置 span 背景色\r\n      that.elemPicker.find('.' + CONST.PICKER_ALPHA_BG)[0].style.background =\r\n        'linear-gradient(to right, rgba(' +\r\n        rgb.r +\r\n        ', ' +\r\n        rgb.g +\r\n        ', ' +\r\n        rgb.b +\r\n        ', 0), rgb(' +\r\n        rgb.r +\r\n        ', ' +\r\n        rgb.g +\r\n        ', ' +\r\n        rgb.b +\r\n        '))';\r\n    } else {\r\n      elemPickerInput.find('input').val('#' + HSBToHEX(hsb));\r\n    }\r\n  } else {\r\n    // 若没有背景颜色则默认到最初始的状态\r\n    that.select(0, 100, 100);\r\n    elemPickerInput.find('input').val('');\r\n    that.elemPicker.find('.' + CONST.PICKER_ALPHA_BG)[0].style.background = '';\r\n    that.elemPicker.find('.' + CONST.PICKER_ALPHA_SLIDER).css('left', 280);\r\n  }\r\n};\r\n\r\n// 颜色选择器滑动 / 点击\r\nClass.prototype.side = function () {\r\n  var that = this,\r\n    options = that.config,\r\n    span = that.elemColorBox.find('.' + CONST.PICKER_TRIG_SPAN),\r\n    type = span.attr('lay-type'),\r\n    side = that.elemPicker.find('.' + CONST.PICKER_SIDE),\r\n    slider = that.elemPicker.find('.' + CONST.PICKER_SIDE_SLIDER),\r\n    basis = that.elemPicker.find('.' + CONST.PICKER_BASIS),\r\n    choose = that.elemPicker.find('.' + CONST.PICKER_BASIS_CUR),\r\n    alphacolor = that.elemPicker.find('.' + CONST.PICKER_ALPHA_BG),\r\n    alphaslider = that.elemPicker.find('.' + CONST.PICKER_ALPHA_SLIDER),\r\n    _h = (slider[0].offsetTop / 180) * 360,\r\n    _b = 100 - (choose[0].offsetTop / 180) * 100,\r\n    _s = (choose[0].offsetLeft / 260) * 100,\r\n    _a = Math.round((alphaslider[0].offsetLeft / 280) * 100) / 100,\r\n    i = that.elemColorBox.find('.' + CONST.PICKER_TRIG_I),\r\n    pre = that.elemPicker.find('.layui-colorpicker-pre').children('div'),\r\n    change = function (x, y, z, a) {\r\n      that.select(x, y, z);\r\n      var rgb = HSBToRGB({ h: x, s: y, b: z });\r\n      var color = HSBToHEX({ h: x, s: y, b: z });\r\n      var elemInput = that.elemPicker\r\n        .find('.' + CONST.PICKER_INPUT)\r\n        .find('input');\r\n\r\n      i.addClass(CONST.ICON_PICKER_DOWN).removeClass(CONST.ICON_PICKER_CLOSE);\r\n      span[0].style.background =\r\n        'rgb(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ')';\r\n\r\n      if (type === 'torgb') {\r\n        elemInput.val('rgb(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ')');\r\n      } else if (type === 'rgba') {\r\n        var left = a * 280;\r\n        alphaslider.css('left', left);\r\n        elemInput.val(\r\n          'rgba(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ', ' + a + ')',\r\n        );\r\n        span[0].style.background =\r\n          'rgba(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ', ' + a + ')';\r\n        alphacolor[0].style.background =\r\n          'linear-gradient(to right, rgba(' +\r\n          rgb.r +\r\n          ', ' +\r\n          rgb.g +\r\n          ', ' +\r\n          rgb.b +\r\n          ', 0), rgb(' +\r\n          rgb.r +\r\n          ', ' +\r\n          rgb.g +\r\n          ', ' +\r\n          rgb.b +\r\n          '))';\r\n      } else {\r\n        elemInput.val('#' + color);\r\n      }\r\n\r\n      //回调更改的颜色\r\n      options.change &&\r\n        options.change(\r\n          $.trim(\r\n            that.elemPicker\r\n              .find('.' + CONST.PICKER_INPUT)\r\n              .find('input')\r\n              .val(),\r\n          ),\r\n        );\r\n    },\r\n    //拖拽元素\r\n    elemMove = $(\r\n      [\r\n        '<div class=\"layui-auxiliar-moving\" id=\"LAY-colorpicker-moving\"></div>',\r\n      ].join(''),\r\n    ),\r\n    createMoveElem = function (call) {\r\n      $('#LAY-colorpicker-moving')[0] || $('body').append(elemMove);\r\n      elemMove.on('mousemove', call);\r\n      elemMove\r\n        .on('mouseup', function () {\r\n          elemMove.remove();\r\n        })\r\n        .on('mouseleave', function () {\r\n          elemMove.remove();\r\n        });\r\n    };\r\n  // 移动端滑动模拟事件中\r\n  // 1. 不触发游标上绑定的事件，以提高性能，使滑动更流畅\r\n  // 2. 游标上的事件需要冒泡到颜色拾取区域，用来模拟拖动游标的效果\r\n  var needTrigger = true;\r\n  var needStopPropagation = true;\r\n\r\n  //右侧主色选择\r\n  slider.on('mousedown', function (e, triggerEvent) {\r\n    var oldtop = this.offsetTop;\r\n    var oldy = e.clientY === undefined ? triggerEvent.clientY : e.clientY;\r\n    var move = function (e) {\r\n      var top = oldtop + (e.clientY - oldy),\r\n        maxh = side[0].offsetHeight;\r\n      if (top < 0) top = 0;\r\n      if (top > maxh) top = maxh;\r\n      var h = (top / 180) * 360;\r\n      _h = h;\r\n      change(h, _s, _b, _a);\r\n      e.preventDefault();\r\n    };\r\n    needStopPropagation && layui.stope(e);\r\n    createMoveElem(move);\r\n    e.preventDefault();\r\n  });\r\n\r\n  side.on('mousedown', function (e) {\r\n    var top = e.clientY - $(this).offset().top + $win.scrollTop();\r\n    if (top < 0) top = 0;\r\n    if (top > this.offsetHeight) top = this.offsetHeight;\r\n    var h = (top / 180) * 360;\r\n    _h = h;\r\n    change(h, _s, _b, _a);\r\n    e.preventDefault();\r\n    needTrigger && slider.trigger('mousedown', e);\r\n  });\r\n\r\n  //中间小圆点颜色选择\r\n  choose.on('mousedown', function (e, triggerEvent) {\r\n    var oldtop = this.offsetTop;\r\n    var oldleft = this.offsetLeft;\r\n    var oldy = e.clientY === undefined ? triggerEvent.clientY : e.clientY;\r\n    var oldx = e.clientX === undefined ? triggerEvent.clientX : e.clientX;\r\n    var move = function (e) {\r\n      var top = oldtop + (e.clientY - oldy),\r\n        left = oldleft + (e.clientX - oldx),\r\n        maxh = basis[0].offsetHeight,\r\n        maxw = basis[0].offsetWidth;\r\n      if (top < 0) top = 0;\r\n      if (top > maxh) top = maxh;\r\n      if (left < 0) left = 0;\r\n      if (left > maxw) left = maxw;\r\n      var s = (left / 260) * 100,\r\n        b = 100 - (top / 180) * 100;\r\n      _b = b;\r\n      _s = s;\r\n      change(_h, s, b, _a);\r\n      e.preventDefault();\r\n    };\r\n    needStopPropagation && layui.stope(e);\r\n    createMoveElem(move);\r\n    e.preventDefault();\r\n  });\r\n\r\n  basis.on('mousedown', function (e) {\r\n    var top = e.clientY - $(this).offset().top + $win.scrollTop(),\r\n      left = e.clientX - $(this).offset().left + $win.scrollLeft();\r\n    if (top < 0) top = 0;\r\n    if (top > this.offsetHeight) top = this.offsetHeight;\r\n    if (left < 0) left = 0;\r\n    if (left > this.offsetWidth) left = this.offsetWidth;\r\n    var s = (left / 260) * 100,\r\n      b = 100 - (top / 180) * 100;\r\n    _b = b;\r\n    _s = s;\r\n    change(_h, s, b, _a);\r\n    layui.stope(e);\r\n    e.preventDefault();\r\n    needTrigger && choose.trigger('mousedown', e);\r\n  });\r\n\r\n  //底部透明度选择\r\n  alphaslider.on('mousedown', function (e, triggerEvent) {\r\n    var oldleft = this.offsetLeft;\r\n    var oldx = e.clientX === undefined ? triggerEvent.clientX : e.clientX;\r\n    var move = function (e) {\r\n      var left = oldleft + (e.clientX - oldx),\r\n        maxw = alphacolor[0].offsetWidth;\r\n      if (left < 0) left = 0;\r\n      if (left > maxw) left = maxw;\r\n      var a = Math.round((left / 280) * 100) / 100;\r\n      _a = a;\r\n      change(_h, _s, _b, a);\r\n      e.preventDefault();\r\n    };\r\n\r\n    needStopPropagation && layui.stope(e);\r\n    createMoveElem(move);\r\n    e.preventDefault();\r\n  });\r\n  alphacolor.on('mousedown', function (e) {\r\n    var left = e.clientX - $(this).offset().left;\r\n    if (left < 0) left = 0;\r\n    if (left > this.offsetWidth) left = this.offsetWidth;\r\n    var a = Math.round((left / 280) * 100) / 100;\r\n    _a = a;\r\n    change(_h, _s, _b, a);\r\n    e.preventDefault();\r\n    needTrigger && alphaslider.trigger('mousedown', e);\r\n  });\r\n\r\n  // 预定义颜色选择\r\n  pre.each(function () {\r\n    $(this).on('click', function () {\r\n      $(this)\r\n        .parent('.layui-colorpicker-pre')\r\n        .addClass('selected')\r\n        .siblings()\r\n        .removeClass('selected');\r\n      var color = this.style.backgroundColor,\r\n        hsb = RGBToHSB(RGBSTo(color)),\r\n        a = color.slice(color.lastIndexOf(',') + 1, color.length - 1),\r\n        left;\r\n      _h = hsb.h;\r\n      _s = hsb.s;\r\n      _b = hsb.b;\r\n      if ((color.match(/[0-9]{1,3}/g) || []).length === 3) a = 1;\r\n      _a = a;\r\n      left = a * 280;\r\n      change(hsb.h, hsb.s, hsb.b, a);\r\n    });\r\n  });\r\n\r\n  if (!lay.touchEventsSupported()) return;\r\n  // 触摸事件模拟\r\n  layui.each(\r\n    [\r\n      { elem: side, eventType: 'mousedown' },\r\n      { elem: alphacolor, eventType: 'mousedown' },\r\n      { elem: basis, eventType: 'mousedown' },\r\n    ],\r\n    function (i, obj) {\r\n      lay.touchSwipe(obj.elem, {\r\n        onTouchStart: function () {\r\n          needTrigger = false;\r\n          needStopPropagation = false;\r\n        },\r\n        onTouchMove: function (e) {\r\n          touchHandler(e, obj.eventType);\r\n        },\r\n        onTouchEnd: function () {\r\n          elemMove.remove();\r\n          needTrigger = true;\r\n          needStopPropagation = true;\r\n        },\r\n      });\r\n    },\r\n  );\r\n\r\n  function touchHandler(event, eventType) {\r\n    var pointer = event.touches[0];\r\n    var simulatedEvent = document.createEvent('MouseEvent');\r\n\r\n    simulatedEvent.initMouseEvent(\r\n      eventType,\r\n      true,\r\n      true,\r\n      window,\r\n      1,\r\n      pointer.screenX,\r\n      pointer.screenY,\r\n      pointer.clientX,\r\n      pointer.clientY,\r\n      false,\r\n      false,\r\n      false,\r\n      false,\r\n      0,\r\n      null,\r\n    );\r\n    pointer.target.dispatchEvent(simulatedEvent);\r\n  }\r\n};\r\n\r\n// 颜色选择器hsb转换\r\nClass.prototype.select = function (h, s, b, type) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var hex = HSBToHEX({ h: h, s: 100, b: 100 });\r\n  var color = HSBToHEX({ h: h, s: s, b: b });\r\n  var sidetop = (h / 360) * 180;\r\n  var top = 180 - (b / 100) * 180;\r\n  var left = (s / 100) * 260;\r\n  var basisElem = that.elemPicker.find('.' + CONST.PICKER_BASIS)[0];\r\n\r\n  that.elemPicker.find('.' + CONST.PICKER_SIDE_SLIDER).css('top', sidetop); //滑块的top\r\n  basisElem.style.background = '#' + hex; //颜色选择器的背景\r\n\r\n  //选择器的top left\r\n  that.elemPicker.find('.' + CONST.PICKER_BASIS_CUR).css({\r\n    top: (top / basisElem.offsetHeight) * 100 + '%',\r\n    left: (left / basisElem.offsetWidth) * 100 + '%',\r\n  });\r\n\r\n  // if(type === 'change') return;\r\n\r\n  // 选中的颜色\r\n  // that.elemPicker.find('.' + CONST.PICKER_INPUT).find('input').val('#'+ color);\r\n};\r\n\r\nClass.prototype.pickerEvents = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  var elemColorBoxSpan = that.elemColorBox.find('.' + CONST.PICKER_TRIG_SPAN); //颜色盒子\r\n  var elemPickerInput = that.elemPicker.find(\r\n    '.' + CONST.PICKER_INPUT + ' input',\r\n  ); //颜色选择器表单\r\n\r\n  var pickerEvents = {\r\n    // 清空\r\n    clear: function (othis) {\r\n      elemColorBoxSpan[0].style.background = '';\r\n      that.elemColorBox\r\n        .find('.' + CONST.PICKER_TRIG_I)\r\n        .removeClass(CONST.ICON_PICKER_DOWN)\r\n        .addClass(CONST.ICON_PICKER_CLOSE);\r\n      that.color = '';\r\n\r\n      options.done && options.done('');\r\n      that.removePicker();\r\n    },\r\n\r\n    //确认\r\n    confirm: function (othis, change) {\r\n      var value = $.trim(elemPickerInput.val()),\r\n        colorValue,\r\n        hsb;\r\n\r\n      if (value.indexOf(',') > -1) {\r\n        hsb = RGBToHSB(RGBSTo(value));\r\n        that.select(hsb.h, hsb.s, hsb.b);\r\n        elemColorBoxSpan[0].style.background = colorValue = '#' + HSBToHEX(hsb);\r\n\r\n        if (\r\n          (value.match(/[0-9]{1,3}/g) || []).length > 3 &&\r\n          elemColorBoxSpan.attr('lay-type') === 'rgba'\r\n        ) {\r\n          var left =\r\n            value.slice(value.lastIndexOf(',') + 1, value.length - 1) * 280;\r\n          that.elemPicker\r\n            .find('.' + CONST.PICKER_ALPHA_SLIDER)\r\n            .css('left', left);\r\n          elemColorBoxSpan[0].style.background = value;\r\n          colorValue = value;\r\n        }\r\n      } else {\r\n        hsb = HEXToHSB(value);\r\n        elemColorBoxSpan[0].style.background = colorValue = '#' + HSBToHEX(hsb);\r\n        that.elemColorBox\r\n          .find('.' + CONST.PICKER_TRIG_I)\r\n          .removeClass(CONST.ICON_PICKER_CLOSE)\r\n          .addClass(CONST.ICON_PICKER_DOWN);\r\n      }\r\n\r\n      if (change === 'change') {\r\n        that.select(hsb.h, hsb.s, hsb.b, change);\r\n        options.change && options.change(colorValue);\r\n        return;\r\n      }\r\n      that.color = value;\r\n\r\n      options.done && options.done(value);\r\n      that.removePicker();\r\n    },\r\n  };\r\n\r\n  // 选择器面板点击事件\r\n  that.elemPicker.on('click', '*[colorpicker-events]', function () {\r\n    var othis = $(this),\r\n      attrEvent = othis.attr('colorpicker-events');\r\n    pickerEvents[attrEvent] && pickerEvents[attrEvent].call(this, othis);\r\n  });\r\n\r\n  // 输入框事件\r\n  elemPickerInput.on('keyup', function (e) {\r\n    var othis = $(this);\r\n    pickerEvents.confirm.call(this, othis, e.keyCode === 13 ? null : 'change');\r\n  });\r\n};\r\n\r\n// 事件\r\nClass.prototype.events = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  // 弹出颜色选择器\r\n  that.elemColorBox.on('click', function () {\r\n    // 主面板是否已打开\r\n    var opened = options.elem.data(CONST.PICKER_OPENED);\r\n\r\n    // 根据主面板状态，自动切换打开与关闭\r\n    if (opened) {\r\n      that.removePicker();\r\n    } else {\r\n      that.renderPicker();\r\n      that.val();\r\n      that.side();\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * 点击面板外部时的事件\r\n */\r\nClass.prototype.onClickOutside = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  that.stopClickOutsideEvent();\r\n\r\n  var stop = lay.onClickOutside(\r\n    that.elemPicker[0],\r\n    function (e) {\r\n      var elemColorBoxSpan = that.elemColorBox.find(\r\n        '.' + CONST.PICKER_TRIG_SPAN,\r\n      );\r\n\r\n      if (that.color) {\r\n        var hsb = RGBToHSB(RGBSTo(that.color));\r\n        that.select(hsb.h, hsb.s, hsb.b);\r\n      } else {\r\n        that.elemColorBox\r\n          .find('.' + CONST.PICKER_TRIG_I)\r\n          .removeClass(CONST.ICON_PICKER_DOWN)\r\n          .addClass(CONST.ICON_PICKER_CLOSE);\r\n      }\r\n\r\n      elemColorBoxSpan[0].style.background = that.color || '';\r\n\r\n      // 取消选择的回调\r\n      typeof options.cancel === 'function' && options.cancel(that.color);\r\n\r\n      // 移除面板\r\n      that.removePicker();\r\n    },\r\n    {\r\n      ignore: [options.elem[0]],\r\n      event: clickOrMousedown,\r\n      capture: false,\r\n    },\r\n  );\r\n\r\n  that.stopClickOutsideEvent = function () {\r\n    stop();\r\n    that.stopClickOutsideEvent = $.noop;\r\n  };\r\n};\r\n\r\n/**\r\n * 窗口大小变化时自动更新位置\r\n */\r\nClass.prototype.autoUpdatePosition = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var RESIZE_EVENT_NAME = 'resize.lay_colorpicker_resize';\r\n\r\n  that.stopResizeEvent();\r\n\r\n  var windowResizeHandler = function () {\r\n    that.position();\r\n  };\r\n\r\n  $win.on(RESIZE_EVENT_NAME, windowResizeHandler);\r\n\r\n  that.stopResizeEvent = function () {\r\n    $win.off(RESIZE_EVENT_NAME, windowResizeHandler);\r\n    that.stopResizeEvent = $.noop;\r\n  };\r\n};\r\n\r\nexport { component as colorpicker };\r\n","/**\r\n * tab\r\n * 选项卡组件（已被 tabs 平替，仅为兼容保留）\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport $ from 'jquery';\r\nimport { componentBuilder } from '../core/component.js';\r\n\r\nvar SUPER_MOD_NAME = 'element'; // 所属的超级模块名，确保向下兼容\r\n\r\n// 创建组件\r\nvar component = componentBuilder({\r\n  name: 'tab', // 组件名\r\n\r\n  // 默认配置\r\n  config: {\r\n    elem: '.layui-tab',\r\n  },\r\n\r\n  CONST: {\r\n    ELEM: 'layui-tab',\r\n    HEADER: 'layui-tab-title',\r\n    CLOSE: 'layui-tab-close',\r\n    MORE: 'layui-tab-more',\r\n    BAR: 'layui-tab-bar',\r\n  },\r\n\r\n  // 渲染\r\n  render: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n\r\n    events.tabAuto(null, options.elem);\r\n  },\r\n});\r\n\r\nvar CONST = component.CONST;\r\n\r\nvar $win = $(window);\r\nvar $doc = $(document);\r\n\r\n// 基础事件\r\nvar events = {\r\n  // Tab 点击\r\n  tabClick: function (obj) {\r\n    obj = obj || {};\r\n    var options = obj.options || {};\r\n    var othis = obj.liElem || $(this);\r\n    var parents = options.headerElem\r\n      ? othis.parent()\r\n      : othis.parents('.layui-tab').eq(0);\r\n    var item = options.bodyElem\r\n      ? $(options.bodyElem)\r\n      : parents.children('.layui-tab-content').children('.layui-tab-item');\r\n    var elemA = othis.find('a');\r\n    var isJump =\r\n      elemA.attr('href') !== 'javascript:;' &&\r\n      elemA.attr('target') === '_blank'; // 是否存在跳转\r\n    var unselect = typeof othis.attr('lay-unselect') === 'string'; // 是否禁用选中\r\n    var filter = parents.attr('lay-filter');\r\n    var hasId = othis.attr('lay-id');\r\n\r\n    // 下标\r\n    var index =\r\n      'index' in obj ? obj.index : othis.parent().children('li').index(othis);\r\n\r\n    // 若非强制切换，则根据 tabBeforeChange 事件的返回结果决定是否切换\r\n    if (!obj.force) {\r\n      var liThis = othis.siblings('.' + CONST.CLASS_THIS);\r\n      var shouldChange = layui.event.call(\r\n        this,\r\n        SUPER_MOD_NAME,\r\n        'tabBeforeChange(' + filter + ')',\r\n        {\r\n          elem: parents,\r\n          from: {\r\n            index: othis.parent().children('li').index(liThis),\r\n            id: liThis.attr('lay-id'),\r\n          },\r\n          to: {\r\n            index: index,\r\n            id: hasId,\r\n          },\r\n        },\r\n      );\r\n      if (shouldChange === false) return;\r\n    }\r\n\r\n    // 执行切换\r\n    if (!(isJump || unselect)) {\r\n      othis.addClass(CONST.CLASS_THIS).siblings().removeClass(CONST.CLASS_THIS);\r\n      if (hasId) {\r\n        var contentElem = item.filter('[lay-id=\"' + hasId + '\"]');\r\n        contentElem = contentElem.length ? contentElem : item.eq(index);\r\n        contentElem\r\n          .addClass(CONST.CLASS_SHOW)\r\n          .siblings()\r\n          .removeClass(CONST.CLASS_SHOW);\r\n      } else {\r\n        item\r\n          .eq(index)\r\n          .addClass(CONST.CLASS_SHOW)\r\n          .siblings()\r\n          .removeClass(CONST.CLASS_SHOW);\r\n      }\r\n    }\r\n\r\n    layui.event.call(this, SUPER_MOD_NAME, 'tab(' + filter + ')', {\r\n      elem: parents,\r\n      index: index,\r\n      id: hasId,\r\n    });\r\n  },\r\n\r\n  // Tab 删除\r\n  tabDelete: function (obj) {\r\n    obj = obj || {};\r\n\r\n    var li = obj.liElem || $(this).parent();\r\n    var index = li.parent().children('li').index(li);\r\n    var tabElem = li.closest('.layui-tab');\r\n    var item = tabElem\r\n      .children('.layui-tab-content')\r\n      .children('.layui-tab-item');\r\n    var filter = tabElem.attr('lay-filter');\r\n    var hasId = li.attr('lay-id');\r\n\r\n    // 若非强制删除，则根据 tabBeforeDelete 事件的返回结果决定是否删除\r\n    if (!obj.force) {\r\n      var shouldClose = layui.event.call(\r\n        li[0],\r\n        SUPER_MOD_NAME,\r\n        'tabBeforeDelete(' + filter + ')',\r\n        {\r\n          elem: tabElem,\r\n          index: index,\r\n          id: hasId,\r\n        },\r\n      );\r\n      if (shouldClose === false) return;\r\n    }\r\n\r\n    if (li.hasClass(CONST.CLASS_THIS)) {\r\n      if (li.next()[0] && li.next().is('li')) {\r\n        events.tabClick.call(li.next()[0], {\r\n          index: index + 1,\r\n        });\r\n      } else if (li.prev()[0] && li.prev().is('li')) {\r\n        events.tabClick.call(li.prev()[0], null, index - 1);\r\n      }\r\n    }\r\n\r\n    li.remove();\r\n    if (hasId) {\r\n      var contentElem = item.filter('[lay-id=\"' + hasId + '\"]');\r\n      contentElem = contentElem.length ? contentElem : item.eq(index);\r\n      contentElem.remove();\r\n    } else {\r\n      item.eq(index).remove();\r\n    }\r\n    setTimeout(function () {\r\n      events.tabAuto(null, tabElem);\r\n    }, 50);\r\n\r\n    layui.event.call(this, SUPER_MOD_NAME, 'tabDelete(' + filter + ')', {\r\n      elem: tabElem,\r\n      index: index,\r\n      id: hasId,\r\n    });\r\n  },\r\n\r\n  // Tab 自适应\r\n  tabAuto: function (spread, elem) {\r\n    var targetElem = elem || $('.layui-tab');\r\n\r\n    targetElem.each(function () {\r\n      var othis = $(this);\r\n      var title = othis.children('.' + CONST.HEADER);\r\n      var STOPE = 'lay-stope=\"tabmore\"';\r\n      var span = $(\r\n        '<span class=\"layui-unselect ' +\r\n          CONST.BAR +\r\n          '\" ' +\r\n          STOPE +\r\n          '><i ' +\r\n          STOPE +\r\n          ' class=\"layui-icon\">&#xe61a;</i></span>',\r\n      );\r\n\r\n      // 开启关闭图标\r\n      var allowclose = othis.attr('lay-allowclose');\r\n      if (allowclose && allowclose !== 'false') {\r\n        title.find('li').each(function () {\r\n          var li = $(this);\r\n          if (\r\n            !li.find('.' + CONST.CLOSE)[0] &&\r\n            li.attr('lay-allowclose') !== 'false'\r\n          ) {\r\n            var close = $(\r\n              '<i class=\"layui-icon layui-icon-close layui-unselect ' +\r\n                CONST.CLOSE +\r\n                '\"></i>',\r\n            );\r\n            close.on('click', function (e) {\r\n              events.tabDelete.call(this, {\r\n                e: e,\r\n              });\r\n            });\r\n            li.append(close);\r\n          }\r\n        });\r\n      }\r\n\r\n      if (typeof othis.attr('lay-unauto') === 'string') return;\r\n\r\n      // 响应式\r\n      if (\r\n        title.prop('scrollWidth') > title.outerWidth() + 1 ||\r\n        (title.find('li').length &&\r\n          title.height() >\r\n            (function (height) {\r\n              return height + height / 2;\r\n            })(title.find('li').eq(0).height()))\r\n      ) {\r\n        // 若执行是来自于切换，则自动展开\r\n        if (spread === 'change' && title.data('LAY_TAB_CHANGE')) {\r\n          title.addClass(CONST.MORE);\r\n        }\r\n\r\n        if (title.find('.' + CONST.BAR)[0]) return;\r\n        title.append(span);\r\n        othis.attr('overflow', '');\r\n\r\n        // 展开图标事件\r\n        span.on('click', function () {\r\n          var isSpread = title.hasClass(CONST.MORE);\r\n          title[isSpread ? 'removeClass' : 'addClass'](CONST.MORE);\r\n        });\r\n      } else {\r\n        title.find('.' + CONST.BAR).remove();\r\n        othis.removeAttr('overflow');\r\n      }\r\n    });\r\n  },\r\n\r\n  // 隐藏更多 Tab\r\n  hideTabMore: function (e) {\r\n    var tsbTitle = $('.' + CONST.HEADER);\r\n    if (e === true || $(e.target).attr('lay-stope') !== 'tabmore') {\r\n      tsbTitle.removeClass(CONST.MORE);\r\n      tsbTitle.find('.' + CONST.BAR).attr('title', '');\r\n    }\r\n  },\r\n};\r\n\r\n// 扩展组件接口\r\n$.extend(component, {\r\n  // 新增 tab\r\n  tabAdd: function (filter, options) {\r\n    var tabElem = $('.layui-tab[lay-filter=' + filter + ']');\r\n    var titElem = tabElem.children('.' + CONST.HEADER);\r\n    var barElem = titElem.children('.' + CONST.BAR);\r\n    var contElem = tabElem.children('.layui-tab-content');\r\n    var li =\r\n      '<li' +\r\n      (function () {\r\n        var layAttr = [];\r\n        layui.each(options, function (key, value) {\r\n          if (/^(title|content)$/.test(key)) return;\r\n          layAttr.push('lay-' + key + '=\"' + value + '\"');\r\n        });\r\n        if (layAttr.length > 0) layAttr.unshift(''); //向前插，预留空格\r\n        return layAttr.join(' ');\r\n      })() +\r\n      '>' +\r\n      (options.title || 'unnaming') +\r\n      '</li>';\r\n\r\n    barElem[0] ? barElem.before(li) : titElem.append(li);\r\n    contElem.append(\r\n      '<div class=\"layui-tab-item\" ' +\r\n        (options.id ? 'lay-id=\"' + options.id + '\"' : '') +\r\n        '>' +\r\n        (options.content || '') +\r\n        '</div>',\r\n    );\r\n    // events.hideTabMore(true);\r\n    // 是否添加即切换\r\n    options.change && this.tabChange(filter, options.id);\r\n    titElem.data('LAY_TAB_CHANGE', options.change);\r\n    events.tabAuto(options.change ? 'change' : null, tabElem);\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * 外部 Tab 删除\r\n   * @param {string} filter - 标签主容器 lay-filter 值\r\n   * @param {string} layid - 标签头 lay-id 值\r\n   * @param {boolean} force - 是否强制删除\r\n   * @returns {this}\r\n   */\r\n  tabDelete: function (filter, layid, force) {\r\n    var tabElem = $('.layui-tab[lay-filter=' + filter + ']');\r\n    var titElem = tabElem.children('.' + CONST.HEADER);\r\n    var liElem = titElem.find('>li[lay-id=\"' + layid + '\"]');\r\n    events.tabDelete.call(liElem[0], {\r\n      liElem: liElem,\r\n      force: force,\r\n    });\r\n    return this;\r\n  },\r\n\r\n  /**\r\n   * 外部 Tab 切换\r\n   * @param {string} filter - 标签主容器 lay-filter 值\r\n   * @param {string} layid - 标签头 lay-id 值\r\n   * @param {boolean} force - 是否强制切换\r\n   * @returns {this}\r\n   */\r\n  tabChange: function (filter, layid, force) {\r\n    var tabElem = $('.layui-tab[lay-filter=' + filter + ']');\r\n    var titElem = tabElem.children('.' + CONST.HEADER);\r\n    var liElem = titElem.find('>li[lay-id=\"' + layid + '\"]');\r\n\r\n    events.tabClick.call(liElem[0], {\r\n      liElem: liElem,\r\n      force: force,\r\n    });\r\n    return this;\r\n  },\r\n\r\n  // 自定义 Tab 选项卡\r\n  tab: function (options) {\r\n    options = options || {};\r\n    $doc.on('click', options.headerElem, function () {\r\n      var index = $(options.headerElem).index($(this));\r\n      events.tabClick.call(this, {\r\n        index: index,\r\n        options: options,\r\n      });\r\n    });\r\n  },\r\n});\r\n\r\n$doc.on('click', '.' + CONST.HEADER + ' li', events.tabClick); // tab 头部项点击\r\n$win.on('resize.lay_tab_auto_resize', events.tabAuto); // 自适应尺寸\r\n\r\n// export\r\nexport { component as tab };\r\n","/**\r\n * nav\r\n * 导航菜单组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport $ from 'jquery';\r\nimport { componentBuilder } from '../core/component.js';\r\n\r\nvar device = layui.device();\r\nvar SUPER_MOD_NAME = 'element'; // 所属的超级模块名，确保向下兼容\r\n\r\n// 创建组件\r\nvar component = componentBuilder({\r\n  name: 'nav', // 组件名\r\n\r\n  // 默认配置\r\n  config: {\r\n    elem: '.layui-nav',\r\n  },\r\n\r\n  CONST: {\r\n    NAV_ELEM: '.layui-nav',\r\n    NAV_ITEM: 'layui-nav-item',\r\n    NAV_BAR: 'layui-nav-bar',\r\n    NAV_TREE: 'layui-nav-tree',\r\n    NAV_CHILD: 'layui-nav-child',\r\n    NAV_CHILD_C: 'layui-nav-child-c',\r\n    NAV_MORE: 'layui-nav-more',\r\n    NAV_DOWN: 'layui-icon-down',\r\n    NAV_ANIM: 'layui-anim layui-anim-upbit',\r\n  },\r\n\r\n  // 渲染\r\n  render: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n\r\n    var TIME = 200;\r\n    var timer = {};\r\n    var timerMore = {};\r\n    var timeEnd = {};\r\n    var NAV_TITLE = 'layui-nav-title';\r\n\r\n    // 滑块跟随\r\n    var follow = function (bar, nav, index) {\r\n      var othis = $(this);\r\n      var child = othis.find('.' + CONST.NAV_CHILD);\r\n\r\n      // 是否垂直导航菜单\r\n      if (nav.hasClass(CONST.NAV_TREE)) {\r\n        // 无子菜单时跟随\r\n        if (!child[0]) {\r\n          var thisA = othis.children('.' + NAV_TITLE);\r\n          bar.css({\r\n            top: othis.offset().top - nav.offset().top + nav.scrollTop(),\r\n            height: (thisA[0] ? thisA : othis).outerHeight(),\r\n            opacity: 1,\r\n          });\r\n        }\r\n      } else {\r\n        child.addClass(CONST.NAV_ANIM);\r\n\r\n        // 若居中对齐\r\n        if (child.hasClass(CONST.NAV_CHILD_C)) {\r\n          child.css({\r\n            left: -(child.outerWidth() - othis.width()) / 2,\r\n          });\r\n        }\r\n\r\n        // 滑块定位\r\n        if (child[0]) {\r\n          // 若有子菜单，则滑块消失\r\n          bar.css({\r\n            left: bar.position().left + bar.width() / 2,\r\n            width: 0,\r\n            opacity: 0,\r\n          });\r\n        } else {\r\n          // bar 跟随\r\n          bar.css({\r\n            left: othis.position().left + parseFloat(othis.css('marginLeft')),\r\n            top: othis.position().top + othis.height() - bar.height(),\r\n          });\r\n        }\r\n\r\n        // 渐显滑块并适配宽度\r\n        timer[index] = setTimeout(\r\n          function () {\r\n            bar.css({\r\n              width: child[0] ? 0 : othis.width(),\r\n              opacity: child[0] ? 0 : 1,\r\n            });\r\n          },\r\n          device.ie && device.ie < 10 ? 0 : TIME,\r\n        );\r\n\r\n        // 显示子菜单\r\n        clearTimeout(timeEnd[index]);\r\n        if (child.css('display') === 'block') {\r\n          clearTimeout(timerMore[index]);\r\n        }\r\n        timerMore[index] = setTimeout(function () {\r\n          child.addClass(CONST.CLASS_SHOW);\r\n          othis.find('.' + CONST.NAV_MORE).addClass(CONST.NAV_MORE + 'd');\r\n        }, 300);\r\n      }\r\n    };\r\n\r\n    // 遍历导航\r\n    options.elem.each(function (index) {\r\n      var othis = $(this);\r\n      var bar = $('<span class=\"' + CONST.NAV_BAR + '\"></span>');\r\n      var itemElem = othis.find('.' + CONST.NAV_ITEM);\r\n\r\n      // hover 滑动效果\r\n      var hasBarElem = othis.find('.' + CONST.NAV_BAR);\r\n      if (hasBarElem[0]) hasBarElem.remove();\r\n      othis.append(bar);\r\n      (othis.hasClass(CONST.NAV_TREE)\r\n        ? itemElem.find('dd,>.' + CONST.NAV_TITLE)\r\n        : itemElem\r\n      )\r\n        .off('mouseenter.lay_nav')\r\n        .on('mouseenter.lay_nav', function () {\r\n          follow.call(this, bar, othis, index);\r\n        })\r\n        .off('mouseleave.lay_nav')\r\n        .on('mouseleave.lay_nav', function () {\r\n          // 鼠标移出\r\n          // 是否为垂直导航\r\n          if (othis.hasClass(CONST.NAV_TREE)) {\r\n            bar.css({\r\n              height: 0,\r\n              opacity: 0,\r\n            });\r\n          } else {\r\n            // 隐藏子菜单\r\n            clearTimeout(timerMore[index]);\r\n            timerMore[index] = setTimeout(function () {\r\n              othis.find('.' + CONST.NAV_CHILD).removeClass(CONST.CLASS_SHOW);\r\n              othis\r\n                .find('.' + CONST.NAV_MORE)\r\n                .removeClass(CONST.NAV_MORE + 'd');\r\n            }, 300);\r\n          }\r\n        });\r\n\r\n      // 鼠标离开当前菜单时\r\n      othis.off('mouseleave.lay_nav').on('mouseleave.lay_nav', function () {\r\n        clearTimeout(timer[index]);\r\n        timeEnd[index] = setTimeout(function () {\r\n          if (!othis.hasClass(CONST.NAV_TREE)) {\r\n            bar.css({\r\n              width: 0,\r\n              left: bar.position().left + bar.width() / 2,\r\n              opacity: 0,\r\n            });\r\n          }\r\n        }, TIME);\r\n      });\r\n\r\n      // 展开子菜单\r\n      itemElem.find('a').each(function () {\r\n        var thisA = $(this);\r\n        var child = thisA.siblings('.' + CONST.NAV_CHILD);\r\n        var clickEventName = 'click.lay_nav_click';\r\n\r\n        // 输出小箭头\r\n        if (child[0] && !thisA.children('.' + CONST.NAV_MORE)[0]) {\r\n          thisA.append(\r\n            '<i class=\"layui-icon ' +\r\n              CONST.NAV_DOWN +\r\n              ' ' +\r\n              CONST.NAV_MORE +\r\n              '\"></i>',\r\n          );\r\n        }\r\n\r\n        // 点击菜单\r\n        thisA\r\n          .off(clickEventName, events.clickThis)\r\n          .on(clickEventName, events.clickThis);\r\n      });\r\n    });\r\n  },\r\n});\r\n\r\nvar events = {\r\n  // 点击当前菜单 - a 标签触发\r\n  clickThis: function () {\r\n    var othis = $(this);\r\n    var parents = othis.closest(CONST.NAV_ELEM);\r\n    var filter = parents.attr('lay-filter');\r\n    var parent = othis.parent();\r\n    var child = othis.siblings('.' + CONST.NAV_CHILD);\r\n    var unselect = typeof parent.attr('lay-unselect') === 'string'; // 是否禁用选中\r\n\r\n    // 满足点击选中的条件\r\n    if (\r\n      !(\r\n        othis.attr('href') !== 'javascript:;' &&\r\n        othis.attr('target') === '_blank'\r\n      ) &&\r\n      !unselect\r\n    ) {\r\n      if (!child[0]) {\r\n        parents.find('.' + CONST.CLASS_THIS).removeClass(CONST.CLASS_THIS);\r\n        parent.addClass(CONST.CLASS_THIS);\r\n      }\r\n    }\r\n\r\n    // 若为垂直菜单\r\n    if (parents.hasClass(CONST.NAV_TREE)) {\r\n      var NAV_ITEMED = CONST.NAV_ITEM + 'ed'; // 用于标注展开状态\r\n      var needExpand = !parent.hasClass(NAV_ITEMED); // 是否执行展开\r\n      var ANIM_MS = 200; // 动画过渡毫秒数\r\n\r\n      // 动画执行完成后的操作\r\n      var complete = function () {\r\n        $(this).css({\r\n          display: '', // 剔除动画生成的 style display，以适配外部样式的状态重置\r\n        });\r\n        // 避免导航滑块错位\r\n        parents.children('.' + CONST.NAV_BAR).css({\r\n          opacity: 0,\r\n        });\r\n      };\r\n\r\n      // 是否正处于动画中的状态\r\n      if (child.is(':animated')) return;\r\n\r\n      // 剔除可能存在的 CSS3 动画类\r\n      child.removeClass(CONST.NAV_ANIM);\r\n\r\n      // 若有子菜单，则对其执行展开或收缩\r\n      if (child[0]) {\r\n        if (needExpand) {\r\n          // 先执行 slideDown 动画，再标注展开状态样式，避免元素 `block` 状态导致动画无效\r\n          child.slideDown(ANIM_MS, complete);\r\n          parent.addClass(NAV_ITEMED);\r\n        } else {\r\n          // 先取消展开状态样式，再将元素临时显示，避免 `none` 状态导致 slideUp 动画无效\r\n          parent.removeClass(NAV_ITEMED);\r\n          child.show().slideUp(ANIM_MS, complete);\r\n        }\r\n\r\n        // 手风琴 --- 收缩兄弟展开项\r\n        if (\r\n          typeof parents.attr('lay-accordion') === 'string' ||\r\n          parents.attr('lay-shrink') === 'all'\r\n        ) {\r\n          var parentSibs = parent.siblings('.' + NAV_ITEMED);\r\n          parentSibs.removeClass(NAV_ITEMED);\r\n          parentSibs\r\n            .children('.' + CONST.NAV_CHILD)\r\n            .show()\r\n            .stop()\r\n            .slideUp(ANIM_MS, complete);\r\n        }\r\n      }\r\n    }\r\n\r\n    layui.event.call(this, SUPER_MOD_NAME, 'nav(' + filter + ')', othis);\r\n  },\r\n};\r\n\r\nvar CONST = component.CONST;\r\n\r\n// export\r\nexport { component as nav };\r\n","/**\r\n * breadcrumb\r\n * 面包屑导航组件\r\n */\r\n\r\nimport $ from 'jquery';\r\nimport { componentBuilder } from '../core/component.js';\r\n\r\n// 创建组件\r\nvar component = componentBuilder({\r\n  name: 'breadcrumb', // 组件名\r\n\r\n  // 默认配置\r\n  config: {\r\n    elem: '.layui-breadcrumb',\r\n  },\r\n\r\n  render: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n\r\n    options.elem.each(function () {\r\n      var othis = $(this);\r\n      var ATTE_SPR = 'lay-separator';\r\n      var separator = othis.attr(ATTE_SPR) || '/';\r\n      var aNode = othis.find('a');\r\n      if (aNode.next('span[' + ATTE_SPR + ']')[0]) return;\r\n      aNode.each(function (index) {\r\n        if (index === aNode.length - 1) return;\r\n        $(this).after('<span ' + ATTE_SPR + '>' + separator + '</span>');\r\n      });\r\n      othis.css('visibility', 'visible');\r\n    });\r\n  },\r\n});\r\n\r\n// export\r\nexport { component as breadcrumb };\r\n","/**\r\n * progress\r\n * 进度条组件\r\n */\r\n\r\nimport $ from 'jquery';\r\nimport { componentBuilder } from '../core/component.js';\r\n\r\n// 创建组件\r\nvar component = componentBuilder({\r\n  name: 'progress', // 组件名\r\n\r\n  // 默认配置\r\n  config: {\r\n    elem: '.layui-progress',\r\n  },\r\n\r\n  CONST: {\r\n    ELEM: 'layui-progress',\r\n  },\r\n\r\n  render: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n\r\n    options.elem.each(function () {\r\n      var othis = $(this);\r\n      var elemBar = othis.find('.layui-progress-bar');\r\n      var percent = elemBar.attr('lay-percent');\r\n\r\n      elemBar.css('width', function () {\r\n        return /^.+\\/.+$/.test(percent)\r\n          ? new Function('return ' + percent)() * 100 + '%'\r\n          : percent;\r\n      });\r\n\r\n      if (othis.attr('lay-showpercent')) {\r\n        setTimeout(function () {\r\n          elemBar.html(\r\n            '<span class=\"' + CONST.ELEM + '-text\">' + percent + '</span>',\r\n          );\r\n        }, 350);\r\n      }\r\n    });\r\n  },\r\n});\r\n\r\nvar CONST = component.CONST;\r\n\r\n// 扩展组件接口\r\n$.extend(component, {\r\n  // 动态改变进度条\r\n  setValue: function (filter, percent) {\r\n    var ELEM = 'layui-progress';\r\n    var elem = $('.' + ELEM + '[lay-filter=' + filter + ']');\r\n    var elemBar = elem.find('.' + ELEM + '-bar');\r\n    var text = elemBar.find('.' + ELEM + '-text');\r\n\r\n    elemBar\r\n      .css('width', function () {\r\n        return /^.+\\/.+$/.test(percent)\r\n          ? new Function('return ' + percent)() * 100 + '%'\r\n          : percent;\r\n      })\r\n      .attr('lay-percent', percent);\r\n    text.text(percent);\r\n    return this;\r\n  },\r\n});\r\n\r\n// export\r\nexport { component as progress };\r\n","/**\r\n * collapse\r\n * 折叠面板组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport $ from 'jquery';\r\nimport { componentBuilder } from '../core/component.js';\r\n\r\nvar SUPER_MOD_NAME = 'element'; // 所属的超级模块名，确保向下兼容\r\n\r\n// 创建组件\r\nvar component = componentBuilder({\r\n  name: 'collapse', // 组件名\r\n\r\n  // 默认配置\r\n  config: {\r\n    elem: '.layui-collapse',\r\n  },\r\n\r\n  render: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n\r\n    options.elem.each(function () {\r\n      var elemItem = $(this).find('.layui-colla-item');\r\n      elemItem.each(function () {\r\n        var othis = $(this);\r\n        var elemTitle = othis.find('.layui-colla-title');\r\n        var elemCont = othis.find('.layui-colla-content');\r\n        var isNone = elemCont.css('display') === 'none';\r\n        var clickEventName = 'click.lay_collapse_click';\r\n\r\n        // 初始状态\r\n        elemTitle.find('.layui-colla-icon').remove();\r\n        elemTitle.append(\r\n          '<i class=\"layui-icon layui-icon-right layui-colla-icon\"></i>',\r\n        );\r\n        othis[isNone ? 'removeClass' : 'addClass'](CONST.CLASS_SHOW);\r\n\r\n        // 兼容旧版（ < 2.11.3）\r\n        if (elemCont.hasClass(CONST.CLASS_SHOW)) {\r\n          elemCont.removeClass(CONST.CLASS_SHOW);\r\n        }\r\n\r\n        // 点击标题\r\n        elemTitle\r\n          .off(clickEventName, event.titleClick)\r\n          .on(clickEventName, event.titleClick);\r\n      });\r\n    });\r\n  },\r\n});\r\n\r\n// 基础事件体\r\nvar event = {\r\n  // 点击面板标题项\r\n  titleClick: function () {\r\n    var othis = $(this);\r\n    var wrapper = othis.closest('.layui-collapse');\r\n    var filter = wrapper.attr('lay-filter');\r\n\r\n    var ANIM_MS = 200; // 动画过渡毫秒数\r\n    var CLASS_ITEM = '.layui-colla-item';\r\n    var CLASS_CONTENT = '.layui-colla-content';\r\n\r\n    var thisItemElem = othis.parent(CLASS_ITEM);\r\n    var thisContentElem = othis.siblings(CLASS_CONTENT);\r\n    var isNone = thisContentElem.css('display') === 'none';\r\n    var isAccordion = typeof wrapper.attr('lay-accordion') === 'string';\r\n\r\n    // 动画执行完成后的操作\r\n    var complete = function () {\r\n      $(this).css('display', ''); // 剔除动画生成的 style display，以适配外部样式的状态重置\r\n    };\r\n\r\n    // 是否正处于动画中的状态\r\n    if (thisContentElem.is(':animated')) return;\r\n\r\n    // 展开或收缩\r\n    if (isNone) {\r\n      // 先执行 slideDown 动画，再标注展开状态样式，避免元素 `block` 状态导致动画无效\r\n      thisContentElem.slideDown(ANIM_MS, complete);\r\n      thisItemElem.addClass(CONST.CLASS_SHOW);\r\n    } else {\r\n      // 先取消展开状态样式，再将元素临时显示，避免 `none` 状态导致 slideUp 动画无效\r\n      thisItemElem.removeClass(CONST.CLASS_SHOW);\r\n      thisContentElem.show().slideUp(ANIM_MS, complete);\r\n    }\r\n\r\n    // 是否开启手风琴\r\n    if (isAccordion) {\r\n      var itemSiblings = thisItemElem.siblings('.' + CONST.CLASS_SHOW);\r\n      itemSiblings.removeClass(CONST.CLASS_SHOW);\r\n      itemSiblings.children(CLASS_CONTENT).show().slideUp(ANIM_MS, complete);\r\n    }\r\n\r\n    // 事件\r\n    layui.event.call(this, SUPER_MOD_NAME, 'collapse(' + filter + ')', {\r\n      title: othis,\r\n      content: thisContentElem,\r\n      show: isNone,\r\n    });\r\n  },\r\n};\r\n\r\nvar CONST = component.CONST;\r\n\r\n// export\r\nexport { component as collapse };\r\n","/**\r\n * element\r\n * 常用元素操作\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport $ from 'jquery';\r\nimport { componentBuilder } from '../core/component.js';\r\nimport { tab } from './tab.js';\r\nimport { nav } from './nav.js';\r\nimport { breadcrumb } from './breadcrumb.js';\r\nimport { progress } from './progress.js';\r\nimport { collapse } from './collapse.js';\r\n\r\nconst elements = { tab, nav, breadcrumb, progress, collapse };\r\n\r\n// 创建组件\r\nconst component = componentBuilder({\r\n  name: 'element', // 模块名\r\n\r\n  CONST: {\r\n    MOD_NAME: 'element',\r\n  },\r\n});\r\n\r\n// const CONST = component.CONST;\r\n\r\n// 保留原接口，确保向下兼容\r\n$.extend(component, {\r\n  render(type, filter) {\r\n    const elemFilter = (function () {\r\n      if (typeof filter === 'string' && filter) {\r\n        return '[lay-filter=\"' + filter + '\"]';\r\n      }\r\n      return '';\r\n    })();\r\n    const components = {\r\n      tab: '.layui-tab' + elemFilter,\r\n      nav: '.layui-nav' + elemFilter,\r\n      breadcrumb: '.layui-breadcrumb' + elemFilter,\r\n      progress: '.layui-progress' + elemFilter,\r\n      collapse: '.layui-collapse' + elemFilter,\r\n    };\r\n\r\n    // 仅允许渲染指定组件\r\n    if (type && !components[type]) return;\r\n\r\n    // 若 filter 为 jQuery 对象\r\n    if (type && typeof filter === 'object' && filter instanceof $) {\r\n      return elements[type].render({\r\n        elem: filter,\r\n      });\r\n    }\r\n\r\n    return components[type]\r\n      ? elements[type].render({\r\n          elem: components[type],\r\n        })\r\n      : layui.each(components, function (componentName) {\r\n          elements[componentName].render({\r\n            elem: components[componentName],\r\n          });\r\n        });\r\n  },\r\n\r\n  tabAdd: tab.tabAdd,\r\n  tabDelete: tab.tabDelete,\r\n  tabChange: tab.tabChange,\r\n  tab: tab.tab,\r\n\r\n  progress: progress.setValue,\r\n});\r\n\r\ncomponent.init = component.render;\r\n\r\n// 自动渲染\r\n$(() => {\r\n  component.render();\r\n});\r\n\r\nexport { component as element };\r\n","/**\r\n * upload\r\n * 上传组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport { lay } from '../core/lay.js';\r\nimport { i18n } from '../core/i18n.js';\r\nimport $ from 'jquery';\r\nimport { layer } from './layer.js';\r\n\r\nvar device = layui.device();\r\nvar hint = layui.hint();\r\n\r\n// 模块名\r\nvar MOD_NAME = 'upload';\r\nvar MOD_INDEX = 'layui_' + MOD_NAME + '_index'; // 模块索引名\r\n\r\n// 外部接口\r\nvar upload = {\r\n  config: {}, // 全局配置项\r\n  // 设置全局项\r\n  set: function (options) {\r\n    var that = this;\r\n    that.config = $.extend({}, that.config, options);\r\n    return that;\r\n  },\r\n  // 事件\r\n  on: function (events, callback) {\r\n    return layui.onevent.call(this, MOD_NAME, events, callback);\r\n  },\r\n};\r\n\r\n// 操作当前实例\r\nvar thisModule = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var id = options.id;\r\n\r\n  thisModule.that[id] = that; // 记录当前实例对象\r\n\r\n  return {\r\n    upload: function (files) {\r\n      that.upload.call(that, files);\r\n    },\r\n    reload: function (options) {\r\n      that.reload.call(that, options);\r\n    },\r\n    config: that.config,\r\n  };\r\n};\r\n\r\n// 字符常量\r\nvar ELEM = 'layui-upload';\r\nvar THIS = 'layui-this';\r\nvar SHOW = 'layui-show';\r\nvar HIDE = 'layui-hide';\r\nvar DISABLED = 'layui-disabled';\r\n\r\nvar ELEM_FILE = 'layui-upload-file';\r\nvar ELEM_FORM = 'layui-upload-form';\r\nvar ELEM_IFRAME = 'layui-upload-iframe';\r\nvar ELEM_CHOOSE = 'layui-upload-choose';\r\nvar ELEM_DRAG = 'layui-upload-drag';\r\nvar UPLOADING = 'UPLOADING';\r\n\r\n// 构造器\r\nvar Class = function (options) {\r\n  var that = this;\r\n  that.index = upload.index = lay.autoIncrementer('upload');\r\n  that.config = $.extend({}, that.config, upload.config, options);\r\n  that.render();\r\n};\r\n\r\n// 默认配置\r\nClass.prototype.config = {\r\n  accept: 'images', // 允许上传的文件类型：images/file/video/audio\r\n  exts: '', // 允许上传的文件后缀名\r\n  auto: true, // 是否选完文件后自动上传\r\n  bindAction: '', // 手动上传触发的元素\r\n  url: '', // 上传地址\r\n  force: '', // 强制规定返回的数据格式，目前只支持是否强制 json\r\n  field: 'file', // 文件字段名\r\n  acceptMime: '', // 筛选出的文件类型，默认为所有文件\r\n  method: 'post', // 请求上传的 http 类型\r\n  data: {}, // 请求上传的额外参数\r\n  drag: true, // 是否允许拖拽上传\r\n  size: 0, // 文件限制大小，默认不限制\r\n  number: 0, // 允许同时上传的文件数，默认不限制\r\n  multiple: false, // 是否允许多文件上传，不支持 ie8-9\r\n  text: {\r\n    // 自定义提示文本\r\n    'cross-domain': 'Cross-domain requests are not supported', // 跨域\r\n    'data-format-error': 'Please return JSON data format', // 数据格式错误\r\n    'check-error': '', // 文件格式校验失败\r\n    error: '', // 上传失败\r\n    'limit-number': null, // 限制 number 属性的提示 --- function\r\n    'limit-size': null, // 限制 size 属性的提示 --- function\r\n  },\r\n};\r\n\r\n// 重载实例\r\nClass.prototype.reload = function (options) {\r\n  var that = this;\r\n  that.config = $.extend({}, that.config, options);\r\n  that.render(true);\r\n};\r\n\r\n// 初始渲染\r\nClass.prototype.render = function (rerender) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  // 若 elem 非唯一\r\n  var elem = $(options.elem);\r\n  if (elem.length > 1) {\r\n    layui.each(elem, function () {\r\n      upload.render(\r\n        $.extend({}, options, {\r\n          elem: this,\r\n        }),\r\n      );\r\n    });\r\n    return that;\r\n  }\r\n\r\n  // 合并 lay-options 属性上的配置信息\r\n  $.extend(\r\n    options,\r\n    lay.options(elem[0], {\r\n      attr: elem.attr('lay-data') ? 'lay-data' : null, // 兼容旧版的 lay-data 属性\r\n    }),\r\n  );\r\n\r\n  // 若重复执行 render，则视为 reload 处理\r\n  if (!rerender && elem[0] && elem.data(MOD_INDEX)) {\r\n    var newThat = thisModule.getThis(elem.data(MOD_INDEX));\r\n    if (!newThat) return;\r\n\r\n    return newThat.reload(options);\r\n  }\r\n\r\n  options.elem = $(options.elem);\r\n  options.bindAction = $(options.bindAction);\r\n\r\n  // 初始化 id 属性 - 优先取 options > 元素 id > 自增索引\r\n  options.id = 'id' in options ? options.id : elem.attr('id') || that.index;\r\n\r\n  that.file();\r\n  that.events();\r\n};\r\n\r\n//追加文件域\r\nClass.prototype.file = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var elemFile = (that.elemFile = $(\r\n    [\r\n      '<input class=\"' +\r\n        ELEM_FILE +\r\n        '\" type=\"file\" accept=\"' +\r\n        options.acceptMime +\r\n        '\" name=\"' +\r\n        options.field +\r\n        '\"',\r\n      options.multiple ? ' multiple' : '',\r\n      '>',\r\n    ].join(''),\r\n  ));\r\n  var next = options.elem.next();\r\n\r\n  if (next.hasClass(ELEM_FILE) || next.hasClass(ELEM_FORM)) {\r\n    next.remove();\r\n  }\r\n\r\n  //包裹ie8/9容器\r\n  if (device.ie && device.ie < 10) {\r\n    options.elem.wrap('<div class=\"layui-upload-wrap\"></div>');\r\n  }\r\n\r\n  that.isFile()\r\n    ? ((that.elemFile = options.elem), (options.field = options.elem[0].name))\r\n    : options.elem.after(elemFile);\r\n\r\n  //初始化ie8/9的Form域\r\n  if (device.ie && device.ie < 10) {\r\n    that.initIE();\r\n  }\r\n};\r\n\r\n//ie8-9初始化\r\nClass.prototype.initIE = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var iframe = $(\r\n    '<iframe id=\"' +\r\n      ELEM_IFRAME +\r\n      '\" class=\"' +\r\n      ELEM_IFRAME +\r\n      '\" name=\"' +\r\n      ELEM_IFRAME +\r\n      '\" frameborder=\"0\"></iframe>',\r\n  );\r\n  var elemForm = $(\r\n    [\r\n      '<form target=\"' +\r\n        ELEM_IFRAME +\r\n        '\" class=\"' +\r\n        ELEM_FORM +\r\n        '\" method=\"post\" key=\"set-mine\" enctype=\"multipart/form-data\" action=\"' +\r\n        options.url +\r\n        '\">',\r\n      '</form>',\r\n    ].join(''),\r\n  );\r\n\r\n  //插入iframe\r\n  $('#' + ELEM_IFRAME)[0] || $('body').append(iframe);\r\n\r\n  //包裹文件域\r\n  if (!options.elem.next().hasClass(ELEM_FORM)) {\r\n    that.elemFile.wrap(elemForm);\r\n\r\n    //追加额外的参数\r\n    options.elem.next('.' + ELEM_FORM).append(\r\n      (function () {\r\n        var arr = [];\r\n        layui.each(options.data, function (key, value) {\r\n          value = typeof value === 'function' ? value() : value;\r\n          arr.push(\r\n            '<input type=\"hidden\" name=\"' + key + '\" value=\"' + value + '\">',\r\n          );\r\n        });\r\n        return arr.join('');\r\n      })(),\r\n    );\r\n  }\r\n};\r\n\r\n//异常提示\r\nClass.prototype.msg = function (content) {\r\n  return layer.msg(content, {\r\n    icon: 2,\r\n    shift: 6,\r\n  });\r\n};\r\n\r\n//判断绑定元素是否为文件域本身\r\nClass.prototype.isFile = function () {\r\n  var elem = this.config.elem[0];\r\n  if (!elem) return;\r\n  return elem.tagName.toLocaleLowerCase() === 'input' && elem.type === 'file';\r\n};\r\n\r\n//预读图片信息\r\nClass.prototype.preview = function (callback) {\r\n  var that = this;\r\n  if (window.FileReader) {\r\n    layui.each(that.chooseFiles, function (index, file) {\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = function () {\r\n        callback && callback(index, file, this.result);\r\n      };\r\n    });\r\n  }\r\n};\r\n\r\n// 执行上传\r\nClass.prototype.upload = function (files, type) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var text = options.text || {};\r\n  var elemFile = that.elemFile[0];\r\n\r\n  // 获取文件队列\r\n  var getFiles = function () {\r\n    return files || that.files || that.chooseFiles || elemFile.files;\r\n  };\r\n\r\n  // 高级浏览器处理方式，支持跨域\r\n  var ajaxSend = function () {\r\n    var successful = 0;\r\n    var failed = 0;\r\n    var items = getFiles();\r\n\r\n    // 多文件全部上传完毕的回调\r\n    var allDone = function () {\r\n      if (options.multiple && successful + failed === that.fileLength) {\r\n        typeof options.allDone === 'function' &&\r\n          options.allDone({\r\n            total: that.fileLength,\r\n            successful: successful,\r\n            failed: failed,\r\n          });\r\n      }\r\n    };\r\n\r\n    // 发送请求\r\n    var request = function (sets) {\r\n      var formData = new FormData();\r\n\r\n      // 恢复文件状态\r\n      var resetFileState = function (file) {\r\n        if (sets.unified) {\r\n          layui.each(items, function (index, file) {\r\n            delete file[UPLOADING];\r\n          });\r\n        } else {\r\n          delete file[UPLOADING];\r\n        }\r\n      };\r\n\r\n      // 追加额外的参数\r\n      layui.each(options.data, function (key, value) {\r\n        value =\r\n          typeof value === 'function'\r\n            ? sets.unified\r\n              ? value()\r\n              : value(sets.index, sets.file)\r\n            : value;\r\n        formData.append(key, value);\r\n      });\r\n\r\n      /*\r\n       * 添加 file 到表单域\r\n       */\r\n\r\n      // 是否统一上传\r\n      if (sets.unified) {\r\n        layui.each(items, function (index, file) {\r\n          if (file[UPLOADING]) return;\r\n          file[UPLOADING] = true; // 上传中的标记\r\n          formData.append(options.field, file);\r\n        });\r\n      } else {\r\n        // 逐一上传\r\n        if (sets.file[UPLOADING]) return;\r\n        formData.append(options.field, sets.file);\r\n        sets.file[UPLOADING] = true; // 上传中的标记\r\n      }\r\n\r\n      // ajax 参数\r\n      var opts = {\r\n        url: options.url,\r\n        type: 'post', // 统一采用 post 上传\r\n        data: formData,\r\n        dataType: options.dataType || 'json',\r\n        contentType: false,\r\n        processData: false,\r\n        headers: options.headers || {},\r\n        success: function (res) {\r\n          // 成功回调\r\n          options.unified ? (successful += that.fileLength) : successful++;\r\n          done(sets.index, res);\r\n          allDone(sets.index);\r\n          resetFileState(sets.file);\r\n        },\r\n        error: function (e) {\r\n          // 异常回调\r\n          options.unified ? (failed += that.fileLength) : failed++;\r\n          that.msg(\r\n            text['error'] ||\r\n              [\r\n                'Upload failed, please try again.',\r\n                'status: ' +\r\n                  (e.status || '') +\r\n                  ' - ' +\r\n                  (e.statusText || 'error'),\r\n              ].join('<br>'),\r\n          );\r\n          error(sets.index, e.responseText, e);\r\n          allDone(sets.index);\r\n          resetFileState(sets.file);\r\n        },\r\n      };\r\n\r\n      // 进度条\r\n      if (typeof options.progress === 'function') {\r\n        opts.xhr = function () {\r\n          var xhr = $.ajaxSettings.xhr();\r\n          // 上传进度\r\n          xhr.upload.addEventListener('progress', function (obj) {\r\n            if (obj.lengthComputable) {\r\n              var percent = Math.floor((obj.loaded / obj.total) * 100); // 百分比\r\n              options.progress(\r\n                percent,\r\n                options.item ? options.item[0] : options.elem[0],\r\n                obj,\r\n                sets.index,\r\n              );\r\n            }\r\n          });\r\n          return xhr;\r\n        };\r\n      }\r\n      $.ajax(opts);\r\n    };\r\n\r\n    // 多文件是否一起上传\r\n    if (options.unified) {\r\n      request({\r\n        unified: true,\r\n        index: 0,\r\n      });\r\n    } else {\r\n      layui.each(items, function (index, file) {\r\n        request({\r\n          index: index,\r\n          file: file,\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  // 低版本 IE 处理方式，不支持跨域\r\n  var iframeSend = function () {\r\n    var iframe = $('#' + ELEM_IFRAME);\r\n\r\n    that.elemFile.parent().submit();\r\n\r\n    // 获取响应信息\r\n    clearInterval(Class.timer);\r\n    Class.timer = setInterval(function () {\r\n      var res,\r\n        iframeBody = iframe.contents().find('body');\r\n      try {\r\n        res = iframeBody.text();\r\n      } catch (e) {\r\n        that.msg(text['cross-domain']);\r\n        clearInterval(Class.timer);\r\n        error();\r\n      }\r\n      if (res) {\r\n        clearInterval(Class.timer);\r\n        iframeBody.html('');\r\n        done(0, res);\r\n      }\r\n    }, 30);\r\n  };\r\n\r\n  // 强制返回的数据格式\r\n  var forceConvert = function (src) {\r\n    if (options.force === 'json') {\r\n      if (typeof src !== 'object') {\r\n        try {\r\n          return {\r\n            status: 'CONVERTED',\r\n            data: JSON.parse(src),\r\n          };\r\n        } catch (e) {\r\n          that.msg(text['data-format-error']);\r\n          return {\r\n            status: 'FORMAT_ERROR',\r\n            data: {},\r\n          };\r\n        }\r\n      }\r\n    }\r\n    return { status: 'DO_NOTHING', data: {} };\r\n  };\r\n\r\n  // 统一回调\r\n  var done = function (index, res) {\r\n    that.elemFile.next('.' + ELEM_CHOOSE).remove();\r\n    elemFile.value = '';\r\n\r\n    var convert = forceConvert(res);\r\n\r\n    switch (convert.status) {\r\n      case 'CONVERTED':\r\n        res = convert.data;\r\n        break;\r\n      case 'FORMAT_ERROR':\r\n        return;\r\n    }\r\n\r\n    typeof options.done === 'function' &&\r\n      options.done(res, index || 0, function (files) {\r\n        that.upload(files);\r\n      });\r\n  };\r\n\r\n  // 统一网络异常回调\r\n  var error = function (index, res, xhr) {\r\n    if (options.auto) {\r\n      elemFile.value = '';\r\n    }\r\n\r\n    var convert = forceConvert(res);\r\n\r\n    switch (convert.status) {\r\n      case 'CONVERTED':\r\n        res = convert.data;\r\n        break;\r\n      case 'FORMAT_ERROR':\r\n        return;\r\n    }\r\n\r\n    typeof options.error === 'function' &&\r\n      options.error(\r\n        index || 0,\r\n        function (files) {\r\n          that.upload(files);\r\n        },\r\n        res,\r\n        xhr,\r\n      );\r\n  };\r\n\r\n  var check;\r\n  var exts = options.exts;\r\n  var value = (function () {\r\n    var arr = [];\r\n    layui.each(files || that.chooseFiles, function (i, item) {\r\n      arr.push(item.name);\r\n    });\r\n    return arr;\r\n  })();\r\n\r\n  // 回调函数返回的参数\r\n  var args = {\r\n    // 预览\r\n    preview: function (callback) {\r\n      that.preview(callback);\r\n    },\r\n    // 上传\r\n    upload: function (index, file) {\r\n      var thisFile = {};\r\n      thisFile[index] = file;\r\n      that.upload(thisFile);\r\n    },\r\n    // 追加文件到队列\r\n    pushFile: function () {\r\n      that.files = that.files || {};\r\n      layui.each(that.chooseFiles, function (index, item) {\r\n        that.files[index] = item;\r\n      });\r\n      return that.files;\r\n    },\r\n    // 重置文件\r\n    resetFile: function (index, file, filename) {\r\n      var newFile = new File([file], filename);\r\n      that.files = that.files || {};\r\n      that.files[index] = newFile;\r\n    },\r\n    // 获取本次选取的文件\r\n    getChooseFiles: function () {\r\n      return that.chooseFiles;\r\n    },\r\n  };\r\n\r\n  // 提交上传\r\n  var send = function () {\r\n    var ready = function () {\r\n      // IE 兼容处理\r\n      if (device.ie) {\r\n        return device.ie > 9 ? ajaxSend() : iframeSend();\r\n      }\r\n      ajaxSend();\r\n    };\r\n    // 上传前的回调 - 如果回调函数明确返回 false 或 Promise.reject，则停止上传\r\n    if (typeof options.before === 'function') {\r\n      upload.util.promiseLikeResolve(options.before(args)).then(\r\n        function (result) {\r\n          if (result !== false) {\r\n            ready();\r\n          } else {\r\n            if (options.auto) {\r\n              elemFile.value = '';\r\n            }\r\n          }\r\n        },\r\n        function (error) {\r\n          if (options.auto) {\r\n            elemFile.value = '';\r\n          }\r\n          error !== undefined && hint.error(error);\r\n        },\r\n      );\r\n    } else {\r\n      ready();\r\n    }\r\n  };\r\n\r\n  // 文件类型名称\r\n  var typeName =\r\n    {\r\n      file: i18n.$t('upload.fileType.file'),\r\n      images: i18n.$t('upload.fileType.image'),\r\n      video: i18n.$t('upload.fileType.video'),\r\n      audio: i18n.$t('upload.fileType.audio'),\r\n    }[options.accept] || i18n.$t('upload.fileType.file');\r\n\r\n  // 校验文件格式\r\n  value =\r\n    value.length === 0\r\n      ? elemFile.value.match(/[^/\\\\]+\\..+/g) || [] || ''\r\n      : value;\r\n\r\n  // 若文件域值为空\r\n  if (value.length === 0) return;\r\n\r\n  // 根据文件类型校验\r\n  switch (options.accept) {\r\n    case 'file': // 一般文件\r\n      layui.each(value, function (i, item) {\r\n        if (exts && !RegExp('.\\\\.(' + exts + ')$', 'i').test(escape(item))) {\r\n          return (check = true);\r\n        }\r\n      });\r\n      break;\r\n    case 'video': // 视频文件\r\n      layui.each(value, function (i, item) {\r\n        if (\r\n          !RegExp(\r\n            '.\\\\.(' + (exts || 'avi|mp4|wma|rmvb|rm|flash|3gp|flv') + ')$',\r\n            'i',\r\n          ).test(escape(item))\r\n        ) {\r\n          return (check = true);\r\n        }\r\n      });\r\n      break;\r\n    case 'audio': // 音频文件\r\n      layui.each(value, function (i, item) {\r\n        if (\r\n          !RegExp('.\\\\.(' + (exts || 'mp3|wav|mid') + ')$', 'i').test(\r\n            escape(item),\r\n          )\r\n        ) {\r\n          return (check = true);\r\n        }\r\n      });\r\n      break;\r\n    default: // 图片文件\r\n      layui.each(value, function (i, item) {\r\n        if (\r\n          !RegExp(\r\n            '.\\\\.(' + (exts || 'jpg|png|gif|bmp|jpeg|svg|webp') + ')$',\r\n            'i',\r\n          ).test(escape(item))\r\n        ) {\r\n          return (check = true);\r\n        }\r\n      });\r\n      break;\r\n  }\r\n\r\n  // 校验失败提示\r\n  if (check) {\r\n    that.msg(\r\n      text['check-error'] ||\r\n        i18n.$t('upload.validateMessages.fileExtensionError', {\r\n          fileType: typeName,\r\n        }),\r\n    );\r\n    return (elemFile.value = '');\r\n  }\r\n\r\n  // 选择文件的回调\r\n  if (type === 'choose' || options.auto) {\r\n    options.choose && options.choose(args);\r\n    if (type === 'choose') {\r\n      return;\r\n    }\r\n  }\r\n\r\n  // 检验文件数量\r\n  that.fileLength = (function () {\r\n    var length = 0;\r\n    var items = getFiles();\r\n    layui.each(items, function () {\r\n      length++;\r\n    });\r\n    return length;\r\n  })();\r\n\r\n  if (options.number && that.fileLength > options.number) {\r\n    return that.msg(\r\n      typeof text['limit-number'] === 'function'\r\n        ? text['limit-number'](options, that.fileLength)\r\n        : i18n.$t('upload.validateMessages.filesOverLengthLimit', {\r\n            length: options.number,\r\n          }) +\r\n            '<br/>' +\r\n            i18n.$t('upload.validateMessages.currentFilesLength', {\r\n              length: that.fileLength,\r\n            }),\r\n    );\r\n  }\r\n\r\n  // 检验文件大小\r\n  if (options.size > 0 && !(device.ie && device.ie < 10)) {\r\n    var limitSize;\r\n\r\n    layui.each(getFiles(), function (index, file) {\r\n      if (file.size > 1024 * options.size) {\r\n        var size = options.size / 1024;\r\n        size = size >= 1 ? size.toFixed(2) + 'MB' : options.size + 'KB';\r\n        elemFile.value = '';\r\n        limitSize = size;\r\n      }\r\n    });\r\n    if (limitSize)\r\n      return that.msg(\r\n        typeof text['limit-size'] === 'function'\r\n          ? text['limit-size'](options, limitSize)\r\n          : i18n.$t('upload.validateMessages.fileOverSizeLimit', {\r\n              size: limitSize,\r\n            }),\r\n      );\r\n  }\r\n\r\n  send();\r\n};\r\n\r\n//事件处理\r\nClass.prototype.events = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  // 设置当前选择的文件队列\r\n  var setChooseFile = function (files) {\r\n    that.chooseFiles = {};\r\n    layui.each(files, function (i, item) {\r\n      var time = new Date().getTime();\r\n      that.chooseFiles[time + '-' + i] = item;\r\n    });\r\n  };\r\n\r\n  // 设置选择的文本\r\n  var setChooseText = function (files, filename) {\r\n    var elemFile = that.elemFile;\r\n    var item = options.item ? options.item : options.elem;\r\n    var value =\r\n      files.length > 1\r\n        ? i18n.$t('upload.chooseText', { length: files.length })\r\n        : (files[0] || {}).name ||\r\n          elemFile[0].value.match(/[^/\\\\]+\\..+/g) ||\r\n          [] ||\r\n          '';\r\n\r\n    if (elemFile.next().hasClass(ELEM_CHOOSE)) {\r\n      elemFile.next().remove();\r\n    }\r\n    that.upload(null, 'choose');\r\n    if (that.isFile() || options.choose) return;\r\n    elemFile.after(\r\n      '<span class=\"layui-inline ' + ELEM_CHOOSE + '\">' + value + '</span>',\r\n    );\r\n  };\r\n\r\n  /**\r\n   * 判断文件是否加入排队\r\n   * @param {File} file\r\n   * @return {boolean}\r\n   */\r\n  var checkFile = function (file) {\r\n    var result = true;\r\n    layui.each(that.files, function (index, item) {\r\n      result = !(item.name === file.name);\r\n      if (!result) return true;\r\n    });\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   * 扩展文件信息\r\n   * @template {File | FileList} T\r\n   * @param {T} obj\r\n   * @return {T}\r\n   */\r\n  var extendInfo = function (obj) {\r\n    var extInfo = function (file) {\r\n      //文件扩展名\r\n      file.ext = file.name.substr(file.name.lastIndexOf('.') + 1).toLowerCase();\r\n      // 文件大小\r\n      file.sizes = upload.util.parseSize(file.size);\r\n      // 可以继续扩展\r\n    };\r\n\r\n    //FileList对象\r\n    if (obj instanceof FileList) {\r\n      layui.each(obj, function (index, item) {\r\n        extInfo(item);\r\n      });\r\n    } else {\r\n      extInfo(obj);\r\n    }\r\n\r\n    return obj;\r\n  };\r\n\r\n  /**\r\n   * 检查获取文件\r\n   * @param {FileList} files\r\n   * @return {Array<File>|FileList}\r\n   */\r\n  var getFiles = function (files) {\r\n    files = files || [];\r\n    if (!files.length) return [];\r\n    if (!that.files) return extendInfo(files);\r\n    var result = [];\r\n    layui.each(files, function (index, item) {\r\n      if (checkFile(item)) {\r\n        result.push(extendInfo(item));\r\n      }\r\n    });\r\n    return result;\r\n  };\r\n\r\n  // 点击上传容器\r\n  options.elem.off('upload.start').on('upload.start', function () {\r\n    var othis = $(this);\r\n\r\n    that.config.item = othis;\r\n    that.elemFile[0].click();\r\n  });\r\n\r\n  // 拖拽上传\r\n  if (!(device.ie && device.ie < 10)) {\r\n    options.elem\r\n      .off('upload.over')\r\n      .on('upload.over', function () {\r\n        var othis = $(this);\r\n        othis.attr('lay-over', '');\r\n      })\r\n      .off('upload.leave')\r\n      .on('upload.leave', function () {\r\n        var othis = $(this);\r\n        othis.removeAttr('lay-over');\r\n      })\r\n      .off('upload.drop')\r\n      .on('upload.drop', function (e, param) {\r\n        var othis = $(this);\r\n        var files = getFiles(param.originalEvent.dataTransfer.files);\r\n\r\n        othis.removeAttr('lay-over');\r\n        setChooseFile(files);\r\n\r\n        options.auto ? that.upload() : setChooseText(files); // 是否自动触发上传\r\n      });\r\n  }\r\n\r\n  // 文件选择\r\n  that.elemFile.on('change', function () {\r\n    var files = getFiles(this.files);\r\n\r\n    if (files.length === 0) return;\r\n\r\n    setChooseFile(files);\r\n\r\n    options.auto ? that.upload() : setChooseText(files); // 是否自动触发上传\r\n  });\r\n\r\n  // 手动触发上传\r\n  options.bindAction.off('upload.action').on('upload.action', function () {\r\n    that.upload();\r\n  });\r\n\r\n  // 防止事件重复绑定\r\n  if (options.elem.data(MOD_INDEX)) return;\r\n\r\n  // 目标元素 click 事件\r\n  options.elem.on('click', function () {\r\n    if (that.isFile()) return;\r\n    $(this).trigger('upload.start');\r\n  });\r\n\r\n  // 目标元素 drop 事件\r\n  if (options.drag) {\r\n    options.elem\r\n      .on('dragover', function (e) {\r\n        e.preventDefault();\r\n        $(this).trigger('upload.over');\r\n      })\r\n      .on('dragleave', function (e) {\r\n        $(this).trigger('upload.leave');\r\n      })\r\n      .on('drop', function (e) {\r\n        e.preventDefault();\r\n        $(this).trigger('upload.drop', e);\r\n      });\r\n  }\r\n\r\n  // 手动上传时触发上传的元素 click 事件\r\n  options.bindAction.on('click', function () {\r\n    $(this).trigger('upload.action');\r\n  });\r\n\r\n  // 绑定元素索引\r\n  options.elem.data(MOD_INDEX, options.id);\r\n};\r\n\r\n/**\r\n * 上传组件辅助方法\r\n */\r\nupload.util = {\r\n  /**\r\n   * 文件大小处理\r\n   * @param {number | string} size -文件大小\r\n   * @param {number} [precision] - 数值精度\r\n   * @return {string}\r\n   */\r\n  parseSize: function (size, precision) {\r\n    precision = precision || 2;\r\n    if (null == size || !size) {\r\n      return '0';\r\n    }\r\n    var unitArr = ['Bytes', 'Kb', 'Mb', 'Gb', 'Tb', 'Pb', 'Eb', 'Zb', 'Yb'];\r\n    var index;\r\n    var formatSize = typeof size === 'string' ? parseFloat(size) : size;\r\n    index = Math.floor(Math.log(formatSize) / Math.log(1024));\r\n    size = formatSize / Math.pow(1024, index);\r\n    size = size % 1 === 0 ? size : parseFloat(size.toFixed(precision)); //保留的小数位数\r\n    return size + unitArr[index];\r\n  },\r\n  /**\r\n   * 将给定的值转换为一个 JQueryDeferred 对象\r\n   */\r\n  promiseLikeResolve: function (value) {\r\n    var deferred = $.Deferred();\r\n\r\n    if (value && typeof value.then === 'function') {\r\n      value.then(deferred.resolve, deferred.reject);\r\n    } else {\r\n      deferred.resolve(value);\r\n    }\r\n    return deferred.promise();\r\n  },\r\n};\r\n\r\n// 记录所有实例\r\nthisModule.that = {}; // 记录所有实例对象\r\n\r\n// 获取当前实例对象\r\nthisModule.getThis = function (id) {\r\n  var that = thisModule.that[id];\r\n  if (!that)\r\n    hint.error(\r\n      id\r\n        ? MOD_NAME + \" instance with ID '\" + id + \"' not found\"\r\n        : 'ID argument required',\r\n    );\r\n  return that;\r\n};\r\n\r\n// 核心入口\r\nupload.render = function (options) {\r\n  var inst = new Class(options);\r\n  return thisModule.call(inst);\r\n};\r\n\r\nexport { upload };\r\n","/**\r\n * form 表单组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport { lay } from '../core/lay.js';\r\nimport { i18n } from '../core/i18n.js';\r\nimport $ from 'jquery';\r\nimport { util } from './util.js';\r\nimport { layer } from './layer.js';\r\n\r\nvar hint = layui.hint();\r\nvar device = layui.device();\r\n\r\nvar MOD_NAME = 'form';\r\nvar ELEM = '.layui-form';\r\nvar THIS = 'layui-this';\r\nvar SHOW = 'layui-show';\r\nvar HIDE = 'layui-hide';\r\nvar DISABLED = 'layui-disabled';\r\nvar OUT_OF_RANGE = 'layui-input-number-out-of-range';\r\nvar BAD_INPUT = 'layui-input-number-invalid';\r\n\r\nvar resizeObserver = lay.createSharedResizeObserver(MOD_NAME);\r\n\r\n// ie8 中可以获取到 input 元素的 'indeterminate' 属性描述符，但重新定义 getter/setter 无效，无报错\r\n// AppleWebKit/537.36 无法获取 input 元素任意属性的属性描述符(包括lookupGetter)，但可以重新定义 getter/setter\r\nvar needCheckboxFallback =\r\n  (lay.ie && parseFloat(lay.ie) === 8) ||\r\n  typeof Object.getOwnPropertyDescriptor(\r\n    HTMLInputElement.prototype,\r\n    'checked',\r\n  ) === 'undefined';\r\n\r\nvar Form = function () {\r\n  this.config = {\r\n    // 内置的验证规则\r\n    verify: {\r\n      required: function (value) {\r\n        if (!/[\\S]+/.test(value) || value === undefined || value === null) {\r\n          return i18n.$t('form.validateMessages.required');\r\n        }\r\n      },\r\n      phone: function (value) {\r\n        var EXP = /^1\\d{10}$/;\r\n        if (value && !EXP.test(value)) {\r\n          return i18n.$t('form.validateMessages.phone');\r\n        }\r\n      },\r\n      email: function (value) {\r\n        var EXP = /^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\r\n        if (value && !EXP.test(value)) {\r\n          return i18n.$t('form.validateMessages.email');\r\n        }\r\n      },\r\n      url: function (value) {\r\n        var EXP = /^(#|(http(s?)):\\/\\/|\\/\\/)[^\\s]+\\.[^\\s]+$/;\r\n        if (value && !EXP.test(value)) {\r\n          return i18n.$t('form.validateMessages.url');\r\n        }\r\n      },\r\n      number: function (value) {\r\n        if (value && isNaN(value)) {\r\n          return i18n.$t('form.validateMessages.number');\r\n        }\r\n      },\r\n      date: function (value) {\r\n        var EXP =\r\n          /^(\\d{4})[-/](\\d{1}|0\\d{1}|1[0-2])([-/](\\d{1}|0\\d{1}|[1-2][0-9]|3[0-1]))*$/;\r\n        if (value && !EXP.test(value)) {\r\n          return i18n.$t('form.validateMessages.date');\r\n        }\r\n      },\r\n      identity: function (value) {\r\n        var EXP = /(^\\d{15}$)|(^\\d{17}(x|X|\\d)$)/;\r\n        if (value && !EXP.test(value)) {\r\n          return i18n.$t('form.validateMessages.identity');\r\n        }\r\n      },\r\n    },\r\n    autocomplete: null, // 全局 autocomplete 状态。 null 表示不干预\r\n  };\r\n};\r\n\r\n// 全局设置\r\nForm.prototype.set = function (options) {\r\n  var that = this;\r\n  $.extend(true, that.config, options);\r\n  return that;\r\n};\r\n\r\n// 验证规则设定\r\nForm.prototype.verify = function (settings) {\r\n  var that = this;\r\n  $.extend(true, that.config.verify, settings);\r\n  return that;\r\n};\r\n\r\n// 获取指定表单对象\r\nForm.prototype.getFormElem = function (filter) {\r\n  return $(\r\n    ELEM +\r\n      (function () {\r\n        return filter ? '[lay-filter=\"' + filter + '\"]' : '';\r\n      })(),\r\n  );\r\n};\r\n\r\n// 表单事件\r\nForm.prototype.on = function (events, callback) {\r\n  return layui.onevent.call(this, MOD_NAME, events, callback);\r\n};\r\n\r\n// 赋值/取值\r\nForm.prototype.val = function (filter, object) {\r\n  var that = this;\r\n  var formElem = that.getFormElem(filter);\r\n\r\n  // 遍历\r\n  formElem.each(function (index, item) {\r\n    var itemForm = $(this);\r\n\r\n    // 赋值\r\n    for (var key in object) {\r\n      if (!lay.hasOwn(object, key)) continue;\r\n\r\n      var type;\r\n      var value = object[key];\r\n      var itemElem = itemForm.find('[name=\"' + key + '\"]');\r\n\r\n      // 如果对应的表单不存在，则不执行\r\n      if (!itemElem[0]) continue;\r\n      type = itemElem[0].type;\r\n\r\n      // 如果为复选框\r\n      if (type === 'checkbox') {\r\n        itemElem[0].checked = value;\r\n      } else if (type === 'radio') {\r\n        // 如果为单选框\r\n        itemElem.each(function () {\r\n          this.checked = this.value == value + '';\r\n        });\r\n      } else {\r\n        // 其它类型的表单\r\n        itemElem.val(value);\r\n      }\r\n    }\r\n  });\r\n\r\n  form.render(null, filter);\r\n\r\n  // 返回值\r\n  return that.getValue(filter);\r\n};\r\n\r\n// 取值\r\nForm.prototype.getValue = function (filter, itemForm) {\r\n  itemForm = itemForm || this.getFormElem(filter);\r\n\r\n  var nameIndex = {}, // 数组 name 索引\r\n    field = {},\r\n    fieldElem = itemForm.find('input,select,textarea'); // 获取所有表单域\r\n\r\n  layui.each(fieldElem, function (_, item) {\r\n    var othis = $(this),\r\n      init_name; // 初始 name\r\n\r\n    item.name = (item.name || '').replace(/^\\s*|\\s*&/, '');\r\n    if (!item.name) return;\r\n\r\n    // 用于支持数组 name\r\n    if (/^.*\\[\\]$/.test(item.name)) {\r\n      var key = item.name.match(/^(.*)\\[\\]$/g)[0];\r\n      nameIndex[key] = nameIndex[key] | 0;\r\n      init_name = item.name.replace(\r\n        /^(.*)\\[\\]$/,\r\n        '$1[' + nameIndex[key]++ + ']',\r\n      );\r\n    }\r\n\r\n    if (/^(checkbox|radio)$/.test(item.type) && !item.checked) return; // 复选框和单选框未选中，不记录字段\r\n    // select 多选用 jQuery 方式取值，未选中 option 时，\r\n    // jQuery v2.2.4 及以下版本返回 null，以上(3.x) 返回 []。\r\n    // 统一规范化为 []，参考 https://github.com/jquery/jquery/issues/2562\r\n    field[init_name || item.name] =\r\n      this.tagName === 'SELECT' &&\r\n      typeof this.getAttribute('multiple') === 'string'\r\n        ? othis.val() || []\r\n        : this.value;\r\n  });\r\n\r\n  return field;\r\n};\r\n\r\n// 表单控件渲染\r\nForm.prototype.render = function (type, filter) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var elemForm = $(\r\n    ELEM +\r\n      (function () {\r\n        return filter ? '[lay-filter=\"' + filter + '\"]' : '';\r\n      })(),\r\n  );\r\n  var items = {\r\n    // 输入框\r\n    input: function (elem) {\r\n      var inputs = elem || elemForm.find('input,textarea');\r\n\r\n      // 初始化全局的 autocomplete\r\n      options.autocomplete && inputs.attr('autocomplete', options.autocomplete);\r\n\r\n      var handleInputNumber = function (elem, eventType) {\r\n        var that = this;\r\n        var rawValue = elem.val();\r\n        var value = Number(rawValue);\r\n        var step = Number(elem.attr('step')) || 1; // 加减的数字间隔\r\n        var min = Number(elem.attr('min'));\r\n        var max = Number(elem.attr('max'));\r\n        var precision = Number(elem.attr('lay-precision'));\r\n        var noAction = eventType !== 'click' && rawValue === ''; // 初始渲染和失焦时空值不作处理\r\n        var isInit = eventType === 'init';\r\n        var isBadInput = isNaN(value);\r\n        var isStepStrictly = typeof elem.attr('lay-step-strictly') === 'string';\r\n\r\n        elem.toggleClass(BAD_INPUT, isBadInput);\r\n        if (isBadInput) return; // 若非数字，则不作处理\r\n\r\n        if (eventType === 'click') {\r\n          // 兼容旧版行为，2.10 以前 readonly 不禁用控制按钮\r\n          if (\r\n            elem[0].type === 'text' &&\r\n            typeof elem.attr('readonly') === 'string'\r\n          )\r\n            return;\r\n          var isDecrement = !!$(that).index(); // 0: icon-up, 1: icon-down\r\n          value = isDecrement ? value - step : value + step;\r\n        }\r\n\r\n        // 获取小数点后位数\r\n        var decimals = function (step) {\r\n          var decimals = (step.toString().match(/\\.(\\d+$)/) || [])[1] || '';\r\n          return decimals.length;\r\n        };\r\n\r\n        precision =\r\n          precision >= 0\r\n            ? precision\r\n            : Math.max(decimals(step), decimals(rawValue));\r\n\r\n        // 赋值\r\n        if (!noAction) {\r\n          // 初始渲染时只处理数字精度\r\n          if (!isInit) {\r\n            if (isStepStrictly) {\r\n              value = Math.round(value / step) * step;\r\n            }\r\n            if (value <= min) value = min;\r\n            if (value >= max) value = max;\r\n          }\r\n          // 若 `lay-precision` 为 0, 则表示只保留整数\r\n          if (precision === 0) {\r\n            value = parseInt(value);\r\n          } else if (precision > 0) {\r\n            // 小数位精度\r\n            value = value.toFixed(precision);\r\n          }\r\n\r\n          elem.val(value);\r\n          elem.attr('lay-input-mirror', elem.val());\r\n        }\r\n\r\n        // 超出范围的样式\r\n        var outOfRange = value < min || value > max;\r\n        elem[outOfRange && !noAction ? 'addClass' : 'removeClass'](\r\n          OUT_OF_RANGE,\r\n        );\r\n\r\n        if (isInit) return;\r\n\r\n        // 更新按钮状态\r\n        var controlBtn = {\r\n          increment: elem.next().find('.layui-icon-up'),\r\n          decrement: elem.next().find('.layui-icon-down'),\r\n        };\r\n        controlBtn.increment[\r\n          value >= max && !noAction ? 'addClass' : 'removeClass'\r\n        ](DISABLED);\r\n        controlBtn.decrement[\r\n          value <= min && !noAction ? 'addClass' : 'removeClass'\r\n        ](DISABLED);\r\n      };\r\n\r\n      // 初始化输入框动态点缀\r\n      elemForm.find('input[lay-affix],textarea[lay-affix]').each(function () {\r\n        var othis = $(this);\r\n        var affix = othis.attr('lay-affix');\r\n        var CLASS_WRAP = 'layui-input-wrap';\r\n        var CLASS_SUFFIX = 'layui-input-suffix';\r\n        var CLASS_AFFIX = 'layui-input-affix';\r\n        var disabled = othis.is('[disabled]') || othis.is('[readonly]');\r\n\r\n        // 根据是否空值来显示或隐藏元素\r\n        var showAffix = function (elem, value) {\r\n          elem = $(elem);\r\n          if (!elem[0]) return;\r\n          elem[$.trim(value) ? 'removeClass' : 'addClass'](HIDE);\r\n        };\r\n\r\n        // 渲染动态点缀内容\r\n        var renderAffix = function (opts) {\r\n          opts = $.extend(\r\n            {},\r\n            affixOptions[affix] || {\r\n              value: affix,\r\n            },\r\n            opts,\r\n            lay.options(othis[0]),\r\n          );\r\n          var elemAffix = $('<div class=\"' + CLASS_AFFIX + '\">');\r\n          var value = layui.isArray(opts.value) ? opts.value : [opts.value];\r\n          var elemIcon = $(\r\n            (function () {\r\n              var arr = [];\r\n              layui.each(value, function (i, item) {\r\n                arr.push(\r\n                  '<i class=\"layui-icon layui-icon-' +\r\n                    item +\r\n                    (opts.disabled ? ' ' + DISABLED : '') +\r\n                    '\"></i>',\r\n                );\r\n              });\r\n              return arr.join('');\r\n            })(),\r\n          );\r\n\r\n          elemAffix.append(elemIcon); // 插入图标元素\r\n\r\n          // 追加 className\r\n          if (opts.split) elemAffix.addClass('layui-input-split');\r\n          if (opts.className) elemAffix.addClass(opts.className);\r\n\r\n          // 移除旧的元素\r\n          var hasElemAffix = othis.next('.' + CLASS_AFFIX);\r\n          if (hasElemAffix[0]) hasElemAffix.remove();\r\n\r\n          // 是否在规定的容器中\r\n          if (!othis.parent().hasClass(CLASS_WRAP)) {\r\n            othis.wrap('<div class=\"' + CLASS_WRAP + '\"></div>');\r\n          }\r\n\r\n          // 是否已经存在后缀元素\r\n          var hasElemSuffix = othis.next('.' + CLASS_SUFFIX);\r\n          if (hasElemSuffix[0]) {\r\n            hasElemAffix = hasElemSuffix.find('.' + CLASS_AFFIX);\r\n            if (hasElemAffix[0]) hasElemAffix.remove();\r\n\r\n            hasElemSuffix.prepend(elemAffix);\r\n\r\n            othis.css('padding-right', function () {\r\n              var paddingRight = othis.closest('.layui-input-group')[0]\r\n                ? 0\r\n                : hasElemSuffix.outerWidth();\r\n              return paddingRight + elemAffix.outerWidth();\r\n            });\r\n          } else {\r\n            elemAffix.addClass(CLASS_SUFFIX);\r\n            othis.after(elemAffix);\r\n          }\r\n\r\n          opts.show === 'auto' && showAffix(elemAffix, othis.val());\r\n\r\n          typeof opts.init === 'function' && opts.init.call(this, othis, opts);\r\n\r\n          // 输入事件\r\n          othis.on('input propertychange', function () {\r\n            var value = this.value;\r\n            opts.show === 'auto' && showAffix(elemAffix, value);\r\n          });\r\n\r\n          // 失去焦点事件\r\n          othis.on('blur', function () {\r\n            typeof opts.blur === 'function' &&\r\n              opts.blur.call(this, othis, opts);\r\n          });\r\n\r\n          // 点击动态后缀事件\r\n          elemIcon.on('click', function () {\r\n            var inputFilter = othis.attr('lay-filter');\r\n            if ($(this).hasClass(DISABLED)) return;\r\n\r\n            typeof opts.click === 'function' &&\r\n              opts.click.call(this, othis, opts);\r\n\r\n            // 对外事件\r\n            layui.event.call(\r\n              this,\r\n              MOD_NAME,\r\n              'input-affix(' + inputFilter + ')',\r\n              {\r\n                elem: othis[0],\r\n                affix: affix,\r\n                options: opts,\r\n              },\r\n            );\r\n          });\r\n        };\r\n\r\n        // 动态点缀配置项\r\n        var affixOptions = {\r\n          eye: {\r\n            // 密码显隐\r\n            value: 'eye-invisible',\r\n            click: function (elem, opts) {\r\n              // 事件\r\n              var SHOW_NAME = 'LAY_FORM_INPUT_AFFIX_SHOW';\r\n              var isShow = elem.data(SHOW_NAME);\r\n\r\n              elem\r\n                .attr('type', isShow ? 'password' : 'text')\r\n                .data(SHOW_NAME, !isShow);\r\n\r\n              renderAffix({\r\n                value: isShow ? 'eye-invisible' : 'eye',\r\n              });\r\n            },\r\n          },\r\n          clear: {\r\n            // 内容清除\r\n            value: 'clear',\r\n            click: function (elem) {\r\n              elem.val('').focus();\r\n              showAffix($(this).parent(), null);\r\n            },\r\n            show: 'auto', // 根据输入框值是否存在来显示或隐藏点缀图标\r\n            disabled: disabled, // 跟随输入框禁用状态\r\n          },\r\n          number: {\r\n            // 数字输入框\r\n            value: ['up', 'down'],\r\n            split: true,\r\n            className: 'layui-input-number',\r\n            disabled: othis.is('[disabled]'), // 跟随输入框禁用状态\r\n            init: function (elem) {\r\n              // 旧版浏览器不支持更改 input 元素的 type 属性，需要主动设置 text\r\n              if (elem.attr('type') === 'text' || elem[0].type === 'text') {\r\n                var ns = '.lay_input_number';\r\n                var skipCheck = false;\r\n                var isComposition = false;\r\n                var isReadonly = typeof elem.attr('readonly') === 'string';\r\n                var isMouseWheel = typeof elem.attr('lay-wheel') === 'string';\r\n                var btnElem = elem.next('.layui-input-number').children('i');\r\n                // 旧版浏览器不支持 beforeInput 事件，需要设置一个 attr 存储输入前的值\r\n                elem.attr('lay-input-mirror', elem.val());\r\n                elem.off(ns);\r\n                // 旧版浏览器不支持 event.inputType 属性，需要用 keydown 事件来判断是否跳过输入检查\r\n                elem.on('keydown' + ns, function (e) {\r\n                  skipCheck = false;\r\n                  if (e.keyCode === 8 || e.keyCode === 46) {\r\n                    // Backspace || Delete\r\n                    skipCheck = true;\r\n                  }\r\n                  // Up & Down 键盘事件处理\r\n                  if (\r\n                    !isReadonly &&\r\n                    btnElem.length === 2 &&\r\n                    (e.keyCode === 38 || e.keyCode === 40)\r\n                  ) {\r\n                    e.preventDefault();\r\n                    btnElem.eq(e.keyCode === 38 ? 0 : 1).click();\r\n                  }\r\n                });\r\n                elem.on('input' + ns + ' propertychange' + ns, function (e) {\r\n                  if (\r\n                    isComposition ||\r\n                    (e.type === 'propertychange' &&\r\n                      e.originalEvent.propertyName !== 'value')\r\n                  )\r\n                    return;\r\n                  if (skipCheck || canInputNumber(this.value)) {\r\n                    elem.attr('lay-input-mirror', this.value);\r\n                  } else {\r\n                    // 恢复输入前的值\r\n                    this.value = elem.attr('lay-input-mirror');\r\n                  }\r\n                  elem.toggleClass(BAD_INPUT, isNaN(Number(this.value)));\r\n                });\r\n                elem.on('compositionstart' + ns, function () {\r\n                  isComposition = true;\r\n                });\r\n                elem.on('compositionend' + ns, function () {\r\n                  isComposition = false;\r\n                  elem.trigger('input');\r\n                });\r\n                // 响应鼠标滚轮或触摸板\r\n                if (isMouseWheel) {\r\n                  elem.on(\r\n                    ['wheel', 'mousewheel', 'DOMMouseScroll'].join(ns + ' ') +\r\n                      ns,\r\n                    function (e) {\r\n                      if (!btnElem.length) return;\r\n                      if (!$(this).is(':focus')) return;\r\n                      var direction = 0;\r\n                      e.preventDefault();\r\n                      // IE9+，chrome 和 firefox 同时添加 'wheel' 和 'mousewheel' 事件时，只执行 'wheel' 事件\r\n                      if (e.type === 'wheel') {\r\n                        e.deltaX = e.originalEvent.deltaX;\r\n                        e.deltaY = e.originalEvent.deltaY;\r\n                        direction =\r\n                          Math.abs(e.deltaX) >= Math.abs(e.deltaY)\r\n                            ? e.deltaX\r\n                            : e.deltaY;\r\n                      } else if (e.type === 'mousewheel') {\r\n                        direction = -e.originalEvent.wheelDelta;\r\n                      } else if (e.type === 'DOMMouseScroll') {\r\n                        direction = e.originalEvent.detail;\r\n                      }\r\n                      btnElem.eq(direction > 0 ? 1 : 0).click();\r\n                    },\r\n                  );\r\n                }\r\n\r\n                if (isReadonly) {\r\n                  btnElem.addClass(DISABLED);\r\n                }\r\n              }\r\n              handleInputNumber.call(this, elem, 'init');\r\n            },\r\n            click: function (elem) {\r\n              handleInputNumber.call(this, elem, 'click');\r\n            },\r\n            blur: function (elem) {\r\n              handleInputNumber.call(this, elem, 'blur');\r\n            },\r\n          },\r\n        };\r\n\r\n        renderAffix();\r\n      });\r\n    },\r\n\r\n    // 下拉选择框\r\n    select: function (elem) {\r\n      var TIPS = i18n.$t('form.select.placeholder');\r\n      var CLASS = 'layui-form-select';\r\n      var TITLE = 'layui-select-title';\r\n      var NONE = 'layui-select-none';\r\n      var CREATE_OPTION = 'layui-select-create-option';\r\n      var PANEL_WRAP = 'layui-select-panel-wrap';\r\n      var PANEL_ELEM_DATA = 'layui-select-panel-elem-data';\r\n      var selects = elem || elemForm.find('select');\r\n\r\n      // 各种事件\r\n      var events = function (\r\n        reElem,\r\n        titleElem,\r\n        disabled,\r\n        isSearch,\r\n        isCreatable,\r\n        isAppendTo,\r\n      ) {\r\n        var select = $(this);\r\n        var title = titleElem;\r\n        var input = title.find('input');\r\n        var dl = reElem.find('dl');\r\n        var dds = dl.children('dd');\r\n        var dts = dl.children('dt'); // select 分组dt元素\r\n        var index = this.selectedIndex; // 当前选中的索引\r\n        var initValue = '';\r\n        var removeClickOutsideEvent;\r\n\r\n        if (disabled) return;\r\n\r\n        /**\r\n         * 搜索项\r\n         * @typedef searchOption\r\n         * @prop {boolean} [caseSensitive=false] 是否区分大小写\r\n         * @prop {boolean} [fuzzy=false] 是否开启模糊匹配，开启后将会忽略模式出现在字符串中的位置。\r\n         */\r\n        /** @type {searchOption} */\r\n        var laySearch =\r\n          select.attr('lay-search') === 'cs'\r\n            ? { caseSensitive: true }\r\n            : lay.options(select, { attr: 'lay-search' });\r\n        // 目前只支持 body\r\n        var appendTarget = select.attr('lay-append-to') || 'body';\r\n        var appendPosition = select.attr('lay-append-position');\r\n\r\n        // #1449\r\n        // IE10 和 11 中，带有占位符的 input 元素获得/失去焦点时，会触发 input 事件\r\n        // 当鼠标按下时，根据 input 元素上的 __ieph 标识忽略 input 事件\r\n        var needPlaceholderPatch = !!(\r\n          lay.ie &&\r\n          (lay.ie === '10' || lay.ie === '11') &&\r\n          input.attr('placeholder')\r\n        );\r\n\r\n        // 展开下拉\r\n        var showDown = function () {\r\n          if (isAppendTo) {\r\n            // 如果追加面板元素后出现滚动条，触发元素宽度可能会有变化，所以先追加面板元素\r\n            reElem.appendTo(appendTarget).css({ width: title.width() + 'px' });\r\n\r\n            var updatePosition = function () {\r\n              lay.position(title[0], reElem[0], {\r\n                position: appendPosition,\r\n                allowBottomOut: true,\r\n                offset: [0, 5],\r\n              });\r\n            };\r\n\r\n            updatePosition();\r\n            $(window).on('resize.lay_select_resize', updatePosition);\r\n            if (resizeObserver) {\r\n              resizeObserver.observe(reElem[0], updatePosition);\r\n            }\r\n          }\r\n          var top =\r\n            reElem.offset().top + reElem.outerHeight() + 5 - $win.scrollTop();\r\n          var dlHeight = dl.outerHeight();\r\n          var dds = dl.children('dd');\r\n\r\n          index = select[0].selectedIndex; // 获取最新的 selectedIndex\r\n          title.parent().addClass(CLASS + 'ed');\r\n          dds.removeClass(HIDE);\r\n          dts.removeClass(HIDE);\r\n\r\n          // 初始选中样式\r\n          dds.removeClass(THIS);\r\n          index >= 0 && dds.eq(index).addClass(THIS);\r\n\r\n          // 上下定位识别\r\n          if (top + dlHeight > $win.height() && top >= dlHeight) {\r\n            reElem.addClass(CLASS + 'up');\r\n          }\r\n\r\n          followScroll();\r\n\r\n          if (needPlaceholderPatch) {\r\n            dl.off('mousedown.lay_select_ieph').on(\r\n              'mousedown.lay_select_ieph',\r\n              function () {\r\n                input[0].__ieph = true;\r\n                setTimeout(function () {\r\n                  input[0].__ieph = false;\r\n                }, 60);\r\n              },\r\n            );\r\n          }\r\n\r\n          removeClickOutsideEvent = lay.onClickOutside(\r\n            isAppendTo ? reElem[0] : dl[0],\r\n            function () {\r\n              hideDown();\r\n              initValue && input.val(initValue);\r\n            },\r\n            { ignore: title, detectIframe: true, capture: false },\r\n          );\r\n        };\r\n\r\n        // 隐藏下拉\r\n        var hideDown = function (choose) {\r\n          title.parent().removeClass(CLASS + 'ed ' + CLASS + 'up');\r\n          input.blur();\r\n          isCreatable && dl.children('.' + CREATE_OPTION).remove();\r\n          if (typeof removeClickOutsideEvent === 'function') {\r\n            removeClickOutsideEvent();\r\n            removeClickOutsideEvent = null;\r\n          }\r\n          if (isAppendTo) {\r\n            reElem.detach();\r\n            $(window).off('resize.lay_select_resize');\r\n            if (resizeObserver) {\r\n              resizeObserver.unobserve(reElem[0]);\r\n            }\r\n          }\r\n\r\n          if (choose) return;\r\n\r\n          notOption(input.val(), function (none) {\r\n            var selectedIndex = select[0].selectedIndex;\r\n\r\n            // 未查询到相关值\r\n            if (none) {\r\n              initValue = $(select[0].options[selectedIndex]).prop('text'); // 重新获得初始选中值\r\n\r\n              // 如果是第一项，且文本值等于 placeholder，则清空初始值\r\n              if (\r\n                selectedIndex === 0 &&\r\n                initValue === input.attr('placeholder')\r\n              ) {\r\n                initValue = '';\r\n              }\r\n\r\n              // 如果有选中值，则将输入框纠正为该值。否则清空输入框\r\n              input.val(initValue || '');\r\n            }\r\n          });\r\n        };\r\n\r\n        // 定位下拉滚动条\r\n        var followScroll = function () {\r\n          var thisDd = dl.children('dd.' + THIS);\r\n\r\n          if (!thisDd[0]) return;\r\n\r\n          var posTop = thisDd.position().top;\r\n          var dlHeight = dl.height();\r\n          var ddHeight = thisDd.height();\r\n\r\n          // 若选中元素在滚动条不可见底部\r\n          if (posTop > dlHeight) {\r\n            dl.scrollTop(posTop + dl.scrollTop() - dlHeight + ddHeight - 5);\r\n          }\r\n\r\n          // 若选择元素在滚动条不可见顶部\r\n          if (posTop < 0) {\r\n            dl.scrollTop(posTop + dl.scrollTop() - 5);\r\n          }\r\n        };\r\n\r\n        // 点击标题区域\r\n        title.on('click', function (e) {\r\n          title.parent().hasClass(CLASS + 'ed') ? hideDown() : showDown();\r\n          dl.find('.' + NONE).remove();\r\n        });\r\n\r\n        // 点击箭头获取焦点\r\n        title.find('.layui-edge').on('click', function () {\r\n          input.focus();\r\n        });\r\n\r\n        // select 中 input 键盘事件\r\n        input\r\n          .on('keyup', function (e) {\r\n            // 键盘松开\r\n            var keyCode = e.keyCode;\r\n\r\n            // Tab键展开\r\n            if (keyCode === 9) {\r\n              showDown();\r\n            }\r\n          })\r\n          .on('keydown', function (e) {\r\n            // 键盘按下\r\n            var keyCode = e.keyCode;\r\n\r\n            // Tab键隐藏\r\n            if (keyCode === 9) {\r\n              hideDown();\r\n            }\r\n\r\n            // 标注 dd 的选中状态\r\n            var setThisDd = function (prevNext) {\r\n              e.preventDefault();\r\n              var allDisplayedElem = dl.children(\r\n                'dd:not(.' + HIDE + ',.' + DISABLED + ')',\r\n              );\r\n              if (!allDisplayedElem.length) return;\r\n              var firstIndex = 0;\r\n              var lastIndex = allDisplayedElem.length - 1;\r\n              var selectedIndex = -1;\r\n\r\n              layui.each(allDisplayedElem, function (index, el) {\r\n                if ($(el).hasClass(THIS)) {\r\n                  selectedIndex = index;\r\n                  return true;\r\n                }\r\n              });\r\n\r\n              var nextIndex =\r\n                prevNext === 'prev'\r\n                  ? selectedIndex - 1 < firstIndex\r\n                    ? lastIndex\r\n                    : selectedIndex - 1\r\n                  : selectedIndex + 1 > lastIndex\r\n                    ? firstIndex\r\n                    : selectedIndex + 1;\r\n\r\n              var selectedElem = allDisplayedElem.eq(nextIndex);\r\n              selectedElem.addClass(THIS).siblings().removeClass(THIS); // 标注样式\r\n              followScroll(); // 定位滚动条\r\n            };\r\n\r\n            if (keyCode === 38) setThisDd('prev'); // Up 键\r\n            if (keyCode === 40) setThisDd('next'); // Down 键\r\n\r\n            // Enter 键\r\n            if (keyCode === 13) {\r\n              e.preventDefault();\r\n              dl.children('dd.' + THIS).trigger('click');\r\n            }\r\n          })\r\n          .on('paste', function () {\r\n            showDown();\r\n          });\r\n\r\n        // 检测值是否不属于 select 项\r\n        var notOption = function (value, callback, origin) {\r\n          var num = 0;\r\n          var dds = dl.children('dd');\r\n          var hasEquals = false;\r\n          var rawValue = value;\r\n          var fuzzyMatchRE;\r\n          if (!laySearch.caseSensitive) {\r\n            value = value.toLowerCase();\r\n          }\r\n          if (laySearch.fuzzy) {\r\n            fuzzyMatchRE = fuzzyMatchRegExp(value, laySearch.caseSensitive);\r\n          }\r\n          layui.each(dds, function () {\r\n            var othis = $(this);\r\n            var text = othis.text();\r\n            var isCreateOption = isCreatable && othis.hasClass(CREATE_OPTION);\r\n\r\n            // 需要区分大小写\r\n            if (isCreatable && !isCreateOption && text === rawValue) {\r\n              hasEquals = true;\r\n            }\r\n\r\n            // 是否区分大小写\r\n            if (!laySearch.caseSensitive) {\r\n              text = text.toLowerCase();\r\n            }\r\n\r\n            // 匹配\r\n            var not = laySearch.fuzzy\r\n              ? !fuzzyMatchRE.test(text)\r\n              : text.indexOf(value) === -1;\r\n\r\n            if (value === '' || origin === 'blur' ? value !== text : not) num++;\r\n            origin === 'keyup' &&\r\n              othis[\r\n                (isCreatable ? not && !isCreateOption : not)\r\n                  ? 'addClass'\r\n                  : 'removeClass'\r\n              ](HIDE);\r\n          });\r\n          // 处理 select 分组元素\r\n          origin === 'keyup' &&\r\n            layui.each(dts, function () {\r\n              var othis = $(this);\r\n              var thisDds = othis.nextUntil('dt').filter('dd'); // 当前分组下的dd元素\r\n              if (isCreatable) thisDds = thisDds.not('.' + CREATE_OPTION);\r\n              var allHide = thisDds.length == thisDds.filter('.' + HIDE).length; // 当前分组下所有dd元素都隐藏了\r\n              othis[allHide ? 'addClass' : 'removeClass'](HIDE);\r\n            });\r\n          var none = num === dds.length;\r\n          return (callback(none, hasEquals), none);\r\n        };\r\n\r\n        // 搜索匹配\r\n        var search = function (e) {\r\n          var value = this.value,\r\n            keyCode = e.keyCode;\r\n\r\n          if (\r\n            keyCode === 9 ||\r\n            keyCode === 13 ||\r\n            keyCode === 37 ||\r\n            keyCode === 38 ||\r\n            keyCode === 39 ||\r\n            keyCode === 40\r\n          ) {\r\n            return false;\r\n          }\r\n\r\n          if (needPlaceholderPatch && e.target.__ieph) {\r\n            e.target.__ieph = false;\r\n            return false;\r\n          }\r\n\r\n          notOption(\r\n            value,\r\n            function (none, hasEquals) {\r\n              if (isCreatable) {\r\n                if (hasEquals) {\r\n                  dl.children('.' + CREATE_OPTION).remove();\r\n                } else {\r\n                  var createOptionElem = dl.children('.' + CREATE_OPTION);\r\n                  if (createOptionElem[0]) {\r\n                    createOptionElem.attr('lay-value', value).text(value);\r\n                  } else {\r\n                    // 临时显示在顶部\r\n                    var ddElem = $('<dd>')\r\n                      .addClass(CREATE_OPTION)\r\n                      .attr('lay-value', value)\r\n                      .text(value);\r\n                    var firstOptionELem = dl.children().eq(0);\r\n                    var hasTips = firstOptionELem.hasClass('layui-select-tips');\r\n                    firstOptionELem[hasTips ? 'after' : 'before'](ddElem);\r\n                  }\r\n                }\r\n              } else {\r\n                if (none) {\r\n                  dl.find('.' + NONE)[0] ||\r\n                    dl.append(\r\n                      '<p class=\"' +\r\n                        NONE +\r\n                        '\">' +\r\n                        i18n.$t('form.select.noMatch') +\r\n                        '</p>',\r\n                    );\r\n                } else {\r\n                  dl.find('.' + NONE).remove();\r\n                }\r\n              }\r\n            },\r\n            'keyup',\r\n          );\r\n\r\n          // 当搜索值清空时\r\n          if (value === '') {\r\n            // 取消选中项\r\n            select.val('');\r\n            dl.find('.' + THIS).removeClass(THIS);\r\n            (select[0].options[0] || {}).value ||\r\n              dl.children('dd:eq(0)').addClass(THIS);\r\n            dl.find('.' + NONE).remove();\r\n            isCreatable && dl.children('.' + CREATE_OPTION).remove();\r\n          }\r\n\r\n          followScroll(); // 定位滚动条\r\n        };\r\n\r\n        if (isSearch) {\r\n          input\r\n            .on('input propertychange', layui.debounce(search, 50))\r\n            .on('blur', function (e) {\r\n              var selectedIndex = select[0].selectedIndex;\r\n\r\n              initValue = $(select[0].options[selectedIndex]).prop('text'); // 重新获得初始选中值\r\n\r\n              // 如果是第一项，且文本值等于 placeholder，则清空初始值\r\n              if (\r\n                selectedIndex === 0 &&\r\n                initValue === input.attr('placeholder')\r\n              ) {\r\n                initValue = '';\r\n              }\r\n\r\n              setTimeout(function () {\r\n                notOption(\r\n                  input.val(),\r\n                  function (none) {\r\n                    initValue || input.val(''); // none && !initValue\r\n                  },\r\n                  'blur',\r\n                );\r\n              }, 200);\r\n            });\r\n        }\r\n\r\n        // 选择\r\n        dl.on('click', 'dd', function () {\r\n          var othis = $(this),\r\n            value = othis.attr('lay-value');\r\n          var filter = select.attr('lay-filter'); // 获取过滤器\r\n\r\n          if (othis.hasClass(DISABLED)) return false;\r\n\r\n          // 将新增的 option 元素添加到末尾\r\n          if (isCreatable && othis.hasClass(CREATE_OPTION)) {\r\n            var optionElem = $('<option>').text(othis.text());\r\n            var displayValue = optionElem.prop('text');\r\n            value = displayValue;\r\n            optionElem.attr('value', displayValue);\r\n            select.append(optionElem);\r\n            othis\r\n              .removeClass(CREATE_OPTION)\r\n              .attr('lay-value', displayValue)\r\n              .text(displayValue);\r\n            dl.append(othis);\r\n          }\r\n\r\n          if (othis.hasClass('layui-select-tips')) {\r\n            input.val('');\r\n          } else {\r\n            input.val(othis.text());\r\n            othis.addClass(THIS);\r\n          }\r\n\r\n          othis.siblings().removeClass(THIS);\r\n          select.val(value).removeClass('layui-form-danger');\r\n\r\n          layui.event.call(this, MOD_NAME, 'select(' + filter + ')', {\r\n            elem: select[0],\r\n            value: value,\r\n            othis: reElem,\r\n          });\r\n\r\n          hideDown(true);\r\n          return false;\r\n        });\r\n\r\n        // 用于开启 lay-append-to 时兼容 dropdown\r\n        dl.on('mousedown pointerdown touchstart', function (e) {\r\n          layui.stope(e);\r\n        });\r\n\r\n        reElem.find('dl>dt').on('click', function (e) {\r\n          return false;\r\n        });\r\n\r\n        if (isAppendTo) {\r\n          titleElem.on('_lay-select-destroy', function () {\r\n            reElem.remove();\r\n          });\r\n        }\r\n      };\r\n\r\n      // 仅 appendTo 使用，移除触发元素时，自动移除面板元素\r\n      $.event.special['_lay-select-destroy'] = {\r\n        remove: function (handleObj) {\r\n          handleObj.handler();\r\n        },\r\n      };\r\n\r\n      // 初始渲染 select 组件选项\r\n      selects.each(function (index, select) {\r\n        var othis = $(this);\r\n        var hasRender = othis.next('.' + CLASS);\r\n        var disabled = this.disabled;\r\n        var value = select.value;\r\n        var selected = $(select.options[select.selectedIndex]); // 获取当前选中项\r\n        var optionsFirst = select.options[0];\r\n\r\n        // 为忽略渲染的 select 元素保持原生显示状态\r\n        if (othis.closest('[lay-ignore]').length) {\r\n          return othis.show();\r\n        }\r\n\r\n        var isSearch = typeof othis.attr('lay-search') === 'string';\r\n        var isCreatable =\r\n          typeof othis.attr('lay-creatable') === 'string' && isSearch;\r\n        var isAppendTo = typeof othis.attr('lay-append-to') === 'string';\r\n        var placeholder = optionsFirst\r\n          ? optionsFirst.value\r\n            ? TIPS\r\n            : optionsFirst.text || TIPS\r\n          : TIPS;\r\n\r\n        // 用于替代 select 的外层容器\r\n        var selectWrapper = (function () {\r\n          var elem = $('<div class=\"' + CLASS + '\"></div>');\r\n          if (!isSearch) {\r\n            elem.addClass('layui-unselect');\r\n          }\r\n          if (disabled) {\r\n            elem.addClass('layui-select-disabled');\r\n          }\r\n          return elem;\r\n        })();\r\n\r\n        var inputElem = (function () {\r\n          var elem = $('<input type=\"text\" class=\"layui-input\">');\r\n\r\n          // 设置占位符和默认值\r\n          elem.prop('placeholder', placeholder);\r\n          elem.val(value ? selected.prop('text') : '');\r\n\r\n          // 设置未开启搜索或禁用时的输入框只读状态\r\n          if (!isSearch || disabled) {\r\n            elem.prop('readonly', true);\r\n          }\r\n\r\n          // 添加禁用状态时的 className\r\n          if (disabled) {\r\n            elem.addClass(DISABLED);\r\n          }\r\n\r\n          return elem;\r\n        })();\r\n\r\n        var titleElem = (function () {\r\n          var elem = $('<div class=\"' + TITLE + '\"></div>');\r\n          elem.append(inputElem);\r\n          elem.append('<i class=\"layui-edge\"></i>');\r\n          return elem;\r\n        })();\r\n\r\n        var contentElem = (function () {\r\n          var elem = $('<dl class=\"layui-anim layui-anim-upbit\"></dl>');\r\n          if (othis.find('optgroup')[0]) {\r\n            elem.addClass('layui-select-group');\r\n          }\r\n          var content = (function () {\r\n            var arr = [];\r\n            layui.each(othis.find('optgroup,option'), function (index, item) {\r\n              var tagName = item.tagName.toLowerCase();\r\n              var dd = $('<dd lay-value=\"\"></dd>');\r\n              if (index === 0 && !item.value && tagName !== 'optgroup') {\r\n                dd.addClass('layui-select-tips');\r\n                dd.text(item.text || TIPS);\r\n                arr.push(dd.prop('outerHTML'));\r\n              } else if (tagName === 'optgroup') {\r\n                var dt = $('<dt></dt>');\r\n                dt.text(item.label);\r\n                arr.push(dt.prop('outerHTML'));\r\n              } else {\r\n                dd.attr('lay-value', item.value);\r\n                if (value === item.value) {\r\n                  dd.addClass(THIS);\r\n                }\r\n                if (item.disabled) {\r\n                  dd.addClass(DISABLED);\r\n                }\r\n                dd.text(item.text);\r\n                arr.push(dd.prop('outerHTML'));\r\n              }\r\n            });\r\n            if (arr.length === 0) {\r\n              arr.push(\r\n                '<dd lay-value=\"\" class=\"' +\r\n                  DISABLED +\r\n                  '\">' +\r\n                  i18n.$t('form.select.noData') +\r\n                  '</dd>',\r\n              );\r\n            }\r\n            return arr.join('');\r\n          })();\r\n          elem.html(content);\r\n          return elem;\r\n        })();\r\n\r\n        // 如果已经渲染，则 Rerender\r\n        if (hasRender[0]) {\r\n          if (isAppendTo) {\r\n            var panelWrapElem = hasRender.data(PANEL_ELEM_DATA);\r\n            panelWrapElem && panelWrapElem.remove();\r\n          }\r\n          hasRender.remove();\r\n        }\r\n        if (isAppendTo) {\r\n          selectWrapper.append(titleElem);\r\n          othis.after(selectWrapper);\r\n          var contentWrapElem = $(\r\n            '<div class=\"' + CLASS + ' ' + PANEL_WRAP + '\"></div>',\r\n          ).append(contentElem);\r\n          selectWrapper.data(PANEL_ELEM_DATA, contentWrapElem); // 将面板元素对象记录在触发元素 data 中，重新渲染时需要清理旧面板元素\r\n          events.call(\r\n            this,\r\n            contentWrapElem,\r\n            titleElem,\r\n            disabled,\r\n            isSearch,\r\n            isCreatable,\r\n            isAppendTo,\r\n          );\r\n        } else {\r\n          selectWrapper.append(titleElem).append(contentElem);\r\n          othis.after(selectWrapper);\r\n          events.call(\r\n            this,\r\n            selectWrapper,\r\n            titleElem,\r\n            disabled,\r\n            isSearch,\r\n            isCreatable,\r\n            isAppendTo,\r\n          );\r\n        }\r\n      });\r\n    },\r\n\r\n    // 复选框/开关\r\n    checkbox: function (elem) {\r\n      var CLASS = {\r\n        checkbox: ['layui-form-checkbox', 'layui-form-checked', 'checkbox'],\r\n        switch: ['layui-form-switch', 'layui-form-onswitch', 'switch'],\r\n        SUBTRA: 'layui-icon-indeterminate',\r\n        ICON: 'layui-icon',\r\n        ICON_OK: 'layui-icon-ok',\r\n      };\r\n      var clickEventName = 'click.lay_checkbox_click';\r\n      var checks = elem || elemForm.find('input[type=checkbox]');\r\n      // 风格\r\n      var skins = {\r\n        primary: true, // 默认风格\r\n        tag: true, // 标签风格\r\n        switch: true, // 开关风格\r\n      };\r\n      // 事件\r\n      var events = function (reElem, RE_CLASS) {\r\n        var check = $(this);\r\n        var skin = check.attr('lay-skin') || 'primary';\r\n        var isSwitch = skin === 'switch';\r\n        var isPrimary = skin === 'primary';\r\n\r\n        // 勾选\r\n        // 通过重新赋值触发美化元素样式更新\r\n        check.off(clickEventName).on(clickEventName, function () {\r\n          var filter = check.attr('lay-filter'); // 获取过滤器\r\n          var checked = check[0].checked;\r\n          var indeterminate = check[0].indeterminate;\r\n\r\n          // 禁用\r\n          if (check[0].disabled) return;\r\n\r\n          // 半选\r\n          check[0].indeterminate = indeterminate;\r\n\r\n          // 开关\r\n          check[0].checked = checked;\r\n\r\n          // 事件\r\n          layui.event.call(\r\n            check[0],\r\n            MOD_NAME,\r\n            RE_CLASS[2] + '(' + filter + ')',\r\n            {\r\n              elem: check[0],\r\n              value: check[0].value,\r\n              othis: reElem,\r\n            },\r\n          );\r\n        });\r\n\r\n        reElem.on('click', function () {\r\n          var hasLabel = check.closest('label').length;\r\n          if (!hasLabel) {\r\n            check.trigger('click');\r\n          }\r\n        });\r\n\r\n        that.syncAppearanceOnPropChanged(this, 'checked', function () {\r\n          if (isSwitch) {\r\n            var title = (\r\n              reElem.next('*[lay-checkbox]')[0]\r\n                ? reElem.next().html()\r\n                : check.attr('title') || ''\r\n            ).split('|');\r\n            reElem\r\n              .children('div')\r\n              .html(this.checked ? title[0] : title[1] || title[0]);\r\n          }\r\n          reElem.toggleClass(RE_CLASS[1], this.checked);\r\n        });\r\n\r\n        if (isPrimary) {\r\n          that.syncAppearanceOnPropChanged(this, 'indeterminate', function () {\r\n            if (this.indeterminate) {\r\n              reElem\r\n                .children('.' + CLASS.ICON)\r\n                .removeClass(CLASS.ICON_OK)\r\n                .addClass(CLASS.SUBTRA);\r\n            } else {\r\n              reElem\r\n                .children('.' + CLASS.ICON)\r\n                .removeClass(CLASS.SUBTRA)\r\n                .addClass(CLASS.ICON_OK);\r\n            }\r\n          });\r\n        }\r\n      };\r\n\r\n      // 遍历复选框\r\n      checks.each(function (index, check) {\r\n        var othis = $(this);\r\n        var skin = othis.attr('lay-skin') || 'primary';\r\n        var title = util.escape(\r\n          $.trim(\r\n            check.title ||\r\n              (function () {\r\n                // 向下兼容 lay-text 属性\r\n                return (check.title = othis.attr('lay-text') || '');\r\n              })(),\r\n          ),\r\n        );\r\n        var disabled = this.disabled;\r\n\r\n        // if(!skins[skin]) skin = 'primary'; // 若非内置风格，则强制为默认风格\r\n        var RE_CLASS = CLASS[skin] || CLASS.checkbox;\r\n\r\n        // 替代元素\r\n        var hasRender = othis.next('.' + RE_CLASS[0]);\r\n        hasRender[0] && hasRender.remove(); // 若已经渲染，则 Rerender\r\n\r\n        // 若存在标题模板，则优先读取标题模板\r\n        var titleTplAttrs = [];\r\n        if (othis.next('[lay-checkbox]')[0]) {\r\n          var titleTplElem = othis.next();\r\n          title = titleTplElem.html() || '';\r\n          if (titleTplElem[0].attributes.length > 1) {\r\n            layui.each(titleTplElem[0].attributes, function (i, attr) {\r\n              if (attr.name !== 'lay-checkbox') {\r\n                titleTplAttrs.push(attr.name + '=\"' + attr.value + '\"');\r\n              }\r\n            });\r\n          }\r\n        }\r\n        titleTplAttrs = titleTplAttrs.join(' ');\r\n\r\n        // 若为开关，则对 title 进行分隔解析\r\n        title = skin === 'switch' ? title.split('|') : [title];\r\n\r\n        if (othis.closest('[lay-ignore]').length) return othis.show();\r\n\r\n        // 处理 IE8 indeterminate 属性重新定义 get set 后无法设置值的问题\r\n        if (needCheckboxFallback) {\r\n          toggleAttribute.call(check, 'lay-form-sync-checked', check.checked);\r\n          !check.checked &&\r\n            toggleAttribute.call(\r\n              check,\r\n              'lay-form-sync-indeterminate',\r\n              check.indeterminate,\r\n            );\r\n        }\r\n\r\n        // 替代元素\r\n        var reElem = $(\r\n          [\r\n            '<div class=\"layui-unselect ' + RE_CLASS[0],\r\n            check.checked ? ' ' + RE_CLASS[1] : '', // 选中状态\r\n            disabled ? ' layui-checkbox-disabled ' + DISABLED : '', // 禁用状态\r\n            '\"',\r\n            skin ? ' lay-skin=\"' + skin + '\"' : '', // 风格\r\n            '>',\r\n            (function () {\r\n              // 不同风格的内容\r\n              var type = {\r\n                // 复选框\r\n                checkbox: [\r\n                  title[0]\r\n                    ? '<div ' + titleTplAttrs + '>' + title[0] + '</div>'\r\n                    : skin === 'primary'\r\n                      ? ''\r\n                      : '<div></div>',\r\n                  '<i class=\"layui-icon ' +\r\n                    (skin === 'primary' &&\r\n                    !check.checked &&\r\n                    othis.get(0).indeterminate\r\n                      ? CLASS.SUBTRA\r\n                      : 'layui-icon-ok') +\r\n                    '\"></i>',\r\n                ].join(''),\r\n                // 开关\r\n                switch:\r\n                  '<div>' +\r\n                  ((check.checked ? title[0] : title[1] || title[0]) || '') +\r\n                  '</div><i></i>',\r\n              };\r\n              return type[skin] || type['checkbox'];\r\n            })(),\r\n            '</div>',\r\n          ].join(''),\r\n        );\r\n\r\n        othis.after(reElem);\r\n        events.call(this, reElem, RE_CLASS);\r\n      });\r\n    },\r\n\r\n    // 单选框\r\n    radio: function (elem) {\r\n      var CLASS = 'layui-form-radio';\r\n      var ICON = ['layui-icon-radio', 'layui-icon-circle'];\r\n      var radios = elem || elemForm.find('input[type=radio]');\r\n      var clickEventName = 'click.lay_radio_click';\r\n\r\n      // 事件\r\n      var events = function (reElem) {\r\n        var radio = $(this);\r\n        var ANIM = 'layui-anim-scaleSpring';\r\n\r\n        radio.off(clickEventName).on(clickEventName, function () {\r\n          var filter = radio.attr('lay-filter'); // 获取过滤器\r\n\r\n          if (radio[0].disabled) return;\r\n\r\n          radio[0].checked = true;\r\n\r\n          layui.event.call(radio[0], MOD_NAME, 'radio(' + filter + ')', {\r\n            elem: radio[0],\r\n            value: radio[0].value,\r\n            othis: reElem,\r\n          });\r\n        });\r\n\r\n        reElem.on('click', function () {\r\n          var hasLabel = radio.closest('label').length;\r\n          if (!hasLabel) {\r\n            radio.trigger('click');\r\n          }\r\n        });\r\n\r\n        that.syncAppearanceOnPropChanged(this, 'checked', function () {\r\n          var radioEl = this;\r\n          if (radioEl.checked) {\r\n            reElem.addClass(CLASS + 'ed');\r\n            reElem.children('.layui-icon').addClass(ANIM + ' ' + ICON[0]);\r\n            var forms = radio.parents(ELEM);\r\n            var sameRadios = forms.find(\r\n              'input[name=' +\r\n                radioEl.name.replace(/(\\.|#|\\[|\\])/g, '\\\\$1') +\r\n                ']',\r\n            ); // 找到相同name的兄弟\r\n            layui.each(sameRadios, function () {\r\n              if (radioEl === this) return;\r\n              this.checked = false;\r\n            });\r\n          } else {\r\n            reElem.removeClass(CLASS + 'ed');\r\n            reElem\r\n              .children('.layui-icon')\r\n              .removeClass(ANIM + ' ' + ICON[0])\r\n              .addClass(ICON[1]);\r\n          }\r\n        });\r\n      };\r\n\r\n      // 初始渲染\r\n      radios.each(function (index, radio) {\r\n        var othis = $(this),\r\n          hasRender = othis.next('.' + CLASS);\r\n        var disabled = this.disabled;\r\n        var skin = othis.attr('lay-skin');\r\n\r\n        if (othis.closest('[lay-ignore]').length) return othis.show();\r\n\r\n        if (needCheckboxFallback) {\r\n          toggleAttribute.call(radio, 'lay-form-sync-checked', radio.checked);\r\n        }\r\n\r\n        hasRender[0] && hasRender.remove(); // 如果已经渲染，则Rerender\r\n\r\n        var title = util.escape(radio.title || '');\r\n        var titleTplAttrs = [];\r\n        if (othis.next('[lay-radio]')[0]) {\r\n          var titleTplElem = othis.next();\r\n          title = titleTplElem.html() || '';\r\n          if (titleTplElem[0].attributes.length > 1) {\r\n            layui.each(titleTplElem[0].attributes, function (i, attr) {\r\n              if (attr.name !== 'lay-radio') {\r\n                titleTplAttrs.push(attr.name + '=\"' + attr.value + '\"');\r\n              }\r\n            });\r\n          }\r\n        }\r\n        titleTplAttrs = titleTplAttrs.join(' ');\r\n\r\n        // 替代元素\r\n        var reElem = $(\r\n          [\r\n            '<div class=\"layui-unselect ' + CLASS,\r\n            radio.checked ? ' ' + CLASS + 'ed' : '', // 选中状态\r\n            (disabled ? ' layui-radio-disabled ' + DISABLED : '') + '\"', // 禁用状态\r\n            skin ? ' lay-skin=\"' + skin + '\"' : '',\r\n            '>',\r\n            '<i class=\"layui-anim layui-icon ' +\r\n              ICON[radio.checked ? 0 : 1] +\r\n              '\"></i>',\r\n            '<div ' + titleTplAttrs + '>' + title + '</div>',\r\n            '</div>',\r\n          ].join(''),\r\n        );\r\n\r\n        othis.after(reElem);\r\n        events.call(this, reElem);\r\n      });\r\n    },\r\n  };\r\n\r\n  // 执行所有渲染项\r\n  var renderItem = function () {\r\n    layui.each(items, function (index, item) {\r\n      item();\r\n    });\r\n  };\r\n\r\n  // jquery 对象\r\n  if (layui.type(type) === 'object') {\r\n    // 若对象为表单域容器\r\n    if ($(type).is(ELEM)) {\r\n      elemForm = $(type);\r\n      renderItem();\r\n    } else {\r\n      // 对象为表单项\r\n      type.each(function (index, item) {\r\n        var elem = $(item);\r\n        if (!elem.closest(ELEM).length) {\r\n          return; // 若不在 layui-form 容器中直接跳过\r\n        }\r\n        if (item.tagName === 'SELECT') {\r\n          items['select'](elem);\r\n        } else if (item.tagName === 'INPUT') {\r\n          var itemType = item.type;\r\n          if (itemType === 'checkbox' || itemType === 'radio') {\r\n            items[itemType](elem);\r\n          } else {\r\n            items['input'](elem);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  } else {\r\n    type\r\n      ? items[type]\r\n        ? items[type]()\r\n        : hint.error(\r\n            '[form] \"' + type + '\" is an unsupported form element type',\r\n          )\r\n      : renderItem();\r\n  }\r\n  return that;\r\n};\r\n\r\n/**\r\n * checkbox 和 radio 指定属性变化时自动更新 UI\r\n * 只能用于 boolean 属性\r\n * @param {HTMLInputElement} elem - HTMLInput 元素\r\n * @param {'checked' | 'indeterminate'} propName - 属性名\r\n * @param {() => void} handler - 属性值改变时执行的回调\r\n * @see https://learn.microsoft.com/zh-cn/previous-versions//ff382725(v=vs.85)?redirectedfrom=MSDN\r\n */\r\nForm.prototype.syncAppearanceOnPropChanged = (function () {\r\n  // 处理 IE8 indeterminate 属性重新定义 get set 后无法设置值的问题\r\n  // 此处性能敏感，不希望每次赋值取值时都判断是否需要 fallback\r\n  if (needCheckboxFallback) {\r\n    return function (elem, propName, handler) {\r\n      var originProps = Object.getOwnPropertyDescriptor(\r\n        HTMLInputElement.prototype,\r\n        propName,\r\n      );\r\n\r\n      Object.defineProperty(\r\n        elem,\r\n        propName,\r\n        lay.extend({}, originProps, {\r\n          // 此处的 get 是为了兼容 IE<9\r\n          get: function () {\r\n            return (\r\n              typeof this.getAttribute('lay-form-sync-' + propName) === 'string'\r\n            );\r\n          },\r\n          set: function (newValue) {\r\n            toggleAttribute.call(this, 'lay-form-sync-' + propName, newValue);\r\n            handler.call(this);\r\n          },\r\n        }),\r\n      );\r\n    };\r\n  }\r\n  return function (elem, propName, handler) {\r\n    var originProps = Object.getOwnPropertyDescriptor(\r\n      HTMLInputElement.prototype,\r\n      propName,\r\n    );\r\n\r\n    Object.defineProperty(\r\n      elem,\r\n      propName,\r\n      lay.extend({}, originProps, {\r\n        // 此处的 get 是为了兼容 IE<9\r\n        get: function () {\r\n          return originProps.get.call(this);\r\n        },\r\n        set: function (newValue) {\r\n          originProps.set.call(this, newValue);\r\n          handler.call(this);\r\n        },\r\n      }),\r\n    );\r\n  };\r\n})();\r\n\r\n/**\r\n * 主动触发验证\r\n * @param  {(string|HTMLElement|JQuery)} elem - 要验证的区域表单元素\r\n * @return {boolean} 返回结果。若验证通过，返回 `true`, 否则返回 `false`\r\n */\r\nForm.prototype.validate = function (elem) {\r\n  var that = this;\r\n  var intercept; // 拦截标识\r\n  var options = that.config; // 获取全局配置项\r\n  var verify = options.verify; // 验证规则\r\n  var DANGER = 'layui-form-danger'; // 警示样式\r\n\r\n  elem = $(elem);\r\n\r\n  // 节点不存在可视为 true\r\n  if (!elem[0]) return !0;\r\n\r\n  // 若节点不存在特定属性，则查找容器内有待验证的子节点\r\n  if (elem.attr('lay-verify') === undefined) {\r\n    // 若校验的是一个不带验证规则的容器，校验内部的 lay-verify 节点\r\n    if (that.validate(elem.find('*[lay-verify]')) === false) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // 开始校验\r\n  layui.each(elem, function (_, item) {\r\n    var othis = $(this);\r\n    var verifyStr = othis.attr('lay-verify') || '';\r\n    var vers = verifyStr.split('|');\r\n    var verType = othis.attr('lay-vertype'); // 提示方式\r\n    var value = othis.val();\r\n    value = typeof value === 'string' ? $.trim(value) : value;\r\n\r\n    othis.removeClass(DANGER); // 移除警示样式\r\n\r\n    // 遍历元素绑定的验证规则\r\n    layui.each(vers, function (_, thisVer) {\r\n      var verst; // 校验结果\r\n      var errorText = ''; // 错误提示文本\r\n      var rule = verify[thisVer]; // 获取校验规则\r\n\r\n      // 匹配验证规则\r\n      if (rule) {\r\n        verst =\r\n          typeof rule === 'function'\r\n            ? (errorText = rule(value, item))\r\n            : !rule[0].test(value); // 兼容早期数组中的正则写法\r\n\r\n        // 是否属于美化替换后的表单元素\r\n        var isForm2Elem =\r\n          item.tagName.toLowerCase() === 'select' ||\r\n          /^(checkbox|radio)$/.test(item.type);\r\n\r\n        errorText = errorText || rule[1];\r\n\r\n        // 获取自定义必填项提示文本\r\n        if (thisVer === 'required') {\r\n          errorText = othis.attr('lay-reqtext') || errorText;\r\n        }\r\n\r\n        // 若命中校验规则\r\n        if (verst) {\r\n          // 提示层风格\r\n          if (verType === 'tips') {\r\n            layer.tips(\r\n              errorText,\r\n              (function () {\r\n                if (!othis.closest('[lay-ignore]').length) {\r\n                  if (isForm2Elem) {\r\n                    return othis.next();\r\n                  }\r\n                }\r\n                return othis;\r\n              })(),\r\n              { tips: 1 },\r\n            );\r\n          } else if (verType === 'alert') {\r\n            layer.alert(errorText, {\r\n              title: i18n.$t('form.verifyErrorPromptTitle'),\r\n              shadeClose: true,\r\n            });\r\n          }\r\n          // 若返回的为字符或数字，则自动弹出默认提示框；否则由 verify 方法中处理提示\r\n          else if (/\\b(string|number)\\b/.test(typeof errorText)) {\r\n            layer.msg(errorText, { icon: 5, shift: 6 });\r\n          }\r\n\r\n          setTimeout(function () {\r\n            (isForm2Elem ? othis.next().find('input') : item).focus();\r\n          }, 7);\r\n\r\n          othis.addClass(DANGER);\r\n          return (intercept = true);\r\n        }\r\n      }\r\n    });\r\n\r\n    if (intercept) return intercept;\r\n  });\r\n\r\n  return !intercept;\r\n};\r\n\r\n// 提交表单并校验\r\nvar submit = (Form.prototype.submit = function (filter, callback) {\r\n  var field = {}; // 字段集合\r\n  var button = $(this); // 当前触发的按钮\r\n\r\n  // 表单域 lay-filter 属性值\r\n  var layFilter =\r\n    typeof filter === 'string' ? filter : button.attr('lay-filter');\r\n\r\n  // 当前所在表单域\r\n  var elem = this.getFormElem\r\n    ? this.getFormElem(layFilter)\r\n    : button.parents(ELEM).eq(0);\r\n\r\n  // 获取需要校验的元素\r\n  var verifyElem = elem.find('*[lay-verify]');\r\n\r\n  // 开始校验\r\n  if (!form.validate(verifyElem)) return false;\r\n\r\n  // 获取当前表单值\r\n  field = form.getValue(null, elem);\r\n\r\n  // 返回的参数\r\n  var params = {\r\n    elem: this.getFormElem ? window.event && window.event.target : this, // 触发事件的对象\r\n    form: this.getFormElem ? elem[0] : button.parents('form')[0], // 当前所在的 form 元素，如果存在的话\r\n    field: field, // 当前表单数据\r\n  };\r\n\r\n  // 回调\r\n  typeof callback === 'function' && callback(params);\r\n\r\n  // 事件\r\n  return layui.event.call(this, MOD_NAME, 'submit(' + layFilter + ')', params);\r\n});\r\n\r\nfunction fuzzyMatchRegExp(keyword, caseSensitive) {\r\n  var wordMap = {};\r\n  var regexPattern = ['^'];\r\n  var escapeRegExp = function (str) {\r\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n  };\r\n\r\n  if (!caseSensitive) keyword = keyword.toLowerCase();\r\n\r\n  var i;\r\n\r\n  // 统计关键字中各字符出现次数\r\n  var wordArr = keyword.trim().split('');\r\n  for (i = 0; i < wordArr.length; i++) {\r\n    var c = wordArr[i];\r\n    wordMap[c] = (wordMap[c] || 0) + 1;\r\n  }\r\n\r\n  // 构建正则表达式模式\r\n  for (c in wordMap) {\r\n    regexPattern.push('(?=.*');\r\n    for (i = 0; i < wordMap[c]; i++) {\r\n      regexPattern.push(escapeRegExp(c));\r\n      if (i !== wordMap[c] - 1) {\r\n        regexPattern.push('.*'); // 在字符之间添加任意字符匹配\r\n      }\r\n    }\r\n    regexPattern.push(')');\r\n  }\r\n  regexPattern.push('.*');\r\n\r\n  return new RegExp(regexPattern.join(''), !caseSensitive ? 'i' : undefined);\r\n}\r\n\r\n// 引用自 https://github.com/msn0/mdn-polyfills/blob/master/src/Element.prototype.toggleAttribute/toggleattribute.js\r\nfunction toggleAttribute(name, force) {\r\n  var forcePassed = arguments.length === 2;\r\n  var forceOn = !!force;\r\n  var forceOff = forcePassed && !force;\r\n\r\n  if (this.getAttribute(name) !== null) {\r\n    if (forceOn) return true;\r\n\r\n    this.removeAttribute(name);\r\n    return false;\r\n  } else {\r\n    if (forceOff) return false;\r\n\r\n    this.setAttribute(name, '');\r\n    return true;\r\n  }\r\n}\r\n\r\n// 修改自 https://github.com/Tencent/tdesign-common/blob/53786c58752401e648cc45918f2a4dbb9e8cecfa/js/input-number/number.ts#L209\r\nvar specialCode = ['-', '.', 'e', 'E', '+'];\r\nfunction canInputNumber(number) {\r\n  if (number === '') return true;\r\n  // 数字最前方不允许出现连续的两个 0\r\n  if (number.slice(0, 2) === '00') return false;\r\n  // 不能出现空格\r\n  if (number.match(/\\s/g)) return false;\r\n  // 只能出现一个点（.）\r\n  var tempMatched = number.match(/\\./g);\r\n  if (tempMatched && tempMatched.length > 1) return false;\r\n  // 只能出现一个e（e）\r\n  tempMatched = number.match(/e/g);\r\n  if (tempMatched && tempMatched.length > 1) return false;\r\n  // 只能出现一个负号（-）或 一个正号（+），并且在第一个位置；但允许 3e+10 这种形式\r\n  var tempNumber = number.slice(1);\r\n  tempMatched = tempNumber.match(/(\\+|-)/g);\r\n  if (tempMatched && (!/e(\\+|-)/i.test(tempNumber) || tempMatched.length > 1))\r\n    return false;\r\n  // 允许输入数字字符\r\n  var isNumber = !isNaN(Number(number));\r\n  if (!isNumber && !(specialCode.indexOf(number.slice(-1)) !== -1))\r\n    return false;\r\n  if (/e/i.test(number) && (!/\\de/i.test(number) || /e\\./.test(number)))\r\n    return false;\r\n  return true;\r\n}\r\n\r\nvar form = new Form();\r\nvar $dom = $(document);\r\nvar $win = $(window);\r\n\r\n// 初始自动完成渲染\r\n$(function () {\r\n  form.render();\r\n});\r\n\r\n// 表单 reset 重置渲染\r\n$dom.on('reset', ELEM, function () {\r\n  var filter = $(this).attr('lay-filter');\r\n  setTimeout(function () {\r\n    form.render(null, filter);\r\n  }, 50);\r\n});\r\n\r\n// 表单提交事件\r\n$dom.on('submit', ELEM, submit).on('click', '*[lay-submit]', submit);\r\n\r\nexport { form };\r\n","/**\r\n * layui.table\r\n * 表格组件\r\n */\r\nimport { layui } from '../core/layui.js';\r\nimport { lay } from '../core/lay.js';\r\nimport { i18n } from '../core/i18n.js';\r\nimport $ from 'jquery';\r\nimport { laytpl } from '../core/laytpl.js';\r\nimport { laypage } from './laypage.js';\r\nimport { util } from './util.js';\r\nimport { layer } from './layer.js';\r\nimport { form } from './form.js';\r\n\r\nvar hint = layui.hint();\r\nvar device = layui.device();\r\n\r\n// api\r\nvar table = {\r\n  config: {\r\n    // 全局配置项\r\n    checkName: 'LAY_CHECKED', // 是否选中状态的特定字段名\r\n    indexName: 'LAY_INDEX', // 下标索引\r\n    initIndexName: 'LAY_INDEX_INIT', // 初始下标索引名，仅用于内部恢复当前页表格排序\r\n    numbersName: 'LAY_NUM', // 序号\r\n    disabledName: 'LAY_DISABLED', // 禁用状态的特定字段名\r\n  },\r\n  cache: {}, // 数据缓存\r\n\r\n  // 设置全局项\r\n  set: function (options) {\r\n    var that = this;\r\n    that.config = $.extend({}, that.config, options);\r\n    return that;\r\n  },\r\n\r\n  // 事件\r\n  on: function (events, callback) {\r\n    return layui.onevent.call(this, MOD_NAME, events, callback);\r\n  },\r\n};\r\n\r\n// 操作当前实例\r\nvar thisTable = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var id = options.id || options.index;\r\n\r\n  return {\r\n    config: options,\r\n    reload: function (options, deep) {\r\n      that.reload.call(that, options, deep);\r\n    },\r\n    reloadData: function (options, deep) {\r\n      table.reloadData(id, options, deep);\r\n    },\r\n    setColsWidth: function () {\r\n      that.setColsWidth.call(that);\r\n    },\r\n    resize: function () {\r\n      // 重置表格尺寸/结构\r\n      that.resize.call(that);\r\n    },\r\n  };\r\n};\r\n\r\n// 获取当前实例\r\nvar getThisTable = function (id) {\r\n  var that = thisTable.that[id];\r\n  if (!that)\r\n    hint.error(\r\n      id\r\n        ? \"The table instance with ID '\" + id + \"' not found\"\r\n        : 'ID argument required',\r\n    );\r\n  return that || null;\r\n};\r\n\r\n// 获取当前实例配置项\r\nvar getThisTableConfig = function (id) {\r\n  var config = thisTable.config[id];\r\n  if (!config)\r\n    hint.error(\r\n      id\r\n        ? \"The table instance with ID '\" + id + \"' not found\"\r\n        : 'ID argument required',\r\n    );\r\n  return config || null;\r\n};\r\n\r\n// lay 函数可以处理 Selector，HTMLElement，JQuery 类型\r\n// 无效的 CSS 选择器字符串，会抛出 SyntaxError 异常，此时直接返回 laytpl 模板字符串\r\nvar resolveTplStr = function (templet) {\r\n  try {\r\n    return lay(templet).html();\r\n  } catch (err) {\r\n    return templet;\r\n  }\r\n};\r\n\r\n// 解析自定义模板数据\r\nvar parseTempData = function (obj) {\r\n  obj = obj || {};\r\n\r\n  var options = this.config || {};\r\n  var item3 = obj.item3; // 表头数据\r\n  var content = obj.content; // 原始内容\r\n  if (item3.type === 'numbers') content = obj.tplData[table.config.numbersName];\r\n\r\n  // 是否编码 HTML\r\n  var escaped = 'escape' in item3 ? item3.escape : options.escape;\r\n  if (escaped) content = util.escape(content);\r\n\r\n  // 获取模板\r\n  var templet =\r\n    (obj.text && item3.exportTemplet) || item3.templet || item3.toolbar;\r\n\r\n  // 获取模板内容\r\n  if (templet) {\r\n    content =\r\n      typeof templet === 'function'\r\n        ? templet.call(item3, obj.tplData, obj.obj)\r\n        : laytpl(resolveTplStr(templet) || String(content)).render(\r\n            $.extend(\r\n              {\r\n                LAY_COL: item3,\r\n              },\r\n              obj.tplData,\r\n            ),\r\n          );\r\n  }\r\n\r\n  // 是否只返回文本\r\n  return obj.text ? $('<div>' + content + '</div>').text() : content;\r\n};\r\n\r\n// 字符\r\nvar MOD_NAME = 'table';\r\nvar MOD_ID = 'lay-' + MOD_NAME + '-id';\r\nvar ELEM = '.layui-table';\r\nvar THIS = 'layui-this';\r\nvar SHOW = 'layui-show';\r\nvar HIDE = 'layui-hide';\r\nvar HIDE_V = 'layui-hide-v';\r\nvar DISABLED = 'layui-disabled';\r\nvar NONE = 'layui-none';\r\n\r\nvar ELEM_VIEW = 'layui-table-view';\r\nvar ELEM_TOOL = '.layui-table-tool';\r\nvar ELEM_BOX = '.layui-table-box';\r\nvar ELEM_INIT = '.layui-table-init';\r\nvar ELEM_HEADER = '.layui-table-header';\r\nvar ELEM_BODY = '.layui-table-body';\r\nvar ELEM_MAIN = '.layui-table-main';\r\nvar ELEM_FIXED = '.layui-table-fixed';\r\nvar ELEM_FIXL = '.layui-table-fixed-l';\r\nvar ELEM_FIXR = '.layui-table-fixed-r';\r\nvar ELEM_TOTAL = '.layui-table-total';\r\nvar ELEM_PAGE = '.layui-table-page';\r\nvar ELEM_PAGE_VIEW = '.layui-table-pageview';\r\nvar ELEM_SORT = '.layui-table-sort';\r\nvar ELEM_CHECKED = 'layui-table-checked';\r\nvar ELEM_EDIT = 'layui-table-edit';\r\nvar ELEM_HOVER = 'layui-table-hover';\r\nvar ELEM_GROUP = 'laytable-cell-group';\r\nvar ELEM_COL_SPECIAL = 'layui-table-col-special';\r\nvar ELEM_TOOL_PANEL = 'layui-table-tool-panel';\r\nvar ELEM_EXPAND = 'layui-table-expanded';\r\nvar DISABLED_TRANSITION = 'layui-table-disabled-transition';\r\nvar FIXED_HEIGHT_PATCH = 'layui-table-fixed-height-patch';\r\n\r\nvar DATA_MOVE_NAME = 'LAY_TABLE_MOVE_DICT';\r\n\r\nvar resizeObserver = lay.createSharedResizeObserver(MOD_NAME);\r\n\r\n// thead 区域模板\r\nvar TPL_HEADER = function (options) {\r\n  var rowCols =\r\n    '{{#var colspan = layui.type(item2.colspan2) === \\'number\\' ? item2.colspan2 : item2.colspan; if(colspan){}} colspan=\"{{=colspan}}\"{{#} if(item2.rowspan){}} rowspan=\"{{=item2.rowspan}}\"{{#}}}';\r\n\r\n  options = options || {};\r\n  return [\r\n    '<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" class=\"layui-table\" ',\r\n    '{{# if(d.data.skin){ }}lay-skin=\"{{=d.data.skin}}\"{{# } }} {{# if(d.data.size){ }}lay-size=\"{{=d.data.size}}\"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>',\r\n    '<thead>',\r\n    '{{# layui.each(d.data.cols, function(i1, item1){ }}',\r\n    '<tr>',\r\n    '{{# layui.each(item1, function(i2, item2){ }}',\r\n    '{{# if(item2.fixed && item2.fixed !== \"right\"){ left = true; } }}',\r\n    '{{# if(item2.fixed === \"right\"){ right = true; } }}',\r\n    (function () {\r\n      if (options.fixed && options.fixed !== 'right') {\r\n        return '{{# if(item2.fixed && item2.fixed !== \"right\"){ }}';\r\n      }\r\n      if (options.fixed === 'right') {\r\n        return '{{# if(item2.fixed === \"right\"){ }}';\r\n      }\r\n      return '';\r\n    })(),\r\n    '{{# var isSort = !(item2.colGroup) && item2.sort; }}',\r\n    '<th data-field=\"{{= item2.field||i2 }}\" data-key=\"{{=d.index}}-{{=i1}}-{{=i2}}\" {{# if( item2.parentKey){ }}data-parentkey=\"{{= item2.parentKey }}\"{{# } }} {{# if(item2.minWidth){ }}data-minwidth=\"{{=item2.minWidth}}\"{{# } }} {{# if(item2.maxWidth){ }}data-maxwidth=\"{{=item2.maxWidth}}\"{{# } }} {{# if(item2.style){ }}style=\"{{=item2.style}}\"{{# } }} ' +\r\n      rowCols +\r\n      ' {{# if(item2.unresize || item2.colGroup){ }}data-unresize=\"true\"{{# } }} class=\"{{# if(item2.hide){ }}layui-hide{{# } }}{{# if(isSort){ }} layui-unselect{{# } }}{{# if(!item2.field){ }} layui-table-col-special{{# } }}\"{{# if(item2.title){ }} title=\"{{ layui.$(\\'<div>\\' + item2.title + \\'</div>\\').text() }}\"{{# } }}>',\r\n    '<div class=\"layui-table-cell laytable-cell-',\r\n    '{{# if(item2.colGroup){ }}',\r\n    'group',\r\n    '{{# } else { }}',\r\n    '{{=d.index}}-{{=i1}}-{{=i2}}',\r\n    '{{# if(item2.type !== \"normal\"){ }}',\r\n    ' laytable-cell-{{= item2.type }}',\r\n    '{{# } }}',\r\n    '{{# } }}',\r\n    '\" {{#if(item2.align){}}align=\"{{=item2.align}}\"{{#}}}>',\r\n    '{{# if(item2.type === \"checkbox\"){ }}', //复选框\r\n    '<input type=\"checkbox\" name=\"layTableCheckbox\" lay-skin=\"primary\" lay-filter=\"layTableAllChoose\" {{# if(item2[d.data.checkName]){ }}checked{{# }; }}>',\r\n    '{{# } else { }}',\r\n    '<span>{{-item2.title||\"\"}}</span>',\r\n    '{{# if(isSort){ }}',\r\n    '<span class=\"layui-table-sort layui-inline\"><i class=\"layui-edge layui-table-sort-asc\" title=\"{{= d.i18nMessages.table_sort_asc }}\"></i><i class=\"layui-edge layui-table-sort-desc\" title=\"{{= d.i18nMessages.table_sort_desc }}\"></i></span>',\r\n    '{{# } }}',\r\n    '{{# } }}',\r\n    '</div>',\r\n    '</th>',\r\n    options.fixed ? '{{# }; }}' : '',\r\n    '{{# }); }}',\r\n    '</tr>',\r\n    '{{# }); }}',\r\n    '</thead>',\r\n    '</table>',\r\n  ].join('');\r\n};\r\n\r\n// tbody 区域模板\r\nvar TPL_BODY = [\r\n  '<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" class=\"layui-table\" ',\r\n  '{{# if(d.data.skin){ }}lay-skin=\"{{=d.data.skin}}\"{{# } }} {{# if(d.data.size){ }}lay-size=\"{{=d.data.size}}\"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>',\r\n  '<tbody></tbody>',\r\n  '</table>',\r\n].join('');\r\n\r\n// 主模板\r\nvar TPL_MAIN = [\r\n  '{{# if(d.data.toolbar){ }}',\r\n  '<div class=\"layui-table-tool\">',\r\n  '<div class=\"layui-table-tool-temp\"></div>',\r\n  '<div class=\"layui-table-tool-self\"></div>',\r\n  '</div>',\r\n  '{{# } }}',\r\n  '<div class=\"layui-table-box\">',\r\n  '{{# if(d.data.loading){ }}',\r\n  '<div class=\"layui-table-init\">',\r\n  '<div class=\"layui-table-loading-icon\">',\r\n  '{{# if(typeof d.data.loading === \"string\"){ }}',\r\n  '{{- d.data.loading}}',\r\n  '{{# } else{ }}',\r\n  '<i class=\"layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop\"></i>',\r\n  '{{# } }}',\r\n  '</div>',\r\n  '</div>',\r\n  '{{# } }}',\r\n  '{{# var left, right; }}',\r\n  '<div class=\"layui-table-header\">',\r\n  TPL_HEADER(),\r\n  '</div>',\r\n  '<div class=\"layui-table-body layui-table-main\">',\r\n  TPL_BODY,\r\n  '</div>',\r\n  '{{# if(left){ }}',\r\n  '<div class=\"layui-table-fixed layui-table-fixed-l\">',\r\n  '<div class=\"layui-table-header\">',\r\n  TPL_HEADER({ fixed: true }),\r\n  '</div>',\r\n  '<div class=\"layui-table-body\">',\r\n  TPL_BODY,\r\n  '</div>',\r\n  '</div>',\r\n  '{{# }; }}',\r\n  '{{# if(right){ }}',\r\n  '<div class=\"layui-table-fixed layui-table-fixed-r layui-hide\">',\r\n  '<div class=\"layui-table-header\">',\r\n  TPL_HEADER({ fixed: 'right' }),\r\n  '<div class=\"layui-table-mend\"></div>',\r\n  '</div>',\r\n  '<div class=\"layui-table-body\">',\r\n  TPL_BODY,\r\n  '</div>',\r\n  '</div>',\r\n  '{{# }; }}',\r\n  '</div>',\r\n  '{{# if(d.data.totalRow){ }}',\r\n  '<div class=\"layui-table-total\">',\r\n  '<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" class=\"layui-table\" ',\r\n  '{{# if(d.data.skin){ }}lay-skin=\"{{=d.data.skin}}\"{{# } }} {{# if(d.data.size){ }}lay-size=\"{{=d.data.size}}\"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>',\r\n  '<tbody><tr><td><div class=\"layui-table-cell\" style=\"visibility: hidden;\">Total</div></td></tr></tbody>',\r\n  '</table>',\r\n  '</div>',\r\n  '{{# } }}',\r\n  '<div class=\"layui-table-column layui-table-page layui-hide\">',\r\n  '<div class=\"layui-inline layui-table-pageview\" id=\"layui-table-page{{=d.index}}\"></div>',\r\n  '</div>',\r\n].join('');\r\n\r\nvar _WIN = $(window);\r\nvar _DOC = $(document);\r\n\r\n// constructor\r\nvar Class = function (options) {\r\n  var that = this;\r\n  that.index = table.index = lay.autoIncrementer('table');\r\n  that.config = $.extend({}, that.config, table.config, options);\r\n  that.unobserveResize = $.noop;\r\n  that.render();\r\n};\r\n\r\n// 初始默认配置\r\nClass.prototype.config = {\r\n  limit: 10, // 每页显示的数量\r\n  loading: true, // 请求数据时，是否显示 loading\r\n  escape: true, // 是否开启 HTML 编码功能，即转义 html 原文\r\n  cellMinWidth: 60, // 所有单元格默认最小宽度\r\n  cellMaxWidth: Number.MAX_VALUE, // 所有单元格默认最大宽度\r\n  editTrigger: 'click', // 单元格编辑的事件触发方式\r\n  defaultToolbar: ['filter', 'exports', 'print'], // 工具栏右侧图标\r\n  defaultContextmenu: true, // 显示默认上下文菜单\r\n  autoSort: true, // 是否前端自动排序。如果否，则需自主排序（通常为服务端处理好排序）\r\n  cols: [],\r\n};\r\n\r\n// 表格渲染\r\nClass.prototype.render = function (type) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  options.elem = $(options.elem);\r\n  options.where = options.where || {};\r\n\r\n  // 初始化 id 属性 - 优先取 options > 元素 id > 自增索引\r\n  var id = (options.id =\r\n    'id' in options ? options.id : options.elem.attr('id') || that.index);\r\n\r\n  // 重复 render 时清理旧实例\r\n  if (thisTable.that[id] && thisTable.that[id] !== that) {\r\n    thisTable.that[id].dispose();\r\n  }\r\n\r\n  thisTable.that[id] = that; // 记录当前实例对象\r\n  thisTable.config[id] = options; // 记录当前实例配置项\r\n\r\n  // 请求参数的自定义格式\r\n  options.request = $.extend(\r\n    {\r\n      pageName: 'page',\r\n      limitName: 'limit',\r\n    },\r\n    options.request,\r\n  );\r\n\r\n  // 响应数据的自定义格式\r\n  options.response = $.extend(\r\n    {\r\n      statusName: 'code', //规定数据状态的字段名称\r\n      statusCode: 0, //规定成功的状态码\r\n      msgName: 'msg', //规定状态信息的字段名称\r\n      dataName: 'data', //规定数据总数的字段名称\r\n      totalRowName: 'totalRow', //规定数据统计的字段名称\r\n      countName: 'count',\r\n    },\r\n    options.response,\r\n  );\r\n\r\n  // 如果 page 传入 laypage 对象\r\n  if (options.page !== null && typeof options.page === 'object') {\r\n    options.limit = options.page.limit || options.limit;\r\n    options.limits = options.page.limits || options.limits;\r\n    that.page = options.page.curr = options.page.curr || 1;\r\n    delete options.page.elem;\r\n    delete options.page.jump;\r\n  }\r\n\r\n  // 加载 i18n 自定义文本\r\n  options.text = $.extend(\r\n    true,\r\n    {\r\n      none: i18n.$t('table.noData'),\r\n    },\r\n    options.text,\r\n  );\r\n\r\n  if (!options.elem[0]) return that;\r\n\r\n  // 若元素未设 lay-filter 属性，则取实例 id 值\r\n  if (!options.elem.attr('lay-filter')) {\r\n    options.elem.attr('lay-filter', options.id);\r\n  }\r\n\r\n  // 仅重载数据\r\n  if (type === 'reloadData') {\r\n    // 请求数据\r\n    return that.pullData(that.page, {\r\n      type: 'reloadData',\r\n    });\r\n  }\r\n\r\n  // 初始化索引\r\n  options.index = that.index;\r\n  that.key = options.id || options.index;\r\n\r\n  // 初始化一些其他参数\r\n  that.setInit();\r\n\r\n  // 高度铺满：full-差距值\r\n  if (options.height && /^full-.+$/.test(options.height)) {\r\n    that.fullHeightGap = options.height.split('-')[1];\r\n    options.height = _WIN.height() - (parseFloat(that.fullHeightGap) || 0);\r\n  } else if (options.height && /^#\\w+\\S*-.+$/.test(options.height)) {\r\n    var parentDiv = options.height.split('-');\r\n    that.parentHeightGap = parentDiv.pop();\r\n    that.parentDiv = parentDiv.join('-');\r\n    options.height =\r\n      $(that.parentDiv).height() - (parseFloat(that.parentHeightGap) || 0);\r\n  } else if (typeof options.height === 'function') {\r\n    that.customHeightFunc = options.height;\r\n    options.height = that.customHeightFunc();\r\n  }\r\n\r\n  // 开始插入替代元素\r\n  var othis = options.elem;\r\n  var hasRender = othis.next('.' + ELEM_VIEW);\r\n\r\n  // 主容器\r\n  var reElem = (that.elem = $('<div></div>'));\r\n\r\n  // 添加 className\r\n  reElem\r\n    .addClass(\r\n      (function () {\r\n        var arr = [\r\n          ELEM_VIEW,\r\n          ELEM_VIEW + '-' + that.index,\r\n          'layui-form',\r\n          'layui-border-box',\r\n        ];\r\n        if (options.className) arr.push(options.className);\r\n        return arr.join(' ');\r\n      })(),\r\n    )\r\n    .attr(\r\n      (function () {\r\n        var obj = {\r\n          'lay-filter': 'LAY-TABLE-FORM-DF-' + that.index,\r\n          style: (function () {\r\n            var arr = [];\r\n            if (options.width) arr.push('width:' + options.width + 'px;');\r\n            // if(options.height) arr.push('height:'+ options.height + 'px;');\r\n            return arr.join('');\r\n          })(),\r\n        };\r\n        obj[MOD_ID] = options.id;\r\n        return obj;\r\n      })(),\r\n    )\r\n    .html(\r\n      laytpl(TPL_MAIN, {\r\n        open: '{{', // 标签符前缀\r\n        close: '}}', // 标签符后缀\r\n        tagStyle: 'legacy',\r\n      }).render({\r\n        data: options,\r\n        index: that.index, //索引\r\n        i18nMessages: {\r\n          table_sort_asc: i18n.$t('table.sort.asc'),\r\n          table_sort_desc: i18n.$t('table.sort.desc'),\r\n        },\r\n      }),\r\n    );\r\n\r\n  // 初始化样式\r\n  that.renderStyle();\r\n\r\n  // 生成替代元素\r\n  hasRender[0] && hasRender.remove(); // 如果已经渲染，则 Rerender\r\n  othis.after(reElem);\r\n\r\n  // 各级容器\r\n  that.layTool = reElem.find(ELEM_TOOL);\r\n  that.layBox = reElem.find(ELEM_BOX);\r\n  that.layHeader = reElem.find(ELEM_HEADER);\r\n  that.layMain = reElem.find(ELEM_MAIN);\r\n  that.layBody = reElem.find(ELEM_BODY);\r\n  that.layFixed = reElem.find(ELEM_FIXED);\r\n  that.layFixLeft = reElem.find(ELEM_FIXL);\r\n  that.layFixRight = reElem.find(ELEM_FIXR);\r\n  that.layTotal = reElem.find(ELEM_TOTAL);\r\n  that.layPage = reElem.find(ELEM_PAGE);\r\n\r\n  // 初始化头部工具栏\r\n  that.renderToolbar();\r\n\r\n  // 初始化底部分页栏\r\n  that.renderPagebar();\r\n\r\n  // 让表格平铺\r\n  that.fullSize();\r\n  that.setColsWidth({ isInit: true });\r\n\r\n  that.pullData(that.page); // 请求数据\r\n  that.events(); // 事件\r\n  that.observeResize(); // 观察尺寸变化\r\n};\r\n\r\n// 根据列类型，定制化参数\r\nClass.prototype.initOpts = function (item) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var initWidth = {\r\n    checkbox: 50,\r\n    radio: 50,\r\n    space: 30,\r\n    numbers: 60,\r\n  };\r\n\r\n  // 让 type 参数兼容旧版本\r\n  if (item.checkbox) item.type = 'checkbox';\r\n  if (item.space) item.type = 'space';\r\n  if (!item.type) item.type = 'normal';\r\n\r\n  if (item.type !== 'normal') {\r\n    item.unresize = true;\r\n    item.width = item.width || initWidth[item.type];\r\n  }\r\n};\r\n\r\n//初始化一些参数\r\nClass.prototype.setInit = function (type) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  options.clientWidth =\r\n    options.width ||\r\n    (function () {\r\n      //获取容器宽度\r\n      //如果父元素宽度为0（一般为隐藏元素），则继续查找上层元素，直到找到真实宽度为止\r\n      var getWidth = function (parent) {\r\n        var width;\r\n        var isNone;\r\n        parent = parent || options.elem.parent();\r\n\r\n        width = that.getContentWidth(parent);\r\n\r\n        try {\r\n          isNone = parent.css('display') === 'none';\r\n        } catch {\r\n          // ignore\r\n        }\r\n        var parentElem = parent.parent();\r\n        if (parent[0] && parentElem && parentElem[0] && (!width || isNone))\r\n          return getWidth(parentElem);\r\n        return width;\r\n      };\r\n      return getWidth();\r\n    })();\r\n\r\n  if (type === 'width') return options.clientWidth;\r\n  // 初始化高度配置，如果设置了最高高度，以最高高度形式为准\r\n  options.height = options.maxHeight || options.height;\r\n\r\n  // 初始化 css 参数\r\n  if (options.css && options.css.indexOf(ELEM_VIEW) === -1) {\r\n    var css = options.css.split('}');\r\n    layui.each(css, function (index, value) {\r\n      if (value) {\r\n        css[index] = '.' + ELEM_VIEW + '-' + that.index + ' ' + value;\r\n      }\r\n    });\r\n    options.css = css.join('}');\r\n  }\r\n\r\n  // 封装对 col 的配置处理\r\n  var initChildCols = function (i1, item1, i2, item2) {\r\n    //如果列参数为空，则移除\r\n    if (!item2) {\r\n      item1.splice(i2, 1);\r\n      return;\r\n    }\r\n\r\n    item2.key = [options.index, i1, i2].join('-');\r\n    item2.colspan = item2.colspan || 0;\r\n    item2.rowspan = item2.rowspan || 0;\r\n\r\n    //根据列类型，定制化参数\r\n    that.initOpts(item2);\r\n\r\n    //设置列的父列索引\r\n    //如果是组合列，则捕获对应的子列\r\n    var indexChild = i1 + (parseInt(item2.rowspan) || 1);\r\n    if (indexChild < options.cols.length) {\r\n      // 只要不是最后一层都会有子列\r\n      item2.colGroup = true;\r\n      var childIndex = 0;\r\n      layui.each(options.cols[indexChild], function (i22, item22) {\r\n        //如果子列已经被标注为{HAS_PARENT}，或者子列累计 colspan 数等于父列定义的 colspan，则跳出当前子列循环\r\n        if (\r\n          item22.HAS_PARENT ||\r\n          (childIndex >= 1 && childIndex == (item2.colspan || 1))\r\n        )\r\n          return;\r\n\r\n        item22.HAS_PARENT = true;\r\n        item22.parentKey = [options.index, i1, i2].join('-'); // i1 + '-' + i2;\r\n        childIndex =\r\n          childIndex + parseInt(item22.colspan > 1 ? item22.colspan : 1);\r\n        initChildCols(indexChild, options.cols[indexChild], i22, item22);\r\n      });\r\n    } else {\r\n      item2.colGroup = false;\r\n    }\r\n    item2.hide = (item2.hide && !item2.colGroup) || false; // 初始化中中间节点的hide信息不做处理，否则会出错，如果需要必须将其子节点也都同步成hide\r\n  };\r\n\r\n  // 初始化列参数\r\n  layui.each(options.cols, function (i1, item1) {\r\n    layui.each(item1, function (i2, item2) {\r\n      if (i1) {\r\n        delete item2.HAS_PARENT; // 去掉临时的计数排除标识，避免有新字段插入的时候重新计算被跳过导致下标出错的问题\r\n      } else {\r\n        initChildCols(i1, item1, i2, item2); // 只解析顶层节点由递归完成解析\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\n// 初始化样式\r\nClass.prototype.renderStyle = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var index = that.index;\r\n  var text = [];\r\n\r\n  // 单元格宽度\r\n  layui.each(options.cols, function (i1, item1) {\r\n    layui.each(item1, function (i2, item2) {\r\n      var key = [index, i1, i2].join('-');\r\n      var val = ['width: ', item2.width || options.cellMinWidth, 'px'].join('');\r\n      text.push('.laytable-cell-' + key + '{' + val + '}');\r\n    });\r\n  });\r\n\r\n  // 自定义行样式\r\n  (function (lineStyle) {\r\n    if (!lineStyle) return;\r\n    var trClassName =\r\n      '.layui-table-view-' + index + ' .layui-table-body .layui-table tr';\r\n    var rules = lineStyle.split(';');\r\n    var cellMaxHeight = 'none';\r\n\r\n    // 计算单元格最大高度\r\n    layui.each(rules, function (i, rule) {\r\n      rule = rule.split(':');\r\n      if (rule[0] === 'height') {\r\n        var val = parseFloat(rule[1]);\r\n        if (!isNaN(val)) cellMaxHeight = val - 1 + 'px';\r\n        return true;\r\n      }\r\n    });\r\n\r\n    // 多行相关样式\r\n    layui.each(\r\n      [\r\n        '{' + lineStyle + '}',\r\n        '.layui-table-cell{height: auto; max-height: ' +\r\n          cellMaxHeight +\r\n          '; white-space: normal; text-overflow: clip;}',\r\n        '> td:hover > .layui-table-cell{overflow: auto;}',\r\n      ].concat(\r\n        device.ie\r\n          ? [\r\n              '.layui-table-edit{height: ' + cellMaxHeight + ';}',\r\n              'td[data-edit]:hover:after{height: ' + cellMaxHeight + ';}',\r\n            ]\r\n          : [],\r\n      ),\r\n      function (i, val) {\r\n        val && text.push(trClassName + ' ' + val);\r\n      },\r\n    );\r\n  })(options.lineStyle);\r\n\r\n  // 自定义 css 属性\r\n  if (options.css) text.push(options.css);\r\n  text.push('.' + FIXED_HEIGHT_PATCH + '{height:auto;}');\r\n\r\n  // 生成 style\r\n  lay.style({\r\n    target: that.elem[0],\r\n    text: text.join(''),\r\n    id: 'DF-table-' + index,\r\n  });\r\n};\r\n\r\n// 初始头部工具栏\r\nClass.prototype.renderToolbar = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var filter = options.elem.attr('lay-filter');\r\n\r\n  // 添加工具栏左侧模板\r\n  var leftDefaultTemp = [\r\n    '<div class=\"layui-inline\" lay-event=\"add\"><i class=\"layui-icon layui-icon-add-1\"></i></div>',\r\n    '<div class=\"layui-inline\" lay-event=\"update\"><i class=\"layui-icon layui-icon-edit\"></i></div>',\r\n    '<div class=\"layui-inline\" lay-event=\"delete\"><i class=\"layui-icon layui-icon-delete\"></i></div>',\r\n  ].join('');\r\n  var elemToolTemp = that.layTool.find('.layui-table-tool-temp');\r\n\r\n  if (options.toolbar === 'default') {\r\n    elemToolTemp.html(leftDefaultTemp);\r\n  } else if (typeof options.toolbar === 'string') {\r\n    var toolbarHtml = $(options.toolbar).html() || '';\r\n    toolbarHtml && elemToolTemp.html(laytpl(toolbarHtml).render(options));\r\n  }\r\n\r\n  // 头部工具栏右上角默认工具\r\n  var defaultConfig = {\r\n    filter: {\r\n      title: i18n.$t('table.tools.filter.title'),\r\n      layEvent: 'LAYTABLE_COLS',\r\n      icon: 'layui-icon-cols',\r\n      onClick: function (obj) {\r\n        var options = obj.config;\r\n        var openPanel = obj.openPanel;\r\n\r\n        openPanel({\r\n          list: (function () {\r\n            var lis = [];\r\n            that.eachCols(function (i, item) {\r\n              if (item.field && item.type == 'normal') {\r\n                lis.push(\r\n                  '<li><input type=\"checkbox\" name=\"' +\r\n                    item.field +\r\n                    '\" data-key=\"' +\r\n                    item.key +\r\n                    '\" data-parentkey=\"' +\r\n                    (item.parentKey || '') +\r\n                    '\" lay-skin=\"primary\" ' +\r\n                    (item.hide ? '' : 'checked') +\r\n                    ' title=\"' +\r\n                    util.escape(\r\n                      $(\r\n                        '<div>' +\r\n                          (item.fieldTitle || item.title || item.field) +\r\n                          '</div>',\r\n                      ).text(),\r\n                    ) +\r\n                    '\" lay-filter=\"LAY_TABLE_TOOL_COLS\"></li>',\r\n                );\r\n              }\r\n            });\r\n            return lis.join('');\r\n          })(),\r\n          done: function () {\r\n            form.on('checkbox(LAY_TABLE_TOOL_COLS)', function (obj) {\r\n              var othis = $(obj.elem);\r\n              var checked = this.checked;\r\n              var key = othis.data('key');\r\n              var col = that.col(key);\r\n              var hide = col.hide;\r\n              var parentKey = othis.data('parentkey');\r\n\r\n              if (!col.key) return;\r\n\r\n              // 同步勾选列的 hide 值和隐藏样式\r\n              col.hide = !checked;\r\n              that.elem\r\n                .find('*[data-key=\"' + key + '\"]')\r\n                [checked ? 'removeClass' : 'addClass'](HIDE);\r\n\r\n              // 根据列的显示隐藏，同步多级表头的父级相关属性值\r\n              if (hide != col.hide) {\r\n                that.setParentCol(!checked, parentKey);\r\n              }\r\n\r\n              // 重新适配尺寸\r\n              that.resize();\r\n\r\n              // 列筛选（显示或隐藏）后的事件\r\n              layui.event.call(this, MOD_NAME, 'colToggled(' + filter + ')', {\r\n                col: col,\r\n                config: options,\r\n              });\r\n            });\r\n          },\r\n        });\r\n      },\r\n    },\r\n    exports: {\r\n      title: i18n.$t('table.tools.export.title'),\r\n      layEvent: 'LAYTABLE_EXPORT',\r\n      icon: 'layui-icon-export',\r\n      onClick: function (obj) {\r\n        // 自带导出\r\n        var data = obj.data;\r\n        var options = obj.config;\r\n        var openPanel = obj.openPanel;\r\n        var elem = obj.elem;\r\n\r\n        if (!data.length)\r\n          return layer.tips(i18n.$t('table.tools.export.noDataPrompt'), elem, {\r\n            tips: 3,\r\n          });\r\n        if (device.ie) {\r\n          layer.tips(i18n.$t('table.tools.export.compatPrompt'), elem, {\r\n            tips: 3,\r\n          });\r\n        } else {\r\n          openPanel({\r\n            list: (function () {\r\n              return [\r\n                '<li data-type=\"csv\">' +\r\n                  i18n.$t('table.tools.export.csvText') +\r\n                  '</li>',\r\n              ].join('');\r\n            })(),\r\n            done: function (panel, list) {\r\n              list.on('click', function () {\r\n                var type = $(this).data('type');\r\n                table.exportFile.call(that, options.id, null, type);\r\n              });\r\n            },\r\n          });\r\n        }\r\n      },\r\n    },\r\n    print: {\r\n      title: i18n.$t('table.tools.print.title'),\r\n      layEvent: 'LAYTABLE_PRINT',\r\n      icon: 'layui-icon-print',\r\n      onClick: function (obj) {\r\n        var data = obj.data;\r\n        var options = obj.config;\r\n        var elem = obj.elem;\r\n\r\n        if (!data.length)\r\n          return layer.tips(i18n.$t('table.tools.print.noDataPrompt'), elem, {\r\n            tips: 3,\r\n          });\r\n        var printWin = window.open('about:blank', '_blank');\r\n        var style = [\r\n          '<style>',\r\n          'body{font-size: 12px; color: #5F5F5F;}',\r\n          'table{width: 100%; border-collapse: collapse; border-spacing: 0;}',\r\n          'th,td{line-height: 20px; padding: 9px 15px; border: 1px solid #ccc; text-align: left; font-size: 12px; color: #5F5F5F;}',\r\n          'a{color: #5F5F5F; text-decoration:none;}',\r\n          'img{max-height: 100%;}',\r\n          '*.layui-hide{display: none}',\r\n          '</style>',\r\n        ].join('');\r\n        var html = $(that.layHeader.html()); // 输出表头\r\n\r\n        html.append(that.layMain.find('table').html()); // 输出表体\r\n        html.append(that.layTotal.find('table').html()); // 输出合计行\r\n\r\n        html.find('th.layui-table-patch').remove(); // 移除补丁\r\n        // 移除表头特殊列\r\n        html\r\n          .find('thead>tr>th.' + ELEM_COL_SPECIAL)\r\n          .filter(function (i, thElem) {\r\n            return !$(thElem).children('.' + ELEM_GROUP).length; // 父级表头除外\r\n          })\r\n          .remove();\r\n        html.find('tbody>tr>td.' + ELEM_COL_SPECIAL).remove(); // 移除表体特殊列\r\n\r\n        printWin.document.write(style + html.prop('outerHTML'));\r\n        printWin.document.close();\r\n\r\n        if (layui.device('edg').edg) {\r\n          printWin.onafterprint = printWin.close;\r\n          printWin.print();\r\n        } else {\r\n          printWin.print();\r\n          printWin.close();\r\n        }\r\n      },\r\n    },\r\n  };\r\n\r\n  // 若开启 defaultToolbar\r\n  if (typeof options.defaultToolbar === 'object') {\r\n    var iconElem = [];\r\n    options.defaultToolbar = $.map(options.defaultToolbar, function (item, i) {\r\n      var itemIsName = typeof item === 'string';\r\n      var thisItem = itemIsName ? defaultConfig[item] : item;\r\n      if (thisItem) {\r\n        // 根据 name 匹配默认工具并合并\r\n        if (thisItem.name && defaultConfig[thisItem.name]) {\r\n          thisItem = $.extend({}, defaultConfig[thisItem.name], thisItem);\r\n        }\r\n        // 初始化默认工具 name\r\n        if (!thisItem.name && itemIsName) {\r\n          thisItem.name = item;\r\n        }\r\n        // 图标列表\r\n        iconElem.push(\r\n          '<div class=\"layui-inline\" title=\"' +\r\n            thisItem.title +\r\n            '\" lay-event=\"' +\r\n            thisItem.layEvent +\r\n            '\">' +\r\n            '<i class=\"layui-icon ' +\r\n            thisItem.icon +\r\n            '\"></i>' +\r\n            '</div>',\r\n        );\r\n      }\r\n      return thisItem;\r\n    });\r\n    that.layTool.find('.layui-table-tool-self').html(iconElem.join(''));\r\n  }\r\n};\r\n\r\n// 分页栏\r\nClass.prototype.renderPagebar = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  var layPagebar = (that.layPagebar = $(\r\n    '<div class=\"layui-inline layui-table-pagebar\"></div>',\r\n  ));\r\n\r\n  // 开启分页栏自定义模板\r\n  if (options.pagebar) {\r\n    var pagebarHtml = $(options.pagebar).html() || '';\r\n    pagebarHtml && layPagebar.append(laytpl(pagebarHtml).render(options));\r\n    that.layPage.append(layPagebar);\r\n  }\r\n};\r\n\r\n// 同步表头父列的相关值\r\nClass.prototype.setParentCol = function (hide, parentKey) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  var parentTh = that.layHeader.find('th[data-key=\"' + parentKey + '\"]'); // 获取父列元素\r\n  var parentColspan = parseInt(parentTh.attr('colspan')) || 0;\r\n\r\n  if (parentTh[0]) {\r\n    var arrParentKey = parentKey.split('-');\r\n    var getThisCol = options.cols[arrParentKey[1]][arrParentKey[2]];\r\n\r\n    hide ? parentColspan-- : parentColspan++;\r\n\r\n    parentTh.attr('colspan', parentColspan);\r\n    parentTh[parentColspan ? 'removeClass' : 'addClass'](HIDE); // 如果子列显示，父列必然需要显示\r\n\r\n    getThisCol.colspan2 = parentColspan; // 更新实际的 colspan 数\r\n    getThisCol.hide = parentColspan < 1; // 同步 hide 参数\r\n\r\n    // 递归，继续往上查询是否有父列\r\n    var nextParentKey = parentTh.data('parentkey');\r\n    nextParentKey && that.setParentCol(hide, nextParentKey);\r\n  }\r\n};\r\n\r\n// 多级表头补丁\r\nClass.prototype.setColsPatch = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  // 同步表头父列的相关值\r\n  layui.each(options.cols, function (i1, item1) {\r\n    layui.each(item1, function (i2, item2) {\r\n      if (item2.hide) {\r\n        that.setParentCol(item2.hide, item2.parentKey);\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\n// 设置组合表头的最大宽度\r\nClass.prototype.setGroupWidth = function (th) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  if (options.cols.length <= 1) return;\r\n\r\n  // 获取表头组合\r\n  var groups = that.layHeader.find(\r\n    // 根据当前活动的表头 parentkey 属性查找其组合表头\r\n    (th ? 'th[data-key=' + th.data('parentkey') + ']>' : '') + '.' + ELEM_GROUP,\r\n  ); // 若无指向当前活动表头，则自下而上获取所有组合表头\r\n\r\n  groups.css('width', 0);\r\n  layui.each(groups.get().reverse(), function () {\r\n    var othis = $(this);\r\n    var key = othis.parent().data('key');\r\n    var maxWidth = 0;\r\n\r\n    that.layHeader\r\n      .eq(0)\r\n      .find('th[data-parentkey=' + key + ']')\r\n      .width(function (i, width) {\r\n        var oTh = $(this);\r\n        if (oTh.hasClass(HIDE)) return;\r\n        width > 0 && (maxWidth += width);\r\n      });\r\n\r\n    // 给组合表头赋值最大宽度\r\n    if (maxWidth) othis.css('max-width', maxWidth - 1);\r\n\r\n    // 若当前活动的组合表头仍存在上级，则继续向上设置\r\n    if (th && othis.parent().data('parentkey')) {\r\n      that.setGroupWidth(othis.parent());\r\n    }\r\n  });\r\n  groups.css('width', 'auto');\r\n};\r\n\r\n// 动态分配列宽\r\nClass.prototype.setColsWidth = function (opt) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var colNums = 0; // 列个数\r\n  var autoColNums = 0; // 自动列宽的列个数\r\n  var autoWidth = 0; // 自动列分配的宽度\r\n  var countWidth = 0; // 所有列总宽度和\r\n  var cntrWidth = that.setInit('width');\r\n  var borderWidth = parseFloat(\r\n    layui.getStyle(that.elem[0], 'border-left-width'),\r\n  );\r\n  var lastSpreadCol;\r\n  var headerTableElem = that.layHeader.first().children('table');\r\n  var mainTableElem = that.layMain.find('table');\r\n  var isEmptyTable = that.layMain.find('tbody').is(':empty');\r\n  var isInit = opt && opt.isInit;\r\n\r\n  // 统计列个数和最后一个分配宽度的列\r\n  that.eachCols(function (i, item) {\r\n    if (!item.hide) {\r\n      colNums++;\r\n      if (!(item.width || item.type !== 'normal')) {\r\n        lastSpreadCol = item;\r\n      }\r\n    }\r\n  });\r\n\r\n  // 减去边框差和滚动条宽\r\n  cntrWidth =\r\n    cntrWidth -\r\n    (function () {\r\n      return options.skin === 'line' || options.skin === 'nob'\r\n        ? 2\r\n        : colNums + 1;\r\n    })() *\r\n      borderWidth -\r\n    that.getScrollWidth(that.layMain[0]);\r\n\r\n  // 计算自动分配的宽度\r\n  var getAutoWidth = function (back) {\r\n    // 遍历所有列\r\n    layui.each(options.cols, function (i1, item1) {\r\n      layui.each(item1, function (i2, item2) {\r\n        var width = 0;\r\n        var minWidth = item2.minWidth || options.cellMinWidth; // 最小宽度\r\n        var maxWidth = item2.maxWidth || options.cellMaxWidth; // 最大宽度\r\n\r\n        if (!item2) {\r\n          item1.splice(i2, 1);\r\n          return;\r\n        }\r\n\r\n        if (item2.colGroup || item2.hide) return;\r\n\r\n        if (!back) {\r\n          width = item2.width || 0;\r\n          if (/\\d+%$/.test(width)) {\r\n            // 列宽为百分比\r\n            width = (parseFloat(width) / 100) * cntrWidth;\r\n            width < minWidth && (width = minWidth);\r\n            width > maxWidth && (width = maxWidth);\r\n          } else if (!width) {\r\n            // 列宽未填写\r\n            item2.width = width = 0;\r\n            autoColNums++;\r\n          } else if (item2.type === 'normal') {\r\n            // 若 width 小于 minWidth， 则将 width 值自动设为 minWidth 的值\r\n            width < minWidth && (item2.width = width = minWidth);\r\n            // 若 width 大于 maxWidth， 则将 width 值自动设为 maxWidth 的值\r\n            width > maxWidth && (item2.width = width = maxWidth);\r\n          }\r\n        } else if (autoWidth && autoWidth < minWidth) {\r\n          autoColNums--;\r\n          width = minWidth;\r\n        } else if (autoWidth && autoWidth > maxWidth) {\r\n          autoColNums--;\r\n          width = maxWidth;\r\n        }\r\n\r\n        if (item2.hide) width = 0;\r\n        countWidth = countWidth + width;\r\n      });\r\n    });\r\n\r\n    // 如果未填充满，则将剩余宽度平分\r\n    cntrWidth > countWidth &&\r\n      autoColNums > 0 &&\r\n      (autoWidth = (cntrWidth - countWidth) / autoColNums);\r\n  };\r\n\r\n  getAutoWidth();\r\n  getAutoWidth(true); // 重新检测分配的宽度是否低于最小列宽\r\n\r\n  // 记录自动列数\r\n  that.autoColNums = autoColNums = autoColNums > 0 ? autoColNums : 0;\r\n\r\n  var pixelsForLastCol = cntrWidth;\r\n  that.eachCols(function (i3, item3) {\r\n    var minWidth = item3.minWidth || options.cellMinWidth;\r\n    var maxWidth = item3.maxWidth || options.cellMaxWidth;\r\n\r\n    if (\r\n      item3.colGroup ||\r\n      item3.hide ||\r\n      (lastSpreadCol && lastSpreadCol.key === item3.key)\r\n    )\r\n      return;\r\n\r\n    // 给未分配宽的列平均分配宽\r\n    if (item3.width === 0) {\r\n      that.cssRules(item3.key, function (item) {\r\n        var newWidth = Math.round(\r\n          (function () {\r\n            if (autoWidth < minWidth) return minWidth;\r\n            if (autoWidth > maxWidth) return maxWidth;\r\n            return autoWidth;\r\n          })(),\r\n        );\r\n        item.style.width = newWidth + 'px';\r\n        pixelsForLastCol = pixelsForLastCol - newWidth;\r\n      });\r\n    }\r\n\r\n    // 给设定百分比的列分配列宽\r\n    else if (/\\d+%$/.test(item3.width)) {\r\n      that.cssRules(item3.key, function (item) {\r\n        var width = Math.round((parseFloat(item3.width) / 100) * cntrWidth);\r\n        width < minWidth && (width = minWidth);\r\n        width > maxWidth && (width = maxWidth);\r\n        item.style.width = width + 'px';\r\n        pixelsForLastCol = pixelsForLastCol - width;\r\n      });\r\n    }\r\n\r\n    // 给拥有普通 width 值的列分配最新列宽\r\n    else {\r\n      that.cssRules(item3.key, function (item) {\r\n        item.style.width = item3.width + 'px';\r\n        pixelsForLastCol = pixelsForLastCol - item3.width;\r\n      });\r\n    }\r\n  });\r\n  // 最后一列获取剩余的空间，避免舍入导致的布局问题\r\n  if (lastSpreadCol) {\r\n    that.cssRules(lastSpreadCol.key, function (item) {\r\n      var minWidth = lastSpreadCol.minWidth || options.cellMinWidth;\r\n      var maxWidth = lastSpreadCol.maxWidth || options.cellMaxWidth;\r\n      var newWidth = Math.max(Math.min(pixelsForLastCol, maxWidth), minWidth);\r\n      item.style.width = newWidth + 'px';\r\n\r\n      if (!isInit && isEmptyTable) {\r\n        // 将表格宽度设置为跟表头一样的宽度，使之可以出现底部滚动条，以便滚动查看所有字段\r\n        mainTableElem.width(that.getContentWidth(headerTableElem));\r\n      }\r\n      // 二次校验，如果仍然出现横向滚动条（通常是 1px 的误差导致）\r\n      // 不同屏幕分辨率、缩放水平以及浏览器渲染差异，可能会触发这个问题\r\n      if (\r\n        that.layMain.prop('offsetHeight') > that.layMain.prop('clientHeight')\r\n      ) {\r\n        item.style.width = parseFloat(item.style.width) - borderWidth + 'px';\r\n      }\r\n    });\r\n  }\r\n\r\n  if (!isInit && isEmptyTable) {\r\n    // 将表格宽度设置为跟表头一样的宽度，使之可以出现底部滚动条，以便滚动查看所有字段\r\n    mainTableElem.width(that.getContentWidth(headerTableElem));\r\n  } else {\r\n    mainTableElem.width('auto');\r\n  }\r\n\r\n  that.setGroupWidth();\r\n};\r\n\r\n// 重置表格尺寸/结构\r\nClass.prototype.resize = function () {\r\n  var that = this;\r\n\r\n  var tableElemIsConnected =\r\n    that.layMain &&\r\n    ('isConnected' in that.layMain[0]\r\n      ? that.layMain[0].isConnected\r\n      : $.contains(document.body, that.layMain[0]));\r\n\r\n  if (!tableElemIsConnected) return;\r\n\r\n  that.fullSize(); // 让表格铺满\r\n  that.setColsWidth(); // 自适应列宽\r\n  that.scrollPatch(); // 滚动条补丁\r\n};\r\n\r\n// 表格重载\r\nClass.prototype.reload = function (options, deep, type) {\r\n  var that = this;\r\n\r\n  options = options || {};\r\n  delete that.haveInit;\r\n\r\n  // 防止数组深度合并\r\n  layui.each(options, function (key, item) {\r\n    if (layui.type(item) === 'array') delete that.config[key];\r\n  });\r\n\r\n  // 对参数进行深度或浅扩展\r\n  that.config = $.extend(deep, {}, that.config, options);\r\n  if (type !== 'reloadData') {\r\n    layui.each(that.config.cols, function (i1, item1) {\r\n      layui.each(item1, function (i2, item2) {\r\n        delete item2.colspan2;\r\n      });\r\n    });\r\n    delete that.config.HAS_SET_COLS_PATCH;\r\n  }\r\n  // 执行渲染\r\n  that.render(type);\r\n};\r\n\r\n// 异常提示\r\nClass.prototype.errorView = function (html) {\r\n  var that = this,\r\n    elemNone = that.layMain.find('.' + NONE),\r\n    layNone = $('<div class=\"' + NONE + '\">' + (html || 'Error') + '</div>');\r\n\r\n  if (elemNone[0]) {\r\n    that.layNone.remove();\r\n    elemNone.remove();\r\n  }\r\n\r\n  that.layFixed.addClass(HIDE);\r\n  that.layMain.find('tbody').html('');\r\n\r\n  that.layMain.append((that.layNone = layNone));\r\n\r\n  // 异常情况下对 page 和 total 的内容处理\r\n  that.layTotal.addClass(HIDE_V);\r\n  that.layPage.find(ELEM_PAGE_VIEW).addClass(HIDE_V);\r\n\r\n  table.cache[that.key] = []; //格式化缓存数据\r\n\r\n  that.syncCheckAll();\r\n  that.renderForm();\r\n  that.setColsWidth();\r\n  that.loading(false);\r\n};\r\n\r\n// 初始页码\r\nClass.prototype.page = 1;\r\n\r\n// 获得数据\r\nClass.prototype.pullData = function (curr, opts) {\r\n  var that = this;\r\n  var options = that.config;\r\n  // 同步表头父列的相关值\r\n  options.HAS_SET_COLS_PATCH || that.setColsPatch();\r\n  options.HAS_SET_COLS_PATCH = true;\r\n  var request = options.request;\r\n  var response = options.response;\r\n  var res;\r\n  var sort = function () {\r\n    if (typeof options.initSort === 'object') {\r\n      that.sort({\r\n        field: options.initSort.field,\r\n        type: options.initSort.type,\r\n        reloadType: opts.type,\r\n      });\r\n    }\r\n  };\r\n  var done = function (res, origin) {\r\n    that.setColsWidth();\r\n    that.loading(false);\r\n    typeof options.done === 'function' &&\r\n      options.done(res, curr, res[response.countName], origin);\r\n  };\r\n\r\n  opts = opts || {};\r\n\r\n  // 数据拉取前的回调\r\n  typeof options.before === 'function' && options.before(options);\r\n  that.startTime = new Date().getTime(); // 渲染开始时间\r\n\r\n  if (opts.renderData) {\r\n    // 将 cache 信息重新渲染\r\n    res = {};\r\n    res[response.dataName] = table.cache[that.key];\r\n    res[response.countName] = options.url\r\n      ? layui.type(options.page) === 'object'\r\n        ? options.page.count\r\n        : res[response.dataName].length\r\n      : options.data.length;\r\n\r\n    // 记录合计行数据\r\n    if (typeof options.totalRow === 'object') {\r\n      res[response.totalRowName] = $.extend({}, that.totalRow);\r\n    }\r\n\r\n    (that.renderData({\r\n      res: res,\r\n      curr: curr,\r\n      count: res[response.countName],\r\n      type: opts.type,\r\n      sort: true,\r\n    }),\r\n      done(res, 'renderData'));\r\n  } else if (options.url) {\r\n    // Ajax请求\r\n    var params = {};\r\n    // 当 page 开启，默认自动传递 page、limit 参数\r\n    if (options.page) {\r\n      params[request.pageName] = curr;\r\n      params[request.limitName] = options.limit;\r\n    }\r\n\r\n    // 参数\r\n    var data = $.extend(params, options.where);\r\n    if (\r\n      options.contentType &&\r\n      options.contentType.indexOf('application/json') == 0\r\n    ) {\r\n      // 提交 json 格式\r\n      data = JSON.stringify(data);\r\n    }\r\n\r\n    that.loading(true);\r\n\r\n    var ajaxOptions = {\r\n      type: options.method || 'get',\r\n      url: options.url,\r\n      contentType: options.contentType,\r\n      data: data,\r\n      dataType: options.dataType || 'json',\r\n      jsonpCallback: options.jsonpCallback,\r\n      headers: options.headers || {},\r\n      complete:\r\n        typeof options.complete === 'function' ? options.complete : undefined,\r\n      success: function (res) {\r\n        // 若有数据解析的回调，则获得其返回的数据\r\n        if (typeof options.parseData === 'function') {\r\n          res = options.parseData(res) || res;\r\n        }\r\n        // 检查数据格式是否符合规范\r\n        if (res[response.statusName] != response.statusCode) {\r\n          that.errorView(\r\n            res[response.msgName] ||\r\n              i18n.$t('table.dataFormatError', {\r\n                statusName: response.statusName,\r\n                statusCode: response.statusCode,\r\n              }),\r\n          );\r\n        } else {\r\n          // 当前页不能超过总页数\r\n          var count = res[response.countName];\r\n          var pages = Math.ceil(count / options.limit) || 1;\r\n          if (curr > pages) {\r\n            curr = pages;\r\n          }\r\n          that.totalRow = res[response.totalRowName];\r\n          (that.renderData({\r\n            res: res,\r\n            curr: curr,\r\n            count: count,\r\n            type: opts.type,\r\n          }),\r\n            sort());\r\n\r\n          // 耗时（接口请求+视图渲染）\r\n          options.time = new Date().getTime() - that.startTime + ' ms';\r\n        }\r\n        done(res, opts.type);\r\n      },\r\n      error: function (e, msg) {\r\n        if (e && e.status === 0 && that._xhrAbort) {\r\n          that._xhrAbort = false;\r\n          return;\r\n        }\r\n        that.errorView(i18n.$t('table.xhrError', { msg: msg }));\r\n        typeof options.error === 'function' && options.error(e, msg);\r\n      },\r\n    };\r\n\r\n    if (options.ajax) {\r\n      options.ajax(ajaxOptions, 'table');\r\n    } else {\r\n      // 4：代表响应已完成\r\n      if (that._xhr && that._xhr.readyState !== 4) {\r\n        that._xhrAbort = true;\r\n        that._xhr.abort();\r\n      }\r\n      that._xhr = $.ajax(ajaxOptions);\r\n    }\r\n  } else if (layui.type(options.data) === 'array') {\r\n    //已知数据\r\n    res = {};\r\n    var startLimit = curr * options.limit - options.limit;\r\n    var newData = options.data.concat();\r\n\r\n    res[response.dataName] = options.page\r\n      ? newData.splice(startLimit, options.limit)\r\n      : newData;\r\n    res[response.countName] = options.data.length;\r\n\r\n    // 记录合计行数据\r\n    if (typeof options.totalRow === 'object') {\r\n      res[response.totalRowName] = $.extend({}, options.totalRow);\r\n    }\r\n    that.totalRow = res[response.totalRowName];\r\n\r\n    (that.renderData({\r\n      res: res,\r\n      curr: curr,\r\n      count: res[response.countName],\r\n      type: opts.type,\r\n    }),\r\n      sort());\r\n\r\n    done(res, opts.type);\r\n  }\r\n};\r\n\r\n// 遍历表头\r\nClass.prototype.eachCols = function (callback) {\r\n  var that = this;\r\n  table.eachCols(null, callback, that.config.cols);\r\n  return that;\r\n};\r\n\r\n// 获取表头参数项\r\nClass.prototype.col = function (key) {\r\n  try {\r\n    key = key.split('-');\r\n    return this.config.cols[key[1]][key[2]] || {};\r\n  } catch (e) {\r\n    hint.error(e);\r\n    return {};\r\n  }\r\n};\r\n\r\nClass.prototype.getTrHtml = function (data, sort, curr, trsObj) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var trs = (trsObj && trsObj.trs) || [];\r\n  var trs_fixed = (trsObj && trsObj.trs_fixed) || [];\r\n  var trs_fixed_r = (trsObj && trsObj.trs_fixed_r) || [];\r\n  curr = curr || 1;\r\n\r\n  layui.each(data, function (i1, item1) {\r\n    var tds = [];\r\n    var tds_fixed = [];\r\n    var tds_fixed_r = [];\r\n    var numbers = i1 + options.limit * (curr - 1) + 1; // 序号\r\n\r\n    // 数组值是否为 object，如果不是，则自动转为 object\r\n    if (typeof item1 !== 'object') {\r\n      data[i1] = item1 = { LAY_KEY: item1 };\r\n      try {\r\n        table.cache[that.key][i1] = item1;\r\n      } catch {\r\n        // ignore\r\n      }\r\n    }\r\n\r\n    //若数据项为空数组，则不往下执行（因为删除数据时，会将原有数据设置为 []）\r\n    if (layui.type(item1) === 'array' && item1.length === 0) return;\r\n\r\n    // 加入序号保留字段\r\n    item1[table.config.numbersName] = numbers;\r\n\r\n    // 记录下标，\r\n    item1[table.config.indexName] = i1;\r\n    if (!sort) item1[table.config.initIndexName] = i1; // 记录初始状态下标，仅用于内部恢复当前页表格排序\r\n\r\n    // 遍历表头\r\n    that.eachCols(function (i3, item3) {\r\n      var field = item3.field || i3;\r\n      var key = item3.key;\r\n      var content = item1[field];\r\n\r\n      if (content === undefined || content === null) content = '';\r\n      if (item3.colGroup) return;\r\n\r\n      // td 内容\r\n      var td = [\r\n        '<td data-field=\"' +\r\n          field +\r\n          '\" data-key=\"' +\r\n          key +\r\n          '\" ' +\r\n          (function () {\r\n            // 追加各种属性\r\n            var attr = [];\r\n            // 是否开启编辑。若 edit 传入函数，则根据函数的返回结果判断是否开启编辑\r\n            (function (edit) {\r\n              if (edit) attr.push('data-edit=\"' + edit + '\"'); // 添加单元格编辑属性标识\r\n            })(\r\n              typeof item3.edit === 'function' ? item3.edit(item1) : item3.edit,\r\n            );\r\n            if (item3.templet)\r\n              attr.push('data-content=\"' + util.escape(content) + '\"'); // 自定义模板\r\n            if (item3.toolbar) attr.push('data-off=\"true\"'); // 行工具列关闭单元格事件\r\n            if (item3.event) attr.push('lay-event=\"' + item3.event + '\"'); //自定义事件\r\n            if (item3.minWidth)\r\n              attr.push('data-minwidth=\"' + item3.minWidth + '\"'); // 单元格最小宽度\r\n            if (item3.maxWidth)\r\n              attr.push('data-maxwidth=\"' + item3.maxWidth + '\"'); // 单元格最大宽度\r\n            if (item3.style) attr.push('style=\"' + item3.style + '\"'); // 自定义单元格样式\r\n            return attr.join(' ');\r\n          })() +\r\n          ' class=\"' +\r\n          (function () {\r\n            // 追加样式\r\n            var classNames = [];\r\n            if (item3.hide) classNames.push(HIDE); // 插入隐藏列样式\r\n            if (!item3.field) classNames.push(ELEM_COL_SPECIAL); // 插入特殊列样式\r\n            return classNames.join(' ');\r\n          })() +\r\n          '\">',\r\n        '<div class=\"layui-table-cell laytable-cell-' +\r\n          (function () {\r\n            // 返回对应的CSS类标识\r\n            return item3.type === 'normal'\r\n              ? key\r\n              : key + ' laytable-cell-' + item3.type;\r\n          })() +\r\n          '\"' +\r\n          (item3.align ? ' align=\"' + item3.align + '\"' : '') +\r\n          '>' +\r\n          (function () {\r\n            var tplData = $.extend(\r\n              true,\r\n              {\r\n                LAY_COL: item3,\r\n              },\r\n              item1,\r\n            );\r\n            var checkName = table.config.checkName;\r\n            var disabledName = table.config.disabledName;\r\n\r\n            // 渲染不同风格的列\r\n            switch (item3.type) {\r\n              case 'checkbox': // 复选\r\n                return (\r\n                  '<input type=\"checkbox\" name=\"layTableCheckbox\" lay-skin=\"primary\" ' +\r\n                  (function () {\r\n                    // 其他属性\r\n                    var arr = [];\r\n\r\n                    //如果是全选\r\n                    if (item3[checkName]) {\r\n                      item1[checkName] = item3[checkName];\r\n                      if (item3[checkName]) arr[0] = 'checked';\r\n                    }\r\n                    if (tplData[checkName]) arr[0] = 'checked';\r\n\r\n                    // 禁选\r\n                    if (tplData[disabledName]) arr.push('disabled');\r\n\r\n                    return arr.join(' ');\r\n                  })() +\r\n                  ' lay-type=\"layTableCheckbox\">'\r\n                );\r\n              //break;\r\n              case 'radio': // 单选\r\n                return (\r\n                  '<input type=\"radio\" name=\"layTableRadio_' +\r\n                  options.index +\r\n                  '\" ' +\r\n                  (function () {\r\n                    var arr = [];\r\n                    if (tplData[checkName]) arr[0] = 'checked';\r\n                    if (tplData[disabledName]) arr.push('disabled');\r\n                    return arr.join(' ');\r\n                  })() +\r\n                  ' lay-type=\"layTableRadio\">'\r\n                );\r\n              //break;\r\n              case 'numbers':\r\n                return numbers;\r\n              //break;\r\n            }\r\n\r\n            //解析工具列模板\r\n            if (item3.toolbar) {\r\n              return laytpl($(item3.toolbar).html() || '').render(tplData);\r\n            }\r\n            return parseTempData.call(that, {\r\n              item3: item3,\r\n              content: content,\r\n              tplData: tplData,\r\n            });\r\n          })(),\r\n        '</div></td>',\r\n      ].join('');\r\n\r\n      tds.push(td);\r\n      if (item3.fixed && item3.fixed !== 'right') tds_fixed.push(td);\r\n      if (item3.fixed === 'right') tds_fixed_r.push(td);\r\n    });\r\n\r\n    // 添加 tr 属性\r\n    var trAttr = (function () {\r\n      var arr = ['data-index=\"' + i1 + '\"'];\r\n      if (item1[table.config.checkName])\r\n        arr.push('class=\"' + ELEM_CHECKED + '\"');\r\n      return arr.join(' ');\r\n    })();\r\n\r\n    trs.push('<tr ' + trAttr + '>' + tds.join('') + '</tr>');\r\n    trs_fixed.push('<tr ' + trAttr + '>' + tds_fixed.join('') + '</tr>');\r\n    trs_fixed_r.push('<tr ' + trAttr + '>' + tds_fixed_r.join('') + '</tr>');\r\n  });\r\n\r\n  return {\r\n    trs: trs,\r\n    trs_fixed: trs_fixed,\r\n    trs_fixed_r: trs_fixed_r,\r\n  };\r\n};\r\n\r\n// 返回行节点代码\r\ntable.getTrHtml = function (id, data) {\r\n  var that = getThisTable(id);\r\n  return that.getTrHtml(data, null, that.page);\r\n};\r\n\r\n// 数据渲染\r\nClass.prototype.renderData = function (opts) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  var res = opts.res;\r\n  var curr = opts.curr;\r\n  var count = (that.count = opts.count);\r\n  var sort = opts.sort;\r\n\r\n  var data = res[options.response.dataName] || []; //列表数据\r\n  var totalRowData = res[options.response.totalRowName]; //合计行数据\r\n  var trs = [];\r\n  var trs_fixed = [];\r\n  var trs_fixed_r = [];\r\n\r\n  // 渲染视图\r\n  var render = function () {\r\n    // 后续性能提升的重点\r\n    if (!sort && that.sortKey) {\r\n      return that.sort({\r\n        field: that.sortKey.field,\r\n        type: that.sortKey.sort,\r\n        pull: true,\r\n        reloadType: opts.type,\r\n      });\r\n    }\r\n\r\n    that.getTrHtml(data, sort, curr, {\r\n      trs: trs,\r\n      trs_fixed: trs_fixed,\r\n      trs_fixed_r: trs_fixed_r,\r\n    });\r\n\r\n    // 容器的滚动条位置\r\n    if (!(options.scrollPos === 'fixed' && opts.type === 'reloadData')) {\r\n      that.layBody.scrollTop(0);\r\n    }\r\n    if (options.scrollPos === 'reset') {\r\n      that.layBody.scrollLeft(0);\r\n    }\r\n\r\n    that.layMain.find('.' + NONE).remove();\r\n    that.layMain.find('tbody').html(trs.join(''));\r\n    that.layFixLeft.find('tbody').html(trs_fixed.join(''));\r\n    that.layFixRight.find('tbody').html(trs_fixed_r.join(''));\r\n\r\n    // 渲染表单\r\n    that.syncCheckAll();\r\n    that.renderForm();\r\n\r\n    // 因为 page 参数有可能发生变化 先重新铺满\r\n    that.fullSize();\r\n\r\n    // 滚动条补丁\r\n    that.haveInit\r\n      ? that.scrollPatch()\r\n      : setTimeout(function () {\r\n          that.scrollPatch();\r\n        }, 50);\r\n    that.haveInit = true;\r\n\r\n    // reloadData 或 renderData 时，tbody 高度可能不变，需要主动同步\r\n    if (that.needSyncFixedRowHeight) {\r\n      that.calcFixedRowHeight();\r\n    }\r\n\r\n    layer.close(that.tipsIndex);\r\n  };\r\n\r\n  table.cache[that.key] = data; //记录数据\r\n\r\n  //显示隐藏合计栏\r\n  that.layTotal[data.length == 0 ? 'addClass' : 'removeClass'](HIDE_V);\r\n\r\n  //显示隐藏分页栏\r\n  that.layPage[options.page || options.pagebar ? 'removeClass' : 'addClass'](\r\n    HIDE,\r\n  );\r\n  that.layPage\r\n    .find(ELEM_PAGE_VIEW)\r\n    [\r\n      !options.page || count == 0 || (data.length === 0 && curr == 1)\r\n        ? 'addClass'\r\n        : 'removeClass'\r\n    ](HIDE_V);\r\n\r\n  //如果无数据\r\n  if (data.length === 0) {\r\n    return that.errorView(options.text.none);\r\n  } else {\r\n    that.layFixLeft.removeClass(HIDE);\r\n  }\r\n\r\n  //如果执行初始排序\r\n  if (sort) {\r\n    return render();\r\n  }\r\n\r\n  //正常初始化数据渲染\r\n  render(); //渲染数据\r\n  that.renderTotal(data, totalRowData); //数据合计\r\n  that.layTotal && that.layTotal.removeClass(HIDE);\r\n\r\n  //同步分页状态\r\n  if (options.page) {\r\n    options.page = $.extend(\r\n      {\r\n        elem: 'layui-table-page' + options.index,\r\n        count: count,\r\n        limit: options.limit,\r\n        limits: options.limits || [10, 20, 30, 40, 50, 60, 70, 80, 90],\r\n        groups: 3,\r\n        layout: ['prev', 'page', 'next', 'skip', 'count', 'limit'],\r\n        prev: '<i class=\"layui-icon\">&#xe603;</i>',\r\n        next: '<i class=\"layui-icon\">&#xe602;</i>',\r\n        jump: function (obj, first) {\r\n          if (!first) {\r\n            //分页本身并非需要做以下更新，下面参数的同步，主要是因为其它处理统一用到了它们\r\n            //而并非用的是 options.page 中的参数（以确保分页未开启的情况仍能正常使用）\r\n            that.page = obj.curr; //更新页码\r\n            options.limit = obj.limit; //更新每页条数\r\n\r\n            that.pullData(obj.curr);\r\n          }\r\n        },\r\n      },\r\n      options.page,\r\n    );\r\n    options.page.count = count; //更新总条数\r\n    laypage.render(options.page);\r\n  }\r\n};\r\n\r\n// 重新渲染数据\r\ntable.renderData = function (id) {\r\n  var that = getThisTable(id);\r\n  if (!that) {\r\n    return;\r\n  }\r\n\r\n  that.pullData(that.page, {\r\n    renderData: true,\r\n    type: 'reloadData',\r\n  });\r\n};\r\n\r\n// 数据合计行\r\nClass.prototype.renderTotal = function (data, totalRowData) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var totalNums = {};\r\n\r\n  if (!options.totalRow) return;\r\n\r\n  layui.each(data, function (i1, item1) {\r\n    // 若数据项为空数组，则不往下执行（因为删除数据时，会将原有数据设置为 []）\r\n    if (layui.type(item1) === 'array' && item1.length === 0) return;\r\n\r\n    that.eachCols(function (i3, item3) {\r\n      var field = item3.field || i3,\r\n        content = item1[field];\r\n\r\n      if (item3.totalRow) {\r\n        totalNums[field] = (totalNums[field] || 0) + (parseFloat(content) || 0);\r\n      }\r\n    });\r\n  });\r\n\r\n  that.dataTotal = []; // 记录合计行结果\r\n\r\n  var tds = [];\r\n  that.eachCols(function (i3, item3) {\r\n    var field = item3.field || i3;\r\n\r\n    // 合计数据的特定字段\r\n    var TOTAL_NUMS = totalRowData && totalRowData[item3.field];\r\n\r\n    // 合计数据的小数点位数处理\r\n    var decimals = 'totalRowDecimals' in item3 ? item3.totalRowDecimals : 2;\r\n    var thisTotalNum = totalNums[field]\r\n      ? parseFloat(totalNums[field] || 0).toFixed(decimals)\r\n      : '';\r\n\r\n    // 合计内容\r\n    var content = (function () {\r\n      var text = item3.totalRowText || '';\r\n      var tplData = {\r\n        LAY_COL: item3,\r\n      };\r\n\r\n      tplData[field] = thisTotalNum;\r\n\r\n      // 获取自动计算的合并内容\r\n      var getContent = item3.totalRow\r\n        ? parseTempData.call(that, {\r\n            item3: item3,\r\n            content: thisTotalNum,\r\n            tplData: tplData,\r\n          }) || text\r\n        : text;\r\n\r\n      // 如果直接传入了合计行数据，则不输出自动计算的结果\r\n      return TOTAL_NUMS || getContent;\r\n    })();\r\n\r\n    // td 显示内容\r\n    var tdContent = (function () {\r\n      var totalRow = item3.totalRow || options.totalRow;\r\n\r\n      // 如果 totalRow 参数为字符类型，则解析为自定义模版\r\n      if (typeof totalRow === 'string') {\r\n        return laytpl(totalRow).render(\r\n          $.extend(\r\n            {\r\n              TOTAL_NUMS: TOTAL_NUMS || totalNums[field],\r\n              TOTAL_ROW: totalRowData || {},\r\n              LAY_COL: item3,\r\n            },\r\n            item3,\r\n          ),\r\n        );\r\n      }\r\n\r\n      return content;\r\n    })();\r\n\r\n    // 合计原始结果\r\n    item3.field &&\r\n      that.dataTotal.push({\r\n        field: item3.field,\r\n        total: $('<div>' + tdContent + '</div>').text(),\r\n      });\r\n\r\n    // td 容器\r\n    var td = [\r\n      '<td data-field=\"' +\r\n        field +\r\n        '\" data-key=\"' +\r\n        item3.key +\r\n        '\" ' +\r\n        (function () {\r\n          var attr = [];\r\n          if (item3.minWidth)\r\n            attr.push('data-minwidth=\"' + item3.minWidth + '\"'); // 单元格最小宽度\r\n          if (item3.maxWidth)\r\n            attr.push('data-maxwidth=\"' + item3.maxWidth + '\"'); // 单元格最小宽度\r\n          if (item3.style) attr.push('style=\"' + item3.style + '\"'); // 自定义单元格样式\r\n          return attr.join(' ');\r\n        })() +\r\n        ' class=\"' +\r\n        (function () {\r\n          // 追加样式\r\n          var classNames = [];\r\n          if (item3.hide) classNames.push(HIDE); // 插入隐藏列样式\r\n          if (!item3.field) classNames.push(ELEM_COL_SPECIAL); // 插入特殊列样式\r\n          return classNames.join(' ');\r\n        })() +\r\n        '\">',\r\n      '<div class=\"layui-table-cell laytable-cell-' +\r\n        (function () {\r\n          // 返回对应的CSS类标识\r\n          var key = item3.key;\r\n          return item3.type === 'normal'\r\n            ? key\r\n            : key + ' laytable-cell-' + item3.type;\r\n        })() +\r\n        '\"' +\r\n        (function () {\r\n          var attr = [];\r\n          if (item3.align) attr.push('align=\"' + item3.align + '\"'); // 对齐方式\r\n          return attr.join(' ');\r\n        })() +\r\n        '>' +\r\n        tdContent,\r\n      '</div></td>',\r\n    ].join('');\r\n\r\n    tds.push(td);\r\n  });\r\n\r\n  var patchElem = that.layTotal.find('.layui-table-patch'); // 可能存在滚动条补丁\r\n  that.layTotal\r\n    .find('tbody')\r\n    .html(\r\n      '<tr>' +\r\n        tds.join('') +\r\n        (patchElem.length ? patchElem.get(0).outerHTML : '') +\r\n        '</tr>',\r\n    );\r\n};\r\n\r\n//找到对应的列元素\r\nClass.prototype.getColElem = function (parent, key) {\r\n  var that = this;\r\n  //var options = that.config;\r\n  return parent.eq(0).find('.laytable-cell-' + key + ':eq(0)');\r\n};\r\n\r\n// 渲染表单\r\nClass.prototype.renderForm = function (type) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var filter = that.elem.attr('lay-filter');\r\n  form.render(type, filter);\r\n};\r\n\r\n// 定向渲染表单\r\nClass.prototype.renderFormByElem = function (elem) {\r\n  layui.each(['input', 'select'], function (i, formType) {\r\n    form.render(elem.find(formType));\r\n  });\r\n};\r\n\r\n// 同步全选按钮状态\r\nClass.prototype.syncCheckAll = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var checkAllElem = that.layHeader.find('input[name=\"layTableCheckbox\"]');\r\n  var syncColsCheck = function (checked) {\r\n    that.eachCols(function (i, item) {\r\n      if (item.type === 'checkbox') {\r\n        item[options.checkName] = checked;\r\n      }\r\n    });\r\n    return checked;\r\n  };\r\n  var checkStatus = table.checkStatus(that.key);\r\n\r\n  if (!checkAllElem[0]) return;\r\n\r\n  // 选中状态\r\n  syncColsCheck(checkStatus.isAll);\r\n  checkAllElem.prop({\r\n    checked: checkStatus.isAll,\r\n    indeterminate: !checkStatus.isAll && checkStatus.data.length, // 半选\r\n  });\r\n};\r\n\r\n// 标记当前活动行背景色\r\nClass.prototype.setRowActive = function (index, className, removeClass) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var tr = that.layBody.find('tr[data-index=\"' + index + '\"]');\r\n  className = className || 'layui-table-click';\r\n\r\n  if (removeClass) return tr.removeClass(className);\r\n\r\n  tr.addClass(className);\r\n  tr.siblings('tr').removeClass(className);\r\n};\r\n\r\n// 设置行选中状态\r\nClass.prototype.setRowChecked = function (opts) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var isCheckAll = opts.index === 'all'; // 是否操作全部\r\n  var isCheckMult = layui.type(opts.index) === 'array'; // 是否操作多个\r\n  var isCheckAllOrMult = isCheckAll || isCheckMult; // 是否全选或多选\r\n\r\n  // treeTable 内部已处理选中，此处不再处理\r\n  if (options.tree && options.tree.view) return;\r\n\r\n  // 全选或多选时\r\n  if (isCheckAllOrMult) {\r\n    that.layBox.addClass(DISABLED_TRANSITION); // 减少回流\r\n    if (opts.type === 'radio') return; // radio 不允许全选或多选\r\n  }\r\n\r\n  if (isCheckMult) {\r\n    var makeMap = {};\r\n    layui.each(opts.index, function (i, v) {\r\n      makeMap[v] = true;\r\n    });\r\n    opts.index = makeMap;\r\n  }\r\n\r\n  // 匹配行元素\r\n  var tbody = that.layBody.children('.layui-table').children('tbody');\r\n  var selector = isCheckAllOrMult\r\n    ? 'tr'\r\n    : 'tr[data-index=\"' + opts.index + '\"]';\r\n  var tr = (function (tr) {\r\n    return isCheckAll\r\n      ? tr\r\n      : tr.filter(\r\n          isCheckMult\r\n            ? function () {\r\n                var dataIndex = $(this).data('index');\r\n                return opts.index[dataIndex];\r\n              }\r\n            : '[data-index=\"' + opts.index + '\"]',\r\n        );\r\n  })(tbody.children(selector));\r\n\r\n  // 默认属性\r\n  opts = $.extend(\r\n    {\r\n      type: 'checkbox', // 选中方式\r\n    },\r\n    opts,\r\n  );\r\n\r\n  // 同步数据选中属性值\r\n  var thisData = table.cache[that.key];\r\n  var existChecked = 'checked' in opts;\r\n\r\n  // 若为单选框，则单向选中；若为复选框，则切换选中。\r\n  var getChecked = function (value) {\r\n    return opts.type === 'radio' ? true : existChecked ? opts.checked : !value;\r\n  };\r\n\r\n  var radioCheckedIndex;\r\n\r\n  // 给匹配行设置选中状态\r\n  tr.each(function () {\r\n    var el = $(this);\r\n    var i = el.attr('data-index');\r\n    var item = thisData[i];\r\n\r\n    if (!i) return; // 此时 el 通常为静态表格嵌套时的原始模板\r\n\r\n    // 绕过空项和禁用项\r\n    if (layui.type(item) === 'array' || item[options.disabledName]) {\r\n      return;\r\n    }\r\n\r\n    // 标记数据选中状态\r\n    var checked = (item[options.checkName] = getChecked(\r\n      el.hasClass(ELEM_CHECKED),\r\n    ));\r\n\r\n    // 标记当前行背景色\r\n    el.toggleClass(ELEM_CHECKED, !!checked);\r\n\r\n    // 若为 radio 类型，则取消其他行选中背景色\r\n    if (opts.type === 'radio') {\r\n      radioCheckedIndex = i;\r\n      el.siblings().removeClass(ELEM_CHECKED);\r\n    }\r\n  });\r\n\r\n  // 若为 radio 类型，移除其他行数据选中状态\r\n  if (radioCheckedIndex) {\r\n    layui.each(thisData, function (i, item) {\r\n      if (Number(radioCheckedIndex) !== Number(i)) {\r\n        delete item[options.checkName];\r\n      }\r\n    });\r\n  }\r\n\r\n  // 若存在复选框或单选框，则标注选中状态样式\r\n  var td = tr.children('td').children('.layui-table-cell');\r\n  var checkedElem = td.children(\r\n    'input[lay-type=\"' +\r\n      ({\r\n        radio: 'layTableRadio',\r\n        checkbox: 'layTableCheckbox',\r\n      }[opts.type] || 'checkbox') +\r\n      '\"]:not(:disabled)',\r\n  );\r\n  var checkedSameElem = checkedElem.last();\r\n  var fixRElem = checkedSameElem.closest(ELEM_FIXR);\r\n\r\n  (opts.type === 'radio' && fixRElem.hasClass(HIDE)\r\n    ? checkedElem.first()\r\n    : checkedElem\r\n  ).prop('checked', getChecked(checkedSameElem.prop('checked')));\r\n\r\n  that.syncCheckAll();\r\n\r\n  if (isCheckAllOrMult) {\r\n    setTimeout(function () {\r\n      that.layBox.removeClass(DISABLED_TRANSITION);\r\n    }, 100);\r\n  }\r\n};\r\n\r\n// 数据排序\r\nClass.prototype.sort = function (opts) {\r\n  // field, type, pull, fromEvent\r\n  var that = this;\r\n  var field;\r\n  var res = {};\r\n  var options = that.config;\r\n  var filter = options.elem.attr('lay-filter');\r\n  var data = table.cache[that.key],\r\n    thisData;\r\n\r\n  opts = opts || {};\r\n\r\n  // 字段匹配\r\n  if (typeof opts.field === 'string') {\r\n    field = opts.field;\r\n    that.layHeader.find('th').each(function (i, item) {\r\n      var othis = $(this);\r\n      var _field = othis.data('field');\r\n      if (_field === opts.field) {\r\n        opts.field = othis;\r\n        field = _field;\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n\r\n  try {\r\n    field = field || opts.field.data('field');\r\n    var key = opts.field.data('key');\r\n\r\n    // 如果欲执行的排序已在状态中，则不执行渲染\r\n    if (that.sortKey && !opts.pull) {\r\n      if (field === that.sortKey.field && opts.type === that.sortKey.sort) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    var elemSort = that.layHeader\r\n      .find('th .laytable-cell-' + key)\r\n      .find(ELEM_SORT);\r\n    that.layHeader.find('th').find(ELEM_SORT).removeAttr('lay-sort'); // 清除其它标题排序状态\r\n    elemSort.attr('lay-sort', opts.type || null);\r\n    that.layFixed.find('th');\r\n  } catch (e) {\r\n    hint.error(\"Table modules: sort field '\" + field + \"' not matched\");\r\n  }\r\n\r\n  // 记录排序索引和类型\r\n  that.sortKey = {\r\n    field: field,\r\n    sort: opts.type,\r\n  };\r\n\r\n  // 默认为前端自动排序。如果否，则需自主排序（通常为服务端处理好排序）\r\n  if (options.autoSort) {\r\n    if (opts.type === 'asc') {\r\n      //升序\r\n      thisData = layui.sort(data, field, null, true);\r\n    } else if (opts.type === 'desc') {\r\n      //降序\r\n      thisData = layui.sort(data, field, true, true);\r\n    } else {\r\n      // 清除排序\r\n      thisData = layui.sort(data, table.config.initIndexName, null, true);\r\n      delete that.sortKey;\r\n      delete options.initSort;\r\n    }\r\n  }\r\n\r\n  res[options.response.dataName] = thisData || data;\r\n\r\n  // 重载数据\r\n  that.renderData({\r\n    res: res,\r\n    curr: that.page,\r\n    count: that.count,\r\n    sort: true,\r\n    type: opts.reloadType,\r\n  });\r\n\r\n  // 排序是否来自于点击表头事件触发\r\n  if (opts.fromEvent) {\r\n    options.initSort = {\r\n      field: field,\r\n      type: opts.type,\r\n    };\r\n    layui.event.call(\r\n      opts.field,\r\n      MOD_NAME,\r\n      'sort(' + filter + ')',\r\n      $.extend(\r\n        {\r\n          config: options,\r\n        },\r\n        options.initSort,\r\n      ),\r\n    );\r\n  }\r\n};\r\n\r\n// 请求 loading\r\nClass.prototype.loading = function (show) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  if (options.loading) {\r\n    that.layBox.find(ELEM_INIT).toggleClass(HIDE, !show);\r\n  }\r\n};\r\n\r\n// 获取对应单元格的 cssRules\r\nClass.prototype.cssRules = function (key, callback) {\r\n  var that = this;\r\n  var style = that.elem.children('style')[0];\r\n\r\n  lay.getStyleRules(style, function (item) {\r\n    if (item.selectorText === '.laytable-cell-' + key) {\r\n      callback(item);\r\n      return true;\r\n    }\r\n  });\r\n};\r\n\r\n// 让表格铺满\r\nClass.prototype.fullSize = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var height = options.height;\r\n  var bodyHeight;\r\n  var MIN_HEIGHT = 135;\r\n\r\n  if (that.fullHeightGap) {\r\n    height = _WIN.height() - that.fullHeightGap;\r\n    if (height < MIN_HEIGHT) height = MIN_HEIGHT;\r\n    // that.elem.css('height', height);\r\n  } else if (that.parentDiv && that.parentHeightGap) {\r\n    height = $(that.parentDiv).height() - that.parentHeightGap;\r\n    if (height < MIN_HEIGHT) height = MIN_HEIGHT;\r\n    // that.elem.css(\"height\", height);\r\n  } else if (that.customHeightFunc) {\r\n    height = that.customHeightFunc();\r\n    if (height < MIN_HEIGHT) height = MIN_HEIGHT;\r\n  }\r\n\r\n  // 如果多级表头，则填补表头高度\r\n  if (options.cols.length > 1) {\r\n    // 补全高度\r\n    var th = that.layFixed.find(ELEM_HEADER).find('th');\r\n    // 固定列表头同步跟本体 th 一致高度\r\n    var headerMain = that.layHeader.first();\r\n    layui.each(th, function (thIndex, thElem) {\r\n      thElem = $(thElem);\r\n      thElem.height(\r\n        headerMain\r\n          .find('th[data-key=\"' + thElem.attr('data-key') + '\"]')\r\n          .height() + 'px',\r\n      );\r\n    });\r\n  }\r\n\r\n  if (!height) return;\r\n\r\n  // 减去列头区域的高度 --- 此处的数字常量是为了防止容器处在隐藏区域无法获得高度的问题，只对默认尺寸表格做支持\r\n  bodyHeight = parseFloat(height) - (that.layHeader.outerHeight() || 39);\r\n\r\n  // 减去工具栏的高度\r\n  if (options.toolbar) {\r\n    bodyHeight -= that.layTool.outerHeight() || 51;\r\n  }\r\n\r\n  // 减去统计栏的高度\r\n  if (options.totalRow) {\r\n    bodyHeight -= that.layTotal.outerHeight() || 40;\r\n  }\r\n\r\n  // 减去分页栏的高度\r\n  if (options.page || options.pagebar) {\r\n    bodyHeight -= that.layPage.outerHeight() || 43;\r\n  }\r\n\r\n  if (options.maxHeight) {\r\n    layui.each(\r\n      { elem: height, layMain: bodyHeight },\r\n      function (elemName, elemHeight) {\r\n        that[elemName].css({\r\n          height: 'auto',\r\n          maxHeight: elemHeight + 'px',\r\n        });\r\n      },\r\n    );\r\n  } else {\r\n    that.layMain.outerHeight(bodyHeight);\r\n  }\r\n};\r\n\r\n//获取滚动条宽度\r\nClass.prototype.getScrollWidth = function (elem) {\r\n  var width;\r\n  if (elem) {\r\n    width = elem.offsetWidth - elem.clientWidth;\r\n  } else {\r\n    elem = document.createElement('div');\r\n    elem.style.width = '100px';\r\n    elem.style.height = '100px';\r\n    elem.style.overflowY = 'scroll';\r\n\r\n    document.body.appendChild(elem);\r\n    width = elem.offsetWidth - elem.clientWidth;\r\n    document.body.removeChild(elem);\r\n  }\r\n  return width;\r\n};\r\n\r\n// 滚动条补丁\r\nClass.prototype.scrollPatch = function () {\r\n  var that = this;\r\n  var layMainTable = that.layMain.children('table');\r\n  var scrollWidth = that.layMain.width() - that.layMain.prop('clientWidth'); // 纵向滚动条宽度\r\n  var scrollHeight = that.layMain.height() - that.layMain.prop('clientHeight'); // 横向滚动条高度\r\n  var getScrollWidth = that.getScrollWidth(that.layMain[0]); // 获取主容器滚动条宽度，如果有的话\r\n  var outWidth = layMainTable.outerWidth() - that.layMain.width(); // 表格内容器的超出宽度\r\n\r\n  // 添加补丁\r\n  var addPatch = function (elem) {\r\n    if (scrollWidth && scrollHeight) {\r\n      elem = elem.eq(0);\r\n      if (!elem.find('.layui-table-patch')[0]) {\r\n        var patchElem = $(\r\n          '<th class=\"layui-table-patch\"><div class=\"layui-table-cell\"></div></th>',\r\n        ); // 补丁元素\r\n        patchElem.find('div').css({\r\n          width: scrollWidth,\r\n        });\r\n        elem.find('tr').append(patchElem);\r\n      }\r\n    } else {\r\n      elem.find('.layui-table-patch').remove();\r\n    }\r\n  };\r\n\r\n  addPatch(that.layHeader);\r\n  addPatch(that.layTotal);\r\n\r\n  // 固定列区域高度\r\n  var mainHeight = that.layMain.height();\r\n  var fixHeight = mainHeight - scrollHeight;\r\n\r\n  that.layFixed\r\n    .find(ELEM_BODY)\r\n    .css('height', layMainTable.height() >= fixHeight ? fixHeight : 'auto')\r\n    .scrollTop(that.layMain.scrollTop()); // 固定列滚动条高度\r\n\r\n  // 表格宽度小于容器宽度时，隐藏固定列\r\n  that.layFixRight[\r\n    table.cache[that.key] && table.cache[that.key].length && outWidth > 0\r\n      ? 'removeClass'\r\n      : 'addClass'\r\n  ](HIDE);\r\n\r\n  // 操作栏\r\n  that.layFixRight.css('right', scrollWidth);\r\n};\r\n\r\n/**\r\n * @typedef updateRowOptions\r\n * @prop {number} index - 行索引\r\n * @prop {Object.<string, any>} data - 行数据\r\n * @prop {boolean | ((field, index) => boolean)} [related] - 更新其他包含自定义模板且可能有所关联的列视图\r\n */\r\n/**\r\n * 更新指定行\r\n * @param {updateRowOptions | updateRowOptions[]} opts\r\n * @param {(field: string, value: any) => void} [callback] - 更新每个字段时的回调函数\r\n */\r\nClass.prototype.updateRow = function (opts, callback) {\r\n  opts = layui.type(opts) === 'array' ? opts : [opts];\r\n\r\n  var that = this;\r\n  var ELEM_CELL = '.layui-table-cell';\r\n  var dataCache = table.cache[that.key] || [];\r\n\r\n  var update = function (opt) {\r\n    var index = opt.index;\r\n    var row = opt.data;\r\n    var related = opt.related;\r\n\r\n    var data = dataCache[index] || {};\r\n    var tr = that.layBody.find('tr[data-index=\"' + index + '\"]');\r\n\r\n    // 更新缓存中的数据\r\n    layui.each(row, function (key, value) {\r\n      data[key] = value;\r\n      callback && callback(key, value);\r\n    });\r\n\r\n    // 更新单元格\r\n    that.eachCols(function (i, item3) {\r\n      var field = String(item3.field || i);\r\n      var shouldUpdate =\r\n        field in row ||\r\n        ((typeof related === 'function' ? related(field, i) : related) &&\r\n          (item3.templet || item3.toolbar));\r\n      if (shouldUpdate) {\r\n        var td = tr.children('td[data-field=\"' + field + '\"]');\r\n        var cell = td.children(ELEM_CELL);\r\n        var content = data[item3.field];\r\n        cell.html(\r\n          parseTempData.call(that, {\r\n            item3: item3,\r\n            content: content,\r\n            tplData: $.extend(\r\n              {\r\n                LAY_COL: item3,\r\n              },\r\n              data,\r\n            ),\r\n          }),\r\n        );\r\n        td.data('content', content);\r\n        that.renderFormByElem(cell);\r\n      }\r\n    });\r\n  };\r\n\r\n  layui.each(opts, function (i, opt) {\r\n    update(opt);\r\n  });\r\n};\r\n\r\n/**\r\n * 更新指定行\r\n * @param {string} id - table ID\r\n * @param {updateRowOptions | updateRowOptions[]} options\r\n */\r\ntable.updateRow = function (id, options) {\r\n  var that = getThisTable(id);\r\n  return that.updateRow(options);\r\n};\r\n\r\n// 事件处理\r\nClass.prototype.events = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  var filter = options.elem.attr('lay-filter');\r\n  var th = that.layHeader.find('th');\r\n  var ELEM_CELL = '.layui-table-cell';\r\n\r\n  var _BODY = $('body');\r\n  var dict = {};\r\n\r\n  // 头部工具栏操作事件\r\n  that.layTool.on('click', '*[lay-event]', function (e) {\r\n    var othis = $(this);\r\n    var events = othis.attr('lay-event');\r\n    var data = table.cache[options.id];\r\n\r\n    // 弹出工具下拉面板\r\n    var openPanel = function (sets) {\r\n      var list = $(sets.list);\r\n      var panel = $('<ul class=\"' + ELEM_TOOL_PANEL + '\"></ul>');\r\n\r\n      panel.html(list);\r\n\r\n      // 限制最大高度\r\n      if (options.height) {\r\n        panel.css(\r\n          'max-height',\r\n          options.height - (that.layTool.outerHeight() || 50),\r\n        );\r\n      }\r\n\r\n      // 插入元素\r\n      othis.find('.' + ELEM_TOOL_PANEL)[0] || othis.append(panel);\r\n      that.renderForm();\r\n\r\n      panel.on('click', function (e) {\r\n        layui.stope(e);\r\n      });\r\n\r\n      sets.done && sets.done(panel, list);\r\n    };\r\n\r\n    layui.stope(e);\r\n    _DOC.trigger('table.tool.panel.remove');\r\n    layer.close(that.tipsIndex);\r\n\r\n    // 头部工具栏右侧图标\r\n    layui.each(options.defaultToolbar, function (index, item) {\r\n      if (item.layEvent === events) {\r\n        typeof item.onClick === 'function' &&\r\n          item.onClick({\r\n            data: data,\r\n            config: options,\r\n            openPanel: openPanel,\r\n            elem: othis,\r\n          });\r\n        return true;\r\n      }\r\n    });\r\n\r\n    // table toolbar 事件\r\n    layui.event.call(\r\n      this,\r\n      MOD_NAME,\r\n      'toolbar(' + filter + ')',\r\n      $.extend(\r\n        {\r\n          event: events,\r\n          config: options,\r\n        },\r\n        {},\r\n      ),\r\n    );\r\n  });\r\n\r\n  // 表头自定义元素事件\r\n  that.layHeader.on('click', '*[lay-event]', function (e) {\r\n    var othis = $(this);\r\n    var events = othis.attr('lay-event');\r\n    var th = othis.closest('th');\r\n    var key = th.data('key');\r\n    var col = that.col(key);\r\n\r\n    layui.event.call(\r\n      this,\r\n      MOD_NAME,\r\n      'colTool(' + filter + ')',\r\n      $.extend(\r\n        {\r\n          event: events,\r\n          config: options,\r\n          col: col,\r\n        },\r\n        {},\r\n      ),\r\n    );\r\n  });\r\n\r\n  // 分页栏操作事件\r\n  that.layPagebar.on('click', '*[lay-event]', function (e) {\r\n    var othis = $(this);\r\n    var events = othis.attr('lay-event');\r\n\r\n    layui.event.call(\r\n      this,\r\n      MOD_NAME,\r\n      'pagebar(' + filter + ')',\r\n      $.extend(\r\n        {\r\n          event: events,\r\n          config: options,\r\n        },\r\n        {},\r\n      ),\r\n    );\r\n  });\r\n\r\n  // 拖拽调整宽度\r\n  th.on('mousemove', function (e) {\r\n    var othis = $(this);\r\n    var oLeft = othis.offset().left;\r\n    var pLeft = e.clientX - oLeft;\r\n    if (othis.data('unresize') || thisTable.eventMoveElem) {\r\n      return;\r\n    }\r\n    dict.allowResize = othis.width() - pLeft <= 10; //是否处于拖拽允许区域\r\n    _BODY.css('cursor', dict.allowResize ? 'col-resize' : '');\r\n  })\r\n    .on('mouseleave', function () {\r\n      var othis = $(this);\r\n      if (thisTable.eventMoveElem) return;\r\n      dict.allowResize = false;\r\n      _BODY.css('cursor', '');\r\n    })\r\n    .on('mousedown', function (e) {\r\n      var othis = $(this);\r\n      if (dict.allowResize) {\r\n        var key = othis.data('key');\r\n        e.preventDefault();\r\n        dict.offset = [e.clientX, e.clientY]; //记录初始坐标\r\n\r\n        that.cssRules(key, function (item) {\r\n          var width = item.style.width || othis.outerWidth();\r\n          dict.rule = item;\r\n          dict.ruleWidth = parseFloat(width);\r\n          dict.minWidth = othis.data('minwidth') || options.cellMinWidth;\r\n          dict.maxWidth = othis.data('maxwidth') || options.cellMaxWidth;\r\n        });\r\n\r\n        // 临时记录当前拖拽信息\r\n        othis.data(DATA_MOVE_NAME, dict);\r\n        thisTable.eventMoveElem = othis;\r\n      }\r\n    });\r\n\r\n  // 拖拽中\r\n  if (!thisTable.docEvent) {\r\n    _DOC\r\n      .on('mousemove', function (e) {\r\n        if (thisTable.eventMoveElem) {\r\n          var dict = thisTable.eventMoveElem.data(DATA_MOVE_NAME) || {};\r\n\r\n          thisTable.eventMoveElem.data('resizing', 1);\r\n          e.preventDefault();\r\n\r\n          if (dict.rule) {\r\n            var setWidth = dict.ruleWidth + e.clientX - dict.offset[0];\r\n            var id = thisTable.eventMoveElem\r\n              .closest('.' + ELEM_VIEW)\r\n              .attr(MOD_ID);\r\n            var thatTable = getThisTable(id);\r\n\r\n            if (!thatTable) return;\r\n\r\n            if (setWidth < dict.minWidth) setWidth = dict.minWidth;\r\n            if (setWidth > dict.maxWidth) setWidth = dict.maxWidth;\r\n\r\n            dict.rule.style.width = setWidth + 'px';\r\n            thatTable.setGroupWidth(thisTable.eventMoveElem);\r\n            layer.close(that.tipsIndex);\r\n          }\r\n        }\r\n      })\r\n      .on('mouseup', function (e) {\r\n        if (thisTable.eventMoveElem) {\r\n          var th = thisTable.eventMoveElem; // 当前触发拖拽的 th 元素\r\n          var id = th.closest('.' + ELEM_VIEW).attr(MOD_ID);\r\n          var thatTable = getThisTable(id);\r\n\r\n          if (!thatTable) return;\r\n\r\n          var key = th.data('key');\r\n          var col = thatTable.col(key);\r\n          var filter = thatTable.config.elem.attr('lay-filter');\r\n\r\n          // 重置过度信息\r\n          dict = {};\r\n          _BODY.css('cursor', '');\r\n          thatTable.scrollPatch();\r\n\r\n          // 清除当前拖拽信息\r\n          th.removeData(DATA_MOVE_NAME);\r\n          delete thisTable.eventMoveElem;\r\n\r\n          // 列拖拽宽度后的事件\r\n          thatTable.cssRules(key, function (item) {\r\n            col.width = parseFloat(item.style.width);\r\n            layui.event.call(th[0], MOD_NAME, 'colResized(' + filter + ')', {\r\n              col: col,\r\n              config: thatTable.config,\r\n            });\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  // 已给 document 执行全局事件，避免重复绑定\r\n  thisTable.docEvent = true;\r\n\r\n  // 排序\r\n  th.on('click', function (e) {\r\n    var othis = $(this);\r\n    var elemSort = othis.find(ELEM_SORT);\r\n    var nowType = elemSort.attr('lay-sort');\r\n    var type;\r\n\r\n    // 排序不触发的条件\r\n    if (!elemSort[0] || othis.data('resizing') === 1) {\r\n      return othis.removeData('resizing');\r\n    }\r\n\r\n    if (nowType === 'asc') {\r\n      type = 'desc';\r\n    } else if (nowType === 'desc') {\r\n      type = null;\r\n    } else {\r\n      type = 'asc';\r\n    }\r\n    that.sort({\r\n      field: othis,\r\n      type: type,\r\n      fromEvent: true,\r\n    });\r\n  })\r\n    .find(ELEM_SORT + ' .layui-edge ')\r\n    .on('click', function (e) {\r\n      var othis = $(this);\r\n      var index = othis.index();\r\n      var field = othis.parents('th').eq(0).data('field');\r\n      layui.stope(e);\r\n      if (index === 0) {\r\n        that.sort({\r\n          field: field,\r\n          type: 'asc',\r\n          fromEvent: true,\r\n        });\r\n      } else {\r\n        that.sort({\r\n          field: field,\r\n          type: 'desc',\r\n          fromEvent: true,\r\n        });\r\n      }\r\n    });\r\n\r\n  //数据行中的事件返回的公共对象成员\r\n  var commonMember = (that.commonMember = function (sets) {\r\n    var othis = $(this);\r\n    var index = othis.parents('tr').eq(0).data('index');\r\n    var tr = that.layBody.find('tr[data-index=\"' + index + '\"]');\r\n    var data = table.cache[that.key] || [];\r\n\r\n    data = data[index] || {};\r\n\r\n    // 事件返回的公共成员\r\n    var obj = {\r\n      tr: tr, // 行元素\r\n      config: options,\r\n      data: table.clearCacheKey(data), // 当前行数据\r\n      dataCache: data, // 当前行缓存中的数据\r\n      index: index,\r\n      del: function () {\r\n        // 删除行数据\r\n        table.cache[that.key][index] = [];\r\n        tr.remove();\r\n        that.scrollPatch();\r\n      },\r\n      update: function (fields, related) {\r\n        // 修改行数据\r\n        fields = fields || {};\r\n        that.updateRow(\r\n          {\r\n            index: index,\r\n            data: fields,\r\n            related: related,\r\n          },\r\n          function (key, value) {\r\n            obj.data[key] = value;\r\n          },\r\n        );\r\n      },\r\n      // 设置行选中状态\r\n      setRowChecked: function (opts) {\r\n        that.setRowChecked(\r\n          $.extend(\r\n            {\r\n              index: index,\r\n            },\r\n            opts,\r\n          ),\r\n        );\r\n      },\r\n      // 获取当前列\r\n    };\r\n\r\n    return $.extend(obj, sets);\r\n  });\r\n\r\n  // 复选框选择（替代元素的 click 事件）\r\n  that.elem.on('click', 'input[name=\"layTableCheckbox\"]+', function (e) {\r\n    var othis = $(this);\r\n    var td = othis.closest('td');\r\n    var checkbox = othis.prev();\r\n    var children = that.layBody.find('input[name=\"layTableCheckbox\"]');\r\n    var index = checkbox.parents('tr').eq(0).data('index');\r\n    var checked = checkbox[0].checked;\r\n    var isAll = checkbox.attr('lay-filter') === 'layTableAllChoose';\r\n\r\n    if (checkbox[0].disabled) return;\r\n\r\n    // 全选\r\n    if (isAll) {\r\n      that.setRowChecked({\r\n        index: 'all',\r\n        checked: checked,\r\n      });\r\n    } else {\r\n      that.setRowChecked({\r\n        index: index,\r\n        checked: checked,\r\n      });\r\n    }\r\n\r\n    layui.stope(e);\r\n\r\n    // 事件\r\n    layui.event.call(\r\n      checkbox[0],\r\n      MOD_NAME,\r\n      'checkbox(' + filter + ')',\r\n      commonMember.call(checkbox[0], {\r\n        checked: checked,\r\n        type: isAll ? 'all' : 'one',\r\n        getCol: function () {\r\n          // 获取当前列的表头配置信息\r\n          return that.col(td.data('key'));\r\n        },\r\n      }),\r\n    );\r\n  });\r\n\r\n  // 单选框选择\r\n  that.elem.on('click', 'input[lay-type=\"layTableRadio\"]+', function (e) {\r\n    var othis = $(this);\r\n    var td = othis.closest('td');\r\n    var radio = othis.prev();\r\n    var checked = radio[0].checked;\r\n    var index = radio.parents('tr').eq(0).data('index');\r\n\r\n    layui.stope(e);\r\n    if (radio[0].disabled) return false;\r\n\r\n    // 标注选中样式\r\n    that.setRowChecked({\r\n      type: 'radio',\r\n      index: index,\r\n    });\r\n\r\n    // 事件\r\n    layui.event.call(\r\n      radio[0],\r\n      MOD_NAME,\r\n      'radio(' + filter + ')',\r\n      commonMember.call(radio[0], {\r\n        checked: checked,\r\n        getCol: function () {\r\n          // 获取当前列的表头配置信息\r\n          return that.col(td.data('key'));\r\n        },\r\n      }),\r\n    );\r\n  });\r\n\r\n  // 行事件\r\n  that.layBody\r\n    .on('mouseenter', 'tr', function () {\r\n      // 鼠标移入行\r\n      var othis = $(this);\r\n      var index = othis.index();\r\n      if (othis.data('off')) return; // 不触发事件\r\n      var trsElem = that.layBody.find('tr:eq(' + index + ')');\r\n      trsElem.addClass(ELEM_HOVER);\r\n      if (that.needSyncFixedRowHeight) {\r\n        that.fixedRowHeightPatchOnHover(this, trsElem, true);\r\n      }\r\n    })\r\n    .on('mouseleave', 'tr', function () {\r\n      // 鼠标移出行\r\n      var othis = $(this);\r\n      var index = othis.index();\r\n      if (othis.data('off')) return; // 不触发事件\r\n      var trsElem = that.layBody.find('tr:eq(' + index + ')');\r\n      trsElem.removeClass(ELEM_HOVER);\r\n      if (that.needSyncFixedRowHeight) {\r\n        that.fixedRowHeightPatchOnHover(this, trsElem, false);\r\n      }\r\n    })\r\n    .on('click', 'tr', function (e) {\r\n      // 单击行\r\n      setRowEvent.call(this, 'row', e);\r\n    })\r\n    .on('dblclick', 'tr', function (e) {\r\n      // 双击行\r\n      setRowEvent.call(this, 'rowDouble', e);\r\n    })\r\n    .on('contextmenu', 'tr', function (e) {\r\n      // 菜单\r\n      if (!options.defaultContextmenu) e.preventDefault();\r\n      setRowEvent.call(this, 'rowContextmenu', e);\r\n    });\r\n\r\n  // 创建行单击、双击、菜单事件\r\n  var setRowEvent = function (eventType, e) {\r\n    var othis = $(this);\r\n    if (othis.data('off')) return; // 不触发事件\r\n\r\n    // 不触发「行单/双击事件」的子元素\r\n    if (eventType !== 'rowContextmenu') {\r\n      var UNROW = [\r\n        '.layui-form-checkbox',\r\n        '.layui-form-switch',\r\n        '.layui-form-radio',\r\n        '[lay-unrow]',\r\n        '[lay-type=\"layTableCheckbox\"]',\r\n        '[lay-type=\"layTableRadio\"]',\r\n      ].join(',');\r\n\r\n      if ($(e.target).is(UNROW) || $(e.target).closest(UNROW)[0]) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    layui.event.call(\r\n      this,\r\n      MOD_NAME,\r\n      eventType + '(' + filter + ')',\r\n      commonMember.call(othis.children('td')[0], {\r\n        e: e,\r\n      }),\r\n    );\r\n  };\r\n\r\n  // 渲染单元格编辑状态\r\n  var renderGridEdit = function (othis, e) {\r\n    othis = $(othis);\r\n\r\n    if (othis.data('off')) return; // 不触发事件\r\n\r\n    var field = othis.data('field');\r\n    var key = othis.data('key');\r\n    var col = that.col(key);\r\n    var index = othis.closest('tr').data('index');\r\n    var data = table.cache[that.key][index];\r\n    var elemCell = othis.children(ELEM_CELL);\r\n\r\n    // 是否开启编辑\r\n    // 若 edit 传入函数，则根据函数的返回结果判断是否开启编辑\r\n    var editType = typeof col.edit === 'function' ? col.edit(data) : col.edit;\r\n\r\n    // 显示编辑表单\r\n    if (editType) {\r\n      var input = $(\r\n        (function () {\r\n          var inputElem =\r\n            '<input class=\"layui-input ' + ELEM_EDIT + '\" lay-unrow>';\r\n          if (editType === 'textarea') {\r\n            inputElem =\r\n              '<textarea class=\"layui-input ' +\r\n              ELEM_EDIT +\r\n              '\" lay-unrow></textarea>';\r\n          }\r\n          return inputElem;\r\n        })(),\r\n      );\r\n      input[0].value = (function (val) {\r\n        return val === undefined || val === null ? '' : val;\r\n      })(othis.data('content') || data[field]);\r\n      othis.find('.' + ELEM_EDIT)[0] || othis.append(input);\r\n      input.focus();\r\n      e && layui.stope(e);\r\n    }\r\n  };\r\n\r\n  // 单元格编辑 - 输入框内容被改变的事件\r\n  that.layBody\r\n    .on('change', '.' + ELEM_EDIT, function () {\r\n      var othis = $(this);\r\n      var td = othis.parent();\r\n      var value = this.value;\r\n      var field = othis.parent().data('field');\r\n      var index = othis.closest('tr').data('index');\r\n      var data = table.cache[that.key][index];\r\n\r\n      //事件回调的参数对象\r\n      var params = commonMember.call(td[0], {\r\n        value: value,\r\n        field: field,\r\n        oldValue: data[field], // 编辑前的值\r\n        td: td,\r\n        reedit: function () {\r\n          // 重新编辑\r\n          setTimeout(function () {\r\n            // 重新渲染为编辑状态\r\n            renderGridEdit(params.td);\r\n\r\n            // 将字段缓存的值恢复到编辑之前的值\r\n            var obj = {};\r\n            obj[field] = params.oldValue;\r\n            params.update(obj);\r\n          });\r\n        },\r\n        getCol: function () {\r\n          // 获取当前列的表头配置信息\r\n          return that.col(td.data('key'));\r\n        },\r\n      });\r\n\r\n      // 更新缓存中的值\r\n      var obj = {}; //变更的键值\r\n      obj[field] = value;\r\n      params.update(obj);\r\n\r\n      // 执行 API 编辑事件\r\n      layui.event.call(td[0], MOD_NAME, 'edit(' + filter + ')', params);\r\n    })\r\n    .on('blur', '.' + ELEM_EDIT, function () {\r\n      // 单元格编辑 - 恢复非编辑状态事件\r\n      $(this).remove(); // 移除编辑状态\r\n    });\r\n\r\n  // 表格主体单元格触发编辑的事件\r\n  that.layBody\r\n    .on(options.editTrigger, 'td', function (e) {\r\n      renderGridEdit(this, e);\r\n    })\r\n    .on('mouseenter', 'td', function () {\r\n      showGridExpandIcon.call(this);\r\n    })\r\n    .on('mouseleave', 'td', function () {\r\n      showGridExpandIcon.call(this, 'hide');\r\n    });\r\n\r\n  // 表格合计栏单元格 hover 显示展开图标\r\n  that.layTotal\r\n    .on('mouseenter', 'td', function () {\r\n      showGridExpandIcon.call(this);\r\n    })\r\n    .on('mouseleave', 'td', function () {\r\n      showGridExpandIcon.call(this, 'hide');\r\n    });\r\n\r\n  // 显示单元格展开图标\r\n  var ELEM_GRID = 'layui-table-grid';\r\n  var ELEM_GRID_DOWN = 'layui-table-grid-down';\r\n  var ELEM_GRID_PANEL = 'layui-table-grid-panel';\r\n  var showGridExpandIcon = function (hide) {\r\n    var othis = $(this);\r\n    var elemCell = othis.children(ELEM_CELL);\r\n\r\n    if (othis.data('off')) return; // 不触发事件\r\n    if (othis.parent().hasClass(ELEM_EXPAND)) return; // 是否已为展开状态\r\n\r\n    if (hide) {\r\n      othis.find('.layui-table-grid-down').remove();\r\n    } else if (\r\n      (elemCell.prop('scrollWidth') > elemCell.prop('clientWidth') ||\r\n        elemCell.find('br').length > 0) &&\r\n      !options.lineStyle\r\n    ) {\r\n      if (elemCell.find('.' + ELEM_GRID_DOWN)[0]) return;\r\n      othis.append(\r\n        '<div class=\"' +\r\n          ELEM_GRID_DOWN +\r\n          '\"><i class=\"layui-icon layui-icon-down\"></i></div>',\r\n      );\r\n    }\r\n  };\r\n  // 展开单元格内容\r\n  var gridExpand = function (e, expandedMode) {\r\n    var othis = $(this);\r\n    var td = othis.parent();\r\n    var key = td.data('key');\r\n    var col = that.col(key);\r\n    var index = td.parent().data('index');\r\n    var elemCell = td.children(ELEM_CELL);\r\n    var ELEM_CELL_C = 'layui-table-cell-c';\r\n    var elemCellClose = $(\r\n      '<i class=\"layui-icon layui-icon-up ' + ELEM_CELL_C + '\">',\r\n    );\r\n\r\n    expandedMode = expandedMode || col.expandedMode || options.cellExpandedMode;\r\n\r\n    // 展开风格\r\n    if (expandedMode === 'tips') {\r\n      // TIPS 展开风格\r\n      that.tipsIndex = layer.tips(\r\n        [\r\n          '<div class=\"layui-table-tips-main\" style=\"margin-top: -' +\r\n            (elemCell.height() + 23) +\r\n            'px;' +\r\n            (function () {\r\n              if (options.size === 'sm') {\r\n                return 'padding: 4px 15px; font-size: 12px;';\r\n              }\r\n              if (options.size === 'lg') {\r\n                return 'padding: 14px 15px;';\r\n              }\r\n              return '';\r\n            })() +\r\n            '\">',\r\n          elemCell.html(),\r\n          '</div>',\r\n          '<i class=\"layui-icon layui-table-tips-c layui-icon-close\"></i>',\r\n        ].join(''),\r\n        elemCell[0],\r\n        {\r\n          tips: [3, ''],\r\n          time: -1,\r\n          anim: -1,\r\n          maxWidth: device.ios || device.android ? 300 : that.elem.width() / 2,\r\n          isOutAnim: false,\r\n          skin: 'layui-table-tips',\r\n          success: function (layero, index) {\r\n            layero.find('.layui-table-tips-c').on('click', function () {\r\n              layer.close(index);\r\n            });\r\n          },\r\n        },\r\n      );\r\n    } else {\r\n      // 多行展开风格\r\n      // 恢复其他已经展开的单元格\r\n      that.elem.find('.' + ELEM_CELL_C).trigger('click');\r\n\r\n      // 设置当前单元格展开宽度\r\n      that.cssRules(key, function (item) {\r\n        var width = item.style.width;\r\n        var expandedWidth = col.expandedWidth || options.cellExpandedWidth;\r\n\r\n        // 展开后的宽度不能小于当前宽度\r\n        if (expandedWidth < parseFloat(width))\r\n          expandedWidth = parseFloat(width);\r\n\r\n        elemCellClose.data('cell-width', width);\r\n        item.style.width = expandedWidth + 'px';\r\n\r\n        setTimeout(function () {\r\n          that.scrollPatch(); // 滚动条补丁\r\n        });\r\n      });\r\n\r\n      // 设置当前单元格展开样式\r\n      that.setRowActive(index, ELEM_EXPAND);\r\n\r\n      // 插入关闭按钮\r\n      if (!elemCell.next('.' + ELEM_CELL_C)[0]) {\r\n        elemCell.after(elemCellClose);\r\n      }\r\n\r\n      // 关闭展开状态\r\n      elemCellClose.on('click', function () {\r\n        var $this = $(this);\r\n        that.setRowActive(index, [ELEM_EXPAND, ELEM_HOVER].join(' '), true); // 移除单元格展开样式\r\n        that.cssRules(key, function (item) {\r\n          item.style.width = $this.data('cell-width'); // 恢复单元格展开前的宽度\r\n          setTimeout(function () {\r\n            that.resize(); // 滚动条补丁\r\n          });\r\n        });\r\n        $this.remove();\r\n        // 重置单元格滚动条位置\r\n        elemCell.scrollTop(0);\r\n        elemCell.scrollLeft(0);\r\n      });\r\n    }\r\n\r\n    othis.remove();\r\n    layui.stope(e);\r\n  };\r\n\r\n  // 表格主体单元格展开事件\r\n  that.layBody.on('click', '.' + ELEM_GRID_DOWN, function (e) {\r\n    gridExpand.call(this, e);\r\n  });\r\n  // 表格合计栏单元格展开事件\r\n  that.layTotal.on('click', '.' + ELEM_GRID_DOWN, function (e) {\r\n    gridExpand.call(this, e, 'tips'); // 强制采用 tips 风格\r\n  });\r\n\r\n  // 行工具条操作事件\r\n  var toolFn = function (type) {\r\n    var othis = $(this);\r\n    var td = othis.closest('td');\r\n    var index = othis.parents('tr').eq(0).data('index');\r\n    // 标记当前活动行\r\n    that.setRowActive(index);\r\n\r\n    // 执行事件\r\n    layui.event.call(\r\n      this,\r\n      MOD_NAME,\r\n      (type || 'tool') + '(' + filter + ')',\r\n      commonMember.call(this, {\r\n        event: othis.attr('lay-event'),\r\n        getCol: function () {\r\n          // 获取当前列的表头配置信息\r\n          return that.col(td.data('key'));\r\n        },\r\n      }),\r\n    );\r\n  };\r\n\r\n  // 行工具条单击事件\r\n  that.layBody\r\n    .on('click', '*[lay-event]', function (e) {\r\n      toolFn.call(this);\r\n      layui.stope(e);\r\n    })\r\n    .on('dblclick', '*[lay-event]', function (e) {\r\n      //行工具条双击事件\r\n      toolFn.call(this, 'toolDouble');\r\n      layui.stope(e);\r\n    });\r\n\r\n  // 同步滚动条\r\n  that.layMain.on('scroll', function () {\r\n    var othis = $(this);\r\n    var scrollLeft = othis.scrollLeft();\r\n    var scrollTop = othis.scrollTop();\r\n\r\n    that.layHeader.scrollLeft(scrollLeft);\r\n    that.layTotal.scrollLeft(scrollLeft);\r\n    that.layFixed.find(ELEM_BODY).scrollTop(scrollTop);\r\n\r\n    layer.close(that.tipsIndex);\r\n  });\r\n\r\n  var rAF =\r\n    window.requestAnimationFrame ||\r\n    function (fn) {\r\n      return setTimeout(fn, 1000 / 60);\r\n    };\r\n\r\n  // 固定列滚轮事件 - 临时兼容方案\r\n  that.layFixed.find(ELEM_BODY).on('mousewheel DOMMouseScroll', function (e) {\r\n    var delta = e.originalEvent.wheelDelta || -e.originalEvent.detail;\r\n    var scrollTop = that.layMain.scrollTop();\r\n    var step = 100;\r\n    var rAFStep = 10;\r\n\r\n    e.preventDefault();\r\n    var cb = function () {\r\n      if (step > 0) {\r\n        step -= rAFStep;\r\n        scrollTop += delta > 0 ? -rAFStep : rAFStep;\r\n        that.layMain.scrollTop(scrollTop);\r\n        rAF(cb);\r\n      }\r\n    };\r\n    rAF(cb);\r\n  });\r\n};\r\n\r\n/**\r\n * 获取元素的大小\r\n * @param {HTMLElement} elem - HTML 元素\r\n */\r\nClass.prototype.getElementSize = function (elem) {\r\n  if (!window.getComputedStyle) return;\r\n\r\n  var style = window.getComputedStyle(elem, null);\r\n  return {\r\n    height: parseFloat(style.height || '0'),\r\n    width: parseFloat(style.width || '0'),\r\n    borderTopWidth: parseFloat(style.borderTopWidth || '0'),\r\n    borderRightWidth: parseFloat(style.borderRightWidth || '0'),\r\n    borderBottomWidth: parseFloat(style.borderBottomWidth || '0'),\r\n    borderLeftWidth: parseFloat(style.borderLeftWidth || '0'),\r\n    paddingTop: parseFloat(style.paddingTop || '0'),\r\n    paddingRight: parseFloat(style.paddingRight || '0'),\r\n    paddingBottom: parseFloat(style.paddingBottom || '0'),\r\n    paddingLeft: parseFloat(style.paddingLeft || '0'),\r\n    marginTop: parseFloat(style.marginTop || '0'),\r\n    marginRight: parseFloat(style.marginRight || '0'),\r\n    marginBottom: parseFloat(style.marginBottom || '0'),\r\n    marginLeft: parseFloat(style.marginLeft || '0'),\r\n    boxSizing: style.boxSizing,\r\n  };\r\n};\r\n\r\n/**\r\n * 获取元素 content 区域宽度值\r\n *\r\n * layui 内置 jQuery v1.12.4 中的 jQuery.fn.width 始终对值四舍五入(3.x 已修复),\r\n * 在支持 subpixel Rendering 的浏览器中渲染表格，由于列宽分配时计算值精度不足，\r\n * 可能会导致一些小问题(#1726)\r\n *\r\n * 这个方法使用 getComputedStyle 获取精确的宽度值进行计算，为了尽可能和以前的行为\r\n * 保持一致(主要是隐藏元素内渲染 table 递归获取父元素宽度 https://github.com/layui/layui/discussions/2398)，\r\n * 任何非预期的值，都回退到 jQuery.fn.width。未来的版本使用 ResizeObserver 时，可以直接获取表格视图元素的宽度，\r\n * 并移除兼容性代码\r\n *\r\n * @param {JQuery} elem - 元素的 jQuery 对象\r\n *\r\n * @see {@link https://learn.microsoft.com/zh-cn/archive/blogs/ie_cn/css-3}\r\n */\r\nClass.prototype.getContentWidth = function (elem) {\r\n  var that = this;\r\n\r\n  if (\r\n    // document\r\n    elem[0].nodeType === 9 ||\r\n    // IE 中 border-box 盒模型，getComputedStyle 得到的 width/height 是按照 content-box 计算出来的\r\n    (lay.ie && elem.css('box-sizing') === 'border-box') ||\r\n    elem.css('display') === 'none'\r\n  ) {\r\n    return elem.width();\r\n  }\r\n\r\n  var size = that.getElementSize(elem[0]);\r\n\r\n  // display: none|inline 元素，getComputedStyle 无法得到准确的 width/height\r\n  if (typeof size === 'undefined' || !size.width) {\r\n    return elem.width();\r\n  } else {\r\n    return size.boxSizing === 'border-box'\r\n      ? size.width -\r\n          size.paddingLeft -\r\n          size.paddingRight -\r\n          size.borderLeftWidth -\r\n          size.borderRightWidth\r\n      : size.width;\r\n  }\r\n};\r\n\r\nClass.prototype.dispose = function () {\r\n  var that = this;\r\n\r\n  that.unobserveResize();\r\n  for (var propName in that) {\r\n    if (lay.hasOwn(that, propName) && propName !== 'config') {\r\n      that[propName] = null;\r\n    }\r\n  }\r\n};\r\n\r\nClass.prototype.calcFixedRowHeight = function () {\r\n  var that = this;\r\n\r\n  var tableElem = that.layMain.children('table');\r\n  var leftTrs = that.layFixLeft.find('>.layui-table-body>table>tbody>tr');\r\n  var rightTrs = that.layFixRight.find('>.layui-table-body>table>tbody>tr');\r\n  var mainTrs = tableElem.find('>tbody>tr');\r\n\r\n  // 批量获取主表格行高，设置高度以优化性能\r\n  var heights = [];\r\n  mainTrs.each(function () {\r\n    heights.push(that.getElementSize(this).height);\r\n  });\r\n\r\n  if (leftTrs.length) {\r\n    leftTrs.each(function (i) {\r\n      if (heights[i]) {\r\n        this.style.height = heights[i] + 'px';\r\n      }\r\n    });\r\n  }\r\n\r\n  if (rightTrs.length) {\r\n    rightTrs.each(function (i) {\r\n      if (heights[i]) {\r\n        this.style.height = heights[i] + 'px';\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\n// 鼠标悬停于某一列纵向移动时，若单元格会出现横向滚动条，此时 tbody 高度不变，需要修复行高\r\nClass.prototype.fixedRowHeightPatchOnHover = function (\r\n  targetEl,\r\n  trsElem,\r\n  isEnter,\r\n) {\r\n  var that = this;\r\n  var style = that.elem.children('style')[0];\r\n  var selector = '.' + FIXED_HEIGHT_PATCH;\r\n\r\n  trsElem.toggleClass(FIXED_HEIGHT_PATCH, isEnter);\r\n  // 将当前鼠标悬停行的高度同步到 FIXED_HEIGHT_PATCH （所有区域）类名的样式中\r\n  if (isEnter) {\r\n    lay.getStyleRules(style, function (item) {\r\n      if (item.selectorText === selector) {\r\n        item.style.setProperty(\r\n          'height',\r\n          that.getElementSize(targetEl).height + 'px',\r\n          'important',\r\n        );\r\n      }\r\n    });\r\n  } else {\r\n    // 将当前鼠标悬停行主区域的行高同步到固定列行\r\n    var height;\r\n    lay.getStyleRules(style, function (item) {\r\n      if (item.selectorText === selector) {\r\n        item.style.setProperty('height', 'auto');\r\n      }\r\n    });\r\n    trsElem = trsElem.filter(function () {\r\n      var tr = $(this);\r\n      var isFixed = tr.closest(ELEM_FIXED, that.layBox).length > 0;\r\n      if (!isFixed) {\r\n        height = that.getElementSize(tr[0]).height;\r\n      }\r\n      return isFixed;\r\n    });\r\n\r\n    trsElem.css('height', height);\r\n  }\r\n};\r\n\r\nClass.prototype.observeResize = function () {\r\n  var that = this;\r\n\r\n  if (!resizeObserver) return;\r\n\r\n  that.unobserveResize();\r\n\r\n  var el = that.elem[0];\r\n  var tableEl = that.layMain.children('table')[0];\r\n  // 显示或隐藏时重置列宽\r\n  resizeObserver.observe(el, $.proxy(that.resize, that));\r\n\r\n  // 同步固定列表格和主表格高度\r\n  var lineStyle = that.config.lineStyle;\r\n  var isAutoHeight = lineStyle && /\\bheight\\s*:\\s*auto\\b/g.test(lineStyle);\r\n  // 只重载数据时需要主动同步高度，因为 tbody 大小可能不变\r\n  var needSyncFixedRowHeight = (that.needSyncFixedRowHeight =\r\n    that.layBody.length > 1 &&\r\n    (that.config.syncFixedRowHeight ||\r\n      (that.config.syncFixedRowHeight !== false && isAutoHeight)));\r\n\r\n  if (needSyncFixedRowHeight) {\r\n    resizeObserver.observe(tableEl, $.proxy(that.calcFixedRowHeight, that));\r\n  }\r\n\r\n  that.unobserveResize = function () {\r\n    resizeObserver.unobserve(el);\r\n    if (needSyncFixedRowHeight) {\r\n      resizeObserver.unobserve(tableEl);\r\n    }\r\n\r\n    that.unobserveResize = $.noop;\r\n  };\r\n};\r\n\r\n// 全局事件\r\n(function () {\r\n  // 自适应尺寸\r\n  _WIN.on('resize', function () {\r\n    layui.each(thisTable.that, function () {\r\n      this.resize();\r\n    });\r\n  });\r\n\r\n  // 全局点击\r\n  _DOC.on('click', function () {\r\n    _DOC.trigger('table.remove.tool.panel');\r\n  });\r\n\r\n  // 工具面板移除事件\r\n  _DOC.on('table.remove.tool.panel', function () {\r\n    $('.' + ELEM_TOOL_PANEL).remove();\r\n  });\r\n})();\r\n\r\n// 初始化\r\ntable.init = function (filter, settings) {\r\n  settings = settings || {};\r\n  var that = this;\r\n  var inst = null;\r\n  var elemTable =\r\n    typeof filter === 'object'\r\n      ? filter\r\n      : typeof filter === 'string'\r\n        ? $('table[lay-filter=\"' + filter + '\"]')\r\n        : $(ELEM + '[lay-data], ' + ELEM + '[lay-options]');\r\n  var errorTips =\r\n    'Table element property lay-data configuration item has a syntax error: ';\r\n\r\n  //遍历数据表格\r\n  elemTable.each(function () {\r\n    var othis = $(this);\r\n    var attrData = othis.attr('lay-data');\r\n    var tableData = lay.options(this, {\r\n      attr: attrData ? 'lay-data' : null,\r\n      errorText: errorTips + (attrData || othis.attr('lay-options')),\r\n    });\r\n\r\n    var options = $.extend(\r\n      {\r\n        elem: this,\r\n        cols: [],\r\n        data: [],\r\n        skin: othis.attr('lay-skin'), //风格\r\n        size: othis.attr('lay-size'), //尺寸\r\n        even: typeof othis.attr('lay-even') === 'string', //偶数行背景\r\n      },\r\n      table.config,\r\n      settings,\r\n      tableData,\r\n    );\r\n\r\n    filter && othis.hide();\r\n\r\n    //获取表头数据\r\n    othis.find('thead>tr').each(function (i) {\r\n      options.cols[i] = [];\r\n      $(this)\r\n        .children()\r\n        .each(function (ii) {\r\n          var th = $(this);\r\n          var attrData = th.attr('lay-data');\r\n          var itemData = lay.options(this, {\r\n            attr: attrData ? 'lay-data' : null,\r\n            errorText: errorTips + (attrData || th.attr('lay-options')),\r\n          });\r\n\r\n          var row = $.extend(\r\n            {\r\n              title: th.text(),\r\n              colspan: parseInt(th.attr('colspan')) || 1, //列单元格\r\n              rowspan: parseInt(th.attr('rowspan')) || 1, //行单元格\r\n            },\r\n            itemData,\r\n          );\r\n\r\n          options.cols[i].push(row);\r\n        });\r\n    });\r\n\r\n    //缓存静态表体数据\r\n    var trElem = othis.find('tbody>tr');\r\n\r\n    //执行渲染\r\n    var tableIns = table.render(options);\r\n\r\n    //获取表体数据\r\n    if (trElem.length && !settings.data && !tableIns.config.url) {\r\n      var tdIndex = 0;\r\n      table.eachCols(tableIns.config.id, function (i3, item3) {\r\n        trElem.each(function (i1) {\r\n          options.data[i1] = options.data[i1] || {};\r\n          var tr = $(this);\r\n          var field = item3.field;\r\n          options.data[i1][field] = tr.children('td').eq(tdIndex).html();\r\n        });\r\n        tdIndex++;\r\n      });\r\n\r\n      tableIns.reloadData({\r\n        data: options.data,\r\n      });\r\n    }\r\n  });\r\n\r\n  return that;\r\n};\r\n\r\n//记录所有实例\r\nthisTable.that = {}; //记录所有实例对象\r\nthisTable.config = {}; //记录所有实例配置项\r\n\r\nvar eachChildCols = function (index, cols, i1, item2) {\r\n  //如果是组合列，则捕获对应的子列\r\n  if (item2.colGroup) {\r\n    var childIndex = 0;\r\n    index++;\r\n    item2.CHILD_COLS = [];\r\n    // 找到它的子列所在cols的下标\r\n    var i2 = i1 + (parseInt(item2.rowspan) || 1);\r\n    layui.each(cols[i2], function (i22, item22) {\r\n      if (item22.parentKey) {\r\n        // 如果字段信息中包含了parentKey和key信息\r\n        if (item22.parentKey === item2.key) {\r\n          item22.PARENT_COL_INDEX = index;\r\n          item2.CHILD_COLS.push(item22);\r\n          eachChildCols(index, cols, i2, item22);\r\n        }\r\n      } else {\r\n        // 没有key信息以colspan数量所谓判断标准\r\n        //如果子列已经被标注为{PARENT_COL_INDEX}，或者子列累计 colspan 数等于父列定义的 colspan，则跳出当前子列循环\r\n        if (\r\n          item22.PARENT_COL_INDEX ||\r\n          (childIndex >= 1 && childIndex == (item2.colspan || 1))\r\n        )\r\n          return;\r\n        item22.PARENT_COL_INDEX = index;\r\n        item2.CHILD_COLS.push(item22);\r\n        childIndex =\r\n          childIndex + parseInt(item22.colspan > 1 ? item22.colspan : 1);\r\n        eachChildCols(index, cols, i2, item22);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\n// 遍历表头\r\ntable.eachCols = function (id, callback, cols) {\r\n  var config = thisTable.config[id] || {};\r\n  var arrs = [],\r\n    index = 0;\r\n\r\n  cols = $.extend(true, [], cols || config.cols);\r\n\r\n  //重新整理表头结构\r\n  layui.each(cols, function (i1, item1) {\r\n    if (i1) return true; // 只需遍历第一层\r\n    layui.each(item1, function (i2, item2) {\r\n      eachChildCols(index, cols, i1, item2);\r\n      if (item2.PARENT_COL_INDEX) return; //如果是子列，则不进行追加，因为已经存储在父列中\r\n      arrs.push(item2);\r\n    });\r\n  });\r\n\r\n  //重新遍历列，如果有子列，则进入递归\r\n  var eachArrs = function (obj) {\r\n    layui.each(obj || arrs, function (i, item) {\r\n      if (item.CHILD_COLS) return eachArrs(item.CHILD_COLS);\r\n      typeof callback === 'function' && callback(i, item);\r\n    });\r\n  };\r\n\r\n  eachArrs();\r\n};\r\n\r\n// 获取表格选中状态\r\ntable.checkStatus = function (id) {\r\n  var invalidNum = 0;\r\n  var arr = [];\r\n  var dataCache = [];\r\n  var data = table.cache[id] || [];\r\n\r\n  // 过滤禁用或已删除的数据\r\n  layui.each(data, function (i, item) {\r\n    if (layui.type(item) === 'array' || item[table.config.disabledName]) {\r\n      invalidNum++; // 无效数据数量\r\n      return;\r\n    }\r\n    if (item[table.config.checkName]) {\r\n      arr.push(table.clearCacheKey(item));\r\n      dataCache.push(item);\r\n    }\r\n  });\r\n\r\n  return {\r\n    data: arr, // 选中的数据\r\n    dataCache: dataCache, // 选中的原始缓存数据，包含内部特定字段\r\n    isAll:\r\n      data.length && arr.length\r\n        ? arr.length === data.length - invalidNum\r\n        : false, // 是否全选\r\n  };\r\n};\r\n\r\n// 设置行选中状态\r\ntable.setRowChecked = function (id, opts) {\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n  that.setRowChecked(opts);\r\n};\r\n\r\n// 获取表格当前页的所有行数据\r\ntable.getData = function (id) {\r\n  var arr = [];\r\n  var data = table.cache[id] || [];\r\n  layui.each(data, function (i, item) {\r\n    if (layui.type(item) === 'array') {\r\n      return;\r\n    }\r\n    arr.push(table.clearCacheKey(item));\r\n  });\r\n  return arr;\r\n};\r\n\r\n// 重置表格尺寸结构\r\ntable.resize = function (id) {\r\n  // 若指定表格唯一 id，则只执行该 id 对应的表格实例\r\n  if (id) {\r\n    var config = getThisTableConfig(id); // 获取当前实例配置项\r\n    if (!config) return;\r\n\r\n    getThisTable(id).resize();\r\n  } else {\r\n    // 否则重置所有表格实例尺寸\r\n    layui.each(thisTable.that, function () {\r\n      this.resize();\r\n    });\r\n  }\r\n};\r\n\r\n// 表格导出\r\ntable.exportFile = function (id, data, opts) {\r\n  data = data || table.clearCacheKey(table.cache[id]);\r\n  opts =\r\n    typeof opts === 'object'\r\n      ? opts\r\n      : (function () {\r\n          var obj = {};\r\n          opts && (obj.type = opts);\r\n          return obj;\r\n        })();\r\n\r\n  var type = opts.type || 'csv';\r\n  var thatTable = thisTable.that[id];\r\n  var config = thisTable.config[id] || {};\r\n  var textType = {\r\n    csv: 'text/csv',\r\n    xls: 'application/vnd.ms-excel',\r\n  }[type];\r\n  var alink = document.createElement('a');\r\n\r\n  if (device.ie) return hint.error('IE_NOT_SUPPORT_EXPORTS');\r\n\r\n  // 处理 treeTable 数据\r\n  var isTreeTable = config.tree && config.tree.view;\r\n  if (isTreeTable) {\r\n    try {\r\n      data = $.extend(true, [], table.cache[id]);\r\n      data = (function fn(data) {\r\n        return data.reduce(function (acc, obj) {\r\n          var children = obj.children || [];\r\n          delete obj.children;\r\n          return acc.concat(obj, fn(children));\r\n        }, []);\r\n      })(Array.from(data));\r\n    } catch {\r\n      // ignore\r\n    }\r\n  }\r\n\r\n  alink.href =\r\n    'data:' +\r\n    textType +\r\n    ';charset=utf-8,\\ufeff' +\r\n    encodeURIComponent(\r\n      (function () {\r\n        var dataTitle = [];\r\n        var dataMain = [];\r\n        var dataTotal = [];\r\n        var fieldsIsHide = {};\r\n\r\n        // 表头和表体\r\n        layui.each(data, function (i1, item1) {\r\n          var vals = [];\r\n          if (typeof id === 'object') {\r\n            // 若 id 参数直接为表头数据\r\n            layui.each(id, function (i, item) {\r\n              i1 == 0 && dataTitle.push(item || '');\r\n            });\r\n            layui.each(\r\n              layui.isArray(item1)\r\n                ? $.extend([], item1)\r\n                : table.clearCacheKey(item1),\r\n              function (i2, item2) {\r\n                vals.push('\"' + (item2 || '') + '\"');\r\n              },\r\n            );\r\n          } else {\r\n            table.eachCols(id, function (i3, item3) {\r\n              if (\r\n                item3.ignoreExport === false ||\r\n                (item3.field && item3.type == 'normal')\r\n              ) {\r\n                // 不导出隐藏列，除非设置 ignoreExport 强制导出\r\n                if (\r\n                  (item3.hide && item3.ignoreExport !== false) ||\r\n                  item3.ignoreExport === true // 忽略导出\r\n                ) {\r\n                  if (i1 == 0) fieldsIsHide[item3.field] = true; // 记录隐藏列\r\n                  return;\r\n                }\r\n\r\n                var content = item1[item3.field];\r\n                if (content === undefined || content === null) content = '';\r\n\r\n                i1 == 0 &&\r\n                  dataTitle.push(\r\n                    item3.fieldTitle || item3.title || item3.field || '',\r\n                  );\r\n\r\n                // 解析内容\r\n                content = parseTempData.call(thatTable, {\r\n                  item3: item3,\r\n                  content: content,\r\n                  tplData: item1,\r\n                  text: 'text',\r\n                  obj: {\r\n                    td: function (field) {\r\n                      if (isTreeTable) i1 = item1['LAY_DATA_INDEX']; // 兼容 treeTable 索引\r\n                      var td = thatTable.layBody.find(\r\n                        'tr[data-index=\"' + i1 + '\"]>td',\r\n                      );\r\n                      return td.filter('[data-field=\"' + field + '\"]');\r\n                    },\r\n                  },\r\n                });\r\n\r\n                // 异常处理\r\n                content = content.replace(/\"/g, '\"\"'); // 避免内容存在「双引号」导致异常分隔\r\n                // content += '\\t'; // 加「水平制表符」 避免内容被转换格式\r\n                content = '\"' + content + '\"'; // 避免内容存在「逗号」导致异常分隔\r\n\r\n                // 插入内容\r\n                vals.push(content);\r\n              } else if (item3.field && item3.type !== 'normal') {\r\n                // https://gitee.com/layui/layui/issues/I8PHCR\r\n                if (i1 == 0) fieldsIsHide[item3.field] = true;\r\n              }\r\n            });\r\n          }\r\n          dataMain.push(vals.join(','));\r\n        });\r\n\r\n        // 表合计\r\n        thatTable &&\r\n          layui.each(thatTable.dataTotal, function (i, o) {\r\n            fieldsIsHide[o.field] ||\r\n              dataTotal.push('\"' + (o.total || '') + '\"');\r\n          });\r\n\r\n        return (\r\n          dataTitle.join(',') +\r\n          '\\r\\n' +\r\n          dataMain.join('\\r\\n') +\r\n          '\\r\\n' +\r\n          dataTotal.join(',')\r\n        );\r\n      })(),\r\n    );\r\n\r\n  alink.download =\r\n    (opts.title || config.title || 'table_' + (config.index || '')) +\r\n    '.' +\r\n    type;\r\n  document.body.appendChild(alink);\r\n  alink.click();\r\n  document.body.removeChild(alink);\r\n};\r\n\r\n// 获取表格配置信息\r\ntable.getOptions = function (id) {\r\n  return getThisTableConfig(id);\r\n};\r\n\r\n// 显示或隐藏列\r\ntable.hideCol = function (id, cols) {\r\n  var that = getThisTable(id);\r\n  if (!that) {\r\n    return;\r\n  }\r\n\r\n  if (layui.type(cols) === 'boolean') {\r\n    // 显示全部或者隐藏全部\r\n    that.eachCols(function (i2, item2) {\r\n      var key = item2.key;\r\n      var col = that.col(key);\r\n      var parentKey = item2.parentKey;\r\n      // 同步勾选列的 hide 值和隐藏样式\r\n      if (col.hide != cols) {\r\n        var hide = (col.hide = cols);\r\n        that.elem\r\n          .find('*[data-key=\"' + key + '\"]')\r\n          [hide ? 'addClass' : 'removeClass'](HIDE);\r\n        // 根据列的显示隐藏，同步多级表头的父级相关属性值\r\n        that.setParentCol(hide, parentKey);\r\n      }\r\n    });\r\n  } else {\r\n    cols = layui.isArray(cols) ? cols : [cols];\r\n    layui.each(cols, function (i1, item1) {\r\n      that.eachCols(function (i2, item2) {\r\n        if (item1.field === item2.field) {\r\n          var key = item2.key;\r\n          var col = that.col(key);\r\n          var parentKey = item2.parentKey;\r\n          // 同步勾选列的 hide 值和隐藏样式\r\n          if ('hide' in item1 && col.hide != item1.hide) {\r\n            var hide = (col.hide = !!item1.hide);\r\n            that.elem\r\n              .find('*[data-key=\"' + key + '\"]')\r\n              [hide ? 'addClass' : 'removeClass'](HIDE);\r\n            // 根据列的显示隐藏，同步多级表头的父级相关属性值\r\n            that.setParentCol(hide, parentKey);\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n  $('.' + ELEM_TOOL_PANEL).remove(); // 关闭字段筛选面板如果打开的话\r\n  // 重新适配尺寸\r\n  that.resize();\r\n};\r\n\r\n// 重载\r\ntable.reload = function (id, options, deep, type) {\r\n  var config = getThisTableConfig(id); //获取当前实例配置项\r\n  if (!config) return;\r\n\r\n  var that = getThisTable(id);\r\n  that.reload(options, deep, type);\r\n\r\n  return thisTable.call(that);\r\n};\r\n\r\n// 仅重载数据\r\ntable.reloadData = function () {\r\n  var args = $.extend([], arguments);\r\n  args[3] = 'reloadData';\r\n\r\n  // 重载时，影响整个结构的参数，不适合更新的参数\r\n  var dataParams = new RegExp(\r\n    '^(' +\r\n      [\r\n        'elem',\r\n        'id',\r\n        'cols',\r\n        'width',\r\n        'height',\r\n        'maxHeight',\r\n        'toolbar',\r\n        'defaultToolbar',\r\n        'className',\r\n        'css',\r\n        'pagebar',\r\n      ].join('|') +\r\n      ')$',\r\n  );\r\n\r\n  // 过滤与数据无关的参数\r\n  layui.each(args[1], function (key, value) {\r\n    if (dataParams.test(key)) {\r\n      delete args[1][key];\r\n    }\r\n  });\r\n\r\n  return table.reload.apply(null, args);\r\n};\r\n\r\n// 核心入口\r\ntable.render = function (options) {\r\n  var inst = new Class(options);\r\n  return thisTable.call(inst);\r\n};\r\n\r\n// 清除临时 Key\r\ntable.clearCacheKey = function (data) {\r\n  data = $.extend({}, data);\r\n  delete data[table.config.checkName];\r\n  delete data[table.config.indexName];\r\n  delete data[table.config.initIndexName];\r\n  delete data[table.config.numbersName];\r\n  delete data[table.config.disabledName];\r\n  return data;\r\n};\r\n\r\n// 自动完成渲染\r\n$(function () {\r\n  table.init();\r\n});\r\n\r\nexport { table };\r\n","/**\r\n * layui.treeTable\r\n * 树表组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport $ from 'jquery';\r\nimport { form } from './form.js';\r\nimport { table } from './table.js';\r\n\r\nvar hint = layui.hint();\r\n\r\n// api\r\nvar treeTable = {\r\n  config: {},\r\n  // 事件\r\n  on: table.on,\r\n  // 遍历字段\r\n  eachCols: table.eachCols,\r\n  index: table.index,\r\n  set: function (options) {\r\n    var that = this;\r\n    that.config = $.extend({}, that.config, options);\r\n    return that;\r\n  },\r\n  resize: table.resize,\r\n  getOptions: table.getOptions,\r\n  hideCol: table.hideCol,\r\n  renderData: table.renderData,\r\n};\r\n\r\n// 操作当前实例\r\nvar thisTreeTable = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var id = options.id || options.index;\r\n\r\n  return {\r\n    config: options,\r\n    reload: function (options, deep) {\r\n      that.reload.call(that, options, deep);\r\n    },\r\n    reloadData: function (options, deep) {\r\n      treeTable.reloadData(id, options, deep);\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * 获取当前实例\r\n * @param {string} id 表格id\r\n * @returns {Class}\r\n */\r\nvar getThisTable = function (id) {\r\n  var that = thisTreeTable.that[id];\r\n  if (!that)\r\n    hint.error(\r\n      id\r\n        ? \"The treeTable instance with ID '\" + id + \"' not found\"\r\n        : 'ID argument required',\r\n    );\r\n  return that || null;\r\n};\r\n\r\n// 字符\r\nvar MOD_NAME = 'treeTable';\r\nvar MOD_ID = 'lay-table-id';\r\nvar HIDE = 'layui-hide';\r\n\r\nvar ELEM_VIEW = '.layui-table-view';\r\nvar ELEM_TREE = '.layui-table-tree';\r\nvar ELEM_TOOL = '.layui-table-tool';\r\nvar ELEM_BOX = '.layui-table-box';\r\nvar ELEM_HEADER = '.layui-table-header';\r\nvar ELEM_BODY = '.layui-table-body';\r\nvar ELEM_MAIN = '.layui-table-main';\r\nvar ELEM_FIXED = '.layui-table-fixed';\r\nvar ELEM_FIXL = '.layui-table-fixed-l';\r\nvar ELEM_FIXR = '.layui-table-fixed-r';\r\nvar ELEM_CHECKED = 'layui-table-checked';\r\n\r\nvar TABLE_TREE = 'layui-table-tree';\r\nvar LAY_DATA_INDEX = 'LAY_DATA_INDEX';\r\nvar LAY_DATA_INDEX_HISTORY = 'LAY_DATA_INDEX_HISTORY';\r\nvar LAY_PARENT_INDEX = 'LAY_PARENT_INDEX';\r\nvar LAY_CHECKBOX_HALF = 'LAY_CHECKBOX_HALF';\r\nvar LAY_EXPAND = 'LAY_EXPAND';\r\nvar LAY_HAS_EXPANDED = 'LAY_HAS_EXPANDED';\r\nvar LAY_ASYNC_STATUS = 'LAY_ASYNC_STATUS';\r\nvar LAY_CASCADE = ['all', 'parent', 'children', 'none'];\r\nvar HTML_TAG_RE = /<[^>]+?>/;\r\nvar ICON_PROPS = [\r\n  'flexIconClose',\r\n  'flexIconOpen',\r\n  'iconClose',\r\n  'iconOpen',\r\n  'iconLeaf',\r\n  'icon',\r\n];\r\n\r\n/**\r\n * 构造器\r\n * @class\r\n */\r\nvar Class = function (options) {\r\n  var that = this;\r\n  that.index = ++treeTable.index;\r\n  that.config = $.extend(true, {}, that.config, treeTable.config, options);\r\n  // 处理一些属性\r\n  that.init();\r\n  that.render();\r\n};\r\n\r\nvar updateCache = function (id, childrenKey, data) {\r\n  var tableCache = table.cache[id];\r\n  layui.each(data || tableCache, function (index, item) {\r\n    var itemDataIndex = item[LAY_DATA_INDEX] || '';\r\n    if (itemDataIndex.indexOf('-') !== -1) {\r\n      tableCache[itemDataIndex] = item;\r\n    }\r\n    item[childrenKey] && updateCache(id, childrenKey, item[childrenKey]);\r\n  });\r\n};\r\n\r\nvar updateOptions = function (id, options, reload) {\r\n  var that = getThisTable(id);\r\n  reload === 'reloadData' ||\r\n    (that.status = {\r\n      // 用于记录一些状态信息\r\n      expand: {}, // 折叠状态\r\n    });\r\n  var thatOptionsTemp = $.extend(true, {}, that.getOptions(), options);\r\n  var treeOptions = thatOptionsTemp.tree;\r\n  var childrenKey = treeOptions.customName.children;\r\n  var idKey = treeOptions.customName.id;\r\n  // 处理属性\r\n  delete options.hasNumberCol;\r\n  delete options.hasChecboxCol;\r\n  delete options.hasRadioCol;\r\n  table.eachCols(\r\n    null,\r\n    function (i1, item1) {\r\n      if (item1.type === 'numbers') {\r\n        options.hasNumberCol = true;\r\n      } else if (item1.type === 'checkbox') {\r\n        options.hasChecboxCol = true;\r\n      } else if (item1.type === 'radio') {\r\n        options.hasRadioCol = true;\r\n      }\r\n    },\r\n    thatOptionsTemp.cols,\r\n  );\r\n\r\n  var parseData = options.parseData;\r\n  var done = options.done;\r\n\r\n  // treeTable重载数据时，会先加载显示顶层节点，然后根据重载数据前的子节点展开状态，展开相应的子节点，\r\n  // 那么如果重载数据前有滚动条滚动在某个位子，重新加载时顶层节点如果比较少，只显示顶层节点时没有滚动条的情况下，\r\n  // 自动展开子节点后，滚动条就会显示在顶部，无法保持在重载数据之前的位置。\r\n  // 处理保持滚动条的问题，重载数据前记录滚动条的位置\r\n  if (reload === 'reloadData' && thatOptionsTemp.scrollPos === 'fixed') {\r\n    that.scrollTopCache = that.config.elem.next().find(ELEM_BODY).scrollTop();\r\n  }\r\n\r\n  if (thatOptionsTemp.url) {\r\n    // 异步加载的时候需要处理parseData进行转换\r\n    if (!reload || (reload && parseData && !parseData.mod)) {\r\n      options.parseData = function () {\r\n        var parseDataThat = this;\r\n        var args = arguments;\r\n        var retData = args[0];\r\n        if (layui.type(parseData) === 'function') {\r\n          retData = parseData.apply(parseDataThat, args) || args[0];\r\n        }\r\n        var dataName = parseDataThat.response.dataName;\r\n        // 处理 isSimpleData\r\n        if (treeOptions.data.isSimpleData && !treeOptions.async.enable) {\r\n          // 异步加载和 isSimpleData 不应该一起使用\r\n          retData[dataName] = that.flatToTree(retData[dataName]);\r\n        }\r\n        // 处理节点状态\r\n        updateStatus(\r\n          retData[dataName],\r\n          function (item) {\r\n            item[LAY_EXPAND] =\r\n              LAY_EXPAND in item\r\n                ? item[LAY_EXPAND]\r\n                : item[idKey] !== undefined && that.status.expand[item[idKey]];\r\n          },\r\n          childrenKey,\r\n        );\r\n\r\n        if (\r\n          parseDataThat.autoSort &&\r\n          parseDataThat.initSort &&\r\n          parseDataThat.initSort.type\r\n        ) {\r\n          layui.sort(\r\n            retData[dataName],\r\n            parseDataThat.initSort.field,\r\n            parseDataThat.initSort.type === 'desc',\r\n            true,\r\n          );\r\n        }\r\n\r\n        that.initData(retData[dataName]);\r\n\r\n        return retData;\r\n      };\r\n      options.parseData.mod = true;\r\n    }\r\n  } else {\r\n    if (options.data !== undefined) {\r\n      options.data = options.data || [];\r\n      // 处理 isSimpleData\r\n      if (treeOptions.data.isSimpleData) {\r\n        options.data = that.flatToTree(options.data);\r\n      }\r\n      that.initData(options.data);\r\n    }\r\n  }\r\n\r\n  if (!reload || (reload && done && !done.mod)) {\r\n    options.done = function () {\r\n      var args = arguments;\r\n      var doneThat = this;\r\n      // undefined: 初始 render 或 reload，两者本质没有区别可以不做区分\r\n      // 'reloadData': 重载数据\r\n      // 'renderData': 重新渲染数据\r\n      var renderType = args[3];\r\n      var isRenderData = renderType === 'renderData';\r\n      if (!isRenderData) {\r\n        delete that.isExpandAll;\r\n      }\r\n\r\n      var tableView = this.elem.next();\r\n      that.updateStatus(null, {\r\n        LAY_HAS_EXPANDED: false, // 去除已经打开过的状态\r\n      });\r\n      // 更新cache中的内容 将子节点也存到cache中\r\n      updateCache(id, childrenKey);\r\n      // 更新全选框的状态\r\n      var layTableAllChooseElem = tableView.find(\r\n        '[name=\"layTableCheckbox\"][lay-filter=\"layTableAllChoose\"]',\r\n      );\r\n      if (layTableAllChooseElem.length) {\r\n        var checkStatus = treeTable.checkStatus(id);\r\n        layTableAllChooseElem.prop({\r\n          checked: checkStatus.isAll && checkStatus.data.length,\r\n          indeterminate: !checkStatus.isAll && checkStatus.data.length,\r\n        });\r\n      }\r\n      if (\r\n        !isRenderData &&\r\n        thatOptionsTemp.autoSort &&\r\n        thatOptionsTemp.initSort &&\r\n        thatOptionsTemp.initSort.type\r\n      ) {\r\n        treeTable.sort(id);\r\n      }\r\n\r\n      that.renderTreeTable(tableView);\r\n\r\n      // 恢复滚动条位置\r\n      if (renderType === 'reloadData' && doneThat.scrollPos === 'fixed') {\r\n        tableView.find(ELEM_BODY).scrollTop(that.scrollTopCache);\r\n      }\r\n\r\n      if (layui.type(done) === 'function') {\r\n        return done.apply(doneThat, args);\r\n      }\r\n    };\r\n    options.done.mod = true;\r\n  }\r\n\r\n  // 处理图标\r\n  if (options && options.tree && options.tree.view) {\r\n    layui.each(ICON_PROPS, function (i, iconProp) {\r\n      if (options.tree.view[iconProp] !== undefined) {\r\n        options.tree.view[iconProp] = that.normalizedIcon(\r\n          options.tree.view[iconProp],\r\n        );\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nClass.prototype.init = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var cascade = options.tree.data.cascade;\r\n  if (LAY_CASCADE.indexOf(cascade) === -1) {\r\n    options.tree.data.cascade = 'all'; // 超出范围的都重置为全联动\r\n  }\r\n\r\n  // 先初始一个空的表格以便拿到对应的表格实例信息\r\n  var tableIns = table.render(\r\n    $.extend({}, options, {\r\n      data: [],\r\n      url: '',\r\n      done: null,\r\n    }),\r\n  );\r\n  var id = tableIns.config.id;\r\n  thisTreeTable.that[id] = that; // 记录当前实例对象\r\n  that.tableIns = tableIns;\r\n\r\n  updateOptions(id, options);\r\n};\r\n\r\n// 初始默认配置\r\nClass.prototype.config = {\r\n  tree: {\r\n    customName: {\r\n      children: 'children', // 节点数据中保存子节点数据的属性名称\r\n      isParent: 'isParent', // 节点数据保存节点是否为父节点的属性名称\r\n      name: 'name', // 节点数据保存节点名称的属性名称\r\n      id: 'id', // 唯一标识的属性名称\r\n      pid: 'parentId', // 父节点唯一标识的属性名称\r\n      icon: 'icon', // 图标的属性名称\r\n    },\r\n    view: {\r\n      indent: 14, // 层级缩进量\r\n      flexIconClose: '<i class=\"layui-icon layui-icon-triangle-r\"></i>', // 关闭时候的折叠图标\r\n      flexIconOpen: '<i class=\"layui-icon layui-icon-triangle-d\"></i>', // 打开时候的折叠图标\r\n      showIcon: true, // 是否显示图标(节点类型图标)\r\n      icon: '', // 节点图标，如果设置了这个属性或者数据中有这个字段信息，不管打开还是关闭都以这个图标的值为准\r\n      iconClose: '<i class=\"layui-icon layui-icon-folder\"></i>', // 关闭时候的图标\r\n      iconOpen: '<i class=\"layui-icon layui-icon-folder-open\"></i>', // 打开时候的图标\r\n      iconLeaf: '<i class=\"layui-icon layui-icon-leaf\"></i>', // 叶子节点的图标\r\n      showFlexIconIfNotParent: false, // 当节点不是父节点的时候是否显示折叠图标\r\n      dblClickExpand: true, // 双击节点时，是否自动展开父节点的标识\r\n      expandAllDefault: false, // 默认展开所有节点\r\n    },\r\n    data: {\r\n      isSimpleData: false, // 是否简单数据模式\r\n      rootPid: null, // 根节点的父 ID 值\r\n      cascade: 'all', // 级联方式 默认全部级联：all 可选 级联父 parent 级联子 children\r\n    },\r\n    async: {\r\n      enable: false, // 是否开启异步加载模式，只有开启的时候其他参数才起作用\r\n      url: '', // 异步加载的接口，可以根据需要设置与顶层接口不同的接口，如果相同可以不设置该参数\r\n      type: null, // 请求的接口类型，设置可缺省同上\r\n      contentType: null, // 提交参数的数据类型，设置可缺省同上\r\n      headers: null, // 设置可缺省同上\r\n      where: null, // 设置可缺省同上\r\n      autoParam: [], // 自动参数\r\n    },\r\n    callback: {\r\n      beforeExpand: null, // 展开前的回调 return false 可以阻止展开的动作\r\n      onExpand: null, // 展开之后的回调\r\n    },\r\n  },\r\n};\r\n\r\nClass.prototype.normalizedIcon = function (iconStr) {\r\n  return iconStr\r\n    ? HTML_TAG_RE.test(iconStr)\r\n      ? iconStr\r\n      : '<i class=\"' + iconStr + '\"></i>'\r\n    : '';\r\n};\r\n\r\nClass.prototype.getOptions = function () {\r\n  var that = this;\r\n  if (that.tableIns) {\r\n    return table.getOptions(that.tableIns.config.id); // 获取表格的实时配置信息\r\n  } else {\r\n    return that.config;\r\n  }\r\n};\r\n\r\nfunction flatToTree(flatArr, idKey, pIdKey, childrenKey, rootPid) {\r\n  idKey = idKey || 'id';\r\n  pIdKey = pIdKey || 'parentId';\r\n  childrenKey = childrenKey || 'children';\r\n  // 创建一个空的 map 对象，用于保存所有的节点\r\n  var map = {};\r\n  var rootNodes = [];\r\n\r\n  var idTemp = '';\r\n  var pidTemp = '';\r\n  layui.each(flatArr, function (index, item) {\r\n    idTemp = idKey + item[idKey];\r\n    pidTemp = idKey + item[pIdKey];\r\n\r\n    // 将节点存入 map 对象\r\n    if (!map[idTemp]) {\r\n      map[idTemp] = {};\r\n      map[idTemp][childrenKey] = [];\r\n    }\r\n\r\n    // 合并节点\r\n    var tempObj = {};\r\n    tempObj[childrenKey] = map[idTemp][childrenKey];\r\n    map[idTemp] = $.extend({}, item, tempObj);\r\n\r\n    var isRootNode = rootPid\r\n      ? map[idTemp][pIdKey] === rootPid\r\n      : !map[idTemp][pIdKey];\r\n    if (isRootNode) {\r\n      rootNodes.push(map[idTemp]);\r\n    } else {\r\n      if (!map[pidTemp]) {\r\n        map[pidTemp] = {};\r\n        map[pidTemp][childrenKey] = [];\r\n      }\r\n      map[pidTemp][childrenKey].push(map[idTemp]);\r\n    }\r\n  });\r\n\r\n  return rootNodes;\r\n}\r\n\r\nClass.prototype.flatToTree = function (tableData) {\r\n  var that = this;\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var customName = treeOptions.customName;\r\n  var tableId = options.id;\r\n\r\n  tableData = tableData || table.cache[tableId];\r\n\r\n  return flatToTree(\r\n    tableData,\r\n    customName.id,\r\n    customName.pid,\r\n    customName.children,\r\n    treeOptions.data.rootPid,\r\n  );\r\n};\r\n\r\nClass.prototype.treeToFlat = function (tableData, parentId, parentIndex) {\r\n  var that = this;\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var customName = treeOptions.customName;\r\n  var childrenKey = customName.children;\r\n  var pIdKey = customName.pid;\r\n\r\n  var flat = [];\r\n  layui.each(tableData, function (i1, item1) {\r\n    var dataIndex = (parentIndex ? parentIndex + '-' : '') + i1;\r\n    var dataNew = $.extend({}, item1);\r\n\r\n    dataNew[pIdKey] =\r\n      typeof item1[pIdKey] !== 'undefined' ? item1[pIdKey] : parentId;\r\n    flat.push(dataNew);\r\n    flat = flat.concat(\r\n      that.treeToFlat(item1[childrenKey], item1[customName.id], dataIndex),\r\n    );\r\n  });\r\n\r\n  return flat;\r\n};\r\n\r\n// 通过当前行数据返回 treeNode 信息\r\nClass.prototype.getTreeNode = function (data) {\r\n  var that = this;\r\n  if (!data) {\r\n    return hint.error('Node data not found');\r\n  }\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var tableId = options.id;\r\n  var customName = treeOptions.customName;\r\n\r\n  // 带上一些常用的方法\r\n  return {\r\n    data: data,\r\n    dataIndex: data[LAY_DATA_INDEX],\r\n    getParentNode: function () {\r\n      return that.getNodeByIndex(data[LAY_PARENT_INDEX]);\r\n    },\r\n  };\r\n};\r\n\r\n// 通过 index 返回节点信息\r\nClass.prototype.getNodeByIndex = function (index) {\r\n  var that = this;\r\n  var treeNodeData = that.getNodeDataByIndex(index);\r\n  if (!treeNodeData) {\r\n    return hint.error('Node data not found by index: ' + index);\r\n  }\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var customName = treeOptions.customName;\r\n  var parentKey = customName.parent;\r\n  var tableId = options.id;\r\n\r\n  var treeNode = {\r\n    data: treeNodeData,\r\n    dataIndex: treeNodeData[LAY_DATA_INDEX],\r\n    getParentNode: function () {\r\n      return that.getNodeByIndex(treeNodeData[LAY_PARENT_INDEX]);\r\n    },\r\n    update: function (data) {\r\n      return treeTable.updateNode(tableId, index, data);\r\n    },\r\n    remove: function () {\r\n      return treeTable.removeNode(tableId, index);\r\n    },\r\n    expand: function (opts) {\r\n      return treeTable.expandNode(\r\n        tableId,\r\n        $.extend({}, opts, {\r\n          index: index,\r\n        }),\r\n      );\r\n    },\r\n    setChecked: function (opts) {\r\n      return treeTable.setRowChecked(\r\n        tableId,\r\n        $.extend({}, opts, {\r\n          index: index,\r\n        }),\r\n      );\r\n    },\r\n  };\r\n\r\n  treeNode.dataIndex = index;\r\n  return treeNode;\r\n};\r\n\r\n// 通过 id 获取节点信息\r\nClass.prototype.getNodeById = function (id) {\r\n  var that = this;\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var customName = treeOptions.customName;\r\n  var idKey = customName.id;\r\n\r\n  // 通过 id 拿到数据的 dataIndex\r\n  var dataIndex = '';\r\n  var tableDataFlat = treeTable.getData(options.id, true);\r\n  layui.each(tableDataFlat, function (i1, item1) {\r\n    if (item1[idKey] === id) {\r\n      dataIndex = item1[LAY_DATA_INDEX];\r\n      return true;\r\n    }\r\n  });\r\n  if (!dataIndex) {\r\n    return;\r\n  }\r\n\r\n  // 用 index\r\n  return that.getNodeByIndex(dataIndex);\r\n};\r\n\r\n// 通过 index 获取节点数据\r\nClass.prototype.getNodeDataByIndex = function (index, clone, newValue) {\r\n  var that = this;\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var tableId = options.id;\r\n  var tableCache = table.cache[tableId];\r\n\r\n  // 获取当前行中的数据\r\n  var dataCache = tableCache[index];\r\n\r\n  // 若非删除操作，则返回合并后的数据\r\n  if (newValue !== 'delete' && dataCache) {\r\n    $.extend(dataCache, newValue);\r\n    return clone ? $.extend({}, dataCache) : dataCache;\r\n  }\r\n\r\n  // 删除操作\r\n  var dataRet = tableCache;\r\n  var indexArr = String(index).split('-');\r\n\r\n  // if (options.url || indexArr.length > 1) tableCache = null // 只有在删除根节点的时候才需要处理\r\n\r\n  // 根据 index 进行数据处理\r\n  for (\r\n    var i = 0, childrenKey = treeOptions.customName.children;\r\n    i < indexArr.length;\r\n    i++\r\n  ) {\r\n    if (newValue && i === indexArr.length - 1) {\r\n      if (newValue === 'delete') {\r\n        // 删除并返回当前数据\r\n        // 同步 cache --- 此段代码注释缘由：data 属性模式造成数据重复执行 splice (@Gitee: #I7Z0A/I82E2S)\r\n        /*if (tableCache) {\r\n          layui.each(tableCache, function (i1, item1) {\r\n            if (item1[LAY_DATA_INDEX] === index) {\r\n              tableCache.splice(i1, 1);\r\n              return true;\r\n            }\r\n          })\r\n        }*/\r\n        return (i ? dataRet[childrenKey] : dataRet).splice(indexArr[i], 1)[0];\r\n      } else {\r\n        // 更新值\r\n        $.extend((i ? dataRet[childrenKey] : dataRet)[indexArr[i]], newValue);\r\n      }\r\n    }\r\n    dataRet = i ? dataRet[childrenKey][indexArr[i]] : dataRet[indexArr[i]];\r\n  }\r\n  return clone ? $.extend({}, dataRet) : dataRet;\r\n};\r\n\r\ntreeTable.getNodeDataByIndex = function (id, index) {\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n  return that.getNodeDataByIndex(index, true);\r\n};\r\n\r\n// 判断是否是父节点\r\nvar checkIsParent = function (data, isParentKey, childrenKey) {\r\n  isParentKey = isParentKey || 'isParent';\r\n  childrenKey = childrenKey || 'children';\r\n  layui.each(data, function (i1, item1) {\r\n    if (!(isParentKey in item1)) {\r\n      item1[isParentKey] = !!(item1[childrenKey] && item1[childrenKey].length);\r\n      checkIsParent(item1[childrenKey]);\r\n    }\r\n  });\r\n};\r\n\r\nClass.prototype.initData = function (data, parentIndex) {\r\n  var that = this;\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var tableId = options.id;\r\n\r\n  data = data || that.getTableData();\r\n\r\n  var customName = treeOptions.customName;\r\n  var isParentKey = customName.isParent;\r\n  var childrenKey = customName.children;\r\n\r\n  var update = function (data, parentIndex) {\r\n    layui.each(data, function (i1, item1) {\r\n      if (!(isParentKey in item1)) {\r\n        item1[isParentKey] = !!(\r\n          item1[childrenKey] && item1[childrenKey].length\r\n        );\r\n      }\r\n      item1[LAY_DATA_INDEX_HISTORY] = item1[LAY_DATA_INDEX];\r\n      item1[LAY_PARENT_INDEX] = parentIndex = parentIndex || '';\r\n      var dataIndex = (item1[LAY_DATA_INDEX] =\r\n        (parentIndex ? parentIndex + '-' : '') + i1);\r\n      update(item1[childrenKey] || [], dataIndex);\r\n    });\r\n  };\r\n\r\n  update(data, parentIndex);\r\n\r\n  updateCache(tableId, childrenKey, data);\r\n\r\n  return data;\r\n};\r\n\r\n// 与 tableId 有关带防抖的方法\r\nvar debounceFn = (function () {\r\n  var fn = {};\r\n  return function (tableId, func, wait) {\r\n    if (!fn[tableId]) {\r\n      fn[tableId] = layui.debounce(func, wait);\r\n    }\r\n    return fn[tableId];\r\n  };\r\n})();\r\n\r\n// 优化参数，添加一个 getNodeByIndex 方法 只传 表格id 和行 dataIndex 分几步优化 todo\r\nvar expandNode = function (\r\n  treeNode,\r\n  expandFlag,\r\n  sonSign,\r\n  focus,\r\n  callbackFlag,\r\n  done,\r\n) {\r\n  // treeNode // 需要展开的节点\r\n  var trElem = treeNode.trElem;\r\n  var tableViewElem = treeNode.tableViewElem || trElem.closest(ELEM_VIEW);\r\n  var tableId = treeNode.tableId || tableViewElem.attr(MOD_ID);\r\n  var options = treeNode.options || table.getOptions(tableId);\r\n  var dataIndex = treeNode.dataIndex || trElem.attr('lay-data-index'); // 可能出现多层\r\n  var treeTableThat = getThisTable(tableId);\r\n\r\n  var treeOptions = options.tree || {};\r\n  var customName = treeOptions.customName || {};\r\n  var isParentKey = customName.isParent;\r\n\r\n  var trData = treeTableThat.getNodeDataByIndex(dataIndex);\r\n\r\n  // 后续调优：对已经展开的节点进行展开和已经关闭的节点进行关闭应该做优化减少不必要的代码执行 todo\r\n  var isToggle = layui.type(expandFlag) !== 'boolean';\r\n  var trExpand = isToggle ? !trData[LAY_EXPAND] : expandFlag;\r\n  var retValue = trData[isParentKey] ? trExpand : null;\r\n\r\n  if (\r\n    callbackFlag &&\r\n    trExpand != trData[LAY_EXPAND] &&\r\n    (!trData[LAY_ASYNC_STATUS] || trData[LAY_ASYNC_STATUS] === 'local')\r\n  ) {\r\n    var beforeExpand = treeOptions.callback.beforeExpand;\r\n    if (layui.type(beforeExpand) === 'function') {\r\n      if (beforeExpand(tableId, trData, expandFlag) === false) {\r\n        return retValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  var trExpanded = trData[LAY_HAS_EXPANDED]; // 展开过，包括异步加载\r\n\r\n  // 找到表格中的同类节点（需要找到lay-data-index一致的所有行）\r\n  var trsElem = tableViewElem.find('tr[lay-data-index=\"' + dataIndex + '\"]');\r\n  var flexIconElem = trsElem.find('.layui-table-tree-flexIcon');\r\n  treeTableThat.updateNodeIcon({\r\n    scopeEl: trsElem,\r\n    isExpand: trExpand,\r\n    isParent: trData[isParentKey],\r\n  });\r\n  trData[LAY_EXPAND] = trExpand;\r\n  var trDataId = trData[customName.id];\r\n  trDataId !== undefined && (treeTableThat.status.expand[trDataId] = trExpand);\r\n  if (retValue === null) {\r\n    return retValue;\r\n  }\r\n\r\n  var childNodes = trData[customName.children] || [];\r\n  // 处理子节点展示与否\r\n  if (trExpand) {\r\n    // 展开\r\n    if (trExpanded) {\r\n      // 已经展开过\r\n      if (!childNodes.length) return; //异步如果子节点没有数据情况下双点行展开所有已展开的节点问题解决\r\n      trsElem\r\n        .nextAll(\r\n          childNodes\r\n            .map(function (value, index, array) {\r\n              return 'tr[lay-data-index=\"' + value[LAY_DATA_INDEX] + '\"]';\r\n            })\r\n            .join(','),\r\n        )\r\n        .removeClass(HIDE);\r\n      layui.each(childNodes, function (i1, item1) {\r\n        if (!item1[isParentKey]) {\r\n          return;\r\n        }\r\n\r\n        if (sonSign && !isToggle && !item1[LAY_EXPAND]) {\r\n          // 非状态切换的情况下\r\n          // 级联展开子节点\r\n          expandNode(\r\n            {\r\n              dataIndex: item1[LAY_DATA_INDEX],\r\n              trElem: tableViewElem\r\n                .find('tr[lay-data-index=\"' + item1[LAY_DATA_INDEX] + '\"]')\r\n                .first(),\r\n              tableViewElem: tableViewElem,\r\n              tableId: tableId,\r\n              options: options,\r\n            },\r\n            expandFlag,\r\n            sonSign,\r\n            focus,\r\n            callbackFlag,\r\n            done,\r\n          );\r\n        } else if (item1[LAY_EXPAND]) {\r\n          // 初始化级联展开\r\n          expandNode(\r\n            {\r\n              dataIndex: item1[LAY_DATA_INDEX],\r\n              trElem: tableViewElem\r\n                .find('tr[lay-data-index=\"' + item1[LAY_DATA_INDEX] + '\"]')\r\n                .first(),\r\n              tableViewElem: tableViewElem,\r\n              tableId: tableId,\r\n              options: options,\r\n            },\r\n            true,\r\n            undefined,\r\n            undefined,\r\n            undefined,\r\n            done,\r\n          );\r\n        }\r\n      });\r\n    } else {\r\n      var asyncSetting = treeOptions.async || {};\r\n      var asyncUrl = asyncSetting.url || options.url;\r\n      if (\r\n        asyncSetting.enable &&\r\n        trData[isParentKey] &&\r\n        (!trData[LAY_ASYNC_STATUS] || trData[LAY_ASYNC_STATUS] === 'error')\r\n      ) {\r\n        trData[LAY_ASYNC_STATUS] = 'loading';\r\n        flexIconElem.html(\r\n          '<i class=\"layui-icon layui-icon-loading layui-anim layui-anim-loop layui-anim-rotate\"></i>',\r\n        );\r\n\r\n        // 异步获取子节点数据成功之后处理方法\r\n        var asyncSuccessFn = function (data) {\r\n          trData[LAY_ASYNC_STATUS] = 'success';\r\n          trData[customName.children] = data;\r\n          treeTableThat.initData(\r\n            trData[customName.children],\r\n            trData[LAY_DATA_INDEX],\r\n          );\r\n          expandNode(\r\n            treeNode,\r\n            true,\r\n            isToggle ? false : sonSign,\r\n            focus,\r\n            callbackFlag,\r\n            done,\r\n          );\r\n        };\r\n\r\n        var format = asyncSetting.format; // 自定义数据返回方法\r\n        if (layui.type(format) === 'function') {\r\n          format(trData, options, asyncSuccessFn);\r\n          return retValue;\r\n        }\r\n\r\n        var params = {};\r\n        // 参数\r\n        var data = $.extend(params, asyncSetting.where || options.where);\r\n        var asyncAutoParam = asyncSetting.autoParam;\r\n        layui.each(asyncAutoParam, function (index, item) {\r\n          var itemStr = item;\r\n          var itemArr = item.split('=');\r\n          data[itemArr[0].trim()] = trData[(itemArr[1] || itemArr[0]).trim()];\r\n        });\r\n\r\n        var asyncContentType = asyncSetting.contentType || options.contentType;\r\n        if (\r\n          asyncContentType &&\r\n          asyncContentType.indexOf('application/json') == 0\r\n        ) {\r\n          // 提交 json 格式\r\n          data = JSON.stringify(data);\r\n        }\r\n        var asyncType = asyncSetting.method || options.method;\r\n        var asyncDataType = asyncSetting.dataType || options.dataType;\r\n        var asyncJsonpCallback =\r\n          asyncSetting.jsonpCallback || options.jsonpCallback;\r\n        var asyncHeaders = asyncSetting.headers || options.headers;\r\n        var asyncParseData = asyncSetting.parseData || options.parseData;\r\n        var asyncResponse = asyncSetting.response || options.response;\r\n\r\n        var ajaxOptions = {\r\n          type: asyncType || 'get',\r\n          url: asyncUrl,\r\n          contentType: asyncContentType,\r\n          data: data,\r\n          dataType: asyncDataType || 'json',\r\n          jsonpCallback: asyncJsonpCallback,\r\n          headers: asyncHeaders || {},\r\n          success: function (res) {\r\n            // 若有数据解析的回调，则获得其返回的数据\r\n            if (typeof asyncParseData === 'function') {\r\n              res = asyncParseData.call(options, res) || res;\r\n            }\r\n            // 检查数据格式是否符合规范\r\n            if (res[asyncResponse.statusName] != asyncResponse.statusCode) {\r\n              trData[LAY_ASYNC_STATUS] = 'error';\r\n              trData[LAY_EXPAND] = false;\r\n              // 异常处理 todo\r\n              flexIconElem.html(\r\n                '<i class=\"layui-icon layui-icon-refresh\"></i>',\r\n              );\r\n              // 事件\r\n            } else {\r\n              // 正常返回\r\n              asyncSuccessFn(res[asyncResponse.dataName]);\r\n            }\r\n          },\r\n          error: function (e, msg) {\r\n            trData[LAY_ASYNC_STATUS] = 'error';\r\n            trData[LAY_EXPAND] = false;\r\n            // 异常处理 todo\r\n            typeof options.error === 'function' && options.error(e, msg);\r\n          },\r\n        };\r\n\r\n        if (options.ajax) {\r\n          options.ajax(ajaxOptions, 'treeNodes');\r\n        } else {\r\n          $.ajax(ajaxOptions);\r\n        }\r\n\r\n        return retValue;\r\n      }\r\n      trExpanded = trData[LAY_HAS_EXPANDED] = true;\r\n      if (childNodes.length) {\r\n        // 判断是否需要排序\r\n        if (options.initSort && (!options.url || options.autoSort)) {\r\n          var initSort = options.initSort;\r\n          if (initSort.type) {\r\n            layui.sort(\r\n              childNodes,\r\n              initSort.field,\r\n              initSort.type === 'desc',\r\n              true,\r\n            );\r\n          } else {\r\n            // 恢复默认\r\n            layui.sort(childNodes, table.config.indexName, null, true);\r\n          }\r\n        }\r\n        treeTableThat.initData(\r\n          trData[customName.children],\r\n          trData[LAY_DATA_INDEX],\r\n        );\r\n        // 将数据通过模板得出节点的html代码\r\n        var str2 = table.getTrHtml(tableId, childNodes, null, null, dataIndex);\r\n\r\n        var str2Obj = {\r\n          trs: $(str2.trs.join('')),\r\n          trs_fixed: $(str2.trs_fixed.join('')),\r\n          trs_fixed_r: $(str2.trs_fixed_r.join('')),\r\n        };\r\n        var dataLevel = dataIndex.split('-').length - 1;\r\n        var dataLevelNew = (dataLevel || 0) + 1;\r\n        layui.each(childNodes, function (childIndex, childItem) {\r\n          str2Obj.trs\r\n            .eq(childIndex)\r\n            .attr({\r\n              'data-index': childItem[LAY_DATA_INDEX],\r\n              'lay-data-index': childItem[LAY_DATA_INDEX],\r\n              'data-level': dataLevelNew,\r\n            })\r\n            .data('index', childItem[LAY_DATA_INDEX]);\r\n\r\n          str2Obj.trs_fixed\r\n            .eq(childIndex)\r\n            .attr({\r\n              'data-index': childItem[LAY_DATA_INDEX],\r\n              'lay-data-index': childItem[LAY_DATA_INDEX],\r\n              'data-level': dataLevelNew,\r\n            })\r\n            .data('index', childItem[LAY_DATA_INDEX]);\r\n\r\n          str2Obj.trs_fixed_r\r\n            .eq(childIndex)\r\n            .attr({\r\n              'data-index': childItem[LAY_DATA_INDEX],\r\n              'lay-data-index': childItem[LAY_DATA_INDEX],\r\n              'data-level': dataLevelNew,\r\n            })\r\n            .data('index', childItem[LAY_DATA_INDEX]);\r\n        });\r\n\r\n        tableViewElem\r\n          .find(ELEM_MAIN)\r\n          .find('tbody tr[lay-data-index=\"' + dataIndex + '\"]')\r\n          .after(str2Obj.trs);\r\n        tableViewElem\r\n          .find(ELEM_FIXL)\r\n          .find('tbody tr[lay-data-index=\"' + dataIndex + '\"]')\r\n          .after(str2Obj.trs_fixed);\r\n        tableViewElem\r\n          .find(ELEM_FIXR)\r\n          .find('tbody tr[lay-data-index=\"' + dataIndex + '\"]')\r\n          .after(str2Obj.trs_fixed_r);\r\n\r\n        // 初始化新增的节点中的内容\r\n        treeTableThat.renderTreeTable(str2Obj.trs, dataLevelNew);\r\n\r\n        if (sonSign && !isToggle) {\r\n          // 非状态切换的情况下\r\n          // 级联展开/关闭子节点\r\n          layui.each(childNodes, function (i1, item1) {\r\n            expandNode(\r\n              {\r\n                dataIndex: item1[LAY_DATA_INDEX],\r\n                trElem: tableViewElem\r\n                  .find('tr[lay-data-index=\"' + item1[LAY_DATA_INDEX] + '\"]')\r\n                  .first(),\r\n                tableViewElem: tableViewElem,\r\n                tableId: tableId,\r\n                options: options,\r\n              },\r\n              expandFlag,\r\n              sonSign,\r\n              focus,\r\n              callbackFlag,\r\n              done,\r\n            );\r\n          });\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    treeTableThat.isExpandAll = false;\r\n    // 关闭\r\n    if (sonSign && !isToggle) {\r\n      // 非状态切换的情况下\r\n      layui.each(childNodes, function (i1, item1) {\r\n        expandNode(\r\n          {\r\n            dataIndex: item1[LAY_DATA_INDEX],\r\n            trElem: tableViewElem\r\n              .find('tr[lay-data-index=\"' + item1[LAY_DATA_INDEX] + '\"]')\r\n              .first(),\r\n            tableViewElem: tableViewElem,\r\n            tableId: tableId,\r\n            options: options,\r\n          },\r\n          expandFlag,\r\n          sonSign,\r\n          focus,\r\n          callbackFlag,\r\n          done,\r\n        );\r\n      });\r\n      tableViewElem\r\n        .find(\r\n          childNodes\r\n            .map(function (value, index, array) {\r\n              // 只隐藏直接子节点，其他由递归的处理\r\n              return 'tr[lay-data-index=\"' + value[LAY_DATA_INDEX] + '\"]';\r\n            })\r\n            .join(','),\r\n        )\r\n        .addClass(HIDE);\r\n    } else {\r\n      var childNodesFlat = treeTableThat.treeToFlat(\r\n        childNodes,\r\n        trData[customName.id],\r\n        dataIndex,\r\n      );\r\n      tableViewElem\r\n        .find(\r\n          childNodesFlat\r\n            .map(function (value, index, array) {\r\n              return 'tr[lay-data-index=\"' + value[LAY_DATA_INDEX] + '\"]';\r\n            })\r\n            .join(','),\r\n        )\r\n        .addClass(HIDE);\r\n    }\r\n  }\r\n\r\n  debounceFn(\r\n    'resize-' + tableId,\r\n    function () {\r\n      treeTable.resize(tableId);\r\n    },\r\n    0,\r\n  )();\r\n\r\n  if (callbackFlag && trData[LAY_ASYNC_STATUS] !== 'loading') {\r\n    var onExpand = treeOptions.callback.onExpand;\r\n    layui.type(onExpand) === 'function' && onExpand(tableId, trData, trExpand);\r\n  }\r\n\r\n  if (\r\n    layui.type(done) === 'function' &&\r\n    trData[LAY_ASYNC_STATUS] !== 'loading'\r\n  ) {\r\n    done(tableId, trData, trExpand);\r\n  }\r\n\r\n  return retValue;\r\n};\r\n\r\n/**\r\n * 展开或关闭一个节点\r\n * @param {String} id 树表id\r\n * @param {Object} opts\r\n * @param {Number|String} opts.index 展开行的数据下标\r\n * @param {Boolean} [opts.expandFlag] 展开、关闭、切换\r\n * @param {Boolean} [opts.inherit] 是否级联子节点\r\n * @param {Boolean} [opts.callbackFlag] 是否触发 tree.callback 事件\r\n * @param {Boolean} [opts.done] 节点操作完成后的回调函数\r\n * @return [{Boolean}] 状态结果\r\n * */\r\ntreeTable.expandNode = function (id, opts) {\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n\r\n  opts = opts || {};\r\n\r\n  var index = opts.index;\r\n  var expandFlag = opts.expandFlag;\r\n  var sonSign = opts.inherit;\r\n  var callbackFlag = opts.callbackFlag;\r\n\r\n  var options = that.getOptions();\r\n  var tableViewElem = options.elem.next();\r\n  return expandNode(\r\n    {\r\n      trElem: tableViewElem.find('tr[lay-data-index=\"' + index + '\"]').first(),\r\n    },\r\n    expandFlag,\r\n    sonSign,\r\n    null,\r\n    callbackFlag,\r\n    opts.done,\r\n  );\r\n};\r\n\r\n/**\r\n * 展开或关闭全部节点\r\n * @param {String} id 树表id\r\n * @param {Boolean} expandFlag 展开或关闭\r\n * */\r\ntreeTable.expandAll = function (id, expandFlag) {\r\n  if (layui.type(expandFlag) !== 'boolean') {\r\n    return hint.error(\r\n      'treeTable.expandAll param \"expandFlag\" must be a boolean value.',\r\n    );\r\n  }\r\n\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n\r\n  that.isExpandAll = expandFlag;\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var tableView = options.elem.next();\r\n  var isParentKey = treeOptions.customName.isParent;\r\n  var idKey = treeOptions.customName.id;\r\n  var showFlexIconIfNotParent = treeOptions.view.showFlexIconIfNotParent;\r\n\r\n  if (!expandFlag) {\r\n    // 关闭所有\r\n    // 将所有已经打开的节点的状态设置为关闭，\r\n    that.updateStatus(null, function (d) {\r\n      if (d[isParentKey] || showFlexIconIfNotParent) {\r\n        d[LAY_EXPAND] = false;\r\n        d[idKey] !== undefined && (that.status.expand[d[idKey]] = false);\r\n      }\r\n    }); // 只处理当前页，如果需要处理全部表格，需要用treeTable.updateStatus\r\n    // 隐藏所有非顶层的节点\r\n    tableView.find('.layui-table-box tbody tr[data-level!=\"0\"]').addClass(HIDE);\r\n\r\n    tableView\r\n      .find('.layui-table-tree-flexIcon')\r\n      .html(treeOptions.view.flexIconClose);\r\n    treeOptions.view.showIcon &&\r\n      tableView\r\n        .find(\r\n          '.layui-table-tree-nodeIcon:not(.layui-table-tree-iconCustom,.layui-table-tree-iconLeaf)',\r\n        )\r\n        .html(treeOptions.view.iconClose);\r\n  } else {\r\n    var tableDataFlat = treeTable.getData(id, true);\r\n    // 展开所有\r\n    // 存在异步加载\r\n    if (treeOptions.async.enable) {\r\n      // 判断是否有未加载过的节点\r\n      var isAllAsyncDone = true;\r\n      layui.each(tableDataFlat, function (i1, item1) {\r\n        if (item1[isParentKey] && !item1[LAY_ASYNC_STATUS]) {\r\n          isAllAsyncDone = false;\r\n          return true;\r\n        }\r\n      });\r\n      // 有未加载过的节点\r\n      if (!isAllAsyncDone) {\r\n        // 逐个展开\r\n        layui.each(treeTable.getData(id), function (i1, item1) {\r\n          treeTable.expandNode(id, {\r\n            index: item1[LAY_DATA_INDEX],\r\n            expandFlag: true,\r\n            inherit: true,\r\n          });\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    // 先判断是否全部打开过了\r\n    var isAllExpanded = true;\r\n    layui.each(tableDataFlat, function (i1, item1) {\r\n      if (item1[isParentKey] && !item1[LAY_HAS_EXPANDED]) {\r\n        isAllExpanded = false;\r\n        return true;\r\n      }\r\n    });\r\n    // 如果全部节点已经都打开过，就可以简单处理跟隐藏所有节点反操作\r\n    if (isAllExpanded) {\r\n      that.updateStatus(null, function (d) {\r\n        if (d[isParentKey] || showFlexIconIfNotParent) {\r\n          d[LAY_EXPAND] = true;\r\n          d[idKey] !== undefined && (that.status.expand[d[idKey]] = true);\r\n        }\r\n      });\r\n      // 显示所有子节点\r\n      tableView.find('tbody tr[data-level!=\"0\"]').removeClass(HIDE);\r\n      // 处理节点的图标\r\n      tableView\r\n        .find('.layui-table-tree-flexIcon')\r\n        .html(treeOptions.view.flexIconOpen);\r\n      treeOptions.view.showIcon &&\r\n        tableView\r\n          .find(\r\n            '.layui-table-tree-nodeIcon:not(.layui-table-tree-iconCustom,.layui-table-tree-iconLeaf)',\r\n          )\r\n          .html(treeOptions.view.iconOpen);\r\n    } else {\r\n      // 如果有未打开过的父节点，将 tr 内容全部重新生成\r\n      that.updateStatus(null, function (d) {\r\n        if (d[isParentKey] || showFlexIconIfNotParent) {\r\n          d[LAY_EXPAND] = true;\r\n          d[LAY_HAS_EXPANDED] = true;\r\n          d[idKey] !== undefined && (that.status.expand[d[idKey]] = true);\r\n        }\r\n      });\r\n      if (options.initSort && options.initSort.type && options.autoSort) {\r\n        return treeTable.sort(id);\r\n      }\r\n      var trAll = table.getTrHtml(id, tableDataFlat);\r\n\r\n      var trAllObj = {\r\n        trs: $(trAll.trs.join('')),\r\n        trs_fixed: $(trAll.trs_fixed.join('')),\r\n        trs_fixed_r: $(trAll.trs_fixed_r.join('')),\r\n      };\r\n      var props;\r\n      layui.each(tableDataFlat, function (dataIndex, dataItem) {\r\n        var dataLevel = dataItem[LAY_DATA_INDEX].split('-').length - 1;\r\n        props = {\r\n          'data-index': dataItem[LAY_DATA_INDEX],\r\n          'lay-data-index': dataItem[LAY_DATA_INDEX],\r\n          'data-level': dataLevel,\r\n        };\r\n        trAllObj.trs\r\n          .eq(dataIndex)\r\n          .attr(props)\r\n          .data('index', dataItem[LAY_DATA_INDEX]);\r\n        trAllObj.trs_fixed\r\n          .eq(dataIndex)\r\n          .attr(props)\r\n          .data('index', dataItem[LAY_DATA_INDEX]);\r\n        trAllObj.trs_fixed_r\r\n          .eq(dataIndex)\r\n          .attr(props)\r\n          .data('index', dataItem[LAY_DATA_INDEX]);\r\n      });\r\n      layui.each(['main', 'fixed-l', 'fixed-r'], function (i, item) {\r\n        tableView\r\n          .find('.layui-table-' + item + ' tbody')\r\n          .html(trAllObj[['trs', 'trs_fixed', 'trs_fixed_r'][i]]);\r\n      });\r\n      that.renderTreeTable(tableView, 0, false);\r\n    }\r\n  }\r\n  treeTable.resize(id);\r\n};\r\n\r\n/**\r\n * @typedef updateNodeIconOptions\r\n * @prop {JQuery} scopeEl - tr 元素\r\n * @prop {boolean} isExpand - 是否是展开图标\r\n * @prop {boolean} isParent - 是否是父节点图标\r\n */\r\n/**\r\n * 更新节点图标\r\n * @param {updateNodeIconOptions} opts\r\n */\r\nClass.prototype.updateNodeIcon = function (opts) {\r\n  var that = this;\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree || {};\r\n  var scopeEl = opts.scopeEl;\r\n  var isExpand = opts.isExpand;\r\n  var isParent = opts.isParent;\r\n\r\n  // 处理折叠按钮图标\r\n  var flexIconElem = scopeEl.find('.layui-table-tree-flexIcon');\r\n\r\n  flexIconElem\r\n    .css(\r\n      'visibility',\r\n      isParent || treeOptions.view.showFlexIconIfNotParent\r\n        ? 'visible'\r\n        : 'hidden',\r\n    )\r\n    .html(\r\n      isExpand ? treeOptions.view.flexIconOpen : treeOptions.view.flexIconClose,\r\n    );\r\n  // 处理节点图标\r\n  if (treeOptions.view.showIcon) {\r\n    var nodeIconElem = scopeEl.find(\r\n      '.layui-table-tree-nodeIcon:not(.layui-table-tree-iconCustom)',\r\n    );\r\n    var nodeIcon = isParent\r\n      ? isExpand\r\n        ? treeOptions.view.iconOpen\r\n        : treeOptions.view.iconClose\r\n      : treeOptions.view.iconLeaf;\r\n\r\n    nodeIconElem\r\n      .toggleClass('layui-table-tree-iconLeaf', !isParent)\r\n      .html(nodeIcon);\r\n  }\r\n};\r\n\r\nClass.prototype.renderTreeTable = function (tableView, level, sonSign) {\r\n  var that = this;\r\n  var options = that.getOptions();\r\n  var tableViewElem = options.elem.next();\r\n  !tableViewElem.hasClass(TABLE_TREE) && tableViewElem.addClass(TABLE_TREE);\r\n  var tableId = options.id;\r\n  var treeOptions = options.tree || {};\r\n  var treeOptionsData = treeOptions.data || {};\r\n  var treeOptionsView = treeOptions.view || {};\r\n  var customName = treeOptions.customName || {};\r\n  var isParentKey = customName.isParent;\r\n  var tableFilterId = tableViewElem.attr('lay-filter');\r\n  var treeTableThat = that;\r\n  var existsData = options.data.length; // 是否直接赋值 data\r\n  // var tableData = treeTableThat.getTableData();\r\n\r\n  level = level || 0;\r\n\r\n  if (!level) {\r\n    // 初始化的表格里面没有level信息，可以作为顶层节点的判断\r\n    tableViewElem\r\n      .find('.layui-table-body tr:not([data-level])')\r\n      .attr('data-level', level);\r\n    layui.each(table.cache[tableId], function (dataIndex, dataItem) {\r\n      // fix: 修正直接赋值 data 时顶层节点 LAY_DATA_INDEX 值的异常问题\r\n      if (existsData) {\r\n        dataItem[LAY_DATA_INDEX] = String(dataIndex);\r\n      }\r\n      var layDataIndex = dataItem[LAY_DATA_INDEX];\r\n      tableViewElem\r\n        .find(\r\n          '.layui-table-main tbody tr[data-level=\"0\"]:eq(' + dataIndex + ')',\r\n        )\r\n        .attr('lay-data-index', layDataIndex);\r\n      tableViewElem\r\n        .find(\r\n          '.layui-table-fixed-l tbody tr[data-level=\"0\"]:eq(' + dataIndex + ')',\r\n        )\r\n        .attr('lay-data-index', layDataIndex);\r\n      tableViewElem\r\n        .find(\r\n          '.layui-table-fixed-r tbody tr[data-level=\"0\"]:eq(' + dataIndex + ')',\r\n        )\r\n        .attr('lay-data-index', layDataIndex);\r\n    });\r\n  }\r\n\r\n  var dataExpand = null; // 记录需要展开的数据\r\n  var nameKey = customName.name;\r\n  var indent = treeOptionsView.indent || 14;\r\n  layui.each(\r\n    tableView.find('td[data-field=\"' + nameKey + '\"]'),\r\n    function (index, item) {\r\n      item = $(item);\r\n      var trElem = item.closest('tr');\r\n      var itemCell = item.children('.layui-table-cell');\r\n      if (itemCell.hasClass('layui-table-tree-item')) {\r\n        return;\r\n      }\r\n      var trIndex = trElem.attr('lay-data-index');\r\n      if (!trIndex) {\r\n        // 排除在统计行中的节点\r\n        return;\r\n      }\r\n      trElem = tableViewElem.find('tr[lay-data-index=\"' + trIndex + '\"]');\r\n      var trData = treeTableThat.getNodeDataByIndex(trIndex);\r\n\r\n      if (trData[LAY_EXPAND] && trData[isParentKey]) {\r\n        // 需要展开\r\n        dataExpand = dataExpand || {};\r\n        dataExpand[trIndex] = true;\r\n      }\r\n      if (trData[LAY_CHECKBOX_HALF]) {\r\n        trElem\r\n          .find('input[type=\"checkbox\"][name=\"layTableCheckbox\"]')\r\n          .prop('indeterminate', true);\r\n      }\r\n\r\n      var htmlTemp = itemCell.html();\r\n      itemCell = trElem.find(\r\n        'td[data-field=\"' + nameKey + '\"]>div.layui-table-cell',\r\n      );\r\n      itemCell.addClass('layui-table-tree-item');\r\n      var flexIconElem = itemCell\r\n        .html(\r\n          [\r\n            '<div class=\"layui-inline layui-table-tree-flexIcon\" ',\r\n            'style=\"',\r\n            'margin-left: ' + indent * trElem.attr('data-level') + 'px;',\r\n            trData[isParentKey] || treeOptionsView.showFlexIconIfNotParent\r\n              ? ''\r\n              : ' visibility: hidden;',\r\n            '\">',\r\n            trData[LAY_EXPAND]\r\n              ? treeOptionsView.flexIconOpen\r\n              : treeOptionsView.flexIconClose, // 折叠图标\r\n            '</div>',\r\n            treeOptionsView.showIcon\r\n              ? '<div class=\"layui-inline layui-table-tree-nodeIcon' +\r\n                (trData[customName.icon] || treeOptionsView.icon\r\n                  ? ' layui-table-tree-iconCustom'\r\n                  : '') +\r\n                (trData[isParentKey] ? '' : ' layui-table-tree-iconLeaf') +\r\n                '\">' +\r\n                (that.normalizedIcon(trData[customName.icon]) ||\r\n                  treeOptionsView.icon ||\r\n                  (trData[isParentKey]\r\n                    ? trData[LAY_EXPAND]\r\n                      ? treeOptionsView.iconOpen\r\n                      : treeOptionsView.iconClose\r\n                    : treeOptionsView.iconLeaf) ||\r\n                  '') +\r\n                '</div>'\r\n              : '', // 区分父子节点\r\n            htmlTemp,\r\n          ].join(''),\r\n        ) // 图标要可定制\r\n        .find('.layui-table-tree-flexIcon');\r\n\r\n      // 添加展开按钮的事件\r\n      flexIconElem.on('click', function (event) {\r\n        layui.stope(event);\r\n        // 处理数据\r\n        // var trElem = item.closest('tr');\r\n        expandNode({ trElem: trElem }, null, null, null, true);\r\n      });\r\n    },\r\n  );\r\n\r\n  if (\r\n    !level &&\r\n    treeOptions.view.expandAllDefault &&\r\n    that.isExpandAll === undefined\r\n  ) {\r\n    return treeTable.expandAll(tableId, true); // 默认展开全部\r\n  }\r\n\r\n  // 当前层的数据看看是否需要展开\r\n  if (sonSign !== false && dataExpand) {\r\n    layui.each(dataExpand, function (index, item) {\r\n      var trDefaultExpand = tableViewElem.find(\r\n        'tr[lay-data-index=\"' + index + '\"]',\r\n      );\r\n      trDefaultExpand\r\n        .find('.layui-table-tree-flexIcon')\r\n        .html(treeOptionsView.flexIconOpen);\r\n      expandNode({ trElem: trDefaultExpand.first() }, true);\r\n    });\r\n    // #1463 expandNode 中已经展开过的节点不会重新渲染\r\n    debounceFn(\r\n      'renderTreeTable2-' + tableId,\r\n      function () {\r\n        form.render($('.layui-table-tree[' + MOD_ID + '=\"' + tableId + '\"]'));\r\n      },\r\n      0,\r\n    )();\r\n  } else {\r\n    debounceFn(\r\n      'renderTreeTable-' + tableId,\r\n      function () {\r\n        options.hasNumberCol && formatNumber(that);\r\n        form.render($('.layui-table-tree[' + MOD_ID + '=\"' + tableId + '\"]'));\r\n      },\r\n      0,\r\n    )();\r\n  }\r\n};\r\n\r\nvar formatNumber = function (that) {\r\n  var options = that.getOptions();\r\n  var tableViewElem = options.elem.next();\r\n\r\n  var num = 0;\r\n  var trMain = tableViewElem.find('.layui-table-main tbody tr');\r\n  var trFixedL = tableViewElem.find('.layui-table-fixed-l tbody tr');\r\n  var trFixedR = tableViewElem.find('.layui-table-fixed-r tbody tr');\r\n  layui.each(that.treeToFlat(table.cache[options.id]), function (i1, item1) {\r\n    if (item1['LAY_HIDE']) return;\r\n    var itemData = that.getNodeDataByIndex(item1[LAY_DATA_INDEX]);\r\n    itemData['LAY_NUM'] = ++num;\r\n    trMain.eq(i1).find('.laytable-cell-numbers').html(num);\r\n    trFixedL.eq(i1).find('.laytable-cell-numbers').html(num);\r\n    trFixedR.eq(i1).find('.laytable-cell-numbers').html(num);\r\n  });\r\n};\r\n\r\n// 树表渲染\r\nClass.prototype.render = function (type) {\r\n  var that = this;\r\n  that.tableIns = table[type === 'reloadData' ? 'reloadData' : 'reload'](\r\n    that.tableIns.config.id,\r\n    $.extend(true, {}, that.config),\r\n  );\r\n  that.config = that.tableIns.config;\r\n};\r\n\r\n// 表格重载\r\nClass.prototype.reload = function (options, deep, type) {\r\n  var that = this;\r\n\r\n  options = options || {};\r\n  delete that.haveInit;\r\n\r\n  // 防止数组深度合并\r\n  layui.each(options, function (key, item) {\r\n    if (layui.type(item) === 'array') delete that.config[key];\r\n  });\r\n\r\n  // 根据需要处理options中的一些参数\r\n  updateOptions(that.getOptions().id, options, type || true);\r\n\r\n  // 对参数进行深度或浅扩展\r\n  that.config = $.extend(deep, {}, that.config, options);\r\n\r\n  // 执行渲染\r\n  that.render(type);\r\n};\r\n\r\n// 仅重载数据\r\ntreeTable.reloadData = function () {\r\n  var args = $.extend(true, [], arguments);\r\n  args[3] = 'reloadData';\r\n\r\n  return treeTable.reload.apply(null, args);\r\n};\r\n\r\nvar updateStatus = function (data, statusObj, childrenKey, notCascade) {\r\n  var dataUpdated = [];\r\n  layui.each(data, function (i1, item1) {\r\n    if (layui.type(statusObj) === 'function') {\r\n      statusObj(item1);\r\n    } else {\r\n      $.extend(item1, statusObj);\r\n    }\r\n    dataUpdated.push($.extend({}, item1));\r\n    notCascade ||\r\n      (dataUpdated = dataUpdated.concat(\r\n        updateStatus(item1[childrenKey], statusObj, childrenKey, notCascade),\r\n      ));\r\n  });\r\n  return dataUpdated;\r\n};\r\n\r\nClass.prototype.updateStatus = function (data, statusObj, notCascade) {\r\n  var that = this;\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  data = data || table.cache[options.id];\r\n\r\n  return updateStatus(\r\n    data,\r\n    statusObj,\r\n    treeOptions.customName.children,\r\n    notCascade,\r\n  );\r\n};\r\n\r\nClass.prototype.getTableData = function () {\r\n  var that = this;\r\n  var options = that.getOptions();\r\n  // return options.url ? table.cache[options.id] : options.data;\r\n  return table.cache[options.id];\r\n};\r\n\r\ntreeTable.updateStatus = function (id, statusObj, data) {\r\n  var that = getThisTable(id);\r\n  var options = that.getOptions();\r\n  if (!data) {\r\n    if (options.url) {\r\n      data = table.cache[options.id];\r\n    } else {\r\n      data = options.data;\r\n    }\r\n  }\r\n  return that.updateStatus(data, statusObj);\r\n};\r\n\r\ntreeTable.sort = function (id) {\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n\r\n  var tableData = treeTable.getData(id);\r\n  var customName = treeOptions.customName;\r\n  var childrenKey = customName.children;\r\n\r\n  // 只和同级节点排序\r\n  var sort = function (data, field, type) {\r\n    layui.sort(data, field, type, true);\r\n    layui.each(data, function (rowIndex, trData) {\r\n      sort(trData[childrenKey] || [], field, type);\r\n    });\r\n  };\r\n\r\n  if (options.autoSort) {\r\n    var initSort = options.initSort;\r\n    if (initSort.type) {\r\n      sort(tableData, initSort.field, initSort.type === 'desc');\r\n    } else {\r\n      // 恢复默认\r\n      sort(tableData, table.config.indexName, null);\r\n    }\r\n    // 更新缓存中数据的顺序\r\n    table.cache[id] = tableData;\r\n    // 重新初始化缓存数据\r\n    that.initData(tableData);\r\n    treeTable.renderData(id);\r\n  }\r\n};\r\n\r\n// 处理事件\r\nvar updateObjParams = function (obj) {\r\n  var tableId = obj.config.id;\r\n  var tableThat = getThisTable(tableId);\r\n  var trData = (obj.data = treeTable.getNodeDataByIndex(tableId, obj.index)); // 克隆的\r\n  var trIndex = trData[LAY_DATA_INDEX];\r\n  obj.dataIndex = trIndex;\r\n\r\n  // 处理update方法\r\n  var updateFn = obj.update;\r\n  obj.update = function () {\r\n    var updateThat = this;\r\n    var args = arguments;\r\n    $.extend(tableThat.getNodeDataByIndex(trIndex), args[0]);\r\n    var ret = updateFn.apply(updateThat, args); // 主要负责更新节点内容\r\n    var nameKey = obj.config.tree.customName.name;\r\n    nameKey in args[0] &&\r\n      obj.tr\r\n        .find('td[data-field=\"' + nameKey + '\"]')\r\n        .children('div.layui-table-cell')\r\n        .removeClass('layui-table-tree-item');\r\n    tableThat.renderTreeTable(obj.tr, obj.tr.attr('data-level'), false);\r\n    return ret;\r\n  };\r\n\r\n  // 处理del方法\r\n  obj.del = function () {\r\n    treeTable.removeNode(tableId, trData);\r\n  };\r\n\r\n  // 处理setRowChecked\r\n  obj.setRowChecked = function (checked) {\r\n    treeTable.setRowChecked(tableId, {\r\n      index: trData,\r\n      checked: checked,\r\n    });\r\n  };\r\n};\r\n\r\n// 更新数据\r\ntreeTable.updateNode = function (id, index, newNode) {\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var tableView = options.elem.next();\r\n  var trElem = tableView.find('tr[lay-data-index=\"' + index + '\"]');\r\n  var trIndex = trElem.attr('data-index');\r\n  var trLevel = trElem.attr('data-level');\r\n\r\n  if (!newNode) {\r\n    return;\r\n  }\r\n  // 更新值\r\n  var newNodeTemp = that.getNodeDataByIndex(index, false, newNode);\r\n  // 获取新的tr替换\r\n  var trNew = table.getTrHtml(id, [newNodeTemp]);\r\n  // 重新渲染tr\r\n  layui.each(['main', 'fixed-l', 'fixed-r'], function (i, item) {\r\n    tableView\r\n      .find(\r\n        '.layui-table-' + item + ' tbody tr[lay-data-index=\"' + index + '\"]',\r\n      )\r\n      .replaceWith(\r\n        $(trNew[['trs', 'trs_fixed', 'trs_fixed_r'][i]].join(''))\r\n          .attr({\r\n            'data-index': trIndex,\r\n            'lay-data-index': index,\r\n            'data-level': trLevel,\r\n          })\r\n          .data('index', trIndex),\r\n      );\r\n  });\r\n  that.renderTreeTable(\r\n    tableView.find('tr[lay-data-index=\"' + index + '\"]'),\r\n    trLevel,\r\n  );\r\n};\r\n\r\n// 删除数据\r\n// _keepParent 暂时为私有参数，仅供内部使用\r\ntreeTable.removeNode = function (id, node, _keepParent) {\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var isParentKey = treeOptions.customName.isParent;\r\n  var childrenKey = treeOptions.customName.children;\r\n  var tableView = options.elem.next();\r\n  var delNode;\r\n  var indexArr = [];\r\n  var tableCache = table.cache[id];\r\n  delNode = that.getNodeDataByIndex(\r\n    layui.type(node) === 'string' ? node : node[LAY_DATA_INDEX],\r\n    false,\r\n    'delete',\r\n  );\r\n  var nodeP = that.getNodeDataByIndex(delNode[LAY_PARENT_INDEX]);\r\n  that.updateCheckStatus(nodeP);\r\n  var delNodesFlat = that.treeToFlat(\r\n    [delNode],\r\n    delNode[treeOptions.customName.pid],\r\n    delNode[LAY_PARENT_INDEX],\r\n  );\r\n  layui.each(delNodesFlat, function (i2, delNode) {\r\n    var delNodeDataIndex = delNode[LAY_DATA_INDEX];\r\n    indexArr.push('tr[lay-data-index=\"' + delNodeDataIndex + '\"]');\r\n    // 删除临时 key\r\n    if (delNodeDataIndex.indexOf('-') !== -1) {\r\n      delete tableCache[delNodeDataIndex];\r\n    }\r\n  });\r\n\r\n  tableView.find(indexArr.join(',')).remove(); // 删除行\r\n\r\n  var deleteCacheKey = function () {\r\n    for (var key in tableCache) {\r\n      // 根节点 getNodeDataByIndex 内部已处理\r\n      if (key.indexOf('-') !== -1) {\r\n        // L93 updateCache() 中，cacheKey 取自 rowData 中的 LAY_DATA_INDEX，\r\n        // 两者不同说明当前 cacheKey 引用的 rowData 已被更新\r\n        if (key !== tableCache[key][LAY_DATA_INDEX]) {\r\n          delete tableCache[key];\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // 重新整理数据\r\n  var tableData = that.initData();\r\n  deleteCacheKey();\r\n  // index发生变化需要更新页面tr中对应的lay-data-index 新增和删除都要注意数据结构变动之后的index问题\r\n  layui.each(that.treeToFlat(tableData), function (i3, item3) {\r\n    if (\r\n      item3[LAY_DATA_INDEX_HISTORY] &&\r\n      item3[LAY_DATA_INDEX_HISTORY] !== item3[LAY_DATA_INDEX]\r\n    ) {\r\n      tableView\r\n        .find('tr[lay-data-index=\"' + item3[LAY_DATA_INDEX_HISTORY] + '\"]')\r\n        .attr({\r\n          'data-index': item3[LAY_DATA_INDEX],\r\n          'lay-data-index': item3[LAY_DATA_INDEX],\r\n        })\r\n        .data('index', item3[LAY_DATA_INDEX]);\r\n      // item3[LAY_DATA_INDEX_HISTORY] = item3[LAY_DATA_INDEX]\r\n    }\r\n  });\r\n  // 重新更新顶层节点的data-index;\r\n  layui.each(tableCache, function (i4, item4) {\r\n    tableView\r\n      .find(\r\n        'tr[data-level=\"0\"][lay-data-index=\"' + item4[LAY_DATA_INDEX] + '\"]',\r\n      )\r\n      .attr('data-index', i4)\r\n      .data('index', i4);\r\n  });\r\n  options.hasNumberCol && formatNumber(that);\r\n  // 更新父节点状态\r\n  if (nodeP) {\r\n    var trEl = tableView.find(\r\n      'tr[lay-data-index=\"' + nodeP[LAY_DATA_INDEX] + '\"]',\r\n    );\r\n\r\n    if (!_keepParent) {\r\n      nodeP[isParentKey] = !!(nodeP[childrenKey] && nodeP[childrenKey].length);\r\n    }\r\n\r\n    that.updateNodeIcon({\r\n      scopeEl: trEl,\r\n      isExpand: nodeP[LAY_EXPAND],\r\n      isParent: nodeP[isParentKey],\r\n    });\r\n  }\r\n\r\n  // 重新适配尺寸\r\n  treeTable.resize(id);\r\n};\r\n\r\n/**\r\n * 新增数据节点\r\n * @param {String} id 树表id\r\n * @param {Object} opts\r\n * @param {String|Number} opts.parentIndex 指定的父节点，如果增加根节点，请设置 parentIndex 为 null 即可\r\n * @param {Number} opts.index 新节点插入的位置（从 0 开始）index = -1(默认) 时，插入到最后\r\n * @param {Object|Array} opts.data 新增的节点，单个或者多个\r\n * @param {Boolean} opts.focus 新增的节点，单个或者多个\r\n * @return {Array} 新增的节点\r\n * */\r\ntreeTable.addNodes = function (id, opts) {\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var tableViewElem = options.elem.next();\r\n  var checkName = table.config.checkName;\r\n\r\n  opts = opts || {};\r\n\r\n  var parentIndex = opts.parentIndex;\r\n  var index = opts.index;\r\n  var newNodes = opts.data;\r\n  var focus = opts.focus;\r\n\r\n  parentIndex =\r\n    layui.type(parentIndex) === 'number' ? parentIndex.toString() : parentIndex;\r\n  var parentNode = parentIndex ? that.getNodeDataByIndex(parentIndex) : null;\r\n  index = layui.type(index) === 'number' ? index : -1;\r\n\r\n  // 添加数据\r\n  newNodes = $.extend(\r\n    true,\r\n    [],\r\n    layui.isArray(newNodes) ? newNodes : [newNodes],\r\n  );\r\n\r\n  // 若未传入 LAY_CHECKED 属性，则继承父节点的 checked 状态\r\n  layui.each(newNodes, function (i, item) {\r\n    if (!(checkName in item) && parentNode) {\r\n      item[checkName] = parentNode[checkName];\r\n    }\r\n  });\r\n\r\n  var tableData = that.getTableData(),\r\n    dataAfter;\r\n  if (!parentNode) {\r\n    // 添加到根节点\r\n    dataAfter = table.cache[id].splice(\r\n      index === -1 ? table.cache[id].length : index,\r\n    );\r\n    table.cache[id] = table.cache[id].concat(newNodes, dataAfter);\r\n    if (!options.url) {\r\n      // 静态data模式\r\n      if (!options.page) {\r\n        options.data = table.cache[id];\r\n      } else {\r\n        var pageOptions = options.page;\r\n        options.data.splice.apply(\r\n          options.data,\r\n          [\r\n            pageOptions.limit * (pageOptions.curr - 1),\r\n            pageOptions.limit,\r\n          ].concat(table.cache[id]),\r\n        );\r\n      }\r\n    }\r\n    // 将新节点添加到页面\r\n    tableData = that.initData();\r\n\r\n    if (tableViewElem.find('.layui-none').length) {\r\n      table.renderData(id);\r\n      return newNodes;\r\n    }\r\n\r\n    var newNodesHtml = table.getTrHtml(id, newNodes);\r\n    var newNodesHtmlObj = {\r\n      trs: $(newNodesHtml.trs.join('')),\r\n      trs_fixed: $(newNodesHtml.trs_fixed.join('')),\r\n      trs_fixed_r: $(newNodesHtml.trs_fixed_r.join('')),\r\n    };\r\n\r\n    var attrs = {};\r\n    layui.each(newNodes, function (newNodeIndex, newNodeItem) {\r\n      attrs = {\r\n        'data-index': newNodeItem[LAY_DATA_INDEX],\r\n        'lay-data-index': newNodeItem[LAY_DATA_INDEX],\r\n        'data-level': '0',\r\n      };\r\n      newNodesHtmlObj.trs\r\n        .eq(newNodeIndex)\r\n        .attr(attrs)\r\n        .data('index', newNodeItem[LAY_DATA_INDEX]);\r\n      newNodesHtmlObj.trs_fixed\r\n        .eq(newNodeIndex)\r\n        .attr(attrs)\r\n        .data('index', newNodeItem[LAY_DATA_INDEX]);\r\n      newNodesHtmlObj.trs_fixed_r\r\n        .eq(newNodeIndex)\r\n        .attr(attrs)\r\n        .data('index', newNodeItem[LAY_DATA_INDEX]);\r\n    });\r\n    var trIndexPrev = parseInt(newNodes[0][LAY_DATA_INDEX]) - 1;\r\n    var tableViewElemMAIN = tableViewElem.find(ELEM_MAIN);\r\n    var tableViewElemFIXL = tableViewElem.find(ELEM_FIXL);\r\n    var tableViewElemFIXR = tableViewElem.find(ELEM_FIXR);\r\n    if (trIndexPrev === -1) {\r\n      // 插入到开头\r\n      var hasTr = tableViewElemMAIN.find(\r\n        'tr[data-level=\"0\"][data-index=\"0\"]',\r\n      )[0];\r\n      if (hasTr) {\r\n        tableViewElemMAIN\r\n          .find('tr[data-level=\"0\"][data-index=\"0\"]')\r\n          .before(newNodesHtmlObj.trs);\r\n        tableViewElemFIXL\r\n          .find('tr[data-level=\"0\"][data-index=\"0\"]')\r\n          .before(newNodesHtmlObj.trs_fixed);\r\n        tableViewElemFIXR\r\n          .find('tr[data-level=\"0\"][data-index=\"0\"]')\r\n          .before(newNodesHtmlObj.trs_fixed_r);\r\n      } else {\r\n        tableViewElemMAIN.find('tbody').prepend(newNodesHtmlObj.trs);\r\n        tableViewElemFIXL.find('tbody').prepend(newNodesHtmlObj.trs_fixed);\r\n        tableViewElemFIXR.find('tbody').prepend(newNodesHtmlObj.trs_fixed_r);\r\n      }\r\n    } else {\r\n      if (index === -1) {\r\n        // 追加到最后\r\n        tableViewElemMAIN.find('tbody').append(newNodesHtmlObj.trs);\r\n        tableViewElemFIXL.find('tbody').append(newNodesHtmlObj.trs_fixed);\r\n        tableViewElemFIXR.find('tbody').append(newNodesHtmlObj.trs_fixed_r);\r\n      } else {\r\n        var trIndexNext = dataAfter[0][LAY_DATA_INDEX_HISTORY];\r\n        tableViewElemMAIN\r\n          .find('tr[data-level=\"0\"][data-index=\"' + trIndexNext + '\"]')\r\n          .before(newNodesHtmlObj.trs);\r\n        tableViewElemFIXL\r\n          .find('tr[data-level=\"0\"][data-index=\"' + trIndexNext + '\"]')\r\n          .before(newNodesHtmlObj.trs_fixed);\r\n        tableViewElemFIXR\r\n          .find('tr[data-level=\"0\"][data-index=\"' + trIndexNext + '\"]')\r\n          .before(newNodesHtmlObj.trs_fixed_r);\r\n      }\r\n    }\r\n\r\n    // 重新更新顶层节点的data-index;\r\n    layui.each(table.cache[id], function (i4, item4) {\r\n      tableViewElem\r\n        .find(\r\n          'tr[data-level=\"0\"][lay-data-index=\"' + item4[LAY_DATA_INDEX] + '\"]',\r\n        )\r\n        .attr('data-index', i4)\r\n        .data('index', i4);\r\n    });\r\n\r\n    that.renderTreeTable(\r\n      tableViewElem.find(\r\n        newNodes\r\n          .map(function (value, index, array) {\r\n            return 'tr[lay-data-index=\"' + value[LAY_DATA_INDEX] + '\"]';\r\n          })\r\n          .join(','),\r\n      ),\r\n    );\r\n  } else {\r\n    var isParentKey = treeOptions.customName.isParent;\r\n    var childKey = treeOptions.customName.children;\r\n\r\n    parentNode[isParentKey] = true;\r\n    var childrenNodes = parentNode[childKey];\r\n    if (!childrenNodes) {\r\n      childrenNodes = parentNode[childKey] = newNodes;\r\n    } else {\r\n      dataAfter = childrenNodes.splice(\r\n        index === -1 ? childrenNodes.length : index,\r\n      );\r\n      childrenNodes = parentNode[childKey] = childrenNodes.concat(\r\n        newNodes,\r\n        dataAfter,\r\n      );\r\n    }\r\n    // 删除已经存在的同级节点以及他们的子节点，并且把中间节点的已展开过的状态设置为false\r\n    that.updateStatus(childrenNodes, function (d) {\r\n      if (d[isParentKey] || treeOptions.view.showFlexIconIfNotParent) {\r\n        d[LAY_HAS_EXPANDED] = false;\r\n      }\r\n    });\r\n    var childrenNodesFlat = that.treeToFlat(childrenNodes);\r\n    tableViewElem\r\n      .find(\r\n        childrenNodesFlat\r\n          .map(function (value) {\r\n            return 'tr[lay-data-index=\"' + value[LAY_DATA_INDEX] + '\"]';\r\n          })\r\n          .join(','),\r\n      )\r\n      .remove();\r\n\r\n    tableData = that.initData();\r\n    // 去掉父节点的已经展开过的状态，重新执行一次展开的方法\r\n    parentNode[LAY_HAS_EXPANDED] = false;\r\n    parentNode[LAY_ASYNC_STATUS] = 'local'; // 转为本地数据，应该规定异步加载子节点的时候addNodes的规则\r\n    expandNode(\r\n      {\r\n        trElem: tableViewElem.find('tr[lay-data-index=\"' + parentIndex + '\"]'),\r\n      },\r\n      true,\r\n    );\r\n  }\r\n  that.updateCheckStatus(parentNode);\r\n  // 更新父节点图标状态\r\n  if (parentNode) {\r\n    var trEl = tableViewElem.find(\r\n      'tr[lay-data-index=\"' + parentNode[LAY_DATA_INDEX] + '\"]',\r\n    );\r\n    that.updateNodeIcon({\r\n      scopeEl: trEl,\r\n      isExpand: parentNode[LAY_EXPAND],\r\n      isParent: parentNode[isParentKey],\r\n    });\r\n  }\r\n  treeTable.resize(id);\r\n  if (focus) {\r\n    // 滚动到第一个新增的节点\r\n    tableViewElem\r\n      .find(ELEM_MAIN)\r\n      .find('tr[lay-data-index=\"' + newNodes[0][LAY_DATA_INDEX] + '\"]')\r\n      .get(0)\r\n      .scrollIntoViewIfNeeded();\r\n  }\r\n\r\n  return newNodes;\r\n};\r\n\r\n// 获取表格选中状态\r\ntreeTable.checkStatus = function (id, includeHalfCheck) {\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var checkName = table.config.checkName;\r\n\r\n  // 需要区分单双选\r\n  var tableData = treeTable.getData(id, true);\r\n  var checkedData = tableData.filter(function (value, index, array) {\r\n    return value[checkName] || (includeHalfCheck && value[LAY_CHECKBOX_HALF]);\r\n  });\r\n\r\n  var isAll = true;\r\n  layui.each(\r\n    treeOptions.data.cascade === 'all'\r\n      ? table.cache[id]\r\n      : treeTable.getData(id, true),\r\n    function (i1, item1) {\r\n      if (!item1[checkName]) {\r\n        isAll = false;\r\n        return true;\r\n      }\r\n    },\r\n  );\r\n\r\n  return {\r\n    data: checkedData,\r\n    isAll: isAll,\r\n  };\r\n};\r\n\r\n// 排序之后重新渲染成树表\r\ntreeTable.on('sort', function (obj) {\r\n  var options = obj.config;\r\n  var tableView = options.elem.next();\r\n  var tableId = options.id;\r\n\r\n  if (tableView.hasClass(TABLE_TREE)) {\r\n    treeTable.sort(tableId);\r\n  }\r\n});\r\n\r\n// 行点击\r\ntreeTable.on('row', function (obj) {\r\n  var options = obj.config;\r\n  var tableView = options.elem.next();\r\n\r\n  if (tableView.hasClass(TABLE_TREE)) {\r\n    updateObjParams(obj);\r\n  }\r\n});\r\n\r\n// 行双击\r\ntreeTable.on('rowDouble', function (obj) {\r\n  var options = obj.config;\r\n  var tableView = options.elem.next();\r\n  var tableId = options.id;\r\n\r\n  if (tableView.hasClass(TABLE_TREE)) {\r\n    updateObjParams(obj);\r\n\r\n    var treeOptions = options.tree || {};\r\n    if (treeOptions.view.dblClickExpand) {\r\n      expandNode({ trElem: obj.tr.first() }, null, null, null, true);\r\n    }\r\n  }\r\n});\r\n\r\n// 菜单\r\ntreeTable.on('rowContextmenu', function (obj) {\r\n  var options = obj.config;\r\n  var tableView = options.elem.next();\r\n  var tableId = options.id;\r\n\r\n  if (tableView.hasClass(TABLE_TREE)) {\r\n    updateObjParams(obj);\r\n  }\r\n});\r\n\r\n// tr中带lay-event节点点击\r\ntreeTable.on('tool', function (obj) {\r\n  var options = obj.config;\r\n  var tableView = options.elem.next();\r\n  var tableId = options.id;\r\n\r\n  if (tableView.hasClass(TABLE_TREE)) {\r\n    updateObjParams(obj);\r\n  }\r\n});\r\n\r\n// 行内编辑\r\ntreeTable.on('edit', function (obj) {\r\n  // 如果编辑涉及到关键的name字段需要重新更新一下tr节点\r\n  var options = obj.config;\r\n  var tableView = options.elem.next();\r\n  var tableId = options.id;\r\n\r\n  if (tableView.hasClass(TABLE_TREE)) {\r\n    updateObjParams(obj);\r\n    if (obj.field === options.tree.customName.name) {\r\n      var updateData = {};\r\n      updateData[obj.field] = obj.value;\r\n      obj.update(updateData); // 通过update调用执行tr节点的更新\r\n    }\r\n  }\r\n});\r\n\r\n// 单选\r\ntreeTable.on('radio', function (obj) {\r\n  var options = obj.config;\r\n  var tableView = options.elem.next();\r\n  var tableId = options.id;\r\n\r\n  if (tableView.hasClass(TABLE_TREE)) {\r\n    var that = getThisTable(tableId);\r\n    updateObjParams(obj);\r\n    checkNode.call(that, obj.tr, obj.checked);\r\n  }\r\n});\r\n\r\n// 设置或取消行选中样式\r\nClass.prototype.setRowCheckedClass = function (tr, checked) {\r\n  var that = this;\r\n  var options = that.getOptions();\r\n\r\n  var index = tr.data('index');\r\n  var tableViewElem = options.elem.next();\r\n\r\n  tr[checked ? 'addClass' : 'removeClass'](ELEM_CHECKED); // 主体行\r\n\r\n  // 右侧固定行\r\n  tr.each(function () {\r\n    var index = $(this).data('index');\r\n    var trFixedR = tableViewElem.find(\r\n      '.layui-table-fixed-r tbody tr[data-index=\"' + index + '\"]',\r\n    );\r\n    trFixedR[checked ? 'addClass' : 'removeClass'](ELEM_CHECKED);\r\n  });\r\n};\r\n\r\n// 更新表格的复选框状态\r\nClass.prototype.updateCheckStatus = function (dataP, checked) {\r\n  var that = this;\r\n  var options = that.getOptions();\r\n  if (!options.hasChecboxCol) {\r\n    return false; // 如果没有复选列则不需要更新状态\r\n  }\r\n  var treeOptions = options.tree;\r\n  var tableId = options.id;\r\n  var tableView = options.elem.next();\r\n\r\n  var checkName = table.config.checkName;\r\n\r\n  var cascade = treeOptions.data.cascade;\r\n  var isCascadeParent = cascade === 'all' || cascade === 'parent';\r\n\r\n  // 如有必要更新父节点们的状态\r\n  if (isCascadeParent && dataP) {\r\n    var trsP = that.updateParentCheckStatus(\r\n      dataP,\r\n      layui.type(checked) === 'boolean' ? checked : null,\r\n    );\r\n    layui.each(trsP, function (indexP, itemP) {\r\n      var checkboxElem = tableView.find(\r\n        'tr[lay-data-index=\"' +\r\n          itemP[LAY_DATA_INDEX] +\r\n          '\"]  input[name=\"layTableCheckbox\"]:not(:disabled)',\r\n      );\r\n      var checked = itemP[checkName];\r\n\r\n      // 标记父节点行背景色\r\n      that.setRowCheckedClass(checkboxElem.closest('tr'), checked);\r\n\r\n      // 设置原始复选框 checked 属性值并渲染\r\n      checkboxElem.prop({\r\n        checked: checked,\r\n        indeterminate: itemP[LAY_CHECKBOX_HALF],\r\n      });\r\n    });\r\n  }\r\n\r\n  // 更新全选的状态\r\n  var isAll = true;\r\n  var isIndeterminate = false;\r\n  var data =\r\n    treeOptions.data.cascade === 'all'\r\n      ? table.cache[tableId]\r\n      : treeTable.getData(tableId, true);\r\n  data = data.filter(function (item) {\r\n    return !item[options.disabledName];\r\n  });\r\n\r\n  if (data.length > 0) {\r\n    layui.each(data, function (i1, item1) {\r\n      if (item1[checkName] || item1[LAY_CHECKBOX_HALF]) {\r\n        isIndeterminate = true;\r\n      }\r\n      if (!item1[checkName]) {\r\n        isAll = false;\r\n      }\r\n      if (isIndeterminate && !isAll) {\r\n        return true;\r\n      }\r\n    });\r\n  } else {\r\n    isAll = false;\r\n  }\r\n\r\n  isIndeterminate = isIndeterminate && !isAll;\r\n  tableView\r\n    .find('input[name=\"layTableCheckbox\"][lay-filter=\"layTableAllChoose\"]')\r\n    .prop({\r\n      checked: isAll,\r\n      indeterminate: isIndeterminate,\r\n    });\r\n\r\n  return isAll;\r\n};\r\n\r\n// 更新父节点的选中状态\r\nClass.prototype.updateParentCheckStatus = function (dataP, checked) {\r\n  var that = this;\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var tableId = options.id;\r\n  var checkName = table.config.checkName;\r\n  var childrenKey = treeOptions.customName.children;\r\n\r\n  var dataRet = [];\r\n  dataP[LAY_CHECKBOX_HALF] = false; // 先设置为非半选，是否为半选又下面逻辑判断\r\n  if (checked === true) {\r\n    // 为真需要判断子节点的情况\r\n    if (!dataP[childrenKey].length) {\r\n      checked = false;\r\n    } else {\r\n      layui.each(dataP[childrenKey], function (index, item) {\r\n        if (!item[checkName]) {\r\n          // 只要有一个子节点为false\r\n          checked = false;\r\n          dataP[LAY_CHECKBOX_HALF] = true;\r\n          return true; // 跳出循环\r\n        }\r\n      });\r\n    }\r\n  } else if (checked === false) {\r\n    // 判断是否为半选\r\n    layui.each(dataP[childrenKey], function (index, item) {\r\n      if (item[checkName] || item[LAY_CHECKBOX_HALF]) {\r\n        // 只要有一个子节点为选中或者半选状态\r\n        dataP[LAY_CHECKBOX_HALF] = true;\r\n        return true;\r\n      }\r\n    });\r\n  } else {\r\n    // 状态不确定的情况下根据子节点的信息\r\n    checked = false;\r\n    var checkedNum = 0;\r\n    layui.each(dataP[childrenKey], function (index, item) {\r\n      if (item[checkName]) {\r\n        checkedNum++;\r\n      }\r\n    });\r\n    checked = dataP[childrenKey].length\r\n      ? dataP[childrenKey].length === checkedNum\r\n      : dataP[checkName]; // 如果没有子节点保留原来的状态;\r\n    dataP[LAY_CHECKBOX_HALF] = checked ? false : checkedNum > 0;\r\n  }\r\n  dataP[checkName] = checked;\r\n  dataRet.push($.extend({}, dataP));\r\n  if (dataP[LAY_PARENT_INDEX]) {\r\n    dataRet = dataRet.concat(\r\n      that.updateParentCheckStatus(\r\n        table.cache[tableId][dataP[LAY_PARENT_INDEX]],\r\n        checked,\r\n      ),\r\n    );\r\n  }\r\n  return dataRet;\r\n};\r\n\r\nvar checkNode = function (trElem, checked, callbackFlag) {\r\n  var that = this;\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  var tableId = options.id;\r\n  var tableView = options.elem.next();\r\n  var inputElem = (trElem.length ? trElem : tableView)\r\n    .find('.laytable-cell-radio, .laytable-cell-checkbox')\r\n    .children('input')\r\n    .last();\r\n  // 判断是单选还是多选 不应该同时存在radio列和checkbox列\r\n  var isRadio = inputElem.attr('type') === 'radio';\r\n\r\n  if (callbackFlag) {\r\n    var triggerEvent = function () {\r\n      var fn = function (event) {\r\n        layui.stope(event);\r\n      };\r\n      inputElem.parent().on('click', fn); // 添加临时的阻止冒泡事件\r\n      inputElem.next().click();\r\n      inputElem.parent().off('click', fn);\r\n    };\r\n    // 如果需要触发事件可以简单的触发对应节点的click事件\r\n    if (isRadio) {\r\n      // 单选只能选中或者切换其他的不能取消选中 后续看是否有支持的必要 todo\r\n      if (checked && !inputElem.prop('checked')) {\r\n        triggerEvent();\r\n      }\r\n    } else {\r\n      if (layui.type(checked) === 'boolean') {\r\n        if (inputElem.prop('checked') !== checked) {\r\n          // 如果当前已经是想要修改的状态则不做处理\r\n          triggerEvent();\r\n        }\r\n      } else {\r\n        // 切换\r\n        triggerEvent();\r\n      }\r\n    }\r\n  } else {\r\n    var trData = that.getNodeDataByIndex(trElem.attr('data-index'));\r\n    var checkName = table.config.checkName;\r\n    // 如果不触发事件应该有一个方法可以更新数据以及页面的节点\r\n    if (isRadio) {\r\n      if (!trData) {\r\n        // 单选必须是一个存在的行\r\n        return;\r\n      }\r\n      var statusChecked = {};\r\n      statusChecked[checkName] = false;\r\n      // that.updateStatus(null, statusChecked); // 取消其他的选中状态\r\n      that.updateStatus(null, function (d) {\r\n        if (d[checkName]) {\r\n          var radioElem = tableView.find(\r\n            'tr[lay-data-index=\"' +\r\n              d[LAY_DATA_INDEX] +\r\n              '\"] input[type=\"radio\"][lay-type=\"layTableRadio\"]',\r\n          );\r\n          d[checkName] = false;\r\n\r\n          // 取消当前选中行背景色\r\n          that.setRowCheckedClass(radioElem.closest('tr'), false);\r\n          radioElem.prop('checked', false);\r\n        }\r\n      }); // 取消其他的选中状态\r\n      trData[checkName] = checked;\r\n\r\n      that.setRowCheckedClass(trElem, checked); // 标记当前选中行背景色\r\n      that.setRowCheckedClass(trElem.siblings(), false); // 取消其他行背景色\r\n\r\n      trElem\r\n        .find('input[type=\"radio\"][lay-type=\"layTableRadio\"]')\r\n        .prop('checked', checked);\r\n    } else {\r\n      // 切换只能用到单条，全选到这一步的时候应该是一个确定的状态\r\n      checked =\r\n        layui.type(checked) === 'boolean' ? checked : !trData[checkName]; // 状态切换，如果遇到不可操作的节点待处理 todo\r\n      // 全选或者是一个父节点，将子节点的状态同步为当前节点的状态\r\n      // 处理不可操作的信息\r\n      var checkedStatusFn = function (d) {\r\n        if (!d[table.config.disabledName]) {\r\n          // 节点不可操作的不处理\r\n          d[checkName] = checked;\r\n          d[LAY_CHECKBOX_HALF] = false;\r\n        }\r\n      };\r\n\r\n      var trs = that.updateStatus(\r\n        trData ? [trData] : table.cache[tableId],\r\n        checkedStatusFn,\r\n        trData && ['parent', 'none'].indexOf(treeOptions.data.cascade) !== -1,\r\n      );\r\n      var checkboxElem = tableView.find(\r\n        trs\r\n          .map(function (value) {\r\n            return (\r\n              'tr[lay-data-index=\"' +\r\n              value[LAY_DATA_INDEX] +\r\n              '\"] input[name=\"layTableCheckbox\"]:not(:disabled)'\r\n            );\r\n          })\r\n          .join(','),\r\n      );\r\n\r\n      that.setRowCheckedClass(checkboxElem.closest('tr'), checked); // 标记当前选中行背景色\r\n      checkboxElem.prop({ checked: checked, indeterminate: false });\r\n\r\n      var trDataP;\r\n\r\n      // 更新父节点以及更上层节点的状态\r\n      if (trData && trData[LAY_PARENT_INDEX]) {\r\n        // 找到父节点，然后判断父节点的子节点是否全部选中\r\n        trDataP = that.getNodeDataByIndex(trData[LAY_PARENT_INDEX]);\r\n      }\r\n\r\n      return that.updateCheckStatus(trDataP, checked);\r\n    }\r\n  }\r\n};\r\n\r\n// 多选\r\ntreeTable.on('checkbox', function (obj) {\r\n  var options = obj.config;\r\n  var tableView = options.elem.next();\r\n  var tableId = options.id;\r\n\r\n  if (tableView.hasClass(TABLE_TREE)) {\r\n    var that = getThisTable(tableId);\r\n    var checked = obj.checked;\r\n    updateObjParams(obj);\r\n    obj.isAll = checkNode.call(that, obj.tr, checked);\r\n  }\r\n});\r\n\r\n/**\r\n * 设置行选中状态\r\n * @param {String} id 树表id\r\n * @param {Object} opts\r\n * @param {Object|String} opts.index 节点下标\r\n * @param {Boolean} opts.checked 选中或取消\r\n * @param {Boolean} [opts.callbackFlag] 是否触发事件回调\r\n * */\r\ntreeTable.setRowChecked = function (id, opts) {\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n\r\n  var options = that.getOptions();\r\n  var tableView = options.elem.next();\r\n\r\n  opts = opts || {};\r\n\r\n  var node = opts.index;\r\n  var checked = opts.checked;\r\n  var callbackFlag = opts.callbackFlag;\r\n\r\n  var dataIndex = layui.type(node) === 'string' ? node : node[LAY_DATA_INDEX];\r\n  // 判断是否在当前页面中\r\n  var nodeData = that.getNodeDataByIndex(dataIndex);\r\n  if (!nodeData) {\r\n    // 目前只能处理当前页的数据\r\n    return;\r\n  }\r\n\r\n  var collectNeedExpandNodeIndex = function (index) {\r\n    needExpandIndex.push(index);\r\n    var trElem = tableView.find('tr[lay-data-index=\"' + index + '\"]');\r\n    if (!trElem.length) {\r\n      var nodeData = that.getNodeDataByIndex(index);\r\n      var parentIndex = nodeData[LAY_PARENT_INDEX];\r\n      parentIndex && collectNeedExpandNodeIndex(parentIndex);\r\n    }\r\n  };\r\n\r\n  // 判断是否展开过\r\n  var trElem = tableView.find('tr[lay-data-index=\"' + dataIndex + '\"]');\r\n  if (!trElem.length) {\r\n    var parentIndex = nodeData[LAY_PARENT_INDEX];\r\n    var needExpandIndex = [];\r\n    collectNeedExpandNodeIndex(parentIndex);\r\n    // 如果还没有展开没有渲染的要先渲染出来\r\n    layui.each(needExpandIndex.reverse(), function (index, nodeIndex) {\r\n      treeTable.expandNode(id, {\r\n        index: nodeIndex,\r\n        expandFlag: true,\r\n      });\r\n    });\r\n    trElem = tableView.find('tr[lay-data-index=\"' + dataIndex + '\"]');\r\n  }\r\n  checkNode.call(that, trElem, checked, callbackFlag);\r\n};\r\n\r\ntreeTable.checkAllNodes = function (id, checked) {\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n\r\n  var options = that.getOptions();\r\n  var tableView = options.elem.next();\r\n\r\n  checkNode.call(that, tableView.find('tr[data-index=\"NONE\"]'), !!checked);\r\n};\r\n\r\n/**\r\n * 获得数据\r\n * @param {String} id 表格id\r\n * @param {Boolean} [isSimpleData] 是否返回平铺结构的数据\r\n * @return {Array} 表格数据\r\n * */\r\ntreeTable.getData = function (id, isSimpleData) {\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n\r\n  var tableData = [];\r\n  layui.each($.extend(true, [], table.cache[id] || []), function (index, item) {\r\n    // 遍历排除掉临时的数据\r\n    tableData.push(item);\r\n  });\r\n  return isSimpleData ? that.treeToFlat(tableData) : tableData;\r\n};\r\n\r\n/**\r\n * 重新加载子节点\r\n * @param {String} id 表格id\r\n * @param {String} dataIndex 父节点的dataIndex\r\n * */\r\ntreeTable.reloadAsyncNode = function (id, dataIndex) {\r\n  var that = getThisTable(id);\r\n  if (!that) {\r\n    return;\r\n  }\r\n\r\n  var options = that.getOptions();\r\n  var treeOptions = options.tree;\r\n  if (!treeOptions.async || !treeOptions.async.enable) {\r\n    return;\r\n  }\r\n  var dataP = that.getNodeDataByIndex(dataIndex);\r\n  if (!dataP) {\r\n    return;\r\n  }\r\n  dataP[LAY_HAS_EXPANDED] = false;\r\n  dataP[LAY_EXPAND] = false;\r\n  dataP[LAY_ASYNC_STATUS] = false;\r\n  layui.each(\r\n    that.treeToFlat(dataP[treeOptions.customName.children]).reverse(),\r\n    function (i1, item1) {\r\n      treeTable.removeNode(id, item1[LAY_DATA_INDEX], true);\r\n    },\r\n  );\r\n  // 重新展开\r\n  treeTable.expandNode(id, {\r\n    index: dataIndex,\r\n    expandFlag: true,\r\n    callbackFlag: true,\r\n  });\r\n};\r\n\r\n/**\r\n * 通过数据id获取节点对象\r\n * */\r\ntreeTable.getNodeById = function (id, dataId) {\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n\r\n  return that.getNodeById(dataId);\r\n};\r\n\r\n/**\r\n * 根据自定义规则搜索节点数据\r\n * @param {String} id 树表id\r\n * @param {Function} filter 自定义过滤器函数\r\n * @param {Object} [opts]\r\n * @param {Boolean} [opts.isSingle] 是否只找到第一个\r\n * @param {Object} [opts.parentNode] 在指定在某个父节点下的子节点中搜索\r\n * @return {Object} 节点对象\r\n * */\r\ntreeTable.getNodesByFilter = function (id, filter, opts) {\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n  var options = that.getOptions();\r\n\r\n  opts = opts || {};\r\n  var isSingle = opts.isSingle;\r\n  var parentNode = opts.parentNode;\r\n  var dataP = parentNode && parentNode.data;\r\n  // dataP = dataP || table.cache[id];\r\n  var nodes = that\r\n    .treeToFlat(\r\n      dataP ? dataP[options.tree.customName.children] || [] : table.cache[id],\r\n    )\r\n    .filter(filter);\r\n  var nodesResult = [];\r\n  layui.each(nodes, function (i1, item1) {\r\n    nodesResult.push(that.getNodeByIndex(item1[LAY_DATA_INDEX]));\r\n    if (isSingle) {\r\n      return true;\r\n    }\r\n  });\r\n\r\n  return nodesResult;\r\n};\r\n\r\n// 记录所有实例\r\nthisTreeTable.that = {}; // 记录所有实例对象\r\n// thisTreeTable.config = {}; // 记录所有实例配置项\r\n\r\n// 重载\r\ntreeTable.reload = function (id, options, deep, type) {\r\n  // deep = deep !== false; // 默认采用深拷贝\r\n  var that = getThisTable(id);\r\n  if (!that) return;\r\n  that.reload(options, deep, type);\r\n  return thisTreeTable.call(that);\r\n};\r\n\r\n// 核心入口\r\ntreeTable.render = function (options) {\r\n  var inst = new Class(options);\r\n  return thisTreeTable.call(inst);\r\n};\r\n\r\nexport { treeTable };\r\n","/**\r\n * tabs\r\n * 标签页组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport $ from 'jquery';\r\nimport { componentBuilder } from '../core/component.js';\r\n\r\n// 创建组件\r\nvar component = componentBuilder({\r\n  name: 'tabs', // 组件名\r\n\r\n  // 默认配置\r\n  config: {\r\n    elem: '.layui-tabs',\r\n    trigger: 'click', // 标签切换的触发事件\r\n    headerMode: 'auto', // 标签头部的显示模式 auto | scroll | normal\r\n  },\r\n\r\n  CONST: {\r\n    ELEM: 'layui-tabs',\r\n    HEADER: 'layui-tabs-header',\r\n    CLOSE: 'layui-tabs-close',\r\n    BODY: 'layui-tabs-body',\r\n    ITEM: 'layui-tabs-item',\r\n    CARD: 'layui-tabs-card',\r\n  },\r\n\r\n  // 渲染\r\n  render: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n\r\n    // 标签页元素项\r\n    that.headerElem = ['.' + component.CONST.HEADER + ':eq(0)', '>li'];\r\n    that.bodyElem = [\r\n      '.' + component.CONST.BODY + ':eq(0)',\r\n      '>.' + component.CONST.ITEM,\r\n    ];\r\n\r\n    // 获取标签容器中的 header body 相关元素\r\n    that.getContainer = function () {\r\n      var elem = that.documentElem || options.elem;\r\n      return {\r\n        header: {\r\n          elem: elem.find(that.headerElem[0]),\r\n          items: elem.find(that.headerElem.join('')),\r\n        },\r\n        body: {\r\n          elem: elem.find(that.bodyElem[0]),\r\n          items: elem.find(that.bodyElem.join('')),\r\n        },\r\n      };\r\n    };\r\n\r\n    // 若 header 选项类型为数组\r\n    if (layui.type(options.header) === 'array') {\r\n      // if (options.header.length === 0) return;\r\n\r\n      // 给任意元素绑定 tabs 切换功能\r\n      if (typeof options.header[0] === 'string') {\r\n        that.headerElem = options.header.concat();\r\n        that.documentElem = $(document);\r\n      } else {\r\n        // 方法传值渲染\r\n        that.elemView = $('<div class=\"layui-tabs\"></div>');\r\n        if (options.className) that.elemView.addClass(options.className);\r\n\r\n        var headerElem = $('<ul class=\"layui-tabs-header\"></ul>');\r\n        var bodyElem = $('<div class=\"layui-tabs-body\"></div>');\r\n\r\n        // 生成标签项\r\n        layui.each(options.header, function (i, item) {\r\n          var elemHeaderItem = that.renderHeaderItem(item);\r\n          headerElem.append(elemHeaderItem);\r\n        });\r\n        layui.each(options.body, function (i, item) {\r\n          var elemBodyItem = that.renderBodyItem(item);\r\n          bodyElem.append(elemBodyItem);\r\n        });\r\n\r\n        that.elemView.append(headerElem).append(bodyElem);\r\n        options.elem.html(that.elemView);\r\n      }\r\n    } else {\r\n      that.renderClose(); // 初始化标签关闭结构\r\n    }\r\n\r\n    // 若 body 选项类型为数组\r\n    if (layui.type(options.body) === 'array') {\r\n      if (typeof options.body[0] === 'string') {\r\n        that.documentElem = $(document);\r\n        that.bodyElem = options.body.concat();\r\n      }\r\n    }\r\n\r\n    // 初始选中项\r\n    var data = that.data();\r\n    if ('index' in options && data.index != options.index) {\r\n      that.change(that.findHeaderItem(options.index), true);\r\n    } else if (data.index === -1) {\r\n      // 初始选中项为空时，默认选中第一个\r\n      that.change(that.findHeaderItem(0), true);\r\n    }\r\n\r\n    // 初始化滚动结构\r\n    that.roll('auto');\r\n\r\n    // 清除隐藏占位\r\n    if (options.elem.hasClass(component.CONST.CLASS_HIDEV)) {\r\n      options.elem.removeClass(component.CONST.CLASS_HIDEV);\r\n    }\r\n\r\n    // 回调\r\n    typeof options.afterRender === 'function' && options.afterRender(data);\r\n\r\n    // 渲染成功后的事件\r\n    layui.event.call(\r\n      options.elem[0],\r\n      component.CONST.MOD_NAME,\r\n      'afterRender(' + options.id + ')',\r\n      data,\r\n    );\r\n  },\r\n\r\n  // 事件\r\n  events: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n    var container = that.getContainer();\r\n    var MOD_NAME = component.CONST.MOD_NAME;\r\n    var TRIGGER_NAMESPACE = '.lay_' + MOD_NAME + '_trigger';\r\n    var delegatedElement = that.documentElem\r\n      ? container.header.elem\r\n      : options.elem;\r\n\r\n    // 标签头部事件\r\n    var trigger = options.trigger + TRIGGER_NAMESPACE;\r\n    var elemHeaderItem = that.documentElem\r\n      ? that.headerElem[1]\r\n      : that.headerElem.join('');\r\n    delegatedElement.off(trigger).on(trigger, elemHeaderItem, function () {\r\n      that.change($(this));\r\n    });\r\n\r\n    // 窗口 resize 事件\r\n    if (!inner.onresize) {\r\n      var timer;\r\n      $(window).on('resize', function () {\r\n        clearTimeout(timer);\r\n        timer = setTimeout(function () {\r\n          layui.each(component.cache.id, function (key) {\r\n            var that = component.getInst(key);\r\n            if (!that) return;\r\n            that.roll('init');\r\n          });\r\n        }, 50);\r\n      });\r\n      inner.onresize = true;\r\n    }\r\n  },\r\n});\r\n\r\n// 内部变量集\r\nvar inner = {};\r\n\r\n/**\r\n * 扩展组件原型方法\r\n */\r\n\r\nvar Class = component.Class;\r\n\r\n/**\r\n * 增加标签\r\n * @param {Object} opts\r\n * @param {string} opts.title - 标签标题\r\n * @param {string} opts.content - 标签内容\r\n * @param {string} opts.id - 标签的 lay-id 属性值\r\n * @param {string} [opts.index] - 活动标签索引，默认取当前选中标签的索引\r\n * @param {('append'|'prepend'|'after'|'before')} [opts.mode='append'] - 标签插入方式\r\n * @param {boolean} [opts.active] - 是否将新增项设置为活动标签\r\n * @param {boolean} [opts.closable] - 标签是否可关闭。初始值取决于 options.closable\r\n * @param {string} [opts.headerItem] - 自定义标签头部元素\r\n * @param {string} [opts.bodyItem] - 自定义标签内容元素\r\n * @param {Function} [opts.done] - 标签添加成功后执行的回调函数\r\n */\r\nClass.prototype.add = function (opts) {\r\n  var that = this;\r\n  // var options = that.config;\r\n  var container = that.getContainer();\r\n  var newHeaderItem = that.renderHeaderItem(opts);\r\n  var newBodyItem = that.renderBodyItem(opts);\r\n  var data = that.data();\r\n\r\n  // 选项默认值\r\n  opts = $.extend(\r\n    {\r\n      active: true,\r\n    },\r\n    opts,\r\n  );\r\n\r\n  // 插入方式\r\n  if (/(before|after)/.test(opts.mode)) {\r\n    // 在活动标签前后插入\r\n    var hasOwnIndex = Object.prototype.hasOwnProperty.call(opts, 'index');\r\n    var headerItem = hasOwnIndex\r\n      ? that.findHeaderItem(opts.index)\r\n      : data.thisHeaderItem;\r\n    var bodyItem = hasOwnIndex\r\n      ? that.findBodyItem(opts.index)\r\n      : data.thisHeaderItem;\r\n    headerItem[opts.mode](newHeaderItem);\r\n    bodyItem[opts.mode](newBodyItem);\r\n  } else {\r\n    // 在标签最前后插入\r\n    var mode =\r\n      {\r\n        prepend: 'prepend', // 插入标签到最前\r\n        append: 'append', // 插入标签到最后\r\n      }[opts.mode || 'append'] || 'append';\r\n    container.header.elem[mode](newHeaderItem);\r\n    container.body.elem[mode](newBodyItem);\r\n  }\r\n\r\n  // 是否将新增项设置为活动标签\r\n  if (opts.active) {\r\n    that.change(newHeaderItem, true);\r\n  } else {\r\n    that.roll('auto');\r\n  }\r\n\r\n  // 回调\r\n  typeof opts.done === 'function' &&\r\n    opts.done(\r\n      $.extend(data, {\r\n        headerItem: newHeaderItem,\r\n        bodyItem: newBodyItem,\r\n      }),\r\n    );\r\n};\r\n\r\n/**\r\n * 关闭指定标签\r\n * @param {Object} thisHeaderItem - 当前标签头部项元素\r\n * @param {boolean} force - 是否强制删除\r\n */\r\nClass.prototype.close = function (thisHeaderItem, force) {\r\n  if (!thisHeaderItem || !thisHeaderItem[0]) return;\r\n\r\n  var that = this;\r\n  var options = that.config;\r\n  var layid = thisHeaderItem.attr('lay-id');\r\n  var index = thisHeaderItem.index();\r\n\r\n  // 标签是否不可关闭\r\n  if (thisHeaderItem.attr('lay-closable') === 'false') {\r\n    return;\r\n  }\r\n\r\n  // 当前标签相关数据\r\n  var data = that.data();\r\n\r\n  // 标签关闭前的事件。若非强制关闭，可则根据事件的返回结果决定是否关闭\r\n  if (!force) {\r\n    var closable = layui.event.call(\r\n      thisHeaderItem[0],\r\n      component.CONST.MOD_NAME,\r\n      'beforeClose(' + options.id + ')',\r\n      $.extend(data, {\r\n        index: index,\r\n      }),\r\n    );\r\n\r\n    // 是否阻止关闭\r\n    if (closable === false) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  // 如果关闭的是当前标签，则更换当前标签索引\r\n  if (thisHeaderItem.hasClass(component.CONST.CLASS_THIS)) {\r\n    if (thisHeaderItem.next()[0]) {\r\n      that.change(thisHeaderItem.next(), true);\r\n    } else if (thisHeaderItem.prev()[0]) {\r\n      that.change(thisHeaderItem.prev(), true);\r\n    }\r\n  }\r\n\r\n  // 移除元素\r\n  that.findBodyItem(layid || index).remove();\r\n  thisHeaderItem.remove();\r\n\r\n  that.roll('auto', index);\r\n\r\n  // 获取当前标签相关数据\r\n  data = that.data();\r\n\r\n  // 标签关闭后的事件\r\n  layui.event.call(\r\n    data.thisHeaderItem[0],\r\n    component.CONST.MOD_NAME,\r\n    'afterClose(' + options.id + ')',\r\n    data,\r\n  );\r\n};\r\n\r\n/**\r\n * 批量关闭标签\r\n * @see tabs.close\r\n */\r\nClass.prototype.closeMult = function (mode, index) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var container = that.getContainer();\r\n  var data = that.data();\r\n  var headers = container.header.items;\r\n  // var bodys = container.body.items;\r\n  var DISABLED_CLOSE_SELECTOR = '[lay-closable=\"false\"]'; // 不可关闭标签选择器\r\n  // var FILTER = ':not(' + DISABLED_CLOSE_SELECTOR + ')'; // 不可关闭标签过滤器\r\n\r\n  index = index === undefined ? data.index : index;\r\n\r\n  var headerItem = that.findHeaderItem(index);\r\n  // var bodyItem = that.findBodyItem(index);\r\n  var itemIndex = headerItem.index();\r\n\r\n  // 若当前选中标签也允许关闭，则尝试寻找不可关闭的标签并将其选中\r\n  if (data.thisHeaderItem.attr('lay-closable') !== 'false') {\r\n    if (mode === 'all' || !mode) {\r\n      var nextHeader = headers\r\n        .filter(':gt(' + data.index + ')' + DISABLED_CLOSE_SELECTOR)\r\n        .eq(0);\r\n      var prevHeader = $(\r\n        headers\r\n          .filter(':lt(' + data.index + ')' + DISABLED_CLOSE_SELECTOR)\r\n          .get()\r\n          .reverse(),\r\n      ).eq(0);\r\n      if (nextHeader[0]) {\r\n        that.change(nextHeader, true);\r\n      } else if (prevHeader[0]) {\r\n        that.change(prevHeader, true);\r\n      }\r\n    } else if (index !== data.index) {\r\n      // 自动切换到活动标签\r\n      that.change(headerItem, true);\r\n    }\r\n  }\r\n\r\n  // 执行批量关闭标签\r\n  headers.each(function (i) {\r\n    var $this = $(this);\r\n    var layid = $this.attr('lay-id');\r\n    var bodyItem = that.findBodyItem(layid || i);\r\n\r\n    // 标签是否不可关闭\r\n    if ($this.attr('lay-closable') === 'false') {\r\n      return;\r\n    }\r\n\r\n    // 批量关闭方式\r\n    var isCloseOther = mode === 'other' && i !== itemIndex; // 关闭其他标签\r\n    var isCloseRight = mode === 'right' && i > itemIndex; // 关闭右侧标签\r\n    var isCloseLeft = mode === 'left' && i < itemIndex; // 关闭左侧标签（不推荐）\r\n    var isCloseAll = mode === 'all'; // 关闭所有标签\r\n\r\n    if (isCloseOther || isCloseRight || isCloseLeft || isCloseAll) {\r\n      $this.remove();\r\n      bodyItem.remove();\r\n    }\r\n  });\r\n\r\n  that.roll('auto');\r\n\r\n  // 回调\r\n  data = that.data();\r\n\r\n  // 标签关闭后的事件\r\n  layui.event.call(\r\n    data.thisHeaderItem[0],\r\n    component.CONST.MOD_NAME,\r\n    'afterClose(' + options.id + ')',\r\n    data,\r\n  );\r\n};\r\n\r\n/**\r\n * 切换标签\r\n * @param {Object} thisHeaderItem - 当前标签头部项元素\r\n * @param {boolean} [force=false] - 是否强制切换\r\n * @returns\r\n */\r\nClass.prototype.change = function (thisHeaderItem, force) {\r\n  if (!thisHeaderItem || !thisHeaderItem[0]) return;\r\n\r\n  var that = this;\r\n  var options = that.config;\r\n  var layid = thisHeaderItem.attr('lay-id');\r\n  var index = thisHeaderItem.index();\r\n  var thatA = thisHeaderItem.find('a');\r\n  // 是否存在跳转链接\r\n  var isLink =\r\n    typeof thatA.attr('href') === 'string' && thatA.attr('target') === '_blank';\r\n  // 是否不允许选中\r\n  var unselect = typeof thisHeaderItem.attr('lay-unselect') === 'string';\r\n\r\n  // 不满足切换的条件\r\n  if (isLink || unselect) {\r\n    return;\r\n  }\r\n\r\n  // 当前标签相关数据\r\n  var data = that.data();\r\n\r\n  // 标签关闭前的事件。若非强制关闭，可则根据事件的返回结果决定是否关闭\r\n  if (!force) {\r\n    var enable = layui.event.call(\r\n      thisHeaderItem[0],\r\n      component.CONST.MOD_NAME,\r\n      'beforeChange(' + options.id + ')',\r\n      $.extend(data, {\r\n        from: {\r\n          index: data.index,\r\n          headerItem: data.thisHeaderItem,\r\n        },\r\n        to: {\r\n          index: index,\r\n          headerItem: thisHeaderItem,\r\n        },\r\n      }),\r\n    );\r\n\r\n    // 是否阻止切换\r\n    if (enable === false) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  // 执行标签头部切换\r\n  thisHeaderItem\r\n    .addClass(component.CONST.CLASS_THIS)\r\n    .siblings()\r\n    .removeClass(component.CONST.CLASS_THIS);\r\n\r\n  // 执行标签内容切换\r\n  that\r\n    .findBodyItem(layid || index)\r\n    .addClass(component.CONST.CLASS_SHOW)\r\n    .siblings()\r\n    .removeClass(component.CONST.CLASS_SHOW);\r\n\r\n  that.roll('auto', index);\r\n\r\n  // 重新获取标签相关数据\r\n  data = that.data();\r\n\r\n  // 标签切换后的事件\r\n  layui.event.call(\r\n    data.thisHeaderItem[0],\r\n    component.CONST.MOD_NAME,\r\n    'afterChange(' + options.id + ')',\r\n    data,\r\n  );\r\n};\r\n\r\n/**\r\n * 渲染标签头部项\r\n * @param {Object} opts - 标签项配置信息\r\n */\r\nClass.prototype.renderHeaderItem = function (opts) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var headerItem = $(opts.headerItem || options.headerItem || '<li></li>');\r\n\r\n  headerItem.html(opts.title || 'New Tab').attr('lay-id', opts.id);\r\n  that.appendClose(headerItem, opts); // 追加标签关闭元素\r\n  return headerItem;\r\n};\r\n\r\n/**\r\n * 渲染标签内容项\r\n * @param {Object} opts - 标签项配置信息\r\n */\r\nClass.prototype.renderBodyItem = function (opts) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var bodyItem = $(\r\n    opts.bodyItem ||\r\n      options.bodyItem ||\r\n      '<div class=\"' + component.CONST.ITEM + '\"></div>',\r\n  );\r\n\r\n  bodyItem.html(opts.content || '').attr('lay-id', opts.id);\r\n  return bodyItem;\r\n};\r\n\r\n/**\r\n * 给某一个标签项追加可关闭元素\r\n * @param {Object} headerItem - 标签项元素\r\n * @param {Object} opts - 标签项配置信息\r\n */\r\nClass.prototype.appendClose = function (headerItem, opts) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  if (!options.closable) return;\r\n\r\n  opts = opts || {};\r\n\r\n  // 不可关闭项\r\n  if (opts.closable == false) {\r\n    headerItem.attr('lay-closable', 'false');\r\n  }\r\n\r\n  if (headerItem.attr('lay-closable') === 'false') {\r\n    return;\r\n  }\r\n\r\n  // 可关闭项追加关闭按钮\r\n  if (!headerItem.find('.' + component.CONST.CLOSE)[0]) {\r\n    var close = $(\r\n      '<i class=\"layui-icon layui-icon-close layui-unselect ' +\r\n        component.CONST.CLOSE +\r\n        '\"></i>',\r\n    );\r\n    close.on('click', function () {\r\n      that.close($(this).parent());\r\n      return false;\r\n    });\r\n    headerItem.append(close);\r\n  }\r\n};\r\n\r\n// 渲染标签可关闭元素\r\nClass.prototype.renderClose = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var container = that.getContainer();\r\n\r\n  container.header.items.each(function () {\r\n    var $this = $(this);\r\n    // 是否开启关闭\r\n    if (options.closable) {\r\n      that.appendClose($this);\r\n    } else {\r\n      $this.find('.' + component.CONST.CLOSE).remove();\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * 标签头滚动\r\n * @param {('auto'|'prev'|'next'|'init')} [mode='next'] - 滚动方式\r\n * @param {number} index - 标签索引。默认取当前选中标签的索引值\r\n * @returns\r\n */\r\nClass.prototype.roll = function (mode, index) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var container = that.getContainer();\r\n  var headerElem = container.header.elem;\r\n  var headerItems = container.header.items;\r\n  var scrollWidth = headerElem.prop('scrollWidth'); // 实际总长度\r\n  var outerWidth = Math.ceil(headerElem.outerWidth()); // 可视区域的长度\r\n  var tabsLeft = headerElem.data('left') || 0;\r\n  var scrollMode = options.headerMode === 'scroll'; // 标签头部是否始终保持滚动模式\r\n\r\n  // 让选中标签始终保持在可视区域\r\n  var rollToVisibleArea = function () {\r\n    index = isNaN(index) ? that.data().index : index;\r\n\r\n    var thisItemElem = headerItems.eq(index);\r\n    if (!thisItemElem[0]) return;\r\n\r\n    // 当前标签的相对水平坐标值\r\n    var thisLeft = Math.ceil(thisItemElem.position().left);\r\n    var padding = 1; // 让边界额外保持一定间距\r\n\r\n    // 当选中标签溢出在可视区域「左侧」时\r\n    var countWidth = thisLeft - (thisItemElem.prev().outerWidth() || 0); // 始终空出上一个标签\r\n    if (countWidth > 0) countWidth = countWidth - padding;\r\n\r\n    // 左侧临界值\r\n    if (tabsLeft + countWidth < 0) {\r\n      tabsLeft = countWidth >= 0 ? countWidth : 0; // 标签的复原位移不能超出 0\r\n      return headerElem.css('left', -tabsLeft).data('left', -tabsLeft);\r\n    }\r\n\r\n    // 当选中标签溢出在可视区域「右侧」时，\r\n    countWidth =\r\n      thisLeft +\r\n      thisItemElem.outerWidth() +\r\n      (thisItemElem.next().outerWidth() || 0) +\r\n      padding; // 始终空出下一个标签\r\n\r\n    // 右侧临界值\r\n    if (tabsLeft + countWidth - outerWidth > 0) {\r\n      tabsLeft = countWidth - outerWidth;\r\n      headerElem.css('left', -tabsLeft).data('left', -tabsLeft);\r\n    }\r\n  };\r\n\r\n  // css 类名\r\n  var CLASS_SCROLL = 'layui-tabs-scroll';\r\n  var CLASS_BAR = 'layui-tabs-bar';\r\n  var CLASS_BAR_ICON = ['layui-icon-prev', 'layui-icon-next'];\r\n\r\n  // 滚动结构\r\n  var rollElem = {\r\n    elem: $(\r\n      '<div class=\"' +\r\n        CLASS_SCROLL +\r\n        ' layui-border-box layui-unselect\"></div>',\r\n    ),\r\n    bar: $(\r\n      [\r\n        '<div class=\"' + CLASS_BAR + '\">',\r\n        '<i class=\"layui-icon ' + CLASS_BAR_ICON[0] + '\" lay-mode=\"prev\"></i>',\r\n        '<i class=\"layui-icon ' + CLASS_BAR_ICON[1] + '\" lay-mode=\"next\"></i>',\r\n        '</div>',\r\n      ].join(''),\r\n    ),\r\n  };\r\n\r\n  // 不渲染头部滚动结构\r\n  if (options.headerMode === 'normal') return;\r\n\r\n  // 是否渲染滚动结构\r\n  var elemScroll = headerElem.parent('.' + CLASS_SCROLL);\r\n  if (scrollMode || (!scrollMode && scrollWidth > outerWidth)) {\r\n    if (!elemScroll[0]) {\r\n      if (options.elem.hasClass(component.CONST.CARD)) {\r\n        rollElem.elem.addClass(component.CONST.CARD);\r\n      }\r\n      headerElem.wrap(rollElem.elem);\r\n      headerElem.after(rollElem.bar);\r\n\r\n      // 点击左右箭头\r\n      rollElem.bar.children().on('click', function () {\r\n        var othis = $(this);\r\n        var mode = othis.attr('lay-mode');\r\n        if ($(this).hasClass(component.CONST.CLASS_DISABLED)) return;\r\n        mode && that.roll(mode);\r\n      });\r\n    }\r\n  } else if (!scrollMode) {\r\n    if (elemScroll[0]) {\r\n      elemScroll.find('.' + CLASS_BAR).remove();\r\n      headerElem.unwrap().css('left', 0).data('left', 0);\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  // 初始化滚动模式\r\n  if (mode === 'init') return;\r\n\r\n  // 重新获取\r\n  scrollWidth = headerElem.prop('scrollWidth'); // 实际总长度\r\n  outerWidth = headerElem.outerWidth(); // 可视区域的长度\r\n  elemScroll = headerElem.parent('.' + CLASS_SCROLL);\r\n\r\n  // 左箭头（往右滚动）\r\n  if (mode === 'prev') {\r\n    // 当前的 left 减去可视宽度，用于与上一轮的页签比较\r\n    var prevLeft = -tabsLeft - outerWidth;\r\n    if (prevLeft < 0) prevLeft = 0;\r\n    headerItems.each(function (i, item) {\r\n      var li = $(item);\r\n      var left = Math.ceil(li.position().left);\r\n\r\n      if (left >= prevLeft) {\r\n        headerElem.css('left', -left).data('left', -left);\r\n        return false;\r\n      }\r\n    });\r\n  } else if (mode === 'auto') {\r\n    // 自动识别滚动\r\n    rollToVisibleArea();\r\n  } else {\r\n    // 右箭头（往左滚动） 默认 next\r\n    headerItems.each(function (i, item) {\r\n      var li = $(item);\r\n      var left = Math.ceil(li.position().left);\r\n\r\n      if (left + li.outerWidth() >= outerWidth - tabsLeft) {\r\n        headerElem.css('left', -left).data('left', -left);\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n\r\n  // 同步箭头状态\r\n  tabsLeft = headerElem.data('left') || 0;\r\n\r\n  // 左\r\n  elemScroll\r\n    .find('.' + CLASS_BAR_ICON[0])\r\n    [tabsLeft < 0 ? 'removeClass' : 'addClass'](component.CONST.CLASS_DISABLED);\r\n  // 右\r\n  elemScroll\r\n    .find('.' + CLASS_BAR_ICON[1])\r\n    [\r\n      parseFloat(tabsLeft + scrollWidth) - outerWidth > 0\r\n        ? 'removeClass'\r\n        : 'addClass'\r\n    ](component.CONST.CLASS_DISABLED);\r\n};\r\n\r\n/**\r\n * 获取标签头部项\r\n * @param {number|string} index - 标签索引或 lay-id\r\n */\r\nClass.prototype.findHeaderItem = function (index) {\r\n  var container = this.getContainer();\r\n  var headerItems = container.header.items;\r\n\r\n  // 根据 lay-id 匹配\r\n  if (typeof index === 'string') {\r\n    return headerItems.filter('[lay-id=\"' + index + '\"]');\r\n  }\r\n\r\n  return headerItems.eq(index);\r\n};\r\n\r\n/**\r\n * 获取标签内容项\r\n * @param {number|string} index - 标签索引或 lay-id\r\n */\r\nClass.prototype.findBodyItem = function (index) {\r\n  var container = this.getContainer();\r\n  var bodyItems = container.body.items;\r\n\r\n  // 根据 lay-id 匹配\r\n  if (typeof index === 'string') {\r\n    var bodyItem = bodyItems.filter('[lay-id=\"' + index + '\"]');\r\n    return bodyItem[0]\r\n      ? bodyItem\r\n      : (function () {\r\n          // 若未匹配到 lay-id 对应内容项，则通过对应头部项的索引匹配内容项\r\n          var headerItems = container.header.items;\r\n          var headerItemIndex = headerItems\r\n            .filter('[lay-id=\"' + index + '\"]')\r\n            .index();\r\n\r\n          return headerItemIndex !== -1\r\n            ? bodyItems.eq(headerItemIndex)\r\n            : bodyItem;\r\n        })();\r\n  }\r\n\r\n  return bodyItems.eq(index);\r\n};\r\n\r\n/**\r\n * 返回给回调的公共信息\r\n * @returns\r\n */\r\nClass.prototype.data = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var container = that.getContainer();\r\n  var thisHeaderItem = container.header.items.filter(\r\n    '.' + component.CONST.CLASS_THIS,\r\n  );\r\n  var index = thisHeaderItem.index();\r\n  var layid = thisHeaderItem.attr('lay-id');\r\n\r\n  return {\r\n    options: options, // 标签配置信息\r\n    container: container, // 标签容器的相关元素\r\n    thisHeaderItem: thisHeaderItem, // 当前活动标签头部项\r\n    thisBodyItem: that.findBodyItem(layid || index), // 当前活动标签内容项\r\n    index: index, // 当前活动标签索引\r\n    length: container.header.items.length, // 标签数量\r\n  };\r\n};\r\n\r\n// 扩展组件接口\r\n$.extend(component, {\r\n  /**\r\n   * 添加标签\r\n   * @param {string} id - 渲染时的实例 ID\r\n   * @param {Object} opts - 添加标签的配置项，详见 Class.prototype.add\r\n   */\r\n  add: function (id, opts) {\r\n    var that = component.getInst(id);\r\n    if (!that) return;\r\n    that.add(opts);\r\n  },\r\n\r\n  /**\r\n   * 关闭标签\r\n   * @param {string} id - 渲染时的实例 ID\r\n   * @param {number} index - 标签索引\r\n   * @param {boolean} [force=false] - 是否强制关闭\r\n   */\r\n  close: function (id, index, force) {\r\n    var that = component.getInst(id);\r\n    if (!that) return;\r\n    // index 若不传，则表示关闭当前标签\r\n    if (index === undefined) {\r\n      index = that.data().index;\r\n    }\r\n    that.close(that.findHeaderItem(index), force);\r\n  },\r\n\r\n  /**\r\n   * 关闭多个标签\r\n   * @param {string} id - 渲染时的实例 ID\r\n   * @param {('other'|'right'|'all')} [mode=\"all\"] - 关闭方式\r\n   * @param {number} index - 活动标签的索引，默认取当前选中标签的索引。一般用于标签右键事件\r\n   */\r\n  closeMult: function (id, mode, index) {\r\n    var that = component.getInst(id);\r\n    if (!that) return;\r\n    that.closeMult(mode, index);\r\n  },\r\n\r\n  /**\r\n   * 切换标签\r\n   * @param {string} id - 渲染时的实例 ID\r\n   * @param {number} index - 标签索引\r\n   */\r\n  change: function (id, index, force) {\r\n    var that = component.getInst(id);\r\n    if (!that) return;\r\n    that.change(that.findHeaderItem(index), force);\r\n  },\r\n\r\n  /**\r\n   * 获取标签信息\r\n   * @param {string} id - 渲染时的实例 ID\r\n   */\r\n  data: function (id) {\r\n    var that = component.getInst(id);\r\n    return that ? that.data() : {};\r\n  },\r\n\r\n  /**\r\n   * 获取标签指定头部项\r\n   * @param {string} id - 渲染时的实例 ID\r\n   * @param {number} index - 标签索引或 lay-id 值\r\n   * @returns\r\n   */\r\n  getHeaderItem: function (id, index) {\r\n    var that = component.getInst(id);\r\n    if (!that) return;\r\n    return that.findHeaderItem(index);\r\n  },\r\n\r\n  /**\r\n   * 获取标签指定内容项\r\n   * @param {string} id - 渲染时的实例 ID\r\n   * @param {number} index - 标签索引或 lay-id 值\r\n   * @returns\r\n   */\r\n  getBodyItem: function (id, index) {\r\n    var that = component.getInst(id);\r\n    if (!that) return;\r\n    return that.findBodyItem(index);\r\n  },\r\n\r\n  /**\r\n   * 刷新标签视图结构\r\n   * @param {string} id - 渲染时的实例 ID\r\n   */\r\n  refresh: function (id) {\r\n    var that = component.getInst(id);\r\n    if (!that) return;\r\n    that.roll('auto');\r\n  },\r\n});\r\n\r\n// 初始化渲染\r\n$(function () {\r\n  component.render();\r\n});\r\n\r\nexport { component as tabs };\r\n","/**\r\n * tree 树组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport { lay } from '../core/lay.js';\r\nimport { i18n } from '../core/i18n.js';\r\nimport $ from 'jquery';\r\nimport { componentBuilder } from '../core/component.js';\r\nimport { layer } from './layer.js';\r\nimport { form } from './form.js';\r\n\r\n// 创建组件\r\nvar component = componentBuilder({\r\n  name: 'tree',\r\n\r\n  // 默认配置\r\n  config: {\r\n    data: [], // 数据\r\n    showCheckbox: false, // 是否显示复选框\r\n    showLine: true, // 是否开启连接线\r\n    accordion: false, // 是否开启手风琴模式\r\n    onlyIconControl: false, // 是否仅允许节点左侧图标控制展开收缩\r\n    isJump: false, // 是否允许点击节点时弹出新窗口跳转\r\n    edit: false, // 是否开启节点的操作图标\r\n    customName: {\r\n      // 自定义 data 字段名\r\n      id: 'id',\r\n      title: 'title',\r\n      children: 'children',\r\n    },\r\n  },\r\n\r\n  CONST: {\r\n    ELEM: 'layui-tree',\r\n    ELEM_SET: 'layui-tree-set',\r\n    ICON_CLICK: 'layui-tree-iconClick',\r\n    ICON_ADD: 'layui-icon-addition',\r\n    ICON_SUB: 'layui-icon-subtraction',\r\n    ELEM_ENTRY: 'layui-tree-entry',\r\n    ELEM_MAIN: 'layui-tree-main',\r\n    ELEM_TEXT: 'layui-tree-txt',\r\n    ELEM_PACK: 'layui-tree-pack',\r\n    ELEM_SPREAD: 'layui-tree-spread',\r\n    ELEM_LINE_SHORT: 'layui-tree-setLineShort',\r\n    ELEM_SHOW: 'layui-tree-showLine',\r\n    ELEM_EXTEND: 'layui-tree-lineExtend',\r\n  },\r\n\r\n  // 渲染之前\r\n  beforeRender: function (options) {\r\n    var that = this;\r\n    that.config = $.extend(\r\n      {\r\n        text: {\r\n          defaultNodeName: i18n.$t('tree.defaultNodeName'), // 节点默认名称\r\n          none: i18n.$t('tree.noData'), // 数据为空时的文本提示\r\n        },\r\n      },\r\n      that.config,\r\n      options,\r\n    );\r\n\r\n    // 扁平化数据\r\n    var customName = options.customName || {};\r\n    that.config.flatData = lay.treeToFlat(that.config.data, {\r\n      idKey: customName.id,\r\n      childrenKey: customName.children,\r\n      keepChildren: true,\r\n    });\r\n  },\r\n\r\n  // 渲染\r\n  render: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n\r\n    that.checkids = [];\r\n\r\n    var wrapper = $(\r\n      '<div class=\"layui-tree layui-border-box' +\r\n        (options.showCheckbox ? ' layui-form' : '') +\r\n        (options.showLine ? ' layui-tree-line' : '') +\r\n        '\" lay-filter=\"LAY-tree-' +\r\n        that.index +\r\n        '\"></div>',\r\n    );\r\n    that.tree(wrapper);\r\n\r\n    var othis = options.elem;\r\n    if (!othis[0]) return;\r\n\r\n    // 插入组件结构\r\n    that.elem = wrapper;\r\n    that.elemNone = $(\r\n      '<div class=\"layui-tree-emptyText\">' + options.text.none + '</div>',\r\n    );\r\n    othis.html(that.elem);\r\n\r\n    if (that.elem.find('.' + CONST.ELEM_SET).length == 0) {\r\n      return that.elem.append(that.elemNone);\r\n    }\r\n\r\n    // 复选框渲染\r\n    if (options.showCheckbox) {\r\n      that.renderForm('checkbox');\r\n    }\r\n\r\n    that.elem.find('.' + CONST.ELEM_SET).each(function () {\r\n      var othis = $(this);\r\n\r\n      // 最外层\r\n      if (!othis.parent('.layui-tree-pack')[0]) {\r\n        othis.addClass('layui-tree-setHide');\r\n      }\r\n\r\n      // 没有下一个节点 上一层父级有延伸线\r\n      if (\r\n        !othis.next()[0] &&\r\n        othis\r\n          .parents('.layui-tree-pack')\r\n          .eq(1)\r\n          .hasClass('layui-tree-lineExtend')\r\n      ) {\r\n        othis.addClass(CONST.ELEM_LINE_SHORT);\r\n      }\r\n\r\n      // 没有下一个节点 外层最后一个\r\n      if (\r\n        !othis.next()[0] &&\r\n        !othis\r\n          .parents('.' + CONST.ELEM_SET)\r\n          .eq(0)\r\n          .next()[0]\r\n      ) {\r\n        othis.addClass(CONST.ELEM_LINE_SHORT);\r\n      }\r\n    });\r\n  },\r\n\r\n  // 扩展实例方法\r\n  extendsInstance: function () {\r\n    var that = this;\r\n    // var options = that.config;\r\n    return {\r\n      getChecked: function () {\r\n        return that.getChecked.call(that);\r\n      },\r\n      setChecked: function (id) {\r\n        // 设置值\r\n        return that.setChecked.call(that, id);\r\n      },\r\n    };\r\n  },\r\n});\r\n\r\nvar CONST = component.CONST;\r\n\r\n/**\r\n * 扩展组件原型方法\r\n */\r\n\r\nvar Class = component.Class;\r\n\r\n// 重载实例\r\nClass.prototype.reload = function (options, type) {\r\n  var that = this;\r\n\r\n  // 数组直接覆盖\r\n  layui.each(options, function (key, item) {\r\n    if (layui.type(item) === 'array') {\r\n      delete that.config[key];\r\n    }\r\n  });\r\n\r\n  that.config = $.extend(true, {}, that.config, options);\r\n  that.init(true, type);\r\n};\r\n\r\n// 渲染表单\r\nClass.prototype.renderForm = function (type) {\r\n  form.render(type, 'LAY-tree-' + this.index);\r\n};\r\n\r\n// 节点解析\r\nClass.prototype.tree = function (elem, children) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var customName = options.customName;\r\n  var data = children || options.data;\r\n\r\n  // 遍历数据\r\n  layui.each(data, function (index, item) {\r\n    var hasChild =\r\n      item[customName.children] && item[customName.children].length > 0;\r\n    var packDiv = $(\r\n      '<div class=\"layui-tree-pack\" ' +\r\n        (item.spread ? 'style=\"display: block;\"' : '') +\r\n        '></div>',\r\n    );\r\n    var entryDiv = $(\r\n      [\r\n        '<div data-id=\"' +\r\n          item[customName.id] +\r\n          '\" class=\"' +\r\n          [CONST.ELEM_SET, item.spread ? 'layui-tree-spread' : ''].join(' ') +\r\n          '\">',\r\n        '<div class=\"layui-tree-entry\">',\r\n        '<div class=\"layui-tree-main\">',\r\n        // 箭头\r\n        (function () {\r\n          if (options.showLine) {\r\n            if (hasChild) {\r\n              return (\r\n                '<span class=\"layui-tree-iconClick layui-tree-icon\"><i class=\"layui-icon ' +\r\n                (item.spread\r\n                  ? 'layui-icon-subtraction'\r\n                  : 'layui-icon-addition') +\r\n                '\"></i></span>'\r\n              );\r\n            } else {\r\n              return '<span class=\"layui-tree-iconClick\"><i class=\"layui-icon layui-icon-leaf\"></i></span>';\r\n            }\r\n          } else {\r\n            return (\r\n              '<span class=\"layui-tree-iconClick\"><i class=\"layui-tree-iconArrow ' +\r\n              (hasChild ? '' : CONST.CLASS_HIDE) +\r\n              '\"></i></span>'\r\n            );\r\n          }\r\n        })(),\r\n        // 复选框\r\n        (function () {\r\n          return options.showCheckbox\r\n            ? '<input type=\"checkbox\" name=\"' +\r\n                (item.field || 'layuiTreeCheck_' + item[customName.id]) +\r\n                '\" same=\"layuiTreeCheck\" lay-skin=\"primary\" ' +\r\n                (item.disabled ? 'disabled' : '') +\r\n                ' value=\"' +\r\n                item[customName.id] +\r\n                '\">'\r\n            : '';\r\n        })(),\r\n        // 节点\r\n        (function () {\r\n          if (options.isJump && item.href) {\r\n            return (\r\n              '<a href=\"' +\r\n              item.href +\r\n              '\" target=\"_blank\" class=\"' +\r\n              CONST.ELEM_TEXT +\r\n              '\">' +\r\n              (item[customName.title] ||\r\n                item.label ||\r\n                options.text.defaultNodeName) +\r\n              '</a>'\r\n            );\r\n          } else {\r\n            return (\r\n              '<span class=\"' +\r\n              CONST.ELEM_TEXT +\r\n              (item.disabled ? ' ' + CONST.CLASS_DISABLED : '') +\r\n              '\">' +\r\n              (item[customName.title] ||\r\n                item.label ||\r\n                options.text.defaultNodeName) +\r\n              '</span>'\r\n            );\r\n          }\r\n        })(),\r\n        '</div>',\r\n        // 节点操作图标\r\n        (function () {\r\n          if (!options.edit) {\r\n            return '';\r\n          }\r\n\r\n          var editIcon = {\r\n            add: '<i class=\"layui-icon layui-icon-add-1\"  data-type=\"add\"></i>',\r\n            update:\r\n              '<i class=\"layui-icon layui-icon-edit\" data-type=\"update\"></i>',\r\n            del: '<i class=\"layui-icon layui-icon-delete\" data-type=\"del\"></i>',\r\n          };\r\n          var arr = ['<div class=\"layui-btn-group layui-tree-btnGroup\">'];\r\n\r\n          if (options.edit === true) {\r\n            options.edit = ['update', 'del'];\r\n          }\r\n\r\n          if (typeof options.edit === 'object') {\r\n            layui.each(options.edit, function (i, val) {\r\n              arr.push(editIcon[val] || '');\r\n            });\r\n            return arr.join('') + '</div>';\r\n          }\r\n        })(),\r\n        '</div>',\r\n        '</div>',\r\n      ].join(''),\r\n    );\r\n\r\n    // 如果有子节点，则递归继续生成树\r\n    if (hasChild) {\r\n      entryDiv.append(packDiv);\r\n      that.tree(packDiv, item[customName.children]);\r\n    }\r\n\r\n    elem.append(entryDiv);\r\n\r\n    // 若有前置节点，前置节点加连接线\r\n    if (entryDiv.prev('.' + CONST.ELEM_SET)[0]) {\r\n      entryDiv\r\n        .prev()\r\n        .children('.layui-tree-pack')\r\n        .addClass('layui-tree-showLine');\r\n    }\r\n\r\n    // 若无子节点，则父节点加延伸线\r\n    if (!hasChild) {\r\n      entryDiv.parent('.layui-tree-pack').addClass('layui-tree-lineExtend');\r\n    }\r\n\r\n    // 展开节点操作\r\n    that.spread(entryDiv, item);\r\n\r\n    // 选择框\r\n    if (options.showCheckbox) {\r\n      item.checked && that.checkids.push(item[customName.id]);\r\n      that.checkClick(entryDiv, item);\r\n    }\r\n\r\n    // 操作节点\r\n    options.edit && that.operate(entryDiv, item);\r\n  });\r\n};\r\n\r\n// 展开节点\r\nClass.prototype.spread = function (elem, item) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var entry = elem.children('.' + CONST.ELEM_ENTRY);\r\n  var elemMain = entry.children('.' + CONST.ELEM_MAIN);\r\n  var elemCheckbox = elemMain.find('input[same=\"layuiTreeCheck\"]');\r\n  var elemIcon = entry.find('.' + CONST.ICON_CLICK);\r\n  var elemText = entry.find('.' + CONST.ELEM_TEXT);\r\n  var touchOpen = options.onlyIconControl ? elemIcon : elemMain; // 判断展开通过节点还是箭头图标\r\n  var state = '';\r\n\r\n  // 展开收缩\r\n  touchOpen.on('click', function () {\r\n    var packCont = elem.children('.' + CONST.ELEM_PACK);\r\n    var iconClick = touchOpen.children('.layui-icon')[0]\r\n      ? touchOpen.children('.layui-icon')\r\n      : touchOpen.find('.layui-tree-icon').children('.layui-icon');\r\n\r\n    // 若没有子节点\r\n    if (!packCont[0]) {\r\n      state = 'normal';\r\n    } else {\r\n      if (elem.hasClass(CONST.ELEM_SPREAD)) {\r\n        elem.removeClass(CONST.ELEM_SPREAD);\r\n        packCont.slideUp(200);\r\n        iconClick.removeClass(CONST.ICON_SUB).addClass(CONST.ICON_ADD);\r\n        that.updateFieldValue(item, 'spread', false);\r\n      } else {\r\n        elem.addClass(CONST.ELEM_SPREAD);\r\n        packCont.slideDown(200);\r\n        iconClick.addClass(CONST.ICON_SUB).removeClass(CONST.ICON_ADD);\r\n        that.updateFieldValue(item, 'spread', true);\r\n\r\n        // 是否手风琴\r\n        if (options.accordion) {\r\n          var sibls = elem.siblings('.' + CONST.ELEM_SET);\r\n          sibls.removeClass(CONST.ELEM_SPREAD);\r\n          sibls.children('.' + CONST.ELEM_PACK).slideUp(200);\r\n          sibls\r\n            .find('.layui-tree-icon')\r\n            .children('.layui-icon')\r\n            .removeClass(CONST.ICON_SUB)\r\n            .addClass(CONST.ICON_ADD);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  // 点击回调\r\n  elemText.on('click', function () {\r\n    var othis = $(this);\r\n\r\n    // 判断是否禁用状态\r\n    if (othis.hasClass(CONST.CLASS_DISABLED)) return;\r\n\r\n    // 判断展开收缩状态\r\n    if (elem.hasClass(CONST.ELEM_SPREAD)) {\r\n      state = options.onlyIconControl ? 'open' : 'close';\r\n    } else {\r\n      state = options.onlyIconControl ? 'close' : 'open';\r\n    }\r\n\r\n    // 获取选中状态\r\n    if (elemCheckbox[0]) {\r\n      that.updateFieldValue(item, 'checked', elemCheckbox.prop('checked'));\r\n    }\r\n\r\n    // 点击产生的回调\r\n    options.click &&\r\n      options.click({\r\n        elem: elem,\r\n        state: state,\r\n        data: item,\r\n      });\r\n  });\r\n};\r\n\r\n// 更新数据源 checked,spread 字段值\r\nClass.prototype.updateFieldValue = function (obj, field, value) {\r\n  if (field in obj) {\r\n    obj[field] = value;\r\n  }\r\n};\r\n\r\n/**\r\n * 同步节点选中状态\r\n * @param {JQuery} elemCheckbox - 复选框元素的 jQuery 对象\r\n * @param {Object} item - 当前节点数据\r\n * @param {boolean} isManual - 是否手动触发\r\n * @returns\r\n */\r\nClass.prototype.syncCheckedState = function (elemCheckbox, item, isManual) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var customName = options.customName;\r\n  var checked = elemCheckbox.prop('checked');\r\n  var nodeWrapper = elemCheckbox.closest('.' + CONST.ELEM_SET);\r\n\r\n  if (elemCheckbox.prop('disabled')) return;\r\n\r\n  // 同步子节点选中状态\r\n  var setChildrenChecked = function (thisNodeElem, item) {\r\n    var children = item[customName.children];\r\n    if (!children || children.length === 0) return;\r\n\r\n    var childrenPack = thisNodeElem.children('.' + CONST.ELEM_PACK);\r\n    var childrenWrapper = childrenPack.children('.' + CONST.ELEM_SET);\r\n    var elemCheckboxs = childrenWrapper\r\n      .children('.' + CONST.ELEM_ENTRY)\r\n      .find('input[same=\"layuiTreeCheck\"]');\r\n\r\n    elemCheckboxs.each(function (i) {\r\n      if (this.disabled) return; // 不可点击则跳过\r\n      var child = children[i];\r\n      // 手动触发时，子节点跟随父节点选中状态；自动渲染时，子节点优先跟随 checked 字段值\r\n      var childChecked = isManual\r\n        ? checked\r\n        : 'checked' in child\r\n          ? child.checked\r\n          : checked;\r\n\r\n      this.checked = childChecked;\r\n      that.updateFieldValue(child, 'checked', childChecked);\r\n\r\n      if (child[customName.children]) {\r\n        setChildrenChecked(childrenWrapper.eq(i), child);\r\n      }\r\n    });\r\n  };\r\n\r\n  // 同步父节点选中状态\r\n  var setParentsChecked = function (thisNodeElem) {\r\n    // 若无父节点，则终止递归\r\n    if (!thisNodeElem.parents('.' + CONST.ELEM_SET)[0]) return;\r\n\r\n    var descendantsChecked; // 后代节点选中状态\r\n    var parentPack = thisNodeElem.parent('.' + CONST.ELEM_PACK);\r\n    var parentNodeElem = parentPack.parent();\r\n    var parentCheckbox = parentPack.prev().find('input[same=\"layuiTreeCheck\"]');\r\n\r\n    if (parentCheckbox.prop('disabled')) return;\r\n\r\n    // 如果后代节点有任意一条选中，则父节点为选中状态（考虑到兼容性，暂时不支持半选状态）\r\n    if (checked) {\r\n      parentCheckbox.prop('checked', checked);\r\n    } else {\r\n      // 如果当前节点取消选中，则根据计算后代节点选中状态，来同步父节点选中状态\r\n      parentPack.find('input[same=\"layuiTreeCheck\"]').each(function () {\r\n        if (this.checked) {\r\n          descendantsChecked = true;\r\n        }\r\n      });\r\n\r\n      // 如果后代节点全部未选中，则父节点也应为非选中状态\r\n      descendantsChecked || parentCheckbox.prop('checked', false);\r\n    }\r\n\r\n    // 向父节点递归\r\n    setParentsChecked(parentNodeElem);\r\n  };\r\n\r\n  setChildrenChecked(nodeWrapper, item);\r\n  setParentsChecked(nodeWrapper);\r\n\r\n  that.renderForm('checkbox');\r\n};\r\n\r\n// 复选框选择\r\nClass.prototype.checkClick = function (elem, item) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var entry = elem.children('.' + CONST.ELEM_ENTRY);\r\n  var elemMain = entry.children('.' + CONST.ELEM_MAIN);\r\n\r\n  // 点击复选框\r\n  elemMain.on('click', 'input[same=\"layuiTreeCheck\"]', layui.stope);\r\n  elemMain.on('click', 'input[same=\"layuiTreeCheck\"]+', function (e) {\r\n    layui.stope(e); // 阻止点击节点事件\r\n\r\n    var elemCheckbox = $(this).prev();\r\n    var checked = elemCheckbox.prop('checked');\r\n\r\n    if (elemCheckbox.prop('disabled')) return;\r\n\r\n    that.syncCheckedState(elemCheckbox, item, 'manual');\r\n    that.updateFieldValue(item, 'checked', checked);\r\n\r\n    // 复选框点击产生的回调\r\n    options.oncheck &&\r\n      options.oncheck({\r\n        elem: elem,\r\n        checked: checked,\r\n        data: item,\r\n      });\r\n  });\r\n};\r\n\r\n// 节点操作\r\nClass.prototype.operate = function (elem, item) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var customName = options.customName;\r\n  var entry = elem.children('.' + CONST.ELEM_ENTRY);\r\n  var elemMain = entry.children('.' + CONST.ELEM_MAIN);\r\n\r\n  entry\r\n    .children('.layui-tree-btnGroup')\r\n    .on('click', '.layui-icon', function (e) {\r\n      layui.stope(e); // 阻止节点操作\r\n\r\n      var type = $(this).data('type');\r\n      var packCont = elem.children('.' + CONST.ELEM_PACK);\r\n      var returnObj = {\r\n        data: item,\r\n        type: type,\r\n        elem: elem,\r\n      };\r\n      // 增加\r\n      if (type == 'add') {\r\n        // 若节点本身无子节点\r\n        if (!packCont[0]) {\r\n          // 若开启连接线，更改图标样式\r\n          if (options.showLine) {\r\n            elemMain.find('.' + CONST.ICON_CLICK).addClass('layui-tree-icon');\r\n            elemMain\r\n              .find('.' + CONST.ICON_CLICK)\r\n              .children('.layui-icon')\r\n              .addClass(CONST.ICON_ADD)\r\n              .removeClass('layui-icon-leaf');\r\n            // 若未开启连接线，显示箭头\r\n          } else {\r\n            elemMain\r\n              .find('.layui-tree-iconArrow')\r\n              .removeClass(CONST.CLASS_HIDE);\r\n          }\r\n          // 节点添加子节点容器\r\n          elem.append('<div class=\"layui-tree-pack\"></div>');\r\n        }\r\n\r\n        // 新增节点\r\n        var key = options.operate && options.operate(returnObj);\r\n        var obj = {};\r\n\r\n        obj[customName.title] = options.text.defaultNodeName;\r\n        obj[customName.id] = key;\r\n        that.tree(elem.children('.' + CONST.ELEM_PACK), [obj]);\r\n\r\n        // 放在新增后面，因为要对元素进行操作\r\n        if (options.showLine) {\r\n          // 节点本身无子节点\r\n          if (!packCont[0]) {\r\n            // 遍历兄弟节点，判断兄弟节点是否有子节点\r\n            var siblings = elem.siblings('.' + CONST.ELEM_SET);\r\n            var num = 1;\r\n            var parentPack = elem.parent('.' + CONST.ELEM_PACK);\r\n\r\n            layui.each(siblings, function (index, i) {\r\n              if (!$(i).children('.' + CONST.ELEM_PACK)[0]) {\r\n                num = 0;\r\n              }\r\n            });\r\n\r\n            // 若兄弟节点都有子节点\r\n            if (num == 1) {\r\n              // 兄弟节点添加连接线\r\n              siblings\r\n                .children('.' + CONST.ELEM_PACK)\r\n                .addClass(CONST.ELEM_SHOW);\r\n              siblings\r\n                .children('.' + CONST.ELEM_PACK)\r\n                .children('.' + CONST.ELEM_SET)\r\n                .removeClass(CONST.ELEM_LINE_SHORT);\r\n              elem.children('.' + CONST.ELEM_PACK).addClass(CONST.ELEM_SHOW);\r\n              // 父级移除延伸线\r\n              parentPack.removeClass(CONST.ELEM_EXTEND);\r\n              // 同层节点最后一个更改线的状态\r\n              parentPack\r\n                .children('.' + CONST.ELEM_SET)\r\n                .last()\r\n                .children('.' + CONST.ELEM_PACK)\r\n                .children('.' + CONST.ELEM_SET)\r\n                .last()\r\n                .addClass(CONST.ELEM_LINE_SHORT);\r\n            } else {\r\n              elem\r\n                .children('.' + CONST.ELEM_PACK)\r\n                .children('.' + CONST.ELEM_SET)\r\n                .addClass(CONST.ELEM_LINE_SHORT);\r\n            }\r\n          } else {\r\n            // 添加延伸线\r\n            if (!packCont.hasClass(CONST.ELEM_EXTEND)) {\r\n              packCont.addClass(CONST.ELEM_EXTEND);\r\n            }\r\n            // 子节点添加延伸线\r\n            elem.find('.' + CONST.ELEM_PACK).each(function () {\r\n              $(this)\r\n                .children('.' + CONST.ELEM_SET)\r\n                .last()\r\n                .addClass(CONST.ELEM_LINE_SHORT);\r\n            });\r\n            // 如果前一个节点有延伸线\r\n            if (\r\n              packCont\r\n                .children('.' + CONST.ELEM_SET)\r\n                .last()\r\n                .prev()\r\n                .hasClass(CONST.ELEM_LINE_SHORT)\r\n            ) {\r\n              packCont\r\n                .children('.' + CONST.ELEM_SET)\r\n                .last()\r\n                .prev()\r\n                .removeClass(CONST.ELEM_LINE_SHORT);\r\n            } else {\r\n              // 若之前的没有，说明处于连接状态\r\n              packCont\r\n                .children('.' + CONST.ELEM_SET)\r\n                .last()\r\n                .removeClass(CONST.ELEM_LINE_SHORT);\r\n            }\r\n            // 若是最外层，要始终保持相连的状态\r\n            if (!elem.parent('.' + CONST.ELEM_PACK)[0] && elem.next()[0]) {\r\n              packCont\r\n                .children('.' + CONST.ELEM_SET)\r\n                .last()\r\n                .removeClass(CONST.ELEM_LINE_SHORT);\r\n            }\r\n          }\r\n        }\r\n        if (!options.showCheckbox) return;\r\n        // 若开启复选框，同步新增节点状态\r\n        if (elemMain.find('input[same=\"layuiTreeCheck\"]')[0].checked) {\r\n          var packLast = elem\r\n            .children('.' + CONST.ELEM_PACK)\r\n            .children('.' + CONST.ELEM_SET)\r\n            .last();\r\n          packLast.find('input[same=\"layuiTreeCheck\"]')[0].checked = true;\r\n        }\r\n        that.renderForm('checkbox');\r\n\r\n        // 修改\r\n      } else if (type == 'update') {\r\n        var text = elemMain.children('.' + CONST.ELEM_TEXT).html();\r\n        elemMain.children('.' + CONST.ELEM_TEXT).html('');\r\n        // 添加输入框，覆盖在文字上方\r\n        elemMain.append('<input type=\"text\" class=\"layui-tree-editInput\">');\r\n        // 获取焦点\r\n        elemMain\r\n          .children('.layui-tree-editInput')\r\n          .val(lay.unescape(text))\r\n          .focus();\r\n        // 嵌入文字移除输入框\r\n        var getVal = function (input) {\r\n          var textNew = lay.escape(input.val().trim());\r\n          textNew = textNew ? textNew : options.text.defaultNodeName;\r\n          input.remove();\r\n          elemMain.children('.' + CONST.ELEM_TEXT).html(textNew);\r\n\r\n          // 同步数据\r\n          returnObj.data[customName.title] = textNew;\r\n\r\n          // 节点修改的回调\r\n          options.operate && options.operate(returnObj);\r\n        };\r\n        // 失去焦点\r\n        elemMain.children('.layui-tree-editInput').blur(function () {\r\n          getVal($(this));\r\n        });\r\n        // 回车\r\n        elemMain.children('.layui-tree-editInput').on('keydown', function (e) {\r\n          if (e.keyCode === 13) {\r\n            e.preventDefault();\r\n            getVal($(this));\r\n          }\r\n        });\r\n\r\n        // 删除\r\n      } else {\r\n        var i18nText = i18n.$t('tree.deleteNodePrompt', {\r\n          name: item[customName.title] || '',\r\n        });\r\n        layer.confirm(i18nText, function (index) {\r\n          options.operate && options.operate(returnObj); // 节点删除的回调\r\n          returnObj.status = 'remove'; // 标注节点删除\r\n\r\n          layer.close(index);\r\n\r\n          // 若删除最后一个，显示空数据提示\r\n          if (\r\n            !elem.prev('.' + CONST.ELEM_SET)[0] &&\r\n            !elem.next('.' + CONST.ELEM_SET)[0] &&\r\n            !elem.parent('.' + CONST.ELEM_PACK)[0]\r\n          ) {\r\n            elem.remove();\r\n            that.elem.append(that.elemNone);\r\n            return;\r\n          }\r\n          // 若有兄弟节点\r\n          if (\r\n            elem\r\n              .siblings('.' + CONST.ELEM_SET)\r\n              .children('.' + CONST.ELEM_ENTRY)[0]\r\n          ) {\r\n            // 若开启复选框\r\n            if (options.showCheckbox) {\r\n              // 若开启复选框，进行下步操作\r\n              var elemDel = function (elem) {\r\n                // 若无父结点，则不执行\r\n                if (!elem.parents('.' + CONST.ELEM_SET)[0]) return;\r\n                var siblingTree = elem\r\n                  .siblings('.' + CONST.ELEM_SET)\r\n                  .children('.' + CONST.ELEM_ENTRY);\r\n                var parentTree = elem.parent('.' + CONST.ELEM_PACK).prev();\r\n                var checkState = parentTree.find(\r\n                  'input[same=\"layuiTreeCheck\"]',\r\n                )[0];\r\n                var state = 1;\r\n                var num = 0;\r\n\r\n                // 若父节点未勾选\r\n                if (checkState.checked == false) {\r\n                  // 遍历兄弟节点\r\n                  siblingTree.each(function (i, item1) {\r\n                    var input = $(item1).find(\r\n                      'input[same=\"layuiTreeCheck\"]',\r\n                    )[0];\r\n                    if (input.checked == false && !input.disabled) {\r\n                      state = 0;\r\n                    }\r\n                    // 判断是否全为不可勾选框\r\n                    if (!input.disabled) {\r\n                      num = 1;\r\n                    }\r\n                  });\r\n                  // 若有可勾选选择框并且已勾选\r\n                  if (state == 1 && num == 1) {\r\n                    // 勾选父节点\r\n                    checkState.checked = true;\r\n                    that.renderForm('checkbox');\r\n                    // 向上遍历祖先节点\r\n                    elemDel(parentTree.parent('.' + CONST.ELEM_SET));\r\n                  }\r\n                }\r\n              };\r\n              elemDel(elem);\r\n            }\r\n            // 若开启连接线\r\n            if (options.showLine) {\r\n              // 遍历兄弟节点，判断兄弟节点是否有子节点\r\n              var siblings = elem.siblings('.' + CONST.ELEM_SET);\r\n              var num = 1;\r\n              var parentPack = elem.parent('.' + CONST.ELEM_PACK);\r\n\r\n              layui.each(siblings, function (index, i) {\r\n                if (!$(i).children('.' + CONST.ELEM_PACK)[0]) {\r\n                  num = 0;\r\n                }\r\n              });\r\n              // 若兄弟节点都有子节点\r\n              if (num == 1) {\r\n                // 若节点本身无子节点\r\n                if (!packCont[0]) {\r\n                  // 父级去除延伸线，因为此时子节点里没有空节点\r\n                  parentPack.removeClass(CONST.ELEM_EXTEND);\r\n                  siblings\r\n                    .children('.' + CONST.ELEM_PACK)\r\n                    .addClass(CONST.ELEM_SHOW);\r\n                  siblings\r\n                    .children('.' + CONST.ELEM_PACK)\r\n                    .children('.' + CONST.ELEM_SET)\r\n                    .removeClass(CONST.ELEM_LINE_SHORT);\r\n                }\r\n                // 若为最后一个节点\r\n                if (!elem.next()[0]) {\r\n                  elem\r\n                    .prev()\r\n                    .children('.' + CONST.ELEM_PACK)\r\n                    .children('.' + CONST.ELEM_SET)\r\n                    .last()\r\n                    .addClass(CONST.ELEM_LINE_SHORT);\r\n                } else {\r\n                  parentPack\r\n                    .children('.' + CONST.ELEM_SET)\r\n                    .last()\r\n                    .children('.' + CONST.ELEM_PACK)\r\n                    .children('.' + CONST.ELEM_SET)\r\n                    .last()\r\n                    .addClass(CONST.ELEM_LINE_SHORT);\r\n                }\r\n                // 若为最外层最后一个节点，去除前一个结点的连接线\r\n                if (\r\n                  !elem.next()[0] &&\r\n                  !elem.parents('.' + CONST.ELEM_SET)[1] &&\r\n                  !elem\r\n                    .parents('.' + CONST.ELEM_SET)\r\n                    .eq(0)\r\n                    .next()[0]\r\n                ) {\r\n                  elem\r\n                    .prev('.' + CONST.ELEM_SET)\r\n                    .addClass(CONST.ELEM_LINE_SHORT);\r\n                }\r\n              } else {\r\n                // 若为最后一个节点且有延伸线\r\n                if (!elem.next()[0] && elem.hasClass(CONST.ELEM_LINE_SHORT)) {\r\n                  elem.prev().addClass(CONST.ELEM_LINE_SHORT);\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            // 若无兄弟节点\r\n            var prevDiv = elem.parent('.' + CONST.ELEM_PACK).prev();\r\n            // 若开启了连接线\r\n            if (options.showLine) {\r\n              prevDiv\r\n                .find('.' + CONST.ICON_CLICK)\r\n                .removeClass('layui-tree-icon');\r\n              prevDiv\r\n                .find('.' + CONST.ICON_CLICK)\r\n                .children('.layui-icon')\r\n                .removeClass(CONST.ICON_SUB)\r\n                .addClass('layui-icon-leaf');\r\n              // 父节点所在层添加延伸线\r\n              var pare = prevDiv.parents('.' + CONST.ELEM_PACK).eq(0);\r\n              pare.addClass(CONST.ELEM_EXTEND);\r\n\r\n              // 兄弟节点最后子节点添加延伸线\r\n              pare.children('.' + CONST.ELEM_SET).each(function () {\r\n                $(this)\r\n                  .children('.' + CONST.ELEM_PACK)\r\n                  .children('.' + CONST.ELEM_SET)\r\n                  .last()\r\n                  .addClass(CONST.ELEM_LINE_SHORT);\r\n              });\r\n            } else {\r\n              // 父节点隐藏箭头\r\n              prevDiv.find('.layui-tree-iconArrow').addClass(CONST.CLASS_HIDE);\r\n            }\r\n            // 移除展开属性\r\n            elem\r\n              .parents('.' + CONST.ELEM_SET)\r\n              .eq(0)\r\n              .removeClass(CONST.ELEM_SPREAD);\r\n            // 移除节点容器\r\n            elem.parent('.' + CONST.ELEM_PACK).remove();\r\n          }\r\n\r\n          elem.remove();\r\n        });\r\n      }\r\n    });\r\n};\r\n\r\n// 部分事件\r\nClass.prototype.events = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  // 初始选中\r\n  that.setChecked(that.checkids);\r\n\r\n  // 搜索\r\n  that.elem.find('.layui-tree-search').on('keyup', function () {\r\n    var input = $(this);\r\n    var val = input.val();\r\n    var pack = input.nextAll();\r\n    var arr = [];\r\n\r\n    // 遍历所有的值\r\n    pack.find('.' + CONST.ELEM_TEXT).each(function () {\r\n      var entry = $(this).parents('.' + CONST.ELEM_ENTRY);\r\n      // 若值匹配，加一个类以作标识\r\n      if ($(this).html().indexOf(val) != -1) {\r\n        arr.push($(this).parent());\r\n\r\n        var select = function (div) {\r\n          div.addClass('layui-tree-searchShow');\r\n          // 向上父节点渲染\r\n          if (div.parent('.' + CONST.ELEM_PACK)[0]) {\r\n            select(\r\n              div.parent('.' + CONST.ELEM_PACK).parent('.' + CONST.ELEM_SET),\r\n            );\r\n          }\r\n        };\r\n        select(entry.parent('.' + CONST.ELEM_SET));\r\n      }\r\n    });\r\n\r\n    // 根据标志剔除\r\n    pack.find('.' + CONST.ELEM_ENTRY).each(function () {\r\n      var parent = $(this).parent('.' + CONST.ELEM_SET);\r\n      if (!parent.hasClass('layui-tree-searchShow')) {\r\n        parent.addClass(CONST.CLASS_HIDE);\r\n      }\r\n    });\r\n    if (pack.find('.layui-tree-searchShow').length == 0) {\r\n      that.elem.append(that.elemNone);\r\n    }\r\n\r\n    // 节点过滤的回调\r\n    options.onsearch &&\r\n      options.onsearch({\r\n        elem: arr,\r\n      });\r\n  });\r\n\r\n  // 还原搜索初始状态\r\n  that.elem.find('.layui-tree-search').on('keydown', function () {\r\n    $(this)\r\n      .nextAll()\r\n      .find('.' + CONST.ELEM_ENTRY)\r\n      .each(function () {\r\n        var parent = $(this).parent('.' + CONST.ELEM_SET);\r\n        parent.removeClass('layui-tree-searchShow ' + CONST.CLASS_HIDE);\r\n      });\r\n    if ($('.layui-tree-emptyText')[0]) $('.layui-tree-emptyText').remove();\r\n  });\r\n};\r\n\r\n// 得到选中节点\r\nClass.prototype.getChecked = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var customName = options.customName;\r\n  var checkedId = [];\r\n  var checkedData = [];\r\n\r\n  // 遍历节点找到选中索引\r\n  that.elem.find('.layui-form-checked').each(function () {\r\n    checkedId.push($(this).prev()[0].value);\r\n  });\r\n\r\n  // 遍历节点\r\n  var eachNodes = function (data, checkNode) {\r\n    layui.each(data, function (index, item) {\r\n      layui.each(checkedId, function (index2, item2) {\r\n        if (item[customName.id] == item2) {\r\n          that.updateFieldValue(item, 'checked', true);\r\n\r\n          var cloneItem = $.extend({}, item);\r\n          delete cloneItem[customName.children];\r\n\r\n          checkNode.push(cloneItem);\r\n\r\n          if (item[customName.children]) {\r\n            cloneItem[customName.children] = [];\r\n            eachNodes(\r\n              item[customName.children],\r\n              cloneItem[customName.children],\r\n            );\r\n          }\r\n          return true;\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  eachNodes($.extend({}, options.data), checkedData);\r\n  return checkedData;\r\n};\r\n\r\n// 设置选中节点\r\nClass.prototype.setChecked = function (checkedId) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var flatData = options.flatData;\r\n\r\n  if (typeof checkedId !== 'object') {\r\n    checkedId = [checkedId];\r\n  }\r\n\r\n  // 初始选中状态\r\n  that.elem.find('.' + CONST.ELEM_SET).each(function (i) {\r\n    var thisId = $(this).data('id');\r\n    var input = $(this)\r\n      .children('.' + CONST.ELEM_ENTRY)\r\n      .find('input[same=\"layuiTreeCheck\"]');\r\n    var checked = input.prop('checked');\r\n\r\n    layui.each(checkedId, function (_i, id) {\r\n      if (thisId == id) {\r\n        if (input.prop('disabled')) return;\r\n        if (!checked) {\r\n          input.prop('checked', true);\r\n          that.syncCheckedState(input, flatData[i]);\r\n          return true;\r\n        }\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\n// 扩展组件接口\r\n$.extend(component, {\r\n  // 获得选中的节点数据\r\n  getChecked: function (id) {\r\n    var that = component.getInst(id);\r\n    if (!that) return;\r\n    return that.getChecked();\r\n  },\r\n\r\n  // 设置选中节点\r\n  setChecked: function (id, checkedId) {\r\n    var that = component.getInst(id);\r\n    if (!that) return;\r\n    return that.setChecked(checkedId);\r\n  },\r\n});\r\n\r\nexport { component as tree };\r\n","/**\r\n * transfer\r\n * 穿梭框组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport { i18n } from '../core/i18n.js';\r\nimport $ from 'jquery';\r\nimport { componentBuilder } from '../core/component.js';\r\nimport { laytpl } from '../core/laytpl.js';\r\nimport { form } from './form.js';\r\n\r\nvar component = componentBuilder({\r\n  name: 'transfer',\r\n\r\n  // 默认配置\r\n  config: {\r\n    width: 200,\r\n    height: 360,\r\n    data: [], // 数据源\r\n    value: [], // 选中的数据\r\n    showSearch: false, // 是否开启搜索\r\n    id: '', // 唯一索引，默认自增 index\r\n  },\r\n\r\n  CONST: {\r\n    ELEM: 'layui-transfer',\r\n    ELEM_BOX: 'layui-transfer-box',\r\n    ELEM_HEADER: 'layui-transfer-header',\r\n    ELEM_SEARCH: 'layui-transfer-search',\r\n    ELEM_ACTIVE: 'layui-transfer-active',\r\n    ELEM_DATA: 'layui-transfer-data',\r\n    BTN_DISABLED: 'layui-btn-disabled',\r\n  },\r\n\r\n  beforeRender: function (options) {\r\n    var that = this;\r\n    that.config = $.extend(\r\n      {\r\n        title: i18n.$t('transfer.title'),\r\n        text: {\r\n          none: i18n.$t('transfer.noData'),\r\n          searchNone: i18n.$t('transfer.noMatch'),\r\n        },\r\n      },\r\n      that.config,\r\n      options,\r\n    );\r\n  },\r\n\r\n  // 渲染\r\n  render: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n\r\n    // 穿梭框模板\r\n    var TPL_BOX = function (obj) {\r\n      obj = obj || {};\r\n      return [\r\n        '<div class=\"layui-transfer-box\" data-index=\"' + obj.index + '\">',\r\n        '<div class=\"layui-transfer-header\">',\r\n        '<input type=\"checkbox\" name=\"' +\r\n          obj.checkAllName +\r\n          '\" lay-filter=\"layTransferCheckbox\" lay-type=\"all\" lay-skin=\"primary\" title=\"{{= d.data.title[' +\r\n          obj.index +\r\n          \"] || 'list\" +\r\n          (obj.index + 1) +\r\n          '\\' }}\">',\r\n        '</div>',\r\n        '{{ if(d.data.showSearch){ }}',\r\n        '<div class=\"layui-transfer-search\">',\r\n        '<i class=\"layui-icon layui-icon-search\"></i>',\r\n        '<input type=\"text\" class=\"layui-input\" placeholder=\"' +\r\n          i18n.$t('transfer.searchPlaceholder') +\r\n          '\">',\r\n        '</div>',\r\n        '{{ } }}',\r\n        '<ul class=\"layui-transfer-data\"></ul>',\r\n        '</div>',\r\n      ].join('');\r\n    };\r\n\r\n    // 主模板\r\n    var TPL_MAIN = [\r\n      '<div class=\"layui-transfer layui-form layui-border-box\" lay-filter=\"LAY-transfer-{{= d.index }}\">',\r\n      TPL_BOX({\r\n        index: 0,\r\n        checkAllName: 'layTransferLeftCheckAll',\r\n      }),\r\n      '<div class=\"layui-transfer-active\">',\r\n      '<button type=\"button\" class=\"layui-btn layui-btn-sm layui-btn-primary layui-btn-disabled\" data-index=\"0\">',\r\n      '<i class=\"layui-icon layui-icon-next\"></i>',\r\n      '</button>',\r\n      '<button type=\"button\" class=\"layui-btn layui-btn-sm layui-btn-primary layui-btn-disabled\" data-index=\"1\">',\r\n      '<i class=\"layui-icon layui-icon-prev\"></i>',\r\n      '</button>',\r\n      '</div>',\r\n      TPL_BOX({\r\n        index: 1,\r\n        checkAllName: 'layTransferRightCheckAll',\r\n      }),\r\n      '</div>',\r\n    ].join('');\r\n\r\n    // 解析模板\r\n    var thisElem = (that.elem = $(\r\n      laytpl(TPL_MAIN, {\r\n        open: '{{', // 标签符前缀\r\n        close: '}}', // 标签符后缀\r\n        tagStyle: 'modern',\r\n      }).render({\r\n        data: options,\r\n        index: that.index, // 索引\r\n      }),\r\n    ));\r\n\r\n    var othis = options.elem;\r\n    if (!othis[0]) return;\r\n\r\n    // 初始化属性\r\n    options.data = options.data || [];\r\n    options.value = options.value || [];\r\n\r\n    // 插入组件结构\r\n    othis.html(that.elem);\r\n\r\n    // 各级容器\r\n    that.layBox = that.elem.find('.' + CONST.ELEM_BOX);\r\n    that.layHeader = that.elem.find('.' + CONST.ELEM_HEADER);\r\n    that.laySearch = that.elem.find('.' + CONST.ELEM_SEARCH);\r\n    that.layData = thisElem.find('.' + CONST.ELEM_DATA);\r\n    that.layBtn = thisElem.find('.' + CONST.ELEM_ACTIVE + ' .layui-btn');\r\n\r\n    // 初始化尺寸\r\n    that.layBox.css({\r\n      width: options.width,\r\n      height: options.height,\r\n    });\r\n    that.layData.css({\r\n      height: (function () {\r\n        var height = options.height - that.layHeader.outerHeight();\r\n        if (options.showSearch) {\r\n          height -= that.laySearch.outerHeight();\r\n        }\r\n        return height - 2;\r\n      })(),\r\n    });\r\n\r\n    that.renderData(); // 渲染数据\r\n    that.events(); // 事件\r\n  },\r\n\r\n  // 扩展实例方法\r\n  extendsInstance: function () {\r\n    var that = this;\r\n    // var options = that.config;\r\n    return {\r\n      // 获取右侧数据\r\n      getData: function () {\r\n        return that.getData.call(that);\r\n      },\r\n    };\r\n  },\r\n});\r\n\r\nvar CONST = component.CONST;\r\n\r\n/**\r\n * 扩展组件原型方法\r\n */\r\n\r\nvar Class = component.Class;\r\n\r\n// 渲染数据\r\nClass.prototype.renderData = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  // 左右穿梭框差异数据\r\n  var arr = [\r\n    {\r\n      checkName: 'layTransferLeftCheck',\r\n      views: [],\r\n    },\r\n    {\r\n      checkName: 'layTransferRightCheck',\r\n      views: [],\r\n    },\r\n  ];\r\n\r\n  // 解析格式\r\n  that.parseData(function (item) {\r\n    // 标注为 selected 的为右边的数据\r\n    var _index = item.selected ? 1 : 0;\r\n    var listElem = [\r\n      '<li>',\r\n      '<input type=\"checkbox\" name=\"' +\r\n        arr[_index].checkName +\r\n        '\" lay-skin=\"primary\" lay-filter=\"layTransferCheckbox\" title=\"' +\r\n        item.title +\r\n        '\"' +\r\n        (item.disabled ? ' disabled' : '') +\r\n        (item.checked ? ' checked' : '') +\r\n        ' value=\"' +\r\n        item.value +\r\n        '\">',\r\n      '</li>',\r\n    ].join('');\r\n    // 按照 options.value 顺序排列右侧数据\r\n    if (_index) {\r\n      layui.each(options.value, function (i, v) {\r\n        if (v == item.value && item.selected) {\r\n          arr[_index].views[i] = listElem;\r\n        }\r\n      });\r\n    } else {\r\n      arr[_index].views.push(listElem);\r\n    }\r\n    delete item.selected;\r\n  });\r\n\r\n  that.layData.eq(0).html(arr[0].views.join(''));\r\n  that.layData.eq(1).html(arr[1].views.join(''));\r\n\r\n  that.renderCheckBtn();\r\n};\r\n\r\n// 渲染表单\r\nClass.prototype.renderForm = function (type) {\r\n  form.render(type, 'LAY-transfer-' + this.index);\r\n};\r\n\r\n// 同步复选框和按钮状态\r\nClass.prototype.renderCheckBtn = function (obj) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  obj = obj || {};\r\n\r\n  that.layBox.each(function (_index) {\r\n    var othis = $(this);\r\n    var thisDataElem = othis.find('.' + CONST.ELEM_DATA);\r\n    var allElemCheckbox = othis\r\n      .find('.' + CONST.ELEM_HEADER)\r\n      .find('input[type=\"checkbox\"]');\r\n    var listElemCheckbox = thisDataElem.find('input[type=\"checkbox\"]');\r\n\r\n    // 同步复选框和按钮状态\r\n    var nums = 0;\r\n    var haveChecked = false;\r\n\r\n    listElemCheckbox.each(function () {\r\n      var isHide = $(this).data('hide');\r\n      if (this.checked || this.disabled || isHide) {\r\n        nums++;\r\n      }\r\n      if (this.checked && !isHide) {\r\n        haveChecked = true;\r\n      }\r\n    });\r\n\r\n    allElemCheckbox.prop(\r\n      'checked',\r\n      haveChecked && nums === listElemCheckbox.length,\r\n    ); // 全选复选框状态\r\n    that.layBtn\r\n      .eq(_index)\r\n      [haveChecked ? 'removeClass' : 'addClass'](CONST.BTN_DISABLED); // 对应的按钮状态\r\n\r\n    // 无数据视图\r\n    if (!obj.stopNone) {\r\n      var isNone = thisDataElem.children(\r\n        'li:not(.' + CONST.CLASS_HIDE + ')',\r\n      ).length;\r\n      that.noneView(thisDataElem, isNone ? '' : options.text.none);\r\n    }\r\n  });\r\n\r\n  that.renderForm('checkbox');\r\n};\r\n\r\n// 无数据视图\r\nClass.prototype.noneView = function (thisDataElem, text) {\r\n  var createNoneElem = $('<p class=\"layui-none\">' + (text || '') + '</p>');\r\n  if (thisDataElem.find('.' + CONST.CLASS_NONE)[0]) {\r\n    thisDataElem.find('.' + CONST.CLASS_NONE).remove();\r\n  }\r\n  text.replace(/\\s/g, '') && thisDataElem.append(createNoneElem);\r\n};\r\n\r\n// 同步 value 属性值\r\nClass.prototype.setValue = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var arr = [];\r\n\r\n  that.layBox\r\n    .eq(1)\r\n    .find('.' + CONST.ELEM_DATA + ' input[type=\"checkbox\"]')\r\n    .each(function () {\r\n      var isHide = $(this).data('hide');\r\n      isHide || arr.push(this.value);\r\n    });\r\n  options.value = arr;\r\n\r\n  return that;\r\n};\r\n\r\n// 解析数据\r\nClass.prototype.parseData = function (callback) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var newData = [];\r\n\r\n  layui.each(options.data, function (index, item) {\r\n    // 解析格式\r\n    item =\r\n      (typeof options.parseData === 'function'\r\n        ? options.parseData(item)\r\n        : item) || item;\r\n\r\n    newData.push((item = $.extend({}, item)));\r\n\r\n    layui.each(options.value, function (index2, item2) {\r\n      if (item2 == item.value) {\r\n        item.selected = true;\r\n      }\r\n    });\r\n    callback && callback(item);\r\n  });\r\n\r\n  options.data = newData;\r\n  return that;\r\n};\r\n\r\n// 获得右侧面板数据\r\nClass.prototype.getData = function (value) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var selectedData = [];\r\n\r\n  that.setValue();\r\n\r\n  layui.each(value || options.value, function (index, item) {\r\n    layui.each(options.data, function (index2, item2) {\r\n      delete item2.selected;\r\n      if (item == item2.value) {\r\n        selectedData.push(item2);\r\n      }\r\n    });\r\n  });\r\n  return selectedData;\r\n};\r\n\r\n// 执行穿梭\r\nClass.prototype.transfer = function (_index, elem) {\r\n  var that = this;\r\n  var options = that.config;\r\n  var thisBoxElem = that.layBox.eq(_index);\r\n  var arr = [];\r\n\r\n  if (!elem) {\r\n    // 通过按钮触发找到选中的进行移动\r\n    thisBoxElem.each(function () {\r\n      var othis = $(this);\r\n      var thisDataElem = othis.find('.' + CONST.ELEM_DATA);\r\n\r\n      thisDataElem.children('li').each(function () {\r\n        var thisList = $(this);\r\n        var thisElemCheckbox = thisList.find('input[type=\"checkbox\"]');\r\n        var isHide = thisElemCheckbox.data('hide');\r\n\r\n        if (thisElemCheckbox[0].checked && !isHide) {\r\n          thisElemCheckbox[0].checked = false;\r\n          thisBoxElem\r\n            .siblings('.' + CONST.ELEM_BOX)\r\n            .find('.' + CONST.ELEM_DATA)\r\n            .append(thisList.clone());\r\n          thisList.remove();\r\n\r\n          // 记录当前穿梭的数据\r\n          arr.push(thisElemCheckbox[0].value);\r\n        }\r\n\r\n        that.setValue();\r\n      });\r\n    });\r\n  } else {\r\n    // 双击单条记录移动\r\n    var thisList = elem;\r\n    var thisElemCheckbox = thisList.find('input[type=\"checkbox\"]');\r\n\r\n    thisElemCheckbox[0].checked = false;\r\n    thisBoxElem\r\n      .siblings('.' + CONST.ELEM_BOX)\r\n      .find('.' + CONST.ELEM_DATA)\r\n      .append(thisList.clone());\r\n    thisList.remove();\r\n\r\n    // 记录当前穿梭的数据\r\n    arr.push(thisElemCheckbox[0].value);\r\n\r\n    that.setValue();\r\n  }\r\n\r\n  that.renderCheckBtn();\r\n\r\n  // 穿梭时，如果另外一个框正在搜索，则触发匹配\r\n  var siblingInput = thisBoxElem\r\n    .siblings('.' + CONST.ELEM_BOX)\r\n    .find('.' + CONST.ELEM_SEARCH + ' input');\r\n  siblingInput.val() === '' || siblingInput.trigger('keyup');\r\n\r\n  // 穿梭时的回调\r\n  options.onchange && options.onchange(that.getData(arr), _index);\r\n};\r\n\r\n// 事件\r\nClass.prototype.events = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  // 左右复选框\r\n  that.elem.on(\r\n    'click',\r\n    'input[lay-filter=\"layTransferCheckbox\"]+',\r\n    function () {\r\n      var thisElemCheckbox = $(this).prev();\r\n      var checked = thisElemCheckbox[0].checked;\r\n      var thisDataElem = thisElemCheckbox\r\n        .parents('.' + CONST.ELEM_BOX)\r\n        .eq(0)\r\n        .find('.' + CONST.ELEM_DATA);\r\n\r\n      if (thisElemCheckbox[0].disabled) return;\r\n\r\n      // 判断是否全选\r\n      if (thisElemCheckbox.attr('lay-type') === 'all') {\r\n        thisDataElem.find('input[type=\"checkbox\"]').each(function () {\r\n          if (this.disabled) return;\r\n          this.checked = checked;\r\n        });\r\n      }\r\n\r\n      setTimeout(function () {\r\n        that.renderCheckBtn({ stopNone: true });\r\n      }, 0);\r\n    },\r\n  );\r\n\r\n  // 双击穿梭\r\n  that.elem.on('dblclick', '.' + CONST.ELEM_DATA + '>li', function () {\r\n    var elemThis = $(this);\r\n    var thisElemCheckbox = elemThis.children('input[type=\"checkbox\"]');\r\n    var thisDataElem = elemThis.parent();\r\n    var thisBoxElem = thisDataElem.parent();\r\n    var index = thisBoxElem.data('index');\r\n\r\n    if (thisElemCheckbox[0].disabled) return;\r\n\r\n    // 根据 dblclick 回调函数返回值决定是否执行穿梭 --- 2.9.3+\r\n    var ret =\r\n      typeof options.dblclick === 'function'\r\n        ? options.dblclick({\r\n            elem: elemThis,\r\n            data: that.getData([thisElemCheckbox[0].value])[0],\r\n            index: index,\r\n          })\r\n        : null;\r\n\r\n    if (ret === false) return;\r\n\r\n    that.transfer(index, elemThis);\r\n  });\r\n\r\n  // 穿梭按钮事件\r\n  that.layBtn.on('click', function () {\r\n    var othis = $(this);\r\n    var _index = othis.data('index');\r\n\r\n    if (othis.hasClass(CONST.BTN_DISABLED)) return;\r\n    that.transfer(_index);\r\n  });\r\n\r\n  // 搜索\r\n  that.laySearch.find('input').on('keyup', function () {\r\n    var value = this.value;\r\n    var thisDataElem = $(this)\r\n      .parents('.' + CONST.ELEM_SEARCH)\r\n      .eq(0)\r\n      .siblings('.' + CONST.ELEM_DATA);\r\n    var thisListElem = thisDataElem.children('li');\r\n\r\n    thisListElem.each(function () {\r\n      var thisList = $(this);\r\n      var thisElemCheckbox = thisList.find('input[type=\"checkbox\"]');\r\n      var title = thisElemCheckbox[0].title;\r\n\r\n      // 是否区分大小写\r\n      if (options.showSearch !== 'cs') {\r\n        title = title.toLowerCase();\r\n        value = value.toLowerCase();\r\n      }\r\n\r\n      var isMatch = title.indexOf(value) !== -1;\r\n\r\n      thisList[isMatch ? 'removeClass' : 'addClass'](CONST.CLASS_HIDE);\r\n      thisElemCheckbox.data('hide', isMatch ? false : true);\r\n    });\r\n\r\n    that.renderCheckBtn();\r\n\r\n    // 无匹配数据视图\r\n    var isNone =\r\n      thisListElem.length ===\r\n      thisDataElem.children('li.' + CONST.CLASS_HIDE).length;\r\n    that.noneView(thisDataElem, isNone ? options.text.searchNone : '');\r\n  });\r\n};\r\n\r\n// 扩展组件接口\r\n$.extend(component, {\r\n  // 获得选中的数据（右侧面板）\r\n  getData: function (id) {\r\n    var that = component.getInst(id);\r\n    if (!that) return;\r\n    return that.getData();\r\n  },\r\n});\r\n\r\nexport { component as transfer };\r\n","/**\r\n * carousel\r\n * 轮播\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport { lay } from '../core/lay.js';\r\nimport $ from 'jquery';\r\nimport { component as componentBuilder } from '../core/component.js';\r\n\r\n// 创建组件\r\nvar component = componentBuilder({\r\n  name: 'carousel',\r\n\r\n  // 默认配置\r\n  config: {\r\n    width: '600px',\r\n    height: '280px',\r\n    full: false, // 是否全屏\r\n    arrow: 'hover', // 切换箭头默认显示状态：hover/always/none\r\n    indicator: 'inside', // 指示器位置：inside/outside/none\r\n    autoplay: true, // 是否自动切换\r\n    interval: 3000, // 自动切换的时间间隔，不能低于 800ms\r\n    anim: '', // 动画类型：default/updown/fade\r\n    trigger: 'click', // 指示器的触发方式：click/hover\r\n    index: 0, // 初始开始的索引\r\n  },\r\n\r\n  CONST: {\r\n    ELEM: 'layui-carousel',\r\n    ELEM_ITEM: '>*[carousel-item]>*',\r\n    ELEM_LEFT: 'layui-carousel-left',\r\n    ELEM_RIGHT: 'layui-carousel-right',\r\n    ELEM_PREV: 'layui-carousel-prev',\r\n    ELEM_NEXT: 'layui-carousel-next',\r\n    ELEM_ARROW: 'layui-carousel-arrow',\r\n    ELEM_IND: 'layui-carousel-ind',\r\n  },\r\n\r\n  // 渲染\r\n  render: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n\r\n    that.elemItem = options.elem.find(CONST.ELEM_ITEM);\r\n\r\n    if (options.index < 0) {\r\n      options.index = 0;\r\n    }\r\n    if (options.index >= that.elemItem.length) {\r\n      options.index = that.elemItem.length - 1;\r\n    }\r\n    if (options.interval < 800) {\r\n      options.interval = 800;\r\n    }\r\n\r\n    // 是否全屏模式\r\n    if (options.full) {\r\n      options.elem.css({\r\n        position: 'fixed',\r\n        width: '100%',\r\n        height: '100%',\r\n        zIndex: 9999,\r\n      });\r\n    } else {\r\n      options.elem.css({\r\n        width: options.width,\r\n        height: options.height,\r\n      });\r\n    }\r\n\r\n    options.elem.attr('lay-anim', options.anim);\r\n\r\n    // 初始焦点状态\r\n    that.elemItem.eq(options.index).addClass(CONST.CLASS_THIS);\r\n\r\n    // 指示器、箭头等动作\r\n    that.indicator();\r\n    that.arrow();\r\n    that.autoplay();\r\n  },\r\n\r\n  // 扩展实例方法\r\n  extendsInstance: function () {\r\n    var that = this;\r\n\r\n    // 确保与文档描述一致\r\n    return {\r\n      elemInd: that.elemInd,\r\n      elemItem: that.elemItem,\r\n      timer: that.timer,\r\n      goto: function (index) {\r\n        that.goto(index);\r\n      },\r\n    };\r\n  },\r\n});\r\n\r\nvar CONST = component.CONST;\r\n\r\n/**\r\n * 扩展组件原型方法\r\n */\r\n\r\nvar Class = component.Class;\r\n\r\n// 获取上一个等待条目的索引\r\nClass.prototype.prevIndex = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var prevIndex = options.index - 1;\r\n\r\n  if (prevIndex < 0) {\r\n    prevIndex = that.elemItem.length - 1;\r\n  }\r\n\r\n  return prevIndex;\r\n};\r\n\r\n// 获取下一个等待条目的索引\r\nClass.prototype.nextIndex = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var nextIndex = options.index + 1;\r\n\r\n  if (nextIndex >= that.elemItem.length) {\r\n    nextIndex = 0;\r\n  }\r\n\r\n  return nextIndex;\r\n};\r\n\r\n// 索引递增\r\nClass.prototype.addIndex = function (num) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  num = num || 1;\r\n  options.index = options.index + num;\r\n\r\n  // index 不能超过轮播总数量\r\n  if (options.index >= that.elemItem.length) {\r\n    options.index = 0;\r\n  }\r\n};\r\n\r\n// 索引递减\r\nClass.prototype.subIndex = function (num) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  num = num || 1;\r\n  options.index = options.index - num;\r\n\r\n  // index 不能超过轮播总数量\r\n  if (options.index < 0) {\r\n    options.index = that.elemItem.length - 1;\r\n  }\r\n};\r\n\r\n// 自动轮播\r\nClass.prototype.autoplay = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var itemsCount = that.elemItem.length;\r\n\r\n  if (!options.autoplay) return;\r\n  clearInterval(that.timer);\r\n\r\n  if (itemsCount > 1) {\r\n    that.timer = setInterval(function () {\r\n      that.slide();\r\n    }, options.interval);\r\n  }\r\n};\r\n\r\n// 箭头\r\nClass.prototype.arrow = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var itemsCount = that.elemItem.length;\r\n\r\n  // 模板\r\n  var tplArrow = $(\r\n    [\r\n      '<button type=\"button\" class=\"layui-icon ' +\r\n        (options.anim === 'updown' ? 'layui-icon-up' : 'layui-icon-left') +\r\n        ' ' +\r\n        CONST.ELEM_ARROW +\r\n        '\" lay-type=\"sub\"></button>',\r\n      '<button type=\"button\" class=\"layui-icon ' +\r\n        (options.anim === 'updown' ? 'layui-icon-down' : 'layui-icon-right') +\r\n        ' ' +\r\n        CONST.ELEM_ARROW +\r\n        '\" lay-type=\"add\"></button>',\r\n    ].join(''),\r\n  );\r\n\r\n  // 预设基础属性\r\n  options.elem.attr('lay-arrow', options.arrow);\r\n\r\n  // 避免重复插入\r\n  if (options.elem.find('.' + CONST.ELEM_ARROW)[0]) {\r\n    options.elem.find('.' + CONST.ELEM_ARROW).remove();\r\n  }\r\n  itemsCount > 1 ? options.elem.append(tplArrow) : tplArrow.remove();\r\n\r\n  // 事件\r\n  tplArrow.on('click', function () {\r\n    var othis = $(this);\r\n    var type = othis.attr('lay-type');\r\n    that.slide(type);\r\n  });\r\n};\r\n\r\n// 跳转到特定下标\r\nClass.prototype.goto = function (index) {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  if (index > options.index) {\r\n    that.slide('add', index - options.index);\r\n  } else if (index < options.index) {\r\n    that.slide('sub', options.index - index);\r\n  }\r\n};\r\n\r\n// 指示器\r\nClass.prototype.indicator = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var itemsCount = that.elemItem.length;\r\n\r\n  // 模板\r\n  var tplInd = (that.elemInd = $(\r\n    [\r\n      '<div class=\"' + CONST.ELEM_IND + '\"><ul>',\r\n      (function () {\r\n        var li = [];\r\n        layui.each(that.elemItem, function (index) {\r\n          li.push(\r\n            '<li' +\r\n              (options.index === index ? ' class=\"layui-this\"' : '') +\r\n              '></li>',\r\n          );\r\n        });\r\n        return li.join('');\r\n      })(),\r\n      '</ul></div>',\r\n    ].join(''),\r\n  ));\r\n\r\n  // 预设基础属性\r\n  options.elem.attr('lay-indicator', options.indicator);\r\n\r\n  // 避免重复插入\r\n  if (options.elem.find('.' + CONST.ELEM_IND)[0]) {\r\n    options.elem.find('.' + CONST.ELEM_IND).remove();\r\n  }\r\n\r\n  itemsCount > 1 ? options.elem.append(tplInd) : tplInd.remove();\r\n\r\n  if (options.anim === 'updown') {\r\n    tplInd.css('margin-top', -(tplInd.height() / 2));\r\n  }\r\n\r\n  // 事件\r\n  tplInd\r\n    .find('li')\r\n    .on(\r\n      options.trigger === 'hover' ? 'mouseover' : options.trigger,\r\n      function () {\r\n        that.goto($(this).index());\r\n      },\r\n    );\r\n};\r\n\r\n// 滑动切换\r\nClass.prototype.slide = function (type, num) {\r\n  var that = this;\r\n  var elemItem = that.elemItem;\r\n  var itemsCount = elemItem.length;\r\n  var options = that.config;\r\n  var thisIndex = options.index;\r\n  var filter = options.elem.attr('lay-filter');\r\n\r\n  if (that.haveSlide || itemsCount <= 1) return;\r\n\r\n  // 滑动方向\r\n  if (type === 'sub') {\r\n    that.subIndex(num);\r\n    elemItem.eq(options.index).addClass(CONST.ELEM_PREV);\r\n    setTimeout(function () {\r\n      elemItem.eq(thisIndex).addClass(CONST.ELEM_RIGHT);\r\n      elemItem.eq(options.index).addClass(CONST.ELEM_RIGHT);\r\n    }, 50);\r\n  } else {\r\n    // 默认递增滑\r\n    that.addIndex(num);\r\n    elemItem.eq(options.index).addClass(CONST.ELEM_NEXT);\r\n    setTimeout(function () {\r\n      elemItem.eq(thisIndex).addClass(CONST.ELEM_LEFT);\r\n      elemItem.eq(options.index).addClass(CONST.ELEM_LEFT);\r\n    }, 50);\r\n  }\r\n\r\n  // 移除过渡类\r\n  setTimeout(function () {\r\n    elemItem.removeClass(\r\n      CONST.CLASS_THIS +\r\n        ' ' +\r\n        CONST.ELEM_PREV +\r\n        ' ' +\r\n        CONST.ELEM_NEXT +\r\n        ' ' +\r\n        CONST.ELEM_LEFT +\r\n        ' ' +\r\n        CONST.ELEM_RIGHT,\r\n    );\r\n    elemItem.eq(options.index).addClass(CONST.CLASS_THIS);\r\n    that.haveSlide = false; // 解锁\r\n  }, 350);\r\n\r\n  // 指示器焦点\r\n  that.elemInd\r\n    .find('li')\r\n    .eq(options.index)\r\n    .addClass(CONST.CLASS_THIS)\r\n    .siblings()\r\n    .removeClass(CONST.CLASS_THIS);\r\n\r\n  that.haveSlide = true;\r\n\r\n  // 回调返回的参数\r\n  var params = {\r\n    index: options.index,\r\n    prevIndex: thisIndex,\r\n    item: elemItem.eq(options.index),\r\n  };\r\n\r\n  typeof options.change === 'function' && options.change(params);\r\n  layui.event.call(this, CONST.MOD_NAME, 'change(' + filter + ')', params);\r\n};\r\n\r\n// 事件处理\r\nClass.prototype.events = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n\r\n  if (options.elem.data('haveEvents')) return;\r\n\r\n  // 移入移出容器\r\n  options.elem\r\n    .on('mouseenter touchstart', function () {\r\n      if (that.config.autoplay === 'always') return;\r\n      clearInterval(that.timer);\r\n    })\r\n    .on('mouseleave touchend', function () {\r\n      if (that.config.autoplay === 'always') return;\r\n      that.autoplay();\r\n    });\r\n\r\n  var touchEl = options.elem;\r\n  var isVertical = options.anim === 'updown';\r\n  lay.touchSwipe(touchEl, {\r\n    onTouchEnd: function (e, state) {\r\n      var duration = Date.now() - state.timeStart;\r\n      var distance = isVertical ? state.distanceY : state.distanceX;\r\n      var speed = distance / duration;\r\n      var shouldSwipe =\r\n        Math.abs(speed) > 0.25 ||\r\n        Math.abs(distance) > touchEl[isVertical ? 'height' : 'width']() / 3;\r\n      if (shouldSwipe) {\r\n        that.slide(distance > 0 ? '' : 'sub');\r\n      }\r\n    },\r\n  });\r\n\r\n  options.elem.data('haveEvents', true);\r\n};\r\n\r\nexport { component as carousel };\r\n","/**\r\n * rate\r\n * 评分组件\r\n */\r\n\r\nimport { lay } from '../core/lay.js';\r\nimport $ from 'jquery';\r\nimport { componentBuilder } from '../core/component.js';\r\n\r\n// 创建组件\r\nvar component = componentBuilder({\r\n  name: 'rate',\r\n\r\n  // 默认配置\r\n  config: {\r\n    length: 5, // 评分的最大长度值\r\n    value: 0, // 评分的初始值\r\n    half: false, // 是否可以选择半星\r\n    text: false, // 是否显示评分对应的文本\r\n    readonly: false, // 是否只读\r\n    theme: '', // 主题颜色\r\n  },\r\n\r\n  CONST: {\r\n    ELEM: 'layui-rate',\r\n    ICON_RATE: 'layui-icon-rate',\r\n    ICON_RATE_SOLID: 'layui-icon-rate-solid',\r\n    ICON_RATE_HALF: 'layui-icon-rate-half',\r\n    ICON_SOLID_HALF: 'layui-icon-rate-solid layui-icon-rate-half',\r\n    ICON_SOLID_RATE: 'layui-icon-rate-solid layui-icon-rate',\r\n    ICON_HALF_RATE: 'layui-icon-rate layui-icon-rate-half',\r\n  },\r\n\r\n  // 渲染\r\n  render: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n\r\n    // 自定义主题\r\n    var style = options.theme ? 'style=\"color: ' + options.theme + ';\"' : '';\r\n\r\n    // 最大值不能大于总长度\r\n    if (options.value > options.length) {\r\n      options.value = options.length;\r\n    }\r\n\r\n    // 如果没有选择半星的属性，却给了小数的数值，统一向上或向下取整\r\n    if (parseInt(options.value) !== options.value) {\r\n      if (!options.half) {\r\n        options.value =\r\n          Math.ceil(options.value) - options.value < 0.5\r\n            ? Math.ceil(options.value)\r\n            : Math.floor(options.value);\r\n      }\r\n    }\r\n\r\n    // 组件模板\r\n    var template =\r\n      '<ul class=\"layui-rate\" ' + (options.readonly ? 'readonly' : '') + '>';\r\n    for (var i = 1; i <= options.length; i++) {\r\n      var item =\r\n        '<li class=\"layui-inline\"><i class=\"layui-icon ' +\r\n        (i > Math.floor(options.value)\r\n          ? CONST.ICON_RATE\r\n          : CONST.ICON_RATE_SOLID) +\r\n        '\" ' +\r\n        style +\r\n        '></i></li>';\r\n      if (\r\n        options.half &&\r\n        parseInt(options.value) !== options.value &&\r\n        i == Math.ceil(options.value)\r\n      ) {\r\n        template =\r\n          template +\r\n          '<li><i class=\"layui-icon layui-icon-rate-half\" ' +\r\n          style +\r\n          '></i></li>';\r\n      } else {\r\n        template = template + item;\r\n      }\r\n    }\r\n    template += '</ul>';\r\n\r\n    if (options.text) {\r\n      template += '<span class=\"layui-inline\">' + options.value + '</span>';\r\n    }\r\n\r\n    // 开始插入替代元素\r\n    var othis = options.elem;\r\n    var hasRender = othis.next('.' + CONST.ELEM);\r\n\r\n    // 生成替代元素\r\n    hasRender[0] && hasRender.remove(); // 如果已经渲染，则 Rerender\r\n    that.elemTemplate = $(template);\r\n\r\n    options.span = that.elemTemplate.next('span');\r\n    options.setText && options.setText(options.value);\r\n\r\n    othis.html(that.elemTemplate);\r\n    othis.addClass('layui-inline');\r\n\r\n    // 若非只读，则添加触控事件\r\n    if (!options.readonly) {\r\n      that.action();\r\n    }\r\n  },\r\n\r\n  // 扩展实例方法\r\n  extendsInstance: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n    return {\r\n      setvalue: function (value) {\r\n        options.value = value;\r\n        that.render();\r\n      },\r\n    };\r\n  },\r\n});\r\n\r\nvar CONST = component.CONST;\r\n\r\n/**\r\n * 扩展组件原型方法\r\n */\r\n\r\nvar Class = component.Class;\r\n\r\n// li 相关事件\r\nClass.prototype.action = function () {\r\n  var that = this;\r\n  var options = that.config;\r\n  var _ul = that.elemTemplate;\r\n  var wide = _ul.find('i').width();\r\n  var liElems = _ul.children('li');\r\n\r\n  liElems.each(function (index) {\r\n    var ind = index + 1;\r\n    var othis = $(this);\r\n\r\n    // 点击\r\n    othis.on('click', function (e) {\r\n      // 将当前点击li的索引值赋给 value\r\n      options.value = ind;\r\n      if (options.half) {\r\n        // 获取鼠标在 li 上的位置\r\n        var x = e.pageX - $(this).offset().left;\r\n        if (x <= wide / 2) {\r\n          options.value = options.value - 0.5;\r\n        }\r\n      }\r\n\r\n      if (options.text) {\r\n        _ul.next('span').text(options.value);\r\n      }\r\n\r\n      options.choose && options.choose(options.value);\r\n      options.setText && options.setText(options.value);\r\n    });\r\n\r\n    // 移入\r\n    othis.on('mousemove', function (e) {\r\n      _ul.find('i').each(function () {\r\n        $(this).addClass(CONST.ICON_RATE).removeClass(CONST.ICON_SOLID_HALF);\r\n      });\r\n      _ul.find('i:lt(' + ind + ')').each(function () {\r\n        $(this)\r\n          .addClass(CONST.ICON_RATE_SOLID)\r\n          .removeClass(CONST.ICON_HALF_RATE);\r\n      });\r\n      // 如果设置可选半星，那么判断鼠标相对 li 的位置\r\n      if (options.half) {\r\n        var x = e.pageX - $(this).offset().left;\r\n        if (x <= wide / 2) {\r\n          othis\r\n            .children('i')\r\n            .addClass(CONST.ICON_RATE_HALF)\r\n            .removeClass(CONST.ICON_RATE_SOLID);\r\n        }\r\n      }\r\n    });\r\n\r\n    // 移出\r\n    othis.on('mouseleave', function () {\r\n      _ul.find('i').each(function () {\r\n        $(this).addClass(CONST.ICON_RATE).removeClass(CONST.ICON_SOLID_HALF);\r\n      });\r\n      _ul.find('i:lt(' + Math.floor(options.value) + ')').each(function () {\r\n        $(this)\r\n          .addClass(CONST.ICON_RATE_SOLID)\r\n          .removeClass(CONST.ICON_HALF_RATE);\r\n      });\r\n      // 如果设置可选半星，根据分数判断是否有半星\r\n      if (options.half) {\r\n        if (parseInt(options.value) !== options.value) {\r\n          _ul\r\n            .children('li:eq(' + Math.floor(options.value) + ')')\r\n            .children('i')\r\n            .addClass(CONST.ICON_RATE_HALF)\r\n            .removeClass(CONST.ICON_SOLID_RATE);\r\n        }\r\n      }\r\n    });\r\n  });\r\n\r\n  lay.touchSwipe(_ul, {\r\n    onTouchMove: function (e, state) {\r\n      if (Date.now() - state.timeStart <= 200) return;\r\n      var pageX = e.touches[0].pageX;\r\n      var rateElemWidth = _ul.width();\r\n      var itemElemWidth = rateElemWidth / options.length; // 单颗星的宽度\r\n      var offsetX = pageX - _ul.offset().left;\r\n      var num = offsetX / itemElemWidth; // 原始值\r\n      var remainder = num % 1;\r\n      var integer = num - remainder;\r\n\r\n      // 最终值\r\n      var score =\r\n        remainder <= 0.5 && options.half ? integer + 0.5 : Math.ceil(num);\r\n      if (score > options.length) score = options.length;\r\n      if (score < 0) score = 0;\r\n\r\n      liElems.each(function (index) {\r\n        var iconElem = $(this).children('i');\r\n        var isActiveIcon = Math.ceil(score) - index === 1;\r\n        var needSelect = Math.ceil(score) > index;\r\n        var shouldHalfIcon = score - index === 0.5;\r\n\r\n        if (needSelect) {\r\n          // 设置选中样式\r\n          iconElem\r\n            .addClass(CONST.ICON_RATE_SOLID)\r\n            .removeClass(CONST.ICON_HALF_RATE);\r\n          if (options.half && shouldHalfIcon) {\r\n            iconElem\r\n              .addClass(CONST.ICON_RATE_HALF)\r\n              .removeClass(CONST.ICON_RATE_SOLID);\r\n          }\r\n        } else {\r\n          // 恢复初始样式\r\n          iconElem.addClass(CONST.ICON_RATE).removeClass(CONST.ICON_SOLID_HALF);\r\n        }\r\n\r\n        // 设置缩放样式\r\n        iconElem.toggleClass('layui-rate-hover', isActiveIcon);\r\n      });\r\n\r\n      // 更新最终值\r\n      options.value = score;\r\n      if (options.text) _ul.next('span').text(options.value);\r\n      options.setText && options.setText(options.value);\r\n    },\r\n    onTouchEnd: function (e, state) {\r\n      if (Date.now() - state.timeStart <= 200) return;\r\n      _ul.find('i').removeClass('layui-rate-hover');\r\n      options.choose && options.choose(options.value);\r\n      options.setText && options.setText(options.value);\r\n    },\r\n  });\r\n};\r\n\r\nexport { component as rate };\r\n","/**\r\n * flow\r\n * 流加载组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport { i18n } from '../core/i18n.js';\r\nimport $ from 'jquery';\r\nimport { componentBuilder } from '../core/component.js';\r\n\r\n// 创建组件\r\nvar component = componentBuilder({\r\n  name: 'flow',\r\n\r\n  CONST: {\r\n    ELEM_LOAD:\r\n      '<i class=\"layui-anim layui-anim-rotate layui-anim-loop layui-icon layui-icon-loading-1\"></i>',\r\n    ELEM_MORE: 'layui-flow-more',\r\n    FLOW_SCROLL_EVENTS: 'scroll.lay_flow_scroll',\r\n    LAZYIMG_SCROLL_EVENTS: 'scroll.lay_flow_lazyimg_scroll',\r\n  },\r\n\r\n  // 渲染\r\n  render: function () {\r\n    var that = this;\r\n    var options = that.config;\r\n\r\n    var page = 0;\r\n    var locked;\r\n    var finished;\r\n\r\n    var elem = options.elem;\r\n    if (!elem[0]) return;\r\n\r\n    var scrollElem = $(options.scrollElem || document); // 滚动条所在元素\r\n    var threshold = 'mb' in options ? options.mb : 50; // 临界距离\r\n    var isAuto = 'isAuto' in options ? options.isAuto : true; // 否自动滚动加载\r\n    var moreText = options.moreText || i18n.$t('flow.loadMore'); // 手动加载时，加载更多按钮文案\r\n    var endText = options.end || i18n.$t('flow.noMore'); // “末页”显示文案\r\n    var direction = options.direction || 'bottom';\r\n    var isTop = direction === 'top';\r\n\r\n    // 滚动条所在元素是否为 document\r\n    var notDocument = options.scrollElem && options.scrollElem !== document;\r\n\r\n    // 加载更多\r\n    var ELEM_TEXT = '<cite>' + moreText + '</cite>';\r\n    var $more = $(\r\n      '<div class=\"' +\r\n        CONST.ELEM_MORE +\r\n        '\"><a href=\"javascript:;\">' +\r\n        ELEM_TEXT +\r\n        '</a></div>',\r\n    );\r\n\r\n    elem.find('.' + CONST.ELEM_MORE).remove(); // 清除旧的「加载更多」元素\r\n    elem[isTop ? 'prepend' : 'append']($more);\r\n\r\n    // 加载下一个元素\r\n    var next = function (content, status) {\r\n      var scrollHeightStart = notDocument\r\n        ? scrollElem.prop('scrollHeight')\r\n        : document.documentElement.scrollHeight;\r\n      var scrollTopStart = scrollElem.scrollTop();\r\n\r\n      $more[isTop ? 'after' : 'before'](content);\r\n      status = status == 0 ? true : null;\r\n      status ? $more.html(endText) : $moreBtn.html(ELEM_TEXT);\r\n      finished = status;\r\n      locked = null;\r\n\r\n      // 如果允许图片懒加载\r\n      if (options.isLazyimg) {\r\n        component.lazyimg({\r\n          elem: options.elem.find('img[lay-src]'),\r\n          scrollElem: options.scrollElem,\r\n          direction: options.direction,\r\n          id: options.id,\r\n        });\r\n      }\r\n\r\n      if (isTop) {\r\n        var scrollHeightEnd = notDocument\r\n          ? scrollElem.prop('scrollHeight')\r\n          : document.documentElement.scrollHeight;\r\n        if (page === 1) {\r\n          // 首次渲染后滑动到底部\r\n          scrollElem.scrollTop(scrollHeightEnd);\r\n        } else if (page > 1) {\r\n          var nextElementHeight = scrollHeightEnd - scrollHeightStart;\r\n          scrollElem.scrollTop(scrollTopStart + nextElementHeight);\r\n        }\r\n      }\r\n    };\r\n    var $moreBtn = $more.find('a');\r\n\r\n    // 触发请求\r\n    var done = (function fn() {\r\n      locked = true;\r\n      $moreBtn.html(CONST.ELEM_LOAD);\r\n      typeof options.done === 'function' && options.done(++page, next);\r\n      return fn;\r\n    })();\r\n\r\n    // 不自动滚动加载\r\n    $moreBtn.on('click', function () {\r\n      if (finished) return;\r\n      locked || done();\r\n    });\r\n\r\n    if (!isAuto) return that;\r\n\r\n    // 滚动条滚动事件\r\n    var timer;\r\n    var FLOW_SCROLL_EVENTS = CONST.FLOW_SCROLL_EVENTS + '_' + options.id;\r\n    scrollElem.off(FLOW_SCROLL_EVENTS).on(FLOW_SCROLL_EVENTS, function () {\r\n      var othis = $(this),\r\n        top = othis.scrollTop();\r\n\r\n      if (timer) clearTimeout(timer);\r\n\r\n      // 如果已经结束，或者元素处于隐藏状态，则不执行滚动加载\r\n      if (finished || !elem.width()) return;\r\n\r\n      timer = setTimeout(function () {\r\n        // 计算滚动所在容器的可视高度\r\n        var height = notDocument ? othis.height() : $(window).height();\r\n\r\n        // 计算滚动所在容器的实际高度\r\n        var scrollHeight = notDocument\r\n          ? othis.prop('scrollHeight')\r\n          : document.documentElement.scrollHeight;\r\n\r\n        // 临界点\r\n        if (\r\n          !isTop ? scrollHeight - top - height <= threshold : top <= threshold\r\n        ) {\r\n          locked || done();\r\n        }\r\n      }, 100);\r\n    });\r\n  },\r\n});\r\n\r\nvar CONST = component.CONST;\r\n\r\n/**\r\n * 扩展组件原型方法\r\n */\r\n\r\n// 保留原接口，确保向下兼容\r\n$.extend(component, {\r\n  load: function (options) {\r\n    return component.render(options);\r\n  },\r\n\r\n  // 图片懒加载\r\n  lazyimg: function (options) {\r\n    options = options || {};\r\n\r\n    var scrollElem = $(options.scrollElem || document); // 滚动条所在元素\r\n    var elem = options.elem || 'img';\r\n    var direction = options.direction || 'bottom';\r\n    var isTop = direction === 'top';\r\n    var index = 0;\r\n\r\n    // 滚动条所在元素是否为 document\r\n    var notDocument = options.scrollElem && options.scrollElem !== document;\r\n\r\n    // 显示图片\r\n    var render = (function fn(othis) {\r\n      var $elem = $(elem);\r\n\r\n      // 计算滚动所在容器的可视高度\r\n      var height = notDocument ? scrollElem.height() : $(window).height();\r\n      var start = scrollElem.scrollTop();\r\n      var end = start + height;\r\n\r\n      var show = function (item) {\r\n        var elemTop = notDocument\r\n          ? (function () {\r\n              return item.offset().top - scrollElem.offset().top + start;\r\n            })()\r\n          : item.offset().top;\r\n\r\n        /* 始终只加载在当前屏范围内的图片 */\r\n        if (\r\n          (isTop ? elemTop + item.height() : elemTop) >= start &&\r\n          elemTop <= end\r\n        ) {\r\n          if (item.attr('lay-src')) {\r\n            var src = item.attr('lay-src');\r\n            layui.img(\r\n              src,\r\n              function () {\r\n                var next = $elem.eq(index);\r\n                item.attr('src', src).removeAttr('lay-src');\r\n\r\n                /* 当前图片加载就绪后，检测下一个图片是否在当前屏 */\r\n                next[0] && render(next);\r\n                index++;\r\n              },\r\n              function () {\r\n                item.removeAttr('lay-src');\r\n              },\r\n            );\r\n          }\r\n        }\r\n      };\r\n\r\n      if (othis) {\r\n        show(othis);\r\n      } else {\r\n        // 计算未加载过的图片\r\n        for (var i = 0; i < $elem.length; i++) {\r\n          var item = $elem.eq(i),\r\n            elemTop = notDocument\r\n              ? (function () {\r\n                  return item.offset().top - scrollElem.offset().top + start;\r\n                })()\r\n              : item.offset().top;\r\n\r\n          show(item);\r\n          index = i;\r\n\r\n          // 如果图片的 top 坐标，超出了当前屏，则终止后续图片的遍历\r\n          if (elemTop > end) break;\r\n        }\r\n      }\r\n\r\n      return fn;\r\n    })();\r\n\r\n    // 滚动事件\r\n    var timer;\r\n    var id = options.id || '';\r\n    var LAZYIMG_SCROLL_EVENTS = CONST.LAZYIMG_SCROLL_EVENTS + '_' + id;\r\n    scrollElem\r\n      .off(LAZYIMG_SCROLL_EVENTS)\r\n      .on(LAZYIMG_SCROLL_EVENTS, function () {\r\n        if (timer) clearTimeout(timer);\r\n        timer = setTimeout(function () {\r\n          render();\r\n        }, 50);\r\n      });\r\n\r\n    return render;\r\n  },\r\n});\r\n\r\nexport { component as flow };\r\n","/**\r\n * code\r\n * Code 预览组件\r\n */\r\n\r\nimport { layui } from '../core/layui.js';\r\nimport { lay } from '../core/lay.js';\r\nimport { i18n } from '../core/i18n.js';\r\nimport $ from 'jquery';\r\nimport { util } from './util.js';\r\nimport { element } from './element.js';\r\nimport { layer } from './layer.js';\r\nimport { form } from './form.js';\r\nimport { tabs } from './tabs.js';\r\n\r\n// 常量\r\nvar CONST = {\r\n  ELEM_VIEW: 'layui-code-view',\r\n  ELEM_TAB: 'layui-tab',\r\n  ELEM_HEADER: 'layui-code-header',\r\n  ELEM_FULL: 'layui-code-full',\r\n  ELEM_PREVIEW: 'layui-code-preview',\r\n  ELEM_ITEM: 'layui-code-item',\r\n  ELEM_SHOW: 'layui-show',\r\n  ELEM_LINE: 'layui-code-line',\r\n  ELEM_LINE_NUM: 'layui-code-line-number',\r\n  ELEM_LN_MODE: 'layui-code-ln-mode',\r\n  CDDE_DATA_CLASS: 'LayuiCodeDataClass',\r\n  LINE_RAW_WIDTH: 45, // 行号初始宽度，需与 css 保持一致\r\n};\r\n\r\n// 默认参数项\r\nvar config = {\r\n  elem: '', // 元素选择器\r\n  about: '', // 代码栏右上角信息\r\n  ln: true, // 代码区域是否显示行号\r\n  header: false, // 是否显示代码栏头部区域\r\n  encode: true, // 是否对 code 进行编码（若开启预览，则强制开启）\r\n  copy: true, // 是否开启代码区域复制功能图标\r\n  // 默认文本\r\n  text: {\r\n    code: util.escape('</>'),\r\n    preview: 'Preview',\r\n  },\r\n  wordWrap: true, // 是否自动换行\r\n  lang: 'text', // 指定语言类型\r\n  highlighter: false, // 是否开启语法高亮，'hljs','prism','shiki'\r\n  langMarker: false, // 代码区域是否显示语言类型标记\r\n  // 行高亮\r\n  highlightLine: {\r\n    // 聚焦\r\n    focus: {\r\n      range: '', // 高亮范围，不可全局设置值 '1,3-5,8'\r\n      comment: false, // 是否解析注释，性能敏感不可全局开启  [!code type:<lines>]\r\n      classActiveLine: 'layui-code-line-has-focus', // 添加到高亮行上的类\r\n      classActivePre: 'layui-code-has-focused-lines', // 有高亮行时向根元素添加的类\r\n    },\r\n    // 高亮\r\n    hl: {\r\n      comment: false,\r\n      classActiveLine: 'layui-code-line-highlighted',\r\n    },\r\n    // diff++\r\n    '++': {\r\n      comment: false,\r\n      classActiveLine: 'layui-code-line-diff-add',\r\n    },\r\n    // diff--\r\n    '--': {\r\n      comment: false,\r\n      classActiveLine: 'layui-code-line-diff-remove',\r\n    },\r\n  },\r\n};\r\n\r\n// 去除尾部空格\r\nvar trimEnd = function (str) {\r\n  return String(str).replace(/\\s+$/, '');\r\n};\r\n// 保留首行缩进\r\nvar trim = function (str) {\r\n  return trimEnd(str).replace(/^\\n|\\n$/, '');\r\n};\r\n\r\n// '1,3-5,8' -> [1,3,4,5,8]\r\nvar parseHighlightedLines = function (rangeStr) {\r\n  if (typeof rangeStr !== 'string') return [];\r\n  var lines = $.map(rangeStr.split(','), function (v) {\r\n    var range = v.split('-');\r\n    var start = parseInt(range[0], 10);\r\n    var end = parseInt(range[1], 10);\r\n    return start && end\r\n      ? $.map(new Array(end - start + 1), function (_, index) {\r\n          return start + index;\r\n        })\r\n      : start\r\n        ? start\r\n        : undefined;\r\n  });\r\n  return lines;\r\n};\r\n\r\n// 引用自 https://github.com/innocenzi/shiki-processor/blob/efa20624be415c866cc8e350d1ada886b6b5cd52/src/utils/create-range-processor.ts#L7\r\n// 添加了 HTML 注释支持，用来处理预览场景\r\nvar highlightLineRegex =\r\n  /(?:\\/\\/|\\/\\*{1,2}|<!--|&lt;!--) *\\[!code ([\\w+-]+)(?::(\\d+))?] *(?:\\*{1,2}\\/|-->|--&gt;)?/;\r\nvar preprocessHighlightLine = function (highlightLineOptions, codeLines) {\r\n  var hasHighlightLine = false;\r\n  var needParseComment = false;\r\n  var lineClassMap = Object.create(null);\r\n  var preClassMap = Object.create(null);\r\n\r\n  var updateLineClassMap = function (lineNumber, className) {\r\n    if (!lineClassMap[lineNumber]) {\r\n      lineClassMap[lineNumber] = [CONST.ELEM_LINE];\r\n    }\r\n    lineClassMap[lineNumber].push(className);\r\n  };\r\n\r\n  // 收集高亮行 className\r\n  $.each(highlightLineOptions, function (type, opts) {\r\n    if (opts.range) {\r\n      var highlightLines = parseHighlightedLines(opts.range);\r\n      if (highlightLines.length > 0) {\r\n        hasHighlightLine = true;\r\n        if (opts.classActivePre) {\r\n          preClassMap[opts.classActivePre] = true;\r\n        }\r\n        $.each(highlightLines, function (i, lineNumber) {\r\n          updateLineClassMap(lineNumber, opts.classActiveLine);\r\n        });\r\n      }\r\n    }\r\n    if (opts.comment) {\r\n      needParseComment = true;\r\n    }\r\n  });\r\n\r\n  // 解析行高亮注释并收集 className\r\n  if (needParseComment) {\r\n    $.each(codeLines, function (i, line) {\r\n      var match = line.match(highlightLineRegex);\r\n      if (match && match[1] && lay.hasOwn(highlightLineOptions, match[1])) {\r\n        var opts = highlightLineOptions[match[1]];\r\n        hasHighlightLine = true;\r\n        if (opts.classActivePre) {\r\n          preClassMap[opts.classActivePre] = true;\r\n        }\r\n        // 高亮的行数\r\n        var lines = parseInt(match[2], 10);\r\n        if (match[2] && lines && lines > 1) {\r\n          var startLine = i + 1;\r\n          var endLine = startLine + lines - 1;\r\n          var highlightLines = parseHighlightedLines(startLine + '-' + endLine);\r\n          if (highlightLines.length > 0) {\r\n            $.each(highlightLines, function (i, lineNumber) {\r\n              updateLineClassMap(lineNumber, opts.classActiveLine);\r\n            });\r\n          }\r\n        } else {\r\n          updateLineClassMap(i + 1, opts.classActiveLine);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  return {\r\n    needParseComment: needParseComment,\r\n    hasHighlightLine: hasHighlightLine,\r\n    preClass: Object.keys(preClassMap).join(' '),\r\n    lineClassMap: lineClassMap,\r\n  };\r\n};\r\n\r\n// export api\r\nexport function code(options, mode) {\r\n  options = $.extend(true, {}, config, options);\r\n\r\n  // 返回对象\r\n  var ret = {\r\n    config: options,\r\n    reload: function (opts) {\r\n      // 重载\r\n      layui.code(this.updateOptions(opts));\r\n    },\r\n    updateOptions: function (opts) {\r\n      // 更新属性（选项）\r\n      opts = opts || {};\r\n      delete opts.elem;\r\n      return $.extend(true, options, opts);\r\n    },\r\n    reloadCode: function (opts) {\r\n      // 仅重载 code\r\n      layui.code(this.updateOptions(opts), 'reloadCode');\r\n    },\r\n  };\r\n\r\n  // 若 elem 非唯一\r\n  var elem = $(options.elem);\r\n  if (elem.length > 1) {\r\n    // 是否正向渲染\r\n    layui.each(options.obverse ? elem : elem.get().reverse(), function () {\r\n      layui.code(\r\n        $.extend({}, options, {\r\n          elem: this,\r\n        }),\r\n        mode,\r\n      );\r\n    });\r\n    return ret;\r\n  }\r\n\r\n  // 目标元素是否存在\r\n  var othis = (options.elem = $(options.elem));\r\n  if (!othis[0]) return ret;\r\n\r\n  // 合并属性上的参数，并兼容旧版本属性写法 lay-*\r\n  $.extend(\r\n    true,\r\n    options,\r\n    lay.options(othis[0]),\r\n    (function (obj) {\r\n      var attrs = ['title', 'height', 'encode', 'skin', 'about'];\r\n      layui.each(attrs, function (i, attr) {\r\n        var value = othis.attr('lay-' + attr);\r\n        if (typeof value === 'string') {\r\n          obj[attr] = value;\r\n        }\r\n      });\r\n      return obj;\r\n    })({}),\r\n  );\r\n\r\n  // codeRender 需要关闭编码\r\n  // 未使用 codeRender 时若开启了预览，则强制开启编码\r\n  options.encode = (options.encode || options.preview) && !options.codeRender;\r\n\r\n  // 获得初始 code\r\n  options.code =\r\n    options.code ||\r\n    (function () {\r\n      var arr = [];\r\n      var textarea = othis.children('textarea');\r\n\r\n      // 若内容放置在 textarea 中\r\n      textarea.each(function () {\r\n        arr.push(trim(this.value));\r\n      });\r\n\r\n      // 内容直接放置在元素外层\r\n      if (arr.length === 0) {\r\n        arr.push(trim(othis.html()));\r\n      }\r\n\r\n      return arr.join('');\r\n    })();\r\n\r\n  // 创建 code 行结构\r\n  var createCode = function (html) {\r\n    // codeRender\r\n    if (typeof options.codeRender === 'function') {\r\n      html = options.codeRender(String(html), options);\r\n    }\r\n\r\n    // code 行\r\n    var lines = String(html).split(/\\r?\\n/g);\r\n\r\n    // 预处理行高亮\r\n    var highlightLineInfo = preprocessHighlightLine(\r\n      options.highlightLine,\r\n      lines,\r\n    );\r\n\r\n    // 包裹 code 行结构\r\n    html = $.map(lines, function (line, num) {\r\n      var lineClass =\r\n        highlightLineInfo.hasHighlightLine &&\r\n        highlightLineInfo.lineClassMap[num + 1]\r\n          ? highlightLineInfo.lineClassMap[num + 1].join(' ')\r\n          : CONST.ELEM_LINE;\r\n      return [\r\n        '<div class=\"' + lineClass + '\">',\r\n        options.ln\r\n          ? [\r\n              '<div class=\"' + CONST.ELEM_LINE_NUM + '\">',\r\n              util.digit(num + 1) + '.',\r\n              '</div>',\r\n            ].join('')\r\n          : '',\r\n        '<div class=\"layui-code-line-content\">',\r\n        (highlightLineInfo.needParseComment\r\n          ? line.replace(highlightLineRegex, '')\r\n          : line) || ' ',\r\n        '</div>',\r\n        '</div>',\r\n      ].join('');\r\n    });\r\n\r\n    if (highlightLineInfo.preClass) {\r\n      othis.addClass(highlightLineInfo.preClass);\r\n    }\r\n\r\n    return {\r\n      lines: lines,\r\n      html: html,\r\n    };\r\n  };\r\n\r\n  // 原始 code\r\n  var rawCode = options.code;\r\n\r\n  // 最终 code\r\n  var finalCode = function (code) {\r\n    return typeof options.codeParse === 'function'\r\n      ? options.codeParse(code, options)\r\n      : code;\r\n  };\r\n\r\n  // 仅重载 code\r\n  if (mode === 'reloadCode') {\r\n    return (\r\n      othis\r\n        .children('.layui-code-wrap')\r\n        .html(createCode(finalCode(rawCode)).html),\r\n      ret\r\n    );\r\n  }\r\n\r\n  // 自增索引\r\n  var index = lay.autoIncrementer('code');\r\n  othis.attr('lay-code-index', index);\r\n\r\n  // 初始化 className\r\n  var hasDataClass = CONST.CDDE_DATA_CLASS in othis.data();\r\n  if (hasDataClass) {\r\n    othis.attr('class', othis.data(CONST.CDDE_DATA_CLASS) || '');\r\n  }\r\n\r\n  // 记录初始 className\r\n  if (!hasDataClass) {\r\n    othis.data(CONST.CDDE_DATA_CLASS, othis.attr('class'));\r\n  }\r\n\r\n  // 工具栏\r\n  var tools = {\r\n    copy: {\r\n      className: 'file-b',\r\n      title: [i18n.$t('code.copy')],\r\n      event: function () {\r\n        var code = util.unescape(finalCode(options.code));\r\n        var hasOnCopy = typeof options.onCopy === 'function';\r\n\r\n        // 写入剪切板\r\n        lay.clipboard.writeText({\r\n          text: code,\r\n          done: function () {\r\n            if (hasOnCopy) {\r\n              var ret = options.onCopy(code, true);\r\n              if (ret === false) return;\r\n            }\r\n\r\n            layer.msg(i18n.$t('code.copied'), { icon: 1 });\r\n          },\r\n          error: function () {\r\n            if (hasOnCopy) {\r\n              var ret = options.onCopy(code, false);\r\n              if (ret === false) return;\r\n            }\r\n            layer.msg(i18n.$t('code.copyError'), { icon: 2 });\r\n          },\r\n        });\r\n      },\r\n    },\r\n  };\r\n\r\n  // 移除包裹结构\r\n  (function fn() {\r\n    var elemViewHas = othis.parent('.' + CONST.ELEM_PREVIEW);\r\n    var elemTabHas = elemViewHas.children('.' + CONST.ELEM_TAB);\r\n    var elemPreviewViewHas = elemViewHas.children(\r\n      '.' + CONST.ELEM_ITEM + '-preview',\r\n    );\r\n\r\n    // 移除旧结构\r\n    elemTabHas.remove(); // 移除 tab\r\n    elemPreviewViewHas.remove(); // 移除预览区域\r\n    if (elemViewHas[0]) othis.unwrap(); // 移除外层容器\r\n\r\n    return fn;\r\n  })();\r\n\r\n  // 是否开启预览\r\n  if (options.preview) {\r\n    var FILTER_VALUE = 'LAY-CODE-DF-' + index;\r\n    var layout = options.layout || ['code', 'preview'];\r\n    var isIframePreview = options.preview === 'iframe';\r\n\r\n    // 追加 Tab 组件\r\n    var elemView = $('<div class=\"' + CONST.ELEM_PREVIEW + '\">');\r\n    var elemTabView = $('<div class=\"layui-tab layui-tab-brief\">');\r\n    var elemHeaderView = $('<div class=\"layui-tab-title\">');\r\n    var elemPreviewView = $(\r\n      '<div class=\"' +\r\n        [CONST.ELEM_ITEM, CONST.ELEM_ITEM + '-preview', 'layui-border'].join(\r\n          ' ',\r\n        ) +\r\n        '\">',\r\n    );\r\n    var elemToolbar = $('<div class=\"layui-code-tools\"></div>');\r\n\r\n    if (options.id) elemView.attr('id', options.id);\r\n    elemView.addClass(options.className);\r\n    elemTabView.attr('lay-filter', FILTER_VALUE);\r\n\r\n    // 标签头\r\n    layui.each(layout, function (i, v) {\r\n      var li = $('<li lay-id=\"' + v + '\">');\r\n      if (i === 0) li.addClass('layui-this');\r\n      li.html(options.text[v]);\r\n      elemHeaderView.append(li);\r\n    });\r\n\r\n    // 工具栏\r\n    $.extend(tools, {\r\n      full: {\r\n        className: 'screen-full',\r\n        title: [i18n.$t('code.maximize'), i18n.$t('code.restore')],\r\n        event: function (obj) {\r\n          var el = obj.elem;\r\n          var elemView = el.closest('.' + CONST.ELEM_PREVIEW);\r\n          var classNameFull = 'layui-icon-' + this.className;\r\n          var classNameRestore = 'layui-icon-screen-restore';\r\n          var title = this.title;\r\n          var htmlElem = $('html,body');\r\n          var ELEM_SCROLLBAR_HIDE = 'layui-scrollbar-hide';\r\n\r\n          if (el.hasClass(classNameFull)) {\r\n            elemView.addClass(CONST.ELEM_FULL);\r\n            el.removeClass(classNameFull).addClass(classNameRestore);\r\n            el.attr('title', title[1]);\r\n            htmlElem.addClass(ELEM_SCROLLBAR_HIDE);\r\n          } else {\r\n            elemView.removeClass(CONST.ELEM_FULL);\r\n            el.removeClass(classNameRestore).addClass(classNameFull);\r\n            el.attr('title', title[0]);\r\n            htmlElem.removeClass(ELEM_SCROLLBAR_HIDE);\r\n          }\r\n        },\r\n      },\r\n      window: {\r\n        className: 'release',\r\n        title: [i18n.$t('code.preview')],\r\n        event: function () {\r\n          util.openWin({\r\n            content: finalCode(options.code),\r\n          });\r\n        },\r\n      },\r\n    });\r\n\r\n    // copy\r\n    if (options.copy) {\r\n      if (layui.type(options.tools) === 'array') {\r\n        // 若 copy 未存在于 tools 中，则追加到最前\r\n        if (options.tools.indexOf('copy') === -1) {\r\n          options.tools.unshift('copy');\r\n        }\r\n      } else {\r\n        options.tools = ['copy'];\r\n      }\r\n    }\r\n\r\n    // 工具栏事件\r\n    elemToolbar.on('click', '>i', function () {\r\n      var oi = $(this);\r\n      var type = oi.data('type');\r\n      var parameters = {\r\n        elem: oi,\r\n        type: type,\r\n        options: options, // 当前属性选项\r\n        rawCode: options.code, // 原始 code\r\n        finalCode: util.unescape(finalCode(options.code)), // 最终 code\r\n      };\r\n\r\n      // 内部 tools event\r\n      tools[type] &&\r\n        typeof tools[type].event === 'function' &&\r\n        tools[type].event(parameters);\r\n\r\n      // 外部 tools event\r\n      typeof options.toolsEvent === 'function' &&\r\n        options.toolsEvent(parameters);\r\n    });\r\n\r\n    // 增加工具栏\r\n    if (options.addTools && options.tools) {\r\n      options.tools = [].concat(options.tools, options.addTools);\r\n    }\r\n\r\n    // 渲染工具栏\r\n    layui.each(options.tools, function (i, v) {\r\n      var viso = typeof v === 'object'; // 若为 object 值，则可自定义更多属性\r\n      var tool = viso\r\n        ? v\r\n        : tools[v] || {\r\n            className: v,\r\n            title: [v],\r\n          };\r\n\r\n      var className = tool.className || tool.type;\r\n      var title = tool.title || [''];\r\n      var type = viso ? tool.type || className : v;\r\n\r\n      if (!type) return;\r\n\r\n      // 若非内置 tool，则合并到 tools 中\r\n      if (!tools[type]) {\r\n        var obj = {};\r\n        obj[type] = tool;\r\n        $.extend(tools, obj);\r\n      }\r\n\r\n      elemToolbar.append(\r\n        '<i class=\"layui-icon layui-icon-' +\r\n          className +\r\n          '\" data-type=\"' +\r\n          type +\r\n          '\" title=\"' +\r\n          title[0] +\r\n          '\"></i>',\r\n      );\r\n    });\r\n\r\n    othis.addClass(CONST.ELEM_ITEM).wrap(elemView); // 包裹外层容器\r\n    elemTabView.append(elemHeaderView); // 追加标签头\r\n    options.tools && elemTabView.append(elemToolbar); // 追加工具栏\r\n    othis.before(elemTabView); // 追加标签结构\r\n\r\n    // 追加预览\r\n    if (isIframePreview) {\r\n      elemPreviewView.html(\r\n        '<iframe allowtransparency=\"true\" frameborder=\"0\"></iframe>',\r\n      );\r\n    }\r\n\r\n    // 执行预览\r\n    var runPreview = function (thisItemBody) {\r\n      var iframe = thisItemBody.children('iframe')[0];\r\n\r\n      // 是否 iframe 方式预览\r\n      if (isIframePreview && iframe) {\r\n        iframe.srcdoc = finalCode(options.code);\r\n      } else {\r\n        thisItemBody.html(options.code);\r\n      }\r\n\r\n      // 当前实例预览完毕后的回调\r\n      setTimeout(function () {\r\n        typeof options.done === 'function' &&\r\n          options.done({\r\n            container: thisItemBody,\r\n            options: options,\r\n            render: function () {\r\n              form.render(thisItemBody.find('.layui-form'));\r\n              element.render();\r\n              tabs.render({\r\n                elem: ['.' + CONST.ELEM_PREVIEW, '.layui-tabs'].join(' '),\r\n              });\r\n            },\r\n          });\r\n      }, 3);\r\n    };\r\n\r\n    if (layout[0] === 'preview') {\r\n      elemPreviewView.addClass(CONST.ELEM_SHOW);\r\n      othis.before(elemPreviewView);\r\n      runPreview(elemPreviewView);\r\n    } else {\r\n      othis.addClass(CONST.ELEM_SHOW).after(elemPreviewView);\r\n    }\r\n\r\n    // 内容项初始化样式\r\n    options.previewStyle = [options.style, options.previewStyle].join('');\r\n    elemPreviewView.attr('style', options.previewStyle);\r\n\r\n    // tab change\r\n    element.on('tab(' + FILTER_VALUE + ')', function (data) {\r\n      var $this = $(this);\r\n      var thisElem = $(data.elem).closest('.' + CONST.ELEM_PREVIEW);\r\n      var elemItemBody = thisElem.find('.' + CONST.ELEM_ITEM);\r\n      var thisItemBody = elemItemBody.eq(data.index);\r\n\r\n      elemItemBody.removeClass(CONST.ELEM_SHOW);\r\n      thisItemBody.addClass(CONST.ELEM_SHOW);\r\n\r\n      if ($this.attr('lay-id') === 'preview') {\r\n        runPreview(thisItemBody);\r\n      }\r\n\r\n      setCodeLayout();\r\n    });\r\n  }\r\n\r\n  // 创建 code 容器\r\n  var codeElem = $('<code class=\"layui-code-wrap\"></code>'); // 此处的闭合标签是为了兼容 IE8\r\n\r\n  // 添加主容器 className\r\n  othis.addClass(\r\n    (function (arr) {\r\n      if (!options.wordWrap) arr.push('layui-code-nowrap');\r\n      return arr.join(' ');\r\n    })(['layui-code-view layui-border-box']),\r\n  );\r\n\r\n  // code 主题风格\r\n  var theme = options.theme || options.skin;\r\n  if (theme) {\r\n    othis.removeClass('layui-code-theme-dark layui-code-theme-light');\r\n    othis.addClass('layui-code-theme-' + theme);\r\n  }\r\n\r\n  // 添加高亮必要的 className\r\n  if (options.highlighter) {\r\n    othis.addClass(\r\n      [options.highlighter, 'language-' + options.lang, 'layui-code-hl'].join(\r\n        ' ',\r\n      ),\r\n    );\r\n  }\r\n\r\n  // 获取 code 行结构\r\n  var createCodeRst = createCode(\r\n    options.encode ? util.escape(finalCode(rawCode)) : rawCode, // 是否编码\r\n  );\r\n  var lines = createCodeRst.lines;\r\n\r\n  // 插入 code\r\n  othis.html(codeElem.html(createCodeRst.html));\r\n\r\n  // 插入行号边栏\r\n  if (options.ln) {\r\n    othis.append('<div class=\"layui-code-ln-side\"></div>');\r\n  }\r\n\r\n  // 兼容旧版本 height 属性\r\n  if (options.height) {\r\n    codeElem.css('max-height', options.height);\r\n  }\r\n\r\n  // code 区域样式\r\n  options.codeStyle = [options.style, options.codeStyle].join('');\r\n  if (options.codeStyle) {\r\n    codeElem.attr('style', function (i, val) {\r\n      return (val || '') + options.codeStyle;\r\n    });\r\n  }\r\n\r\n  // 动态设置样式\r\n  var cssRules = [\r\n    {\r\n      selector: '>.layui-code-wrap>.layui-code-line{}',\r\n      setValue: function (item, value) {\r\n        item.style['padding-left'] = value + 'px';\r\n      },\r\n    },\r\n    {\r\n      selector: '>.layui-code-wrap>.layui-code-line>.layui-code-line-number{}',\r\n      setValue: function (item, value) {\r\n        item.style.width = value + 'px';\r\n      },\r\n    },\r\n    {\r\n      selector: '>.layui-code-ln-side{}',\r\n      setValue: function (item, value) {\r\n        item.style.width = value + 'px';\r\n      },\r\n    },\r\n  ];\r\n\r\n  // 生成初始 style 元素\r\n  var styleElem = lay.style({\r\n    target: othis[0],\r\n    id: 'DF-code-' + index,\r\n    text: $.map(\r\n      $.map(cssRules, function (val) {\r\n        return val.selector;\r\n      }),\r\n      function (val) {\r\n        return ['.layui-code-view[lay-code-index=\"' + index + '\"]', val].join(\r\n          ' ',\r\n        );\r\n      },\r\n    ).join(''),\r\n  });\r\n\r\n  // 动态设置 code 布局\r\n  var setCodeLayout = (function fn() {\r\n    if (options.ln) {\r\n      var multiLine = Math.floor(lines.length / 100);\r\n      var lineElem = codeElem.children('.' + CONST.ELEM_LINE);\r\n      var width = lineElem\r\n        .last()\r\n        .children('.' + CONST.ELEM_LINE_NUM)\r\n        .outerWidth();\r\n\r\n      othis.addClass(CONST.ELEM_LN_MODE);\r\n\r\n      // 若超出 100 行\r\n      if (multiLine && width > CONST.LINE_RAW_WIDTH) {\r\n        lay.getStyleRules(styleElem, function (item, i) {\r\n          try {\r\n            cssRules[i].setValue(item, width);\r\n          } catch {\r\n            // ignore\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    return fn;\r\n  })();\r\n\r\n  // 创建 code header\r\n  if (options.header) {\r\n    var headerElem = $('<div class=\"' + CONST.ELEM_HEADER + '\"></div>');\r\n    headerElem.html(options.title || options.text.code);\r\n    othis.prepend(headerElem);\r\n  }\r\n\r\n  // 创建 code 区域固定条\r\n  var elemFixbar = $('<div class=\"layui-code-fixbar\"></div>');\r\n\r\n  // 若开启复制，且未开启预览，则单独生成复制图标\r\n  if (options.copy && !options.preview) {\r\n    var copyElem = $(\r\n      [\r\n        '<span class=\"layui-code-copy\">',\r\n        '<i class=\"layui-icon layui-icon-file-b\" title=\"' +\r\n          i18n.$t('code.copy') +\r\n          '\"></i>',\r\n        '</span>',\r\n      ].join(''),\r\n    );\r\n\r\n    // 点击复制\r\n    copyElem.on('click', function () {\r\n      tools.copy.event();\r\n    });\r\n\r\n    elemFixbar.append(copyElem);\r\n  }\r\n\r\n  // 创建 language marker\r\n  if (options.langMarker) {\r\n    elemFixbar.append(\r\n      '<span class=\"layui-code-lang-marker\">' + options.lang + '</span>',\r\n    );\r\n  }\r\n\r\n  // 创建 about 自定义内容\r\n  if (options.about) {\r\n    elemFixbar.append(options.about);\r\n  }\r\n\r\n  // 生成 code fixbar\r\n  othis.append(elemFixbar);\r\n\r\n  // code 渲染完毕后的回调\r\n  if (!options.preview) {\r\n    setTimeout(function () {\r\n      typeof options.done === 'function' && options.done({});\r\n    }, 3);\r\n  }\r\n\r\n  // 所有实例渲染完毕后的回调\r\n  if (options.elem.length === index + 1) {\r\n    typeof options.allDone === 'function' && options.allDone();\r\n  }\r\n\r\n  return ret;\r\n}\r\n","/**\r\n * Layui IIFE 入口\r\n */\r\n\r\n// 导入核心模块\r\nimport { layui } from './core/layui.js';\r\nimport { lay } from './core/lay.js';\r\nimport { laytpl } from './core/laytpl.js';\r\nimport { i18n } from './core/i18n.js';\r\nimport { default as jquery, default as $ } from 'jquery';\r\nimport { componentBuilder } from './core/component.js';\r\n\r\n// 导入组件模块\r\nimport { laypage } from './components/laypage.js';\r\nimport { laydate } from './components/laydate.js';\r\nimport { layer } from './components/layer.js';\r\nimport { dropdown } from './components/dropdown.js';\r\nimport { slider } from './components/slider.js';\r\nimport { colorpicker } from './components/colorpicker.js';\r\nimport { tab } from './components/tab.js';\r\nimport { nav } from './components/nav.js';\r\nimport { breadcrumb } from './components/breadcrumb.js';\r\nimport { progress } from './components/progress.js';\r\nimport { collapse } from './components/collapse.js';\r\nimport { element } from './components/element.js';\r\nimport { upload } from './components/upload.js';\r\nimport { form } from './components/form.js';\r\nimport { table } from './components/table.js';\r\nimport { treeTable } from './components/treeTable.js';\r\nimport { tabs } from './components/tabs.js';\r\nimport { tree } from './components/tree.js';\r\nimport { transfer } from './components/transfer.js';\r\nimport { carousel } from './components/carousel.js';\r\nimport { rate } from './components/rate.js';\r\nimport { flow } from './components/flow.js';\r\nimport { util } from './components/util.js';\r\nimport { code } from './components/code.js';\r\n\r\nlayui.all = true;\r\nlayui['layui.all'] = 'layui.all'; // 阻止 layui.use 加载内部模块\r\n\r\n// 兼容处理\r\nwindow.lay = lay;\r\nwindow.layer = layer;\r\nlayui.$ = jquery;\r\n\r\nObject.assign(layui, {\r\n  lay,\r\n  laytpl,\r\n  i18n,\r\n  $,\r\n  jquery,\r\n  component: componentBuilder, // 兼容\r\n  componentBuilder,\r\n  layer,\r\n  laydate,\r\n  laypage,\r\n  dropdown,\r\n  slider,\r\n  colorpicker,\r\n  tab,\r\n  nav,\r\n  breadcrumb,\r\n  progress,\r\n  collapse,\r\n  element,\r\n  upload,\r\n  form,\r\n  table,\r\n  treeTable,\r\n  tabs,\r\n  tree,\r\n  transfer,\r\n  carousel,\r\n  rate,\r\n  flow,\r\n  util,\r\n  code,\r\n});\r\n\r\nexport default layui;\r\n"],"names":["jsPath","document","window","location","config","timeout","debug","version","cache","modules","status","event","callback","Class","this","v","GLOBAL","LAYUI_GLOBAL","getPath","currentScript","tagName","toUpperCase","src","js","getElementsByTagName","last","length","i","readyState","dir","substring","lastIndexOf","error","msg","type","test","trim","console","warned","Object","create","errorOnce","_size","builtinModules","builtin","lay","layer","laydate","laypage","laytpl","form","upload","dropdown","transfer","tree","table","treeTable","tabs","tab","nav","breadcrumb","progress","collapse","element","rate","colorpicker","slider","carousel","flow","util","code","jquery","component","i18n","all","onNodeLoad","node","done","onCompleted","e","currentTarget","srcElement","removeListener","onError","detachEvent","removeEventListener","attachEvent","toString","indexOf","addEventListener","prototype","assign","options","define","deps","use","setModule","mod","exports","layui","mods","from","that","host","match","jQuery","fn","on","each","index","item","splice","$","modInfo","isExternalModule","onCallback","push","slice","apply","pollCallback","poll","api","setTimeout","modSrc","basePath","base","url","replace","head","createElement","async","charset","Date","getTime","appendChild","removeChild","extend","settings","firstSymbolEXP","modName","disuse","isArray","getStyle","name","style","currentStyle","getComputedStyle","getPropertyValue","getAttribute","_","c","link","href","id","hasCallback","isArr","value","getElementById","rel","__lay_readyState__","addcss","factory","img","Image","complete","onload","onerror","router","hash","data","path","pathname","search","split","obj","_index","key","substr","storage","localStorage","JSON","parse","remove","stringify","sessionData","sessionStorage","device","agent","navigator","userAgent","toLowerCase","getVersion","label","exp","RegExp","result","os","ie","ActiveXObject","weixin","android","ios","mobile","hint","_typeof","operand","String","call","_isArray","len","sort","arr","desc","notClone","clone","o1","o2","v1","v2","isNaN","isNum","reverse","stope","thisEvent","stopPropagation","cancelBubble","EV_REMOVE","onevent","events","params","filter","eventName","filterName","off","debounce","func","wait","context","args","arguments","clearTimeout","throttle","cooldown","selector","elem","querySelectorAll","fnToString","Function","ObjectFunctionString","hasOwnProperty","constructor","customizer","pop","reduce","target","source","targetValue","sourceValue","customResult","undefined","Array","isPlainObject","proto","getPrototypeOf","Ctor","digit","num","str","Math","pow","elemName","attr","setAttribute","hasScrollbar","body","scrollHeight","innerHeight","documentElement","clientHeight","autoIncrementer","opts","incrementer","getStyleRules","sheet","styleSheet","rules","cssRules","styleText","text","cssText","innerHTML","styleElem","find","append","position","clickType","rect","left","clientX","top","clientY","right","bottom","getBoundingClientRect","elemWidth","offsetWidth","elemHeight","offsetHeight","scrollArea","winArea","margin","align","allowBottomOut","offsetX","offset","offsetY","rect1","SYSTEM_RELOAD","othis","attrName","attrValue","ev","errorText","join","isTopElem","topElems","matched","clipboard","writeText","legacyCopy","opacity","select","execCommand","err","then","passiveSupported","defineProperty","get","touchEventsSupported","touchSwipe","targetElem","preventDefault","state","pointerStart","x","y","pointerEnd","distanceX","distanceY","direction","timeStart","onStart","touches","bindEvents","now","onTouchStart","onMove","abs","onTouchMove","onEnd","onTouchEnd","unbindEvents","passive","__lay_touchswipe_cb_","addEvent","eventsCacheName","listener","_rawFn","include","removeEvent","newEvents","onClickOutside","handler","eventType","scopeTarget","scope","ignore","useCapture","capture","detectIframe","bindEventListener","cleanup","el","eventTarget","eventPath","composedPath","concat","getParents","memo","parentNode","getEventPath","targetElements","j","targetEl","shouldIgnore","activeElement","contains","hasOwn","prop","escape","html","unescape","counter","lastTimestamp","generateUniqueId","prefix","timestamp","floor","random","createSharedResizeObserver","namespace","ResizeObserver","warn","ATTR_NAME","handlerCache","o","entries","freeze","observe","Element","unobserve","removeAttribute","disconnect","querySelector","treeToFlat","childrenKey","idKey","parentKey","keepChildren","toFlat","initData","nodes","parentId","acc","currNode","children","flatToTree","map","addStr","new_str","ii","removeStr","isObject","child","addClass","className","removeClass","hasClass","has","css","parseValue","thisKey","thisValue","width","height","removeAttr","val","thisModule","render","compile","template","compilerCache","vars","charCodeAt","tools","message","errorContext","open","close","condense","tagStyle","compiler","extractErrorContext","openDelimiter","closeDelimiter","regex","tagRegex","cores","sides","before","unshift","after","sidesRegex","delimSides","clear","nowrap","tpl","correct","tag","strConcatenation","output","delimiter","_escape","statement","createCompiler","builder","createBuilder","lineNum","templateArr","builderArr","sourceURL","stackLineNumRegxp","stackLineNum","stack","extractErrLineNum","isRecursion","lineNumRegxp","errLineNum","parseInt","start","max","end","min","inst","extendVars","variables","set","locale","messages","copy","copied","copyError","maximize","restore","preview","confirm","noData","loadMore","noMore","noMatch","placeholder","validateMessages","required","phone","email","number","date","identity","verifyErrorPromptTitle","months","weeks","time","literal","year","selectDate","selectTime","startTime","endTime","reset","rangeOrderPrompt","invalidDatePrompt","formatErrorPrompt","autoResetPrompt","cancel","defaultTitle","prompt","InputLengthPrompt","photos","rotate","scaleX","zoomIn","zoomOut","viewPicture","urlError","prev","next","first","total","pagesize","goto","page","asc","title","export","noDataPrompt","compatPrompt","csvText","print","dataFormatError","xhrError","searchPlaceholder","defaultNodeName","deleteNodePrompt","fileType","file","image","video","audio","fileExtensionError","filesOverLengthLimit","currentFilesLength","fileOverSizeLimit","chooseText","timeAgo","days","hours","minutes","future","justNow","toDateString","meridiem","hm","OBJECT_REPLACE_REGEX","isDef","resolveValue","cachedFn","memoize","defaultValue","pathParts","casePath","isFallback","translation","keypath","parameters","i18nMessages","hasDefault","fallbackMessage","default","origFn","$t","global","noGlobal","getProto","flat","array","class2type","support","isFunction","nodeType","isWindow","preservedScriptAttributes","nonce","noModule","DOMEval","doc","script","toType","rhtmlSuffix","init","isArrayLike","nodeName","toArray","pushStack","elems","ret","merge","prevObject","eq","even","grep","_elem","odd","copyIsArray","deep","expando","isReady","Error","noop","isEmptyObject","globalEval","textContent","nodeValue","makeArray","results","inArray","isXMLDoc","namespaceURI","docElem","ownerDocument","second","invert","matches","callbackExpect","arg","guid","Symbol","iterator","_i","whitespace","rtrimCSS","a","b","bup","compareDocumentPosition","rcssescape","fcssescape","ch","asCodePoint","escapeSelector","sel","preferredDoc","pushNative","Expr","outermostContext","sortInput","hasDuplicate","documentIsHTML","rbuggyQSA","dirruns","classCache","createCache","tokenCache","nonnativeSelectorCache","sortOrder","booleans","identifier","attributes","pseudos","rwhitespace","rcomma","rleadingCombinator","rdescend","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rquickExpr","rsibling","runescape","funescape","nonHex","high","fromCharCode","unloadHandler","setDocument","inDisabledFieldset","addCombinator","disabled","childNodes","els","seed","m","nid","groups","newSelector","newContext","exec","getElementsByClassName","testContext","tokenize","toSelector","qsaError","keys","cacheLength","shift","markFunction","assert","createInputPseudo","createButtonPseudo","createDisabledPseudo","isDisabled","createPositionalPseudo","argument","matchIndexes","subWindow","webkitMatchesSelector","msMatchesSelector","defaultView","getById","getElementsByName","disconnectedMatch","cssHas","attrId","getAttributeNode","input","compare","sortDetached","expr","elements","matchesSelector","attrHandle","uniqueSort","duplicates","sortStable","createPseudo","relative","preFilter","excess","unquoted","nodeNameSelector","expectedNodeName","pattern","operator","check","what","_argument","simple","forward","ofType","_context","xml","outerCache","nodeIndex","parent","useCache","diff","firstChild","lastChild","pseudo","setFilters","idx","not","matcher","unmatched","lang","elemLang","root","focus","safeActiveElement","hasFocus","tabIndex","enabled","checked","selected","selectedIndex","empty","nextSibling","header","button","_matchIndexes","lt","gt","nth","radio","checkbox","password","submit","parseOnly","tokens","soFar","preFilters","cached","combinator","skip","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","matcherOut","preMap","postMap","preexisting","contexts","multipleContexts","matcherIn","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","setMatchers","elementMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","matcherFromGroupMatchers","token","compiled","filters","unique","getText","isXML","selectors","until","truncate","is","siblings","n","rneedsContext","rsingleTag","winnow","qualifier","self","rootjQuery","parseHTML","ready","rparentsprev","guaranteedUnique","contents","sibling","cur","targets","l","closest","prevAll","add","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","content","rnothtmlwhite","Identity","Thrower","ex","adoptValue","resolve","reject","noValue","method","promise","fail","Callbacks","object","flag","createOptions","firing","memory","fired","locked","list","queue","firingIndex","fire","once","stopOnFalse","disable","lock","fireWith","Deferred","tuples","always","deferred","catch","pipe","fns","newDefer","tuple","returned","notify","onFulfilled","onRejected","onProgress","maxDepth","depth","special","mightThrow","TypeError","notifyWith","resolveWith","process","exceptionHook","rejectWith","getErrorHook","getStackHook","stateString","when","singleValue","remaining","resolveContexts","resolveValues","primary","updateFunc","rerrorNames","asyncError","readyException","readyList","completed","readyWait","doScroll","access","chainable","emptyGet","raw","bulk","_key","rmsPrefix","rdashAlpha","fcamelCase","_all","letter","camelCase","string","acceptData","owner","Data","uid","configurable","hasData","dataPriv","dataUser","rbrace","rmultiDash","dataAttr","getData","removeData","_data","_removeData","attrs","dequeue","startLength","hooks","_queueHooks","stop","setter","clearQueue","tmp","count","defer","pnum","rcssNum","cssExpand","isAttached","composed","getRootNode","isHiddenWithinTree","display","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","initial","unit","cssNumber","initialInUnit","defaultDisplayMap","getDefaultDisplay","showHide","show","values","hide","toggle","div","rcheckableType","rtagName","rscriptType","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","wrapMap","thead","col","tr","td","_default","getAll","setGlobalEval","refElements","tbody","tfoot","colgroup","caption","th","optgroup","rhtml","buildFragment","scripts","selection","ignored","wrap","attached","fragment","htmlPrefilter","createTextNode","rtypenamespace","returnTrue","returnFalse","types","one","leverageNative","isSetup","saved","isTrigger","delegateType","stopImmediatePropagation","trigger","isImmediatePropagationStopped","handleObjIn","eventHandle","t","handleObj","handlers","namespaces","origType","elemData","handle","triggered","dispatch","bindType","delegateCount","setup","mappedTypes","origCount","teardown","nativeEvent","handlerQueue","fix","delegateTarget","preDispatch","isPropagationStopped","rnamespace","postDispatch","matchedHandlers","matchedSelectors","addProp","hook","Event","enumerable","originalEvent","writable","load","noBubble","click","beforeunload","returnValue","props","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","char","charCode","keyCode","buttons","pointerId","pointerType","screenX","screenY","targetTouches","toElement","which","blur","focusMappedHandler","documentMode","simulate","attaches","dataHolder","mouseenter","mouseleave","pointerenter","pointerleave","orig","related","rnoInnerhtml","rchecked","rcleanScript","manipulationTarget","disableScript","restoreScript","cloneCopyEvent","dest","udataOld","udataCur","fixInput","domManip","collection","hasScripts","iNoClone","valueIsFunction","_evalUrl","keepData","cleanData","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","detach","prepend","insertBefore","replaceWith","replaceChild","appendTo","prependTo","insertAfter","replaceAll","original","insert","rnumnonpx","rcustomProp","getStyles","opener","swap","old","rboxStyle","curCSS","computed","minWidth","maxWidth","isCustomProp","pixelBoxStyles","addGetHookIf","conditionFn","hookFn","computeStyleTests","container","divStyle","pixelPositionVal","reliableMarginLeftVal","roundPixelMeasures","marginLeft","pixelBoxStylesVal","boxSizingReliableVal","scrollboxSizeVal","measure","round","parseFloat","reliableTrDimensionsVal","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","trChild","trStyle","borderTopWidth","borderBottomWidth","cssPrefixes","emptyStyle","vendorProps","finalPropName","cssProps","capName","vendorPropName","rdisplayswap","cssShow","visibility","cssNormalTransform","letterSpacing","fontWeight","setPositiveNumber","subtract","boxModelAdjustment","dimension","box","isBorderBox","styles","computedVal","extra","delta","marginDelta","ceil","getWidthOrHeight","valueIsBorderBox","offsetProp","getClientRects","Tween","easing","cssHooks","animationIterationCount","aspectRatio","borderImageSlice","columnCount","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeMiterlimit","strokeOpacity","origName","setProperty","isFinite","scrollboxSizeBuggy","padding","border","suffix","expand","expanded","parts","propHooks","run","percent","eased","duration","pos","step","fx","scrollTop","scrollLeft","linear","p","swing","cos","PI","fxNow","inProgress","rfxtypes","rrun","schedule","hidden","requestAnimationFrame","interval","tick","createFxNow","genFx","includeWidth","createTween","animation","Animation","tweeners","properties","stopped","prefilters","currentTime","tweens","specialEasing","originalProperties","originalOptions","gotoEnd","propFilter","bind","timer","anim","tweener","oldfire","propTween","restoreDisplay","isBox","dataShow","unqueued","overflow","overflowX","overflowY","prefilter","speed","opt","speeds","fadeTo","to","animate","optall","doAnimation","finish","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","checkOn","optSelected","radioValue","boolHook","nType","attrHooks","attrNames","getter","lowercaseName","rfocusable","rclickable","stripAndCollapse","getClass","classesToArray","removeProp","propFix","tabindex","for","class","classNames","curValue","finalValue","toggleClass","stateVal","isValidValue","rreturn","valHooks","optionSet","rquery","parseXML","parserErrorElem","DOMParser","parseFromString","rfocusMorph","stopPropagationCallback","onlyHandlers","bubbleType","ontype","lastElement","parentWindow","triggerHandler","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","traditional","param","s","valueOrFunction","encodeURIComponent","serialize","serializeArray","r20","rhash","rantiCache","rheaders","rnoContent","rprotocol","transports","allTypes","originAnchor","addToPrefiltersOrTransports","structure","dataTypeExpression","dataType","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","active","lastModified","etag","isLocal","protocol","processData","contentType","accepts","json","responseFields","converters","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","urlAnchor","fireGlobals","uncached","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","abort","statusText","finalText","crossDomain","hasContent","ifModified","headers","beforeSend","success","send","nativeStatusText","responses","isSuccess","response","modified","ct","finalDataType","firstDataType","ajaxHandleResponses","conv2","current","conv","dataFilter","throws","ajaxConvert","getJSON","getScript","wrapAll","firstElementChild","wrapInner","htmlIsFunction","unwrap","visible","xhr","XMLHttpRequest","xhrSuccessStatus","xhrSupported","cors","errorCallback","username","xhrFields","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","scriptAttrs","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","createHTMLDocument","implementation","keepScripts","parsed","animated","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","curElem","using","win","pageYOffset","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","defaultExtra","funcName","unbind","delegate","undelegate","hover","fnOver","fnOut","rtrim","proxy","holdReady","hold","parseJSON","isNumeric","_jQuery","_$","noConflict","w","MOD_NAME","isDeepReload","MOD_ID","CONST","CLASS_THIS","CLASS_SHOW","CLASS_HIDE","CLASS_HIDEV","CLASS_DISABLED","CLASS_NONE","instance","reload","extendsInstance","beforeInit","rerender","layOptions","newThat","getInst","beforeRender","MOD_CACHE_NAME","removeCache","getThis","getAllInst","removeInst","DISABLED","Number","layout","curr","limits","limit","pages","skipText","elemArr","plate","views","pager","halve","theme","countText","def","limitTemplet","refresh","jump","isskip","childs","btn","zhCN","YearBeforeMonthLocale","addSpaceBetweenChars","nextChar","isCharDigit","isDigit","isNextCharDigit","weekStart","THIS","LIMIT_YEAR","ELEM_STATIC","ELEM_LIST","ELEM_SELECTED","ELEM_HINT","ELEM_PREV","ELEM_NEXT","ELEM_CONFIRM","ELEM_TIME_TEXT","ELEM_TIME_BTN","ELEM_PREVIEW","ELEM_SHADE","getI18nMessages","monthBeforeYear","Intl","DateTimeFormat","month","formatToParts","part","dateType","formatArr","format","isLeapYear","range","isInitValue","showBottom","isPreview","btns","calendar","mark","holidays","change","autoConfirm","shade","markerOfChineseFestivals","isStatic","datetime","eventElem","fullPanel","rangeStr","rangeLinked","autoCalendarModel","startDate","endDate","auto","rangeElem","EXP_IF","EXP_SPLIT","EXP","EXP_IF_ONE","isInput","ymd","hms","day","tDate","newDate","getFullYear","getMonth","getDate","seconds","STAMP","thisDate","getHours","getMinutes","getSeconds","elemID","formatToDisplay","setValue","systemDate","themeStr","shortcutBtns","elemMain","elemHeader","elemCont","elemTable","divFooter","footer","divShortcut","shortcut","divHeader","headerChild","divContent","theadTr","insertRow","insertCell","ELEM_MAIN","shortcuts","btnSetting","dataset","dateTime","endState","listYM","checkDate","timeBtn","main","colorTheme","isPrimaryColor","thisElemDate","thisId","insertAdjacentHTML","changeEvent","renderAdditional","hinTimer","ms","getAsYM","Y","M","thisMaxDate","vals","checkValid","getEndDate","initDate","startEnd","thisv","minMaxError","EYM","arrDate","_v","getDateTime","markRender","tdElem","YMD","markers","markText","holidaysRender","insertHtml","dayStr","ymdStr1","ymdStr2","ymd1","ymd2","cellRender","dateObj","panelMode","originElem","startOfYear","setFullYear","setHours","endOfYear","startOfMonth","setDate","endOfMonth","addDays","amount","isDisabledYearOrMonth","startDay","endDay","numOfDays","disabledCount","disabledDate","isDisabledDate","rangeType","disabledType","normalizedDate","isDisabledTime","disabledTime","isDisabledItem","compareVal","rangeFn","rangeFnParam","isDisabledDateTime","isOut","thisDateTime","startWeek","prevMaxDate","isAlone","tds","elemYM","firstDate","getDay","index_","st","panelYM","normalizedYearStr","normalizedMonthStr","setBtnStatus","timeParams","stampRange","showHour","showMinute","showSecond","liElem","hideCount","ul","haveList","isMonthBeforeYear","yearNum","startY","li","setTimeStatus","ol","childUL","isShow","ym","isYearOrMonth","isChangeMonth","closeList","choose","span","scroll","haveSpan","olElem","touchAction","tips","elemBtn","displayValueCallback","getOwnPropertyDescriptor","HTMLInputElement","displayValue","elemPreview","color","thisTime","checkPanelDate","startPanel","panelMonth","needFullRender","panelIndex","isChange","checkState","dateTimeTemp","renderMode","panelIdx","tool","isTimeout","addSubYear","isYear","isMonth","prevYear","prevMonth","YM","nextMonth","nextYear","layYM","layType","toLocaleLowerCase","eventHandler","showEvent","closeStop","removeFocus","beforeEnd","resize","minStackIndex","minStackArr","alert","yes","btn2","rskin","skin","doms","closeBtn","icon","follow","fixed","setings","creat","pt","slideLeft","slideRight","SHADE","MOVE","SHADE_KEY","RECORD_HEIGHT_KEY","move","area","isOutAnim","minStack","moveType","scrollbar","vessel","conType","times","titype","ismax","maxmin","titleHTML","additFaceClass","face","animClass","btnAlign","layero","elemShade","setAnim","hideOnClose","closeAll","tipsMore","moveElem","shadeo","setScrollbar","transition","outerWidth","innerWidth","titHeight","outerHeight","btnHeight","setHeight","maxHeight","coords","updatePosition","offsetTop","offsetLeft","layArea","goal","tipsG","guide","autoLeft","tipLeft","where","tipTop","_DOC","DATA_NAME","resizeElem","dict","eventMoveElem","eventResizeElem","docEvent","X","stX","stY","moveOut","setRig","setBot","resizing","moveEnd","btnLoading","btnElem","isLoading","openLayer","btnAsync","btnCallback","loading","promiseLikeResolve","reason","shadeClose","full","setTop","record","contentElem","contentRecordHeightElem","restScrollbar","getChildFrame","getFrameIndex","iframeAuto","iframeHeight","titleHeight","iframeSrc","maxminStatus","elemMin","minLeft","hasMinLeft","edgeIndex","contentRecordHeight","isfix","executor","closeAnim","WRAP","iframe","contentWindow","write","domsElem","closeLast","layerIndexList","isArrayType","layerIndexMax","legacyTypeMap","formType","maxlength","loop","toolbar","imgIndex","pushData","alt","pid","thumb","imgprev","tabimg","imgnext","errorMsg","keyup","isNumber","getTransform","transforms","imgElem","transform","ratio","wheelDelta","zoomElem","touchEndCallback","threshold","loadi","loadImage","imgarea","winarea","wh","isMobile","_win","propSuffix","propName","deliver","REGEX_FORMAT","REGEX_PARSE","fixbar","ELEM","$doc","bars","$target","$scroll","bar1","bar2","elemTopBar","elemBar","bgcolor","setTopBar","countdown","clock","countTime","d","h","setTime","onlyDate","stamp","normalizeDate","years","milliseconds","getMilliseconds","defaultMeridiem","customMeridiem","yy","yyyy","MM","dd","H","HH","hh","A","mm","ss","SSS","$1","openWin","specs","toVisibleArea","scrollElem","thisElem","vertical","SCROLL_NAME","OFFSET_NAME","scrollValue","size","scrollOffset","thisOffset","attrSelector","DATANAME","dataCache","clickOrMousedown","MOD_INDEX_OPENED","MOD_INDEX","resizeObserver","customName","reloadData","STR_ITEM_UP","STR_ITEM_DOWN","STR_MENU_TITLE","STR_ITEM_GROUP","STR_ITEM_PARENT","STR_ITEM_CHECKED","STR_ITEM_CHECKED2","STR_MENU_PANEL","STR_MENU_PANEL_L","STR_ELEM_SHADE","STR_GROUP_TITLE","stopClickOutsideEvent","stopResizeEvent","isAllowSpread","isSpreadItem","accordion","closeOnClick","mainElem","elemUl","eachItemView","isChild","templet","group","viewText","viewLi","elemPanel","TPL_MAIN","mainElemExisted","findMainElem","shadeElem","delayRemove","isClickAllScope","clickScope","elemGroup","spread","autoUpdatePosition","normalizedDelay","isMouseEnter","thisEventElem","opened","isCtxMenu","windowResizeHandler","shouldObserveResize","triggerEl","contentEl","isAccordion","needSpread","groupSibs","_WIN","ELEM_LI","ELEM_LI_PAR","dataParams","componentBuilder","showstep","tipsAlways","ELEM_VIEW","SLIDER_BAR","SLIDER_WRAP","SLIDER_WRAP_BTN","SLIDER_TIPS","SLIDER_INPUT","SLIDER_INPUT_TXT","SLIDER_INPUT_BTN","ELEM_HOVER","minValue","maxValue","scaleFir","scaleSec","hasRender","elemTemp","elemInput","setSliderTipsTxt","sliderWrapBtnElem","tipsTxt","setTips","calcSliderTipsLeft","sliderWidth","sliderWrap","setSliderTipsLeft","slide","precision","precisions","decimalArr","sliderAct","sliderTxt","inputValue","offsetValue","firLeft","valueTo","secLeft","wrapWidth","selfValue","toFixed","arrValue","oldLeft","elemMove","sliderBtnElem","up","upCall","oldleft","oldx","reaLeft","inputScale","getInputValue","realValue","alpha","predefine","colors","ICON_PICKER_DOWN","ICON_PICKER_CLOSE","PICKER_TRIG_SPAN","PICKER_TRIG_I","PICKER_SIDE","PICKER_SIDE_SLIDER","PICKER_BASIS","PICKER_ALPHA_BG","PICKER_ALPHA_SLIDER","PICKER_BASIS_CUR","PICKER_INPUT","PICKER_OPENED","bgstr","elemColorBox","HSBToHEX","RGBToHSB","RGBSTo","background","rgb","hsb","r","g","HSBToRGB","t1","t2","t3","hex","nr","rgbs","re","$win","renderPicker","elemPicker","removePicker","pickerEvents","bindElem","elemPickerInput","backgroundColor","side","basis","alphacolor","alphaslider","_h","_b","_s","_a","pre","z","createMoveElem","needTrigger","needStopPropagation","triggerEvent","oldtop","oldy","maxh","maxw","pointer","simulatedEvent","createEvent","initMouseEvent","dispatchEvent","touchHandler","sidetop","basisElem","elemColorBoxSpan","colorValue","HEXToHSB","attrEvent","RESIZE_EVENT_NAME","SUPER_MOD_NAME","HEADER","CLOSE","MORE","BAR","tabAuto","tabClick","headerElem","bodyElem","elemA","isJump","unselect","hasId","force","liThis","tabDelete","tabElem","STOPE","allowclose","isSpread","hideTabMore","tsbTitle","tabAdd","layAttr","titElem","barElem","contElem","tabChange","layid","NAV_ELEM","NAV_ITEM","NAV_BAR","NAV_TREE","NAV_CHILD","NAV_CHILD_C","NAV_MORE","NAV_DOWN","NAV_ANIM","timerMore","timeEnd","bar","thisA","itemElem","hasBarElem","NAV_TITLE","clickEventName","clickThis","NAV_ITEMED","needExpand","parentSibs","ATTE_SPR","separator","aNode","elemTitle","isNone","titleClick","wrapper","CLASS_CONTENT","thisItemElem","thisContentElem","itemSiblings","elemFilter","components","componentName","files","ELEM_FILE","ELEM_FORM","ELEM_IFRAME","ELEM_CHOOSE","UPLOADING","accept","exts","bindAction","field","acceptMime","drag","multiple","elemFile","isFile","initIE","elemForm","FileReader","chooseFiles","reader","readAsDataURL","getFiles","ajaxSend","successful","failed","items","allDone","fileLength","request","sets","formData","FormData","resetFileState","unified","res","lengthComputable","loaded","forceConvert","convert","thisFile","pushFile","resetFile","filename","newFile","File","getChooseFiles","typeName","images","limitSize","clearInterval","setInterval","iframeBody","setChooseFile","setChooseText","extendInfo","extInfo","ext","sizes","parseSize","FileList","checkFile","dataTransfer","formatSize","log","HIDE","BAD_INPUT","needCheckboxFallback","Form","verify","autocomplete","getFormElem","itemForm","getValue","nameIndex","fieldElem","init_name","inputs","handleInputNumber","rawValue","noAction","isInit","isBadInput","isStepStrictly","decimals","controlBtn","increment","decrement","affix","CLASS_WRAP","CLASS_SUFFIX","CLASS_AFFIX","showAffix","renderAffix","affixOptions","elemAffix","elemIcon","hasElemAffix","hasElemSuffix","inputFilter","eye","SHOW_NAME","ns","skipCheck","isComposition","isReadonly","isMouseWheel","propertyName","tempMatched","tempNumber","specialCode","canInputNumber","deltaX","deltaY","TIPS","NONE","CREATE_OPTION","PANEL_ELEM_DATA","selects","reElem","titleElem","isSearch","isCreatable","isAppendTo","dl","removeClickOutsideEvent","dts","initValue","laySearch","caseSensitive","appendTarget","appendPosition","needPlaceholderPatch","showDown","dlHeight","dds","followScroll","__ieph","hideDown","notOption","none","thisDd","posTop","ddHeight","setThisDd","prevNext","allDisplayedElem","lastIndex","nextIndex","origin","fuzzyMatchRE","hasEquals","fuzzy","keyword","wordMap","regexPattern","escapeRegExp","wordArr","fuzzyMatchRegExp","isCreateOption","thisDds","createOptionElem","ddElem","firstOptionELem","hasTips","optionElem","optionsFirst","selectWrapper","inputElem","dt","panelWrapElem","contentWrapElem","switch","SUBTRA","ICON","ICON_OK","checks","RE_CLASS","isSwitch","isPrimary","indeterminate","syncAppearanceOnPropChanged","titleTplAttrs","titleTplElem","toggleAttribute","radios","ANIM","radioEl","sameRadios","renderItem","itemType","originProps","newValue","validate","intercept","DANGER","vers","verType","thisVer","verst","rule","isForm2Elem","layFilter","verifyElem","forceOn","forceOff","$dom","checkName","indexName","initIndexName","numbersName","disabledName","thisTable","setColsWidth","getThisTable","getThisTableConfig","parseTempData","item3","tplData","exportTemplet","resolveTplStr","LAY_COL","HIDE_V","ELEM_HEADER","ELEM_BODY","ELEM_FIXED","ELEM_FIXR","ELEM_PAGE_VIEW","ELEM_SORT","ELEM_CHECKED","ELEM_EDIT","ELEM_GROUP","ELEM_COL_SPECIAL","ELEM_TOOL_PANEL","ELEM_EXPAND","DISABLED_TRANSITION","FIXED_HEIGHT_PATCH","DATA_MOVE_NAME","TPL_HEADER","TPL_BODY","unobserveResize","cellMinWidth","cellMaxWidth","MAX_VALUE","editTrigger","defaultToolbar","defaultContextmenu","autoSort","cols","dispose","pageName","limitName","statusName","msgName","dataName","totalRowName","countName","pullData","setInit","fullHeightGap","parentDiv","parentHeightGap","customHeightFunc","table_sort_asc","table_sort_desc","renderStyle","layTool","layBox","layHeader","layMain","layBody","layFixed","layFixLeft","layFixRight","layTotal","layPage","renderToolbar","renderPagebar","fullSize","observeResize","initOpts","space","unresize","numbers","getWidth","clientWidth","getContentWidth","parentElem","initChildCols","i1","item1","i2","item2","colspan","rowspan","indexChild","colGroup","childIndex","i22","item22","HAS_PARENT","lineStyle","trClassName","cellMaxHeight","leftDefaultTemp","elemToolTemp","toolbarHtml","defaultConfig","layEvent","onClick","lis","openPanel","eachCols","fieldTitle","setParentCol","panel","exportFile","printWin","thElem","edg","onafterprint","iconElem","itemIsName","thisItem","layPagebar","pagebar","pagebarHtml","parentTh","parentColspan","arrParentKey","getThisCol","colspan2","nextParentKey","setColsPatch","setGroupWidth","lastSpreadCol","colNums","autoColNums","autoWidth","countWidth","cntrWidth","borderWidth","headerTableElem","mainTableElem","isEmptyTable","getScrollWidth","getAutoWidth","back","pixelsForLastCol","i3","newWidth","isConnected","scrollPatch","haveInit","HAS_SET_COLS_PATCH","errorView","elemNone","layNone","syncCheckAll","renderForm","initSort","reloadType","renderData","totalRow","ajaxOptions","parseData","_xhrAbort","_xhr","startLimit","newData","getTrHtml","trsObj","trs","trs_fixed","trs_fixed_r","tds_fixed","tds_fixed_r","LAY_KEY","edit","trAttr","totalRowData","sortKey","pull","scrollPos","needSyncFixedRowHeight","calcFixedRowHeight","tipsIndex","renderTotal","totalNums","dataTotal","TOTAL_NUMS","totalRowDecimals","thisTotalNum","totalRowText","getContent","tdContent","TOTAL_ROW","patchElem","outerHTML","getColElem","renderFormByElem","checkAllElem","checkStatus","isAll","setRowActive","setRowChecked","isCheckAll","isCheckMult","isCheckAllOrMult","makeMap","dataIndex","radioCheckedIndex","thisData","existChecked","getChecked","checkedElem","checkedSameElem","fixRElem","_field","elemSort","fromEvent","selectorText","bodyHeight","MIN_HEIGHT","headerMain","thIndex","layMainTable","scrollWidth","outWidth","addPatch","fixHeight","updateRow","row","cell","update","ELEM_CELL","_BODY","oLeft","pLeft","allowResize","ruleWidth","setWidth","thatTable","nowType","commonMember","clearCacheKey","del","fields","getCol","trsElem","fixedRowHeightPatchOnHover","setRowEvent","UNROW","renderGridEdit","editType","oldValue","reedit","showGridExpandIcon","ELEM_GRID_DOWN","elemCell","gridExpand","expandedMode","ELEM_CELL_C","elemCellClose","cellExpandedMode","expandedWidth","cellExpandedWidth","$this","toolFn","rAF","cb","getElementSize","borderRightWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","marginTop","marginRight","marginBottom","boxSizing","tableElem","leftTrs","rightTrs","mainTrs","heights","isEnter","isFixed","tableEl","isAutoHeight","syncFixedRowHeight","errorTips","attrData","tableData","itemData","trElem","tableIns","tdIndex","eachChildCols","CHILD_COLS","PARENT_COL_INDEX","arrs","eachArrs","invalidNum","textType","csv","xls","alink","dataTitle","dataMain","fieldsIsHide","isTreeTable","ignoreExport","download","getOptions","hideCol","thisTreeTable","ELEM_FIXL","TABLE_TREE","LAY_DATA_INDEX","LAY_DATA_INDEX_HISTORY","LAY_PARENT_INDEX","LAY_CHECKBOX_HALF","LAY_EXPAND","LAY_HAS_EXPANDED","LAY_ASYNC_STATUS","LAY_CASCADE","HTML_TAG_RE","ICON_PROPS","updateCache","tableCache","itemDataIndex","updateOptions","thatOptionsTemp","treeOptions","hasNumberCol","hasChecboxCol","hasRadioCol","scrollTopCache","parseDataThat","retData","isSimpleData","enable","updateStatus","renderType","isRenderData","isExpandAll","tableView","layTableAllChooseElem","renderTreeTable","iconProp","normalizedIcon","cascade","isParent","indent","flexIconClose","flexIconOpen","showIcon","iconClose","iconOpen","iconLeaf","showFlexIconIfNotParent","dblClickExpand","expandAllDefault","rootPid","autoParam","beforeExpand","onExpand","iconStr","tableId","flatArr","pIdKey","rootNodes","idTemp","pidTemp","tempObj","parentIndex","dataNew","getTreeNode","getParentNode","getNodeByIndex","treeNodeData","getNodeDataByIndex","treeNode","updateNode","removeNode","expandNode","setChecked","getNodeById","tableDataFlat","dataRet","indexArr","getTableData","isParentKey","debounceFn","expandFlag","sonSign","callbackFlag","tableViewElem","treeTableThat","trData","isToggle","trExpand","retValue","trExpanded","flexIconElem","updateNodeIcon","scopeEl","isExpand","trDataId","asyncSetting","asyncUrl","asyncSuccessFn","asyncAutoParam","itemArr","asyncContentType","asyncType","asyncDataType","asyncJsonpCallback","asyncHeaders","asyncParseData","asyncResponse","str2","str2Obj","dataLevelNew","childItem","childNodesFlat","inherit","expandAll","isAllAsyncDone","isAllExpanded","trAll","trAllObj","dataItem","dataLevel","nodeIconElem","nodeIcon","level","treeOptionsView","existsData","layDataIndex","dataExpand","nameKey","itemCell","trIndex","htmlTemp","trDefaultExpand","formatNumber","trMain","trFixedL","trFixedR","statusObj","notCascade","dataUpdated","rowIndex","updateObjParams","tableThat","updateFn","newNode","trLevel","newNodeTemp","trNew","_keepParent","delNode","nodeP","updateCheckStatus","delNodesFlat","delNodeDataIndex","deleteCacheKey","i4","item4","trEl","addNodes","dataAfter","newNodes","childKey","childrenNodes","childrenNodesFlat","pageOptions","newNodesHtml","newNodesHtmlObj","newNodeIndex","newNodeItem","trIndexPrev","tableViewElemMAIN","tableViewElemFIXL","tableViewElemFIXR","trIndexNext","scrollIntoViewIfNeeded","includeHalfCheck","checkedData","updateData","checkNode","setRowCheckedClass","dataP","trsP","updateParentCheckStatus","indexP","itemP","checkboxElem","isIndeterminate","checkedNum","isRadio","trDataP","radioElem","nodeData","collectNeedExpandNodeIndex","needExpandIndex","checkAllNodes","reloadAsyncNode","dataId","getNodesByFilter","isSingle","nodesResult","headerMode","BODY","ITEM","CARD","getContainer","documentElem","elemView","elemHeaderItem","renderHeaderItem","elemBodyItem","renderBodyItem","renderClose","findHeaderItem","roll","afterRender","TRIGGER_NAMESPACE","delegatedElement","inner","onresize","newHeaderItem","newBodyItem","mode","hasOwnIndex","headerItem","thisHeaderItem","bodyItem","findBodyItem","closeMult","DISABLED_CLOSE_SELECTOR","itemIndex","nextHeader","prevHeader","thatA","isLink","appendClose","closable","headerItems","tabsLeft","scrollMode","CLASS_SCROLL","CLASS_BAR","CLASS_BAR_ICON","rollElem","elemScroll","prevLeft","thisLeft","rollToVisibleArea","headerItemIndex","bodyItems","thisBodyItem","getHeaderItem","getBodyItem","showCheckbox","showLine","onlyIconControl","ELEM_SET","ICON_CLICK","ICON_ADD","ICON_SUB","ELEM_ENTRY","ELEM_TEXT","ELEM_PACK","ELEM_SPREAD","ELEM_LINE_SHORT","ELEM_SHOW","ELEM_EXTEND","flatData","checkids","hasChild","packDiv","entryDiv","editIcon","checkClick","operate","entry","elemCheckbox","elemText","touchOpen","packCont","iconClick","updateFieldValue","sibls","syncCheckedState","isManual","nodeWrapper","setChildrenChecked","thisNodeElem","childrenWrapper","childChecked","setParentsChecked","descendantsChecked","parentPack","parentNodeElem","parentCheckbox","oncheck","returnObj","getVal","textNew","i18nText","elemDel","siblingTree","parentTree","prevDiv","pare","pack","onsearch","checkedId","eachNodes","index2","cloneItem","showSearch","ELEM_BOX","ELEM_SEARCH","ELEM_ACTIVE","ELEM_DATA","BTN_DISABLED","searchNone","TPL_BOX","checkAllName","layData","layBtn","listElem","renderCheckBtn","thisDataElem","allElemCheckbox","listElemCheckbox","nums","haveChecked","isHide","stopNone","noneView","createNoneElem","selectedData","thisBoxElem","thisList","thisElemCheckbox","siblingInput","onchange","elemThis","dblclick","thisListElem","isMatch","arrow","indicator","autoplay","ELEM_ITEM","ELEM_LEFT","ELEM_RIGHT","ELEM_ARROW","ELEM_IND","elemItem","elemInd","prevIndex","addIndex","subIndex","itemsCount","tplArrow","tplInd","thisIndex","haveSlide","touchEl","isVertical","distance","half","readonly","ICON_RATE","ICON_RATE_SOLID","ICON_RATE_HALF","ICON_SOLID_HALF","ICON_SOLID_RATE","ICON_HALF_RATE","elemTemplate","setText","action","setvalue","_ul","wide","liElems","ind","itemElemWidth","remainder","integer","score","isActiveIcon","needSelect","shouldHalfIcon","ELEM_LOAD","ELEM_MORE","FLOW_SCROLL_EVENTS","LAZYIMG_SCROLL_EVENTS","finished","mb","isAuto","moreText","endText","isTop","notDocument","$more","scrollHeightStart","scrollTopStart","$moreBtn","isLazyimg","lazyimg","scrollHeightEnd","nextElementHeight","$elem","elemTop","ELEM_TAB","ELEM_FULL","ELEM_LINE","ELEM_LINE_NUM","ELEM_LN_MODE","CDDE_DATA_CLASS","LINE_RAW_WIDTH","about","ln","encode","wordWrap","highlighter","langMarker","highlightLine","comment","classActiveLine","classActivePre","hl","trimEnd","parseHighlightedLines","highlightLineRegex","reloadCode","obverse","codeRender","createCode","highlightLineOptions","codeLines","hasHighlightLine","needParseComment","lineClassMap","preClassMap","updateLineClassMap","lines","highlightLineInfo","lineNumber","highlightLines","line","startLine","preClass","rawCode","finalCode","codeParse","hasDataClass","hasOnCopy","onCopy","elemViewHas","elemTabHas","elemPreviewViewHas","FILTER_VALUE","isIframePreview","elemTabView","elemHeaderView","elemPreviewView","elemToolbar","classNameFull","classNameRestore","htmlElem","ELEM_SCROLLBAR_HIDE","oi","toolsEvent","addTools","viso","runPreview","thisItemBody","srcdoc","previewStyle","elemItemBody","setCodeLayout","codeElem","createCodeRst","codeStyle","multiLine","elemFixbar","copyElem"],"mappings":"kCAMA,IA4BMA,EA5BFC,EAAWC,OAAOD,SAClBE,EAAWD,OAAOC,SAGlBC,EAAS,CACXC,QAAS,GACTC,OAAO,EACPC,SAAS,GAIPC,EAAQ,CACVC,QAAS,CAAA,EACTC,OAAQ,CAAA,EACRC,MAAO,CAAA,EACPC,SAAU,CAAA,GAIRC,EAAQ,WACVC,KAAKC,EAAI,eACX,EAGIC,EAASd,OAAOe,cAAgB,CAAA,EAGhCC,GACElB,EACFC,EAASkB,eACwC,WAAjDlB,EAASkB,cAAcC,QAAQC,cAC3BpB,EAASkB,cAAcG,IACtB,WAIC,IAHA,IAEIA,EAFAC,EAAKtB,EAASuB,qBAAqB,UACnCC,EAAOF,EAAGG,OAAS,EAEdC,EAAIF,EAAME,EAAI,EAAGA,IACxB,GAAyB,gBAArBJ,EAAGI,GAAGC,WAA8B,CACtCN,EAAMC,EAAGI,GAAGL,IACZ,KACF,CAEF,OAAOA,GAAOC,EAAGE,GAAMH,GACzB,CAXC,GAaClB,EAAOyB,IACbb,EAAOa,KAAO7B,EAAO8B,UAAU,EAAG9B,EAAO+B,YAAY,KAAO,IAI5DC,EAAQ,SAAUC,EAAKC,GAEzBD,EAAM,iBAAmBA,EAGrB,aAAaE,MAJjBD,EAAOA,GAAQ,QAIYE,UACzBF,EAAO,QAGThC,OAAOmC,QAAQH,GAAMD,EACvB,EACIK,EAASC,OAAOC,OAAO,MAEvBC,EAAY,SAAUR,EAAKC,GACzBI,EAAOI,OAASJ,EAAOI,MAAQ,OACjCJ,EAASC,OAAOC,OAAO,OAChBE,MAAQ,GAEZJ,EAAOL,KACVK,EAAOL,IAAO,EACdK,EAAOI,OAASJ,EAAOI,OAAS,GAAK,EACrCV,EAAMC,EAAKC,GAEf,EAGIS,EAAkBvC,EAAOwC,QAAU,CACrCC,IAAK,MACLC,MAAO,QACPC,QAAS,UACTC,QAAS,UACTC,OAAQ,SACRC,KAAM,OACNC,OAAQ,SACRC,SAAU,WACVC,SAAU,WACVC,KAAM,OACNC,MAAO,QACPC,UAAW,YACXC,KAAM,OACNC,IAAK,MACLC,IAAK,MACLC,WAAY,aACZC,SAAU,WACVC,SAAU,WACVC,QAAS,UACTC,KAAM,OACNC,YAAa,cACbC,OAAQ,SACRC,SAAU,WACVC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,OAAQ,SACRC,UAAW,YACXC,KAAM,OAENC,IAAK,MACL,YAAa,aASXC,EAAa,SAAUC,EAAMC,EAAM7C,GAErC,IAAI8C,EAAc,SAAUC,IAGb,SAAXA,EAAE7C,MAFc,sBAGJC,MAAM4C,EAAEC,eAAiBD,EAAEE,YAAYrD,eAEnDsD,IACgB,mBAATL,GAAuBA,EAAKE,GAEvC,EAEII,EAAU,SAAUJ,GACtBG,IACiB,mBAAVlD,GAAwBA,EAAM+C,EACvC,EAGIG,EAAiB,WACfN,EAAKQ,YACPR,EAAKQ,YAAY,qBAAsBN,IAEvCF,EAAKS,oBAAoB,OAAQP,GAAa,GAC9CF,EAAKS,oBAAoB,QAASF,GAAS,GAE/C,GAIEP,EAAKU,aAEHV,EAAKU,YAAYC,UACjBX,EAAKU,YAAYC,WAAWC,QAAQ,gBAAkB,GAMxDZ,EAAKa,iBAAiB,OAAQX,GAAa,GAC3CF,EAAKa,iBAAiB,QAASN,GAAS,IAHxCP,EAAKU,YAAY,qBAAsBR,EAK3C,EAGAjE,EAAM6E,UAAUlF,MAAQ+B,OAAOoD,OAAOvF,EAAQI,GAM9CK,EAAM6E,UAAUtF,OAAS,SAAUwF,GAEjC,OADArD,OAAOoD,OAAOvF,EAAQwF,GACf9E,IACT,EAOAD,EAAM6E,UAAUG,OAAS,SAAUC,EAAMlF,GA0BvC,MANoB,mBAATkF,IACTlF,EAAWkF,EACXA,EAAO,IArBEhF,KAwBNiF,IAAID,EAvBS,WAChB,IAAIE,EAAY,SAAUC,EAAKC,GAC7BC,EAAMF,GAAOC,EACb1F,EAAME,OAAOuF,IAAO,CACtB,EAUA,MARoB,mBAAbrF,GACLA,EAAS,SAAUqF,EAAKC,GACtBF,EAAUC,EAAKC,GAEf1F,EAAMI,SAASqF,GAAO,WACpBrF,EAASoF,EACX,CACF,GACKlF,IACT,EAQ4B,KAAM,UAxBvBA,IA0Bb,EAOAD,EAAM6E,UAAUK,IAAM,SAAUK,EAAMxF,EAAUsF,EAASG,GACvD,IAAIC,EAAOxF,KACPe,EAAOzB,EAAOyB,IAAMzB,EAAOyB,IAAMzB,EAAOyB,IAAMX,EAuBlD,GApBAkF,EACsB,iBAATA,EACF,CAACA,GAGe,mBAATA,GACdxF,EAAWwF,EACJ,CAAC,QAEHA,EAIJhG,EAAOmG,OACVnG,EAAOmG,MAAQ1E,EAAI2E,MAAM,qBAAuB,CAC9C,KAAOrG,EAASoG,KAAO,MACtB,KAIAH,EAAM,OAAOE,EAGdpG,OAAOuG,QAAUvG,OAAOuG,OAAOC,GAAGC,KACpCL,EAAKM,KAAKR,EAAM,SAAUS,EAAOC,GAClB,WAATA,GACFV,EAAKW,OAAOF,EAAO,EAEvB,GACAV,EAAM5B,OAAS4B,EAAMa,EAAI9G,OAAOuG,QAIlCP,EAAUA,GAAW,GAGrB,IAAIY,EAAOV,EAAK,GACZa,EAAUX,EAAK7F,QAAQqG,GAEvBI,EAAsC,iBAAZD,EAG1BE,EAAa,WACfjB,EAAQkB,KAAKjB,EAAMW,IACnBV,EAAK1E,OAAS,EACV4E,EAAKP,IAAIK,EAAKiB,MAAM,GAAIzG,EAAUsF,EAASG,GACvB,mBAAbzF,GACN,WAEC,GACEuF,EAAM5B,QACkB,mBAAjB4B,EAAM5B,QACJ,WAAT8B,EAEA,OAAOF,EAAM5B,OAAO,WAClB3D,EAAS0G,MAAMnB,EAAOD,EACxB,GAEFtF,EAAS0G,MAAMnB,EAAOD,EACxB,CAZC,EAaP,EAGIqB,EAAe,WACjB,IAAIlH,EAAU,GAId,SAAUmH,IACR,KAAMnH,EAA4B,IAAjBD,EAAOC,QAJd,EAKR,OAAO2B,EAAM8E,EAAO,yBAA0B,UAO9CI,EACKf,EAAMW,GAAQ5G,OAAO+G,EAAQQ,KAC9BjH,EAAME,OAAOoG,IAEfK,IACAO,WAAWF,EAjBL,EAkBX,CAfD,EAgBF,EAGA,GAAoB,IAAhBpB,EAAK1E,QAAiByE,EAAM,cAAgBxD,EAAemE,GAC7D,OAAQK,IAAcb,EAIxB,IAAIqB,EAAST,EAAmBD,EAAQ3F,IAAM2F,EAG1CW,EAAWjF,EAAemE,GAC1BjF,EAAM,WACN8F,EACE,GACAvH,EAAOyH,KAGRF,IAAQA,EAASb,GAMtB,IAiBUvG,EAjBNuH,EAAMF,GAHVD,EAASA,EAAOI,QAAQ,MAAO,IAAIA,QAAQ,cAAe,KAG5B,MAQ9B,IALKvH,EAAMC,QAAQqG,IAASX,EAAMW,KAChCtG,EAAMC,QAAQqG,GAAQgB,GAInBtH,EAAMC,QAAQqG,GAkCjBS,QAlCwB,CACxB,IAAIS,EAAO/H,EAASuB,qBAAqB,QAAQ,GAC7CoD,EAAO3E,EAASgI,cAAc,UAElCrD,EAAKsD,OAAQ,EACbtD,EAAKuD,QAAU,QACfvD,EAAKtD,IACHwG,IAEMvH,GACiB,IAAnBH,EAAOG,QACHH,EAAOW,IAAK,IAAIqH,MAAOC,UACvBjI,EAAOG,SAAW,IACP,MAAQA,EAAU,IAGvCyH,EAAKM,YAAY1D,GAGjBD,EACEC,EACA,WACEoD,EAAKO,YAAY3D,GACjB2C,GACF,EACA,WACES,EAAKO,YAAY3D,EACnB,GAIFpE,EAAMC,QAAQqG,GAAQgB,CACxB,CAKA,OAAOxB,CACT,EAGAzF,EAAM6E,UAAUjF,QAAU8B,OAAOoD,OAAO,CAAA,EAAIhD,GAM5C9B,EAAM6E,UAAU8C,OAAS,SAAUC,GACjC,IAAInC,EAAOxF,KACP+G,EAAOzH,EAAOyH,MAAQ,GACtBa,EAAiB,UAKrB,IAAK,IAAIC,KAHTF,EAAWA,GAAY,CAAA,EAIrB,GAAInC,EAAKqC,IAAYrC,EAAK7F,QAAQkI,GAEhC3G,EAAM,OAAS2G,EAAU,8CACpB,CACL,IAAI1B,EAAUwB,EAASE,GAEA,iBAAZ1B,IAILyB,EAAevG,KAAK8E,KAAUY,EAAO,IACzCZ,GAAWY,EAAOZ,GAASc,QAAQW,EAAgB,KAErDpC,EAAK7F,QAAQkI,GAAW1B,CAC1B,CAGF,OAAOX,CACT,EAMAzF,EAAM6E,UAAUkD,OAAS,SAAUxC,GACjC,IAAIE,EAAOxF,KASX,OARAsF,EAAOE,EAAKuC,QAAQzC,GAAQA,EAAO,CAACA,GACpCE,EAAKM,KAAKR,EAAM,SAAUS,EAAOC,UACxBR,EAAKQ,UACLnE,EAAemE,UACfR,EAAK7F,QAAQqG,UACbtG,EAAME,OAAOoG,UACbtG,EAAMC,QAAQqG,EACvB,GACOR,CACT,EASAzF,EAAM6E,UAAUoD,SAAW,SAAUlE,EAAMmE,GACzC,IAAIC,EAAQpE,EAAKqE,aACbrE,EAAKqE,aACL/I,OAAOgJ,iBAAiBtE,EAAM,MAClC,OAAOoE,EAAMG,iBACTH,EAAMG,iBAAiBJ,GACvBC,EAAMI,aACJL,EAAKhB,QAAQ,SAAU,SAAUsB,EAAGC,GAClC,OAAOA,EAAIA,EAAEjI,cAAgB,EAC/B,GAER,EAQAR,EAAM6E,UAAU6D,KAAO,SAAUC,EAAM5I,EAAU6I,GAC/C,IAAInD,EAAOxF,KACPkH,EAAO/H,EAASuB,qBAAqB,QAAQ,GAC7CkI,EAAkC,mBAAb9I,EAQzB,GALwB,iBAAbA,IACT6I,EAAK7I,GAIa,iBAAT4I,EAAmB,CAC5B,IAAIG,EAA0B,UAAlBrD,EAAKpE,KAAKuH,GACtB,OAAOnD,EAAKM,KAAK4C,EAAM,SAAU3C,EAAO+C,GACtCtD,EAAKiD,KACHK,EACA/C,IAAU2C,EAAK9H,OAAS,GAAKd,EAC7B+I,GAASF,EAAG5C,GAEhB,EACF,CAIA4C,EAAK,aADLA,EAAKA,GAAMD,EAAKzB,QAAQ,wCAAyC,KAGjE,IAAIwB,EAAOtJ,EAAS4J,eAAeJ,GAYnC,OATKF,KACHA,EAAOtJ,EAASgI,cAAc,SACzBuB,KAAOA,GAAQpJ,EAAOE,MAAQ,OAAQ,IAAI8H,MAAOC,UAAY,IAClEkB,EAAKO,IAAM,aACXP,EAAKE,GAAKA,EACVzB,EAAKM,YAAYiB,IAIa,aAA5BA,EAAKQ,oBACPL,GAAe9I,EAAS2I,GACjBjD,IAIT3B,EACE4E,EACA,WACEA,EAAKQ,mBAAqB,WAC1BL,GAAe9I,EAAS2I,EAC1B,EACA,WACEvH,EAAMwH,EAAO,cAAe,SAC5BxB,EAAKO,YAAYgB,EACnB,GAGKjD,EACT,EAMAzF,EAAM6E,UAAUsE,OAAS,SAAUrB,EAAS/H,EAAU6I,GACpD,OAAOtD,EAAMoD,KAAKnJ,EAAOyB,IAAM,OAAS8G,EAAS/H,EAAU6I,EAC7D,EAOA5I,EAAM6E,UAAUuE,QAAU,SAAUtB,GAClC,GAAIxC,EAAMwC,GACR,MAA2C,mBAA7BvI,EAAOQ,SAAS+H,GAC1BvI,EAAOQ,SAAS+H,GAChB,IAER,EAQA9H,EAAM6E,UAAUwE,IAAM,SAAUpC,EAAKlH,EAAUoB,GAC7C,IAAIkI,EAAM,IAAIC,MAEd,GADAD,EAAI5I,IAAMwG,EACNoC,EAAIE,SACN,OAAOxJ,EAASsJ,GAElBA,EAAIG,OAAS,WACXH,EAAIG,OAAS,KACO,mBAAbzJ,GAA2BA,EAASsJ,EAC7C,EACAA,EAAII,QAAU,SAAUvF,GACtBmF,EAAII,QAAU,KACG,mBAAVtI,GAAwBA,EAAM+C,EACvC,CACF,EAOAlE,EAAM6E,UAAU6E,OAAS1J,EAAM6E,UAAU8E,KAAO,SAAUA,GAExD,IACIC,EAAO,CACTC,KAAM,GACNC,SAAU,GACVC,OAAQ,CAAA,EACRJ,OANFA,EAAOA,GAAQrK,EAASqK,MAMVhE,MAAM,eAAiB,IAAI,IAAM,GAC7CgD,KAAM,IAIR,MAAK,KAAKrH,KAAKqI,IAIfA,EAAOA,EAAKzC,QAAQ,KAAM,IAC1B0C,EAAKjB,KAAOgB,EACZA,EAAOA,EAAKzC,QAAQ,eAAgB,MAAM8C,MAAM,MAAQ,GAhB7C/J,KAmBN8F,KAAK4D,EAAM,SAAU3D,EAAOC,GAC/B,QAAQ3E,KAAK2E,IAEPA,EAAOA,EAAK+D,MAAM,KAClBJ,EAAKG,OAAO9D,EAAK,IAAMA,EAAK,IAE9B2D,EAAKC,KAAKtD,KAAKN,EACrB,GAEA2D,EAAKE,SAAWF,EAAKC,KACdD,GAlBEA,CAmBX,EAOA5J,EAAM6E,UAAUoC,IAAM,SAAU0B,GAC9B,IAeQsB,EACAF,EAyCR,MAxDW,CAETD,UACiBnB,IAEEA,EAAKhD,MAAM,iBAAmB,IAAI,IAAM,IACxCuB,QAAQ,SAAU,IAAIA,QAAQ,OAAQ,IAEnD5H,EAASwK,UACG5C,QAAQ,MAAO,IAAI8C,MAAM,KAI3CD,QACME,EAAM,CAAA,EACNF,GACFpB,IAEiBA,EAAKhD,MAAM,SAAW,IAAI,IAAM,IAChCuB,QAAQ,MAAO,IAE5B5H,EAASyK,QAEZ7C,QAAQ,OAAQ,IAChB8C,MAAM,KAzBF/J,KA4BF8F,KAAKgE,EAAQ,SAAU/D,EAAOC,GACjC,IAAIiE,EAASjE,EAAKtB,QAAQ,KACtBwF,EAEED,EAAS,EACJjE,EAAKmE,OAAO,EAAGnE,EAAKpF,QACP,IAAXqJ,GAGFjE,EAAKmE,OAAO,EAAGF,GAItBC,IACFF,EAAIE,GAAOD,EAAS,EAAIjE,EAAKmE,OAAOF,EAAS,GAAK,KAEtD,GAEOD,GAITN,KAlDS1J,KAkDEyJ,OAEAf,GAAQA,EAAKhD,MAAM,QAAU,IAAI,IAAM,IAAMrG,EAASqK,MAMrE,EASA3J,EAAM6E,UAAU+E,KAAO,SAAUlH,EAAOkF,EAAUyC,GAKhD,GAJA3H,EAAQA,GAAS,QACjB2H,EAAUA,GAAWC,aAGJ,OAAb1C,EACF,cAAcyC,EAAQ3H,GAKxB,IAAIkH,EAFJhC,EAA+B,iBAAbA,EAAwBA,EAAW,CAAEuC,IAAKvC,GAI5D,IACEgC,EAAOW,KAAKC,MAAMH,EAAQ3H,GAC5B,CAAE,MACAkH,EAAO,CAAA,CACT,CAMA,MAJI,UAAWhC,IAAUgC,EAAKhC,EAASuC,KAAOvC,EAASmB,OACnDnB,EAAS6C,eAAeb,EAAKhC,EAASuC,KAC1CE,EAAQ3H,GAAS6H,KAAKG,UAAUd,GAEzBhC,EAASuC,IAAMP,EAAKhC,EAASuC,KAAOP,CAC7C,EAQA5J,EAAM6E,UAAU8F,YAAc,SAAUjI,EAAOkF,GAC7C,OAAO3H,KAAK2J,KAAKlH,EAAOkF,EAAUgD,eACpC,EAOA5K,EAAM6E,UAAUgG,OAAS,SAAUV,GACjC,IAAIW,EAAQC,UAAUC,UAAUC,cAG5BC,EAAa,SAAUC,GACzB,IAAIC,EAAM,IAAIC,OAAOF,EAAQ,oBAE7B,OADAA,GAASL,EAAMnF,MAAMyF,IAAQ,IAAI,MACjB,CAClB,EAGIE,EAAS,CACXC,GAEM,UAAUjK,KAAKwJ,GACV,UACE,QAAQxJ,KAAKwJ,GACf,QACE,uBAAuBxJ,KAAKwJ,GAC9B,MACE,MAAMxJ,KAAKwJ,GACb,WADF,EAITU,MAEWnM,OAAOoM,iBAAiB,kBAAmBpM,YAC/CyL,EAAMnF,MAAM,gBAAkB,IAAI,IAAM,MAG/C+F,OAAQR,EAAW,mBAarB,OATIf,IAAQmB,EAAOnB,KACjBmB,EAAOnB,GAAOe,EAAWf,IAI3BmB,EAAOK,QAAU,UAAUrK,KAAKwJ,GAChCQ,EAAOM,IAAoB,QAAdN,EAAOC,GACpBD,EAAOO,OAASP,EAAOK,SAAWL,EAAOM,IAElCN,CACT,EAGAtL,EAAM6E,UAAUiH,KAAO,WACrB,MAAO,CACL3K,MAAOA,EACPS,UAAWA,EAEf,EAOA5B,EAAM6E,UAAUkH,QAAU/L,EAAM6E,UAAUxD,KAAO,SAAU2K,GACzD,OAAgB,OAAZA,EAAyBC,OAAOD,GAGV,iBAAZA,GAA2C,mBAAZA,GAMvC3K,GAJIA,EACFK,OAAOmD,UAAUH,SAASwH,KAAKF,GAASrG,MAAM,cAAgB,IAGpD,IAAM,SAGX,IAAI0F,OAAO,0DAA6B/J,KAAKD,GAChDA,EAAK4J,cACL,iBAECe,EAZN,IACK3K,CAYZ,EAOArB,EAAM6E,UAAUsH,SAAWnM,EAAM6E,UAAUmD,QAAU,SAAUiC,GAC7D,IACImC,EACA/K,EAFOpB,KAEKoB,KAAK4I,GAErB,SAAKA,GAAsB,iBAARA,GAAoBA,IAAQ5K,UAE/C+M,EAAM,WAAYnC,GAAOA,EAAIpJ,OAElB,UAATQ,GACQ,IAAR+K,GACgB,iBAARA,GAAoBA,EAAM,GAAKA,EAAM,KAAKnC,EAEtD,EAOAjK,EAAM6E,UAAUkB,KAAO,SAAUkE,EAAKpE,GACpC,IAAIsE,EACA1E,EAAOxF,KACPF,EAAW,SAAUoK,EAAKF,GAC5B,OAAOpE,EAAGqG,KAAKjC,EAAIE,GAAMA,EAAKF,EAAIE,GACpC,EAEA,GAAkB,mBAAPtE,EACT,OAAOJ,EAMT,GAHAwE,EAAMA,GAAO,GAGTxE,EAAKuC,QAAQiC,GACf,IAAKE,EAAM,EAAGA,EAAMF,EAAIpJ,SAClBd,EAASoK,EAAKF,GADYE,UAIhC,IAAKA,KAAOF,EACV,GAAIlK,EAASoK,EAAKF,GAAM,MAI5B,OAAOxE,CACT,EAUAzF,EAAM6E,UAAUwH,KAAO,SAAUC,EAAKnC,EAAKoC,EAAMC,GAC/C,IACIC,EAAQD,EAAWF,GAAO,GAAK/B,KAAKC,MAAMD,KAAKG,UAAU4B,GAAO,KAGpE,MAAuB,WAJZrM,KAIFoB,KAAKiL,IAAsBnC,EAEV,iBAARmC,EAET,CAACG,IAIVA,EAAMJ,KAAK,SAAUK,EAAIC,GACvB,IAAIC,EAAKF,EAAGvC,GACR0C,EAAKF,EAAGxC,GAQZ,IAAK2C,MAAMJ,KAAQI,MAAMH,GAAK,OAAOD,EAAKC,EAG1C,IAAKG,MAAMJ,IAAOI,MAAMH,GAAK,CAC3B,IAAIxC,GAAqB,iBAAPwC,EAGhB,OAAO,EAFPC,EAAKF,CAIT,MAAO,GAAII,MAAMJ,KAAQI,MAAMH,GAAK,CAClC,IAAIxC,GAAqB,iBAAPuC,EAGhB,OAAO,EAFPG,EAAKF,CAIT,CASA,IAAII,EAAQ,EAAED,MAAMF,IAAME,MAAMD,IAGhC,OAAIE,EAAM,IAAMA,EAAM,GAChBH,IAAOC,GAAa,IAAPA,EAER,GACGD,GAAa,IAAPA,GAAYC,GAErB,EAGAD,EAAKC,EASXE,EAAM,IAAOA,EAAM,GAYpBA,EAAM,KAAOA,EAAM,IAEd,GACGA,EAAM,IAAMA,EAAM,GAErB,OAFF,EAbDH,EAAKC,EACA,EACED,EAAKC,GACP,EAEA,CAYb,GAEAN,GAAQE,EAAMO,UACPP,GApFEA,CAqFX,EAMAzM,EAAM6E,UAAUoI,MAAQ,SAAUC,GAChC,IACEA,EAAUC,iBACZ,CAAE,MACAD,EAAUE,cAAe,CAC3B,CACF,EAGA,IAAIC,EAAY,qBAShBrN,EAAM6E,UAAUyI,QAAU,SAAUxF,EAASyF,EAAQxN,GACnD,MAAuB,iBAAZ+H,GAA4C,mBAAb/H,EACjCE,KAEFD,EAAMF,MAAMgI,EAASyF,EAAQ,KAAMxN,EAC5C,EASAC,EAAM6E,UAAU/E,MAAQE,EAAMF,MAAQ,SAAUgI,EAASyF,EAAQC,EAAQ3H,GACvE,IAAIJ,EAAOxF,KACPqL,EAAS,KACTmC,GAAUF,GAAU,IAAI5H,MAAM,cAAgB,GAC9C+H,GAAa5F,EAAU,IAAMyF,GAAQrG,QAAQuG,EAAO,GAAI,IACxDE,EAAaF,EAAO,IAAM,GAC1B1N,EAAW,SAAUyI,EAAGvC,IAElB,KADEA,GAAQA,EAAKiG,KAAKzG,EAAM+H,KACN,OAAXlC,IAAoBA,GAAS,EAChD,EAGA,OAAIkC,IAAWH,UACL5H,EAAK9F,MAAMG,MAAM4N,IAAc,CAAA,GAAIC,GACpClI,GAILI,GACFlG,EAAMG,MAAM4N,GAAa/N,EAAMG,MAAM4N,IAAc,CAAA,EAE/CC,EAEFhO,EAAMG,MAAM4N,GAAWC,GAAc,CAAC9H,IAGtClG,EAAMG,MAAM4N,GAAWC,GACrBhO,EAAMG,MAAM4N,GAAWC,IAAe,GACxChO,EAAMG,MAAM4N,GAAWC,GAAYpH,KAAKV,IAEnC5F,OAITqF,EAAMS,KAAKpG,EAAMG,MAAM4N,GAAY,SAAUvD,EAAKlE,GAE7B,QAAf0H,GAMI,KAARxD,GAAc7E,EAAMS,KAAKE,EAAMlG,GAC/B4N,GAAcxD,IAAQwD,GAAcrI,EAAMS,KAAKE,EAAMlG,IANnDuF,EAAMS,KAAKE,EAAMlG,EAOrB,GAEOuL,EACT,EASAtL,EAAM6E,UAAUiB,GAAK,SAAUyH,EAAQzF,EAAS/H,GAE9C,OADWE,KACCqN,QAAQpB,KADTjM,KACoB6H,EAASyF,EAAQxN,EAClD,EAQAC,EAAM6E,UAAU+I,IAAM,SAAUL,EAAQzF,GAEtC,OADW7H,KACCH,MAAMoM,KADPjM,KACkB6H,EAASyF,EAAQF,EAChD,EAQArN,EAAM6E,UAAUgJ,SAAW,SAAUC,EAAMC,GACzC,IAAIvO,EACJ,OAAO,WACL,IAAIwO,EAAU/N,KACVgO,EAAOC,UACXC,aAAa3O,GACbA,EAAUqH,WAAW,WACnBiH,EAAKrH,MAAMuH,EAASC,EACtB,EAAGF,EACL,CACF,EAOA/N,EAAM6E,UAAUuJ,SAAW,SAAUN,EAAMC,GACzC,IAAIM,GAAW,EACf,OAAO,WACL,IACIJ,EAAOC,UACNG,IACHP,EAAKrH,MAHOxG,KAGQgO,GACpBI,GAAW,EACXxH,WAAW,WACTwH,GAAW,CACb,EAAGN,GAEP,CACF,QAEazI,EAAQ,IAAItF,EC5jCzB,IAqKM8K,EArKF1L,EAAWC,OAAOD,SAMlB4C,EAAM,SAAUsM,GAClB,OAAO,IAAItO,EAAMsO,EACnB,EAGItO,EAAQ,SAAUsO,GACpB,IAAI7I,EAAOxF,KACPsO,EACkB,iBAAbD,EAGMhJ,EAAM0C,QAAQsG,GAAYA,EAAW,CAACA,IAE7CrO,KAAKqO,SAAWA,EAClBlP,EAASoP,iBAAiBF,GAAY,OAE5CtM,EAAI+D,KAAKwI,EAAM,SAAUvI,GACvBP,EAAKc,KAAKgI,EAAKvI,GACjB,EACF,EAEIyI,EAAaC,SAAS7J,UAAUH,SAChCiK,EAAuBF,EAAWvC,KAAKxK,QACvCkN,EAAiBlN,OAAOmD,UAAU+J,eAMtC5O,EAAM6F,GAAK7F,EAAM6E,UAAY,GAC7B7E,EAAM6F,GAAGgJ,YAAc7O,EA6CvBgC,EAAI2F,OAAS,WACX,IAAIsG,EAAO,GAAGzH,MAAM0F,KAAKgC,WAGrBY,EAC+B,mBAA1Bb,EAAKA,EAAKpN,OAAS,IAAoBoN,EAAKc,MAGrD,OAAOd,EAAKe,OAAO,SAAUC,EAAQC,GAMnC,IAAK,IAAI/E,IAJa,iBAAX8E,GAAkC,OAAXA,IAChCA,EAAS,CAAA,GAGKC,EACd,GAAKN,EAAe1C,KAAKgD,EAAQ/E,GAAjC,CAEA,IAAIgF,EAAcF,EAAO9E,GACrBiF,EAAcF,EAAO/E,GAGzB,GAAI2E,EAAY,CACd,IAAIO,EAAeP,EACjBK,EACAC,EACAjF,EACA8E,EACAC,GAEF,QAAqBI,IAAjBD,EAA4B,CAC9BJ,EAAO9E,GAAOkF,EACd,QACF,CACF,CAGIE,MAAMvH,QAAQoH,GAChBD,EAAcI,MAAMvH,QAAQmH,GAAeA,EAAc,GAChDnN,EAAIwN,cAAcJ,KAC3BD,EAAcnN,EAAIwN,cAAcL,GAAeA,EAAc,CAAA,GAE/DF,EAAO9E,GACLnI,EAAIwN,cAAcJ,IAAgBG,MAAMvH,QAAQoH,GAC5CpN,EAAI2F,OAAOwH,EAAaC,EAAaN,GACrCM,CA7BiC,CAgCzC,OAAOH,CACT,EACF,EAOAjN,EAAIwN,cAAgB,SAAUvF,GAC5B,GACU,OAARA,GACe,iBAARA,GACiC,oBAAxCvI,OAAOmD,UAAUH,SAASwH,KAAKjC,GAE/B,OAAO,EAGT,IAAIwF,EAAQ/N,OAAOgO,eAAezF,GAGlC,GAAc,OAAVwF,EACF,OAAO,EAIT,IAAIE,EAAOf,EAAe1C,KAAKuD,EAAO,gBAAkBA,EAAMZ,YAC9D,MACkB,mBAATc,GAAuBlB,EAAWvC,KAAKyD,KAAUhB,CAE5D,EAMA3M,EAAIwJ,IACEV,EAAQC,UAAUC,UAAUC,iBACvB5L,OAAOoM,iBAAiB,kBAAmBpM,YAC/CyL,EAAMnF,MAAM,gBAAkB,IAAI,IAAM,OAQ/C3D,EAAIsD,MAAQA,GAAS,CAAA,EACrBtD,EAAI3B,QAAUiF,EAAM3F,MAAMqB,IAC1BgB,EAAIiL,MAAQ3H,EAAM2H,MAClBjL,EAAI+D,KAAO,WAGT,OADAT,EAAMS,KAAKU,MAAMnB,EAAO4I,WACjBjO,IACT,EAaA+B,EAAI4N,MAAQ,SAAUC,EAAKhP,GACzB,GAAqB,iBAARgP,GAAmC,iBAARA,EAAmB,MAAO,GAElE,IAAIC,EAAM,GAEVjP,EAASA,GAAU,EACnB,IAAK,IAAIC,GAFT+O,EAAM5D,OAAO4D,IAEIhP,OAAQC,EAAID,EAAQC,IACnCgP,GAAO,IAET,OAAOD,EAAME,KAAKC,IAAI,GAAInP,GAAUiP,EAAMD,EAAMA,CAClD,EAYA7N,EAAIuM,KAAO,SAAU0B,EAAUC,GAC7B,IAAI3B,EAAOnP,EAASgI,cAAc6I,GAIlC,OAHAjO,EAAI+D,KAAKmK,GAAQ,CAAA,EAAI,SAAU/F,EAAKpB,GAClCwF,EAAK4B,aAAahG,EAAKpB,EACzB,GACOwF,CACT,EAUAvM,EAAIoO,aAAe,WACjB,OACEhR,EAASiR,KAAKC,cACbjR,OAAOkR,aAAenR,EAASoR,gBAAgBC,aAEpD,EAKAzO,EAAI0O,gBAAkB,SAAUvG,EAAKwG,EAAO,CAAA,GAC1C,MAAM1B,OAAEA,EAAS7P,EAASiR,MAASM,EAC7BzI,EAAO,2BACP0I,EAAe3B,EAAO/G,GAAQ+G,EAAO/G,IAAS,CAAA,EAGpD,OADA0I,EAAYzG,GAAOyG,EAAYzG,IAAQ,IAC9ByG,EAAYzG,EACvB,EA2BAnI,EAAI6O,cAAgB,SAAU1I,EAAOpI,GACnC,GAAKoI,EAAL,CAEA,IAAI2I,EAAQ3I,EAAM2I,OAAS3I,EAAM4I,YAAc,CAAA,EAC3CC,EAAQF,EAAMG,UAAYH,EAAME,MAQpC,MANwB,mBAAbjR,GACTuF,EAAMS,KAAKiL,EAAO,SAAUlQ,EAAGmF,GAC7B,GAAIlG,EAASkG,EAAMnF,GAAI,OAAO,CAChC,GAGKkQ,CAXK,CAYd,EAsBAhP,EAAImG,MAAQ,SAAUpD,GACpBA,EAAUA,GAAW,CAAA,EAErB,IAAIoD,EAAQnG,EAAIuM,KAAK,SACjB2C,EAAYnM,EAAQoM,MAAQ,GAC5BlC,EAASlK,EAAQkK,OAErB,GAAKiC,EAAL,CAcK,IAAUlL,EAMf,GAjBI,eAAgBmC,GAClBA,EAAMgI,aAAa,OAAQ,YAC3BhI,EAAM4I,WAAWK,QAAUF,GAE3B/I,EAAMkJ,UAAYH,EAIpB/I,EAAMS,GACJ,cACC7D,EAAQ6D,KACI5C,EAGRhE,EAAImG,MAAMnC,OAAS,EAFpBhE,EAAImG,MAAMnC,QACH,MAAQA,IAIjBiJ,EAAQ,CACV,IAAIqC,EAAYtP,EAAIiN,GAAQsC,KAAK,IAAMpJ,EAAMS,IAC7C0I,EAAU,IAAMA,EAAU7G,SAC1BzI,EAAIiN,GAAQuC,OAAOrJ,EACrB,CAEA,OAAOA,CA1BS,CA2BlB,EAkCAnG,EAAIyP,SAAW,SAAUxC,EAAQV,EAAMoC,GACrC,GAAKpC,EAAL,CACAoC,EAAOA,GAAQ,CAAA,EAGX1B,IAAW7P,GAAY6P,IAAWjN,EAAI,QAAQ,KAChD2O,EAAKe,UAAY,SAInB,IAGYxN,EAHRyN,EACiB,UAAnBhB,EAAKe,UAGQ,CACLE,MAFE1N,EAAIyM,EAAKzM,GAAK7E,OAAOS,OAAS,CAAA,GAExB+R,QACRC,IAAK5N,EAAE6N,QACPC,MAAO9N,EAAE2N,QACTI,OAAQ/N,EAAE6N,SAGd9C,EAAOiD,wBACTC,EAAY5D,EAAK6D,YACjBC,EAAa9D,EAAK+D,aAGlBC,EAAa,SAAUlR,GAEzB,OADAA,EAAOA,EAAO,aAAe,YACtBjC,EAASiR,KAAKhP,GAAQjC,EAASoR,gBAAgBnP,EACxD,EAGImR,EAAU,SAAUnR,GACtB,OAAOjC,EAASoR,gBAAgBnP,EAAO,cAAgB,eACzD,EACIoR,EAAS,WAAY9B,EAAOA,EAAK8B,OAAS,EAC1Cb,EAAOD,EAAKC,KACZE,EAAMH,EAAKM,OAGI,WAAftB,EAAK+B,MACPd,IAAeO,EAAYlD,EAAOmD,aAAe,EACzB,UAAfzB,EAAK+B,QACdd,EAAOA,EAAOO,EAAYlD,EAAOmD,aAI/BR,EAAOO,EAAYM,EAASD,EAAQ,WACtCZ,EAAOY,EAAQ,SAAWL,EAAYM,GAGpCb,EAAOa,IAAQb,EAAOa,GAGtBd,EAAKM,OAASI,EAAaI,EAASD,MAGlCb,EAAKG,IAAMO,EAAaI,GAAUd,EAAKG,KAAOU,IAChDV,EAAMH,EAAKG,IAAMO,EAAsB,EAATI,EACpB9B,EAAKgC,iBAEfb,EAAMU,IAAYH,EAAsB,EAATI,GACrB,IAAGX,EAAM,IAqBvB,IAAIL,EAAWd,EAAKc,SAChBA,IAAUlD,EAAKpG,MAAMsJ,SAAWA,GACpC,IAAImB,EAAUjC,EAAKkC,OAASlC,EAAKkC,OAAO,GAAK,EACzCC,EAAUnC,EAAKkC,OAASlC,EAAKkC,OAAO,GAAK,EAS7C,GANAtE,EAAKpG,MAAMyJ,KACTA,GAAqB,UAAbH,EAAuB,EAAIc,EAAW,IAAMK,EAAU,KAChErE,EAAKpG,MAAM2J,IACTA,GAAoB,UAAbL,EAAuB,EAAIc,KAAgBO,EAAU,MAGzD9Q,EAAIoO,eAAgB,CACvB,IAAI2C,EAAQxE,EAAK2D,yBAEZvB,EAAKqC,eAAiBD,EAAMd,OAASQ,EAASD,MACjD7B,EAAKqC,eAAgB,EACrBnM,WAAW,WACT7E,EAAIyP,SAASxC,EAAQV,EAAMoC,EAC7B,EAAG,IAEP,CAvGW,CAwGb,EAqBA3O,EAAI+C,QAAU,SAAUwJ,EAAMoC,GAG5B,GAFAA,EAAuB,iBAATA,EAAoBA,EAAO,CAAET,KAAMS,GAE7CpC,IAASnP,EAAU,MAAO,CAAA,EAE9B,IAAI6T,EAAQjR,EAAIuM,GACZ2E,EAAWvC,EAAKT,MAAQ,cACxBiD,EAAYF,EAAM/C,KAAKgD,GAE3B,IAKE,OAAO,IAAIxE,SAAS,WAAayE,GAAa,MAAvC,EACT,CAAE,MAAOC,GAUP,OATA9N,EACGwG,OACA3K,MACCwP,EAAK0C,WACH,CAACH,EAAW,KAAOC,EAAY,IAAK,kBAAoBC,GAAIE,KAC1D,MAEJ,SAEG,CAAA,CACT,CACF,EAWAtR,EAAIuR,UAAY,SAAUhF,GACxB,IAAIiF,EAAW,CAACpU,EAAU4C,EAAI,QAAQ,IACpCyR,GAAU,EAMZ,OALAzR,EAAI+D,KAAKyN,EAAU,SAAUxN,EAAOC,GAClC,GAAIA,IAASsI,EACX,OAAQkF,GAAU,CAEtB,GACOA,CACT,EAGAzR,EAAI0R,UAAY,CAgBdC,UAAW,SAAU5O,GACnB,IAAIoM,EAAOlF,OAAOlH,EAAQoM,MAU1B,SAASyC,IACP,IAAIrF,EAAOnP,EAASgI,cAAc,YAElCmH,EAAKxF,MAAQoI,EACb5C,EAAKpG,MAAMsJ,SAAW,QACtBlD,EAAKpG,MAAM0L,QAAU,IACrBtF,EAAKpG,MAAM2J,IAAM,MACjBvD,EAAKpG,MAAMyJ,KAAO,MAElBxS,EAASiR,KAAK5I,YAAY8G,GAC1BA,EAAKuF,SAEL,IACE1U,EAAS2U,YAAY,QACG,mBAAjBhP,EAAQf,MAAuBe,EAAQf,MAChD,CAAE,MAAOgQ,GACkB,mBAAlBjP,EAAQ5D,OAAwB4D,EAAQ5D,MAAM6S,EACvD,CAAC,QACCzF,EAAK9D,OAAS8D,EAAK9D,SAAWrL,EAASiR,KAAK3I,YAAY6G,EAC1D,CACF,CA5BIxD,WAAa,cAAeA,UAC9BA,UAAU2I,UAAUC,UAAUxC,GAAM8C,KAAKlP,EAAQf,KAAM,WACrD4P,GACF,GAEAA,GAwBJ,GAQF5R,EAAIkS,iBAAoB,WACtB,IAAIA,GAAmB,EACvB,IACE,IAAIvD,EAAOjP,OAAOyS,eAAe,CAAA,EAAI,UAAW,CAC9CC,IAAK,WAEH,OADAF,GAAmB,CAErB,IAEF7U,OAAOuF,iBAAiB,OAAQ,KAAM+L,GACtCtR,OAAOmF,oBAAoB,OAAQ,KAAMmM,EAC3C,CAAE,MACA,CAEF,OAAOuD,CACT,CAfwB,GAoBxBlS,EAAIqS,qBAAuB,WACzB,MAAO,iBAAkBhV,MAC3B,EAqBA2C,EAAIsS,WAAa,SAAU/F,EAAMoC,GAC/B,IAAI5L,EAAU4L,EACV4D,EAAavS,EAAIuM,GAAM,GACvBiG,IACF,mBAAoBzP,IAAUA,EAAQyP,eAExC,GAAKD,GAAevS,EAAIqS,uBAAxB,CAEA,IAAII,EAAQ,CACVC,aAAc,CAAEC,EAAG,EAAGC,EAAG,GACzBC,WAAY,CAAEF,EAAG,EAAGC,EAAG,GACvBE,UAAW,EACXC,UAAW,EACXC,UAAW,OACXC,UAAW,MAGTC,EAAU,SAAUhR,GACG,IAArBA,EAAEiR,QAAQtU,SACduU,IAEAX,EAAMQ,UAAY1N,KAAK8N,MACvBZ,EAAMC,aAAaC,EAAIF,EAAMI,WAAWF,EAAIzQ,EAAEiR,QAAQ,GAAGtD,QACzD4C,EAAMC,aAAaE,EAAIH,EAAMI,WAAWD,EAAI1Q,EAAEiR,QAAQ,GAAGpD,QACzD0C,EAAMK,UAAYL,EAAMM,UAAY,EACpCN,EAAMO,UAAY,OAElBjQ,EAAQuQ,cAAgBvQ,EAAQuQ,aAAapR,EAAGuQ,GAClD,EAEIc,EAAS,SAAUrR,GACjBsQ,GACFtQ,EAAEsQ,iBAEJC,EAAMI,WAAWF,EAAIzQ,EAAEiR,QAAQ,GAAGtD,QAClC4C,EAAMI,WAAWD,EAAI1Q,EAAEiR,QAAQ,GAAGpD,QAClC0C,EAAMK,UAAYL,EAAMC,aAAaC,EAAIF,EAAMI,WAAWF,EAC1DF,EAAMM,UAAYN,EAAMC,aAAaE,EAAIH,EAAMI,WAAWD,EACtD7E,KAAKyF,IAAIf,EAAMK,WAAa/E,KAAKyF,IAAIf,EAAMM,WAC7CN,EAAMO,UAAYP,EAAMK,UAAY,EAAI,OAAS,QAEjDL,EAAMO,UAAYP,EAAMM,UAAY,EAAI,KAAO,OAEjDhQ,EAAQ0Q,aAAe1Q,EAAQ0Q,YAAYvR,EAAGuQ,EAChD,EAEIiB,EAAQ,SAAUxR,GACpBa,EAAQ4Q,YAAc5Q,EAAQ4Q,WAAWzR,EAAGuQ,GAC5CmB,GACF,EAEIR,EAAa,WACfb,EAAW3P,iBACT,YACA2Q,IACAvT,EAAIkS,kBAAmB,CAAE2B,SAAS,IAEpCtB,EAAW3P,iBAAiB,WAAY8Q,GACxCnB,EAAW3P,iBAAiB,cAAe8Q,EAC7C,EAEIE,EAAe,WACjBrB,EAAW/P,oBAAoB,YAAa+Q,GAC5ChB,EAAW/P,oBACT,WACAkR,IACA1T,EAAIkS,kBAAmB,CAAE2B,SAAS,IAEpCtB,EAAW/P,oBAAoB,cAAekR,EAChD,EAGInB,EAAWuB,sBACbvB,EAAW/P,oBACT,aACA+P,EAAWuB,sBAGfvB,EAAWuB,qBAAuBZ,EAClCX,EAAW3P,iBAAiB,aAAcsQ,EAzEM,CA0ElD,EAGAlT,EAAI+T,SACE3W,EAASwF,iBACJ,SAAU2J,EAAMb,EAAW7H,EAAId,GACpCwJ,EAAK3J,iBAAiB8I,EAAW7H,EAAId,EACvC,EAEO,SAAUwJ,EAAMb,EAAW7H,GAChC,IACImQ,EADS,WACkBtI,EAC3BuI,EAAW,SAAU/R,GACvBA,EAAE+K,OAAS/K,EAAEE,WACbyB,EAAGqG,KAAKqC,EAAMrK,EAChB,EACA+R,EAASC,OAASrQ,EACb0I,EAAKyH,KACRzH,EAAKyH,GAAmB,IAE1B,IAAIG,GAAU,EACdnU,EAAI+D,KAAKwI,EAAKyH,GAAkB,SAAUxN,EAAGyN,GAC3C,GAAIA,EAASC,SAAWrQ,EAEtB,OADAsQ,GAAU,GACH,CAEX,GACKA,IACH5H,EAAKyH,GAAiBzP,KAAK0P,GAC3B1H,EAAK9J,YAAY,KAAOiJ,EAAWuI,GAEvC,EAKJjU,EAAIoU,YACEhX,EAASoF,oBACJ,SAAU+J,EAAMb,EAAW7H,EAAId,GACpCwJ,EAAK/J,oBAAoBkJ,EAAW7H,EAAId,EAC1C,EAEO,SAAUwJ,EAAMb,EAAW7H,GAChC,IACImQ,EADS,WACkBtI,EAC3BH,EAASgB,EAAKyH,GAClB,GAAI1Q,EAAM0C,QAAQuF,GAAS,CACzB,IAAI8I,EAAY,GAChBrU,EAAI+D,KAAKwH,EAAQ,SAAU/E,EAAGyN,GACxBA,EAASC,SAAWrQ,EACtB0I,EAAKhK,YAAY,KAAOmJ,EAAWuI,GAEnCI,EAAU9P,KAAK0P,EAEnB,GACA1H,EAAKyH,GAAmBK,CAC1B,CACF,EAgBJrU,EAAIsU,eAAiB,SAAUrH,EAAQsH,EAASxR,GAE9C,IAAIyR,GADJzR,EAAUA,GAAW,CAAA,GAEXjF,QAAU,kBAAmBT,OAAS,cAAgB,aAC5DoX,EAAc1R,EAAQ2R,OAAStX,EAC/BuX,EAAS5R,EAAQ4R,QAAU,GAC3BC,IAAa,YAAa7R,IAAUA,EAAQ8R,QAC5CC,EAAe/R,EAAQ+R,aA4D3B,SAASC,EAAkBxI,EAAMb,EAAW6I,EAAS5F,GAKnD,OAJApC,EAAK3J,iBACD2J,EAAK3J,iBAAiB8I,EAAW6I,EAAS5F,GAC1CpC,EAAK9J,YAAY,KAAOiJ,EAAW6I,GAEhC,WACLhI,EAAK/J,oBACD+J,EAAK/J,oBAAoBkJ,EAAW6I,EAAS5F,GAC7CpC,EAAKhK,YAAY,KAAOmJ,EAAW6I,EACzC,CACF,CAEA,IAAIS,EAAU,CACZD,EACEN,EACAD,EAzEW,SAAU1W,GACvB,IAAImX,EAAKhI,EACLiI,EAAcpX,EAAMmP,QAAUnP,EAAMsE,WACpC+S,EAmCN,SAAsBrX,GACpB,IAAI+J,EAAQ/J,EAAMsX,cAAgBtX,EAAMsX,gBAAmBtX,EAAM+J,KAC7DqN,EAAcpX,EAAMmP,QAAUnP,EAAMsE,WAExC,GAAIyF,QACF,OAAOA,EAYT,MAAO,CAACqN,GAAaG,OATrB,SAASC,EAAWvT,EAAMwT,GACxBA,EAAOA,GAAQ,GACf,IAAIC,EAAazT,EAAKyT,WAEtB,OAAOA,EACHF,EAAWE,EAAYD,EAAKF,OAAO,CAACG,KACpCD,CACN,CAE4BD,CAAWJ,GACzC,CArDkBO,CAAa3X,GAExBmX,GAAMA,IAAOC,QAAeC,EAAUxS,QAAQsS,KAUrD,SAAsBnX,EAAOqX,GAE3B,IADA,IAAID,EAAcpX,EAAMmP,QAAUnP,EAAMsE,WAC/BtD,EAAI,EAAGA,EAAI6V,EAAO9V,OAAQC,IAAK,CACtC,IAAImO,EAAS0H,EAAO7V,GACpB,GAAsB,iBAAXmO,EAET,IADA,IAAIyI,EAAiBtY,EAASoP,iBAAiBS,GACtC0I,EAAI,EAAGA,EAAID,EAAe7W,OAAQ8W,IAAK,CAC9C,IAAIC,EAAWF,EAAe5W,GAC9B,GAAI8W,IAAaV,QAAeC,EAAUxS,QAAQiT,GAChD,OAAO,CAEX,MAEA,GACE3I,IACCA,IAAWiI,IAA6C,IAA9BC,EAAUxS,QAAQsK,IAE7C,OAAO,CAGb,CACF,CA5BM4I,CAAa/X,EAAOqX,IAIxBZ,EAAQzW,GACV,EA8DIkC,EAAIkS,iBACA,CAAE2B,SAAS,EAAMgB,QAASD,GAC1BA,GAENE,GACEC,EAAkB1X,OAAQ,OAAQ,SAAUS,GAC1C+G,WAAW,WAEPzH,EAAS0Y,eAC0B,WAAnC1Y,EAAS0Y,cAAcvX,SACvB0O,EAAO8I,WACN9I,EAAO8I,SAAS3Y,EAAS0Y,gBAE1BvB,EAAQzW,EAEZ,EAAG,EACL,IAGJ,OAAO,WACL,IAAK,IAAIgB,EAAI,EAAGA,EAAIkW,EAAQnW,OAAQC,IAClCkW,EAAQlW,IAAMkW,EAAQlW,KAExBkW,EAAU,IACZ,CACF,EAQAhV,EAAIgW,OAAS,SAAU/N,EAAKgO,GAC1B,OAAOrJ,EAAe1C,KAAKjC,EAAKgO,EAClC,EAOAjW,EAAIkW,OAAS,SAAUC,GAErB,OAAIA,QAA4C,GADtC,8BAID7W,KADT6W,GAAQ,IAGDA,EACJjR,QAAQ,yBAA0B,SAClCA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,SACdA,QAAQ,KAAM,UAPWiR,CAQ9B,EAOAnW,EAAIoW,SAAW,SAAUD,GACvB,OAAIA,QAA4C,GAEzClM,OAAOkM,GACXjR,QAAQ,UAAW,KACnBA,QAAQ,SAAU,KAClBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,KACjBA,QAAQ,SAAU,IACvB,EAOA,IACMmR,EACAC,EAFFC,GACEF,EAAU,EACVC,EAAgB,KAEb,SAAUE,GACfA,EAASA,GAAU,KACnB,IAAIC,GAAY,IAAIlR,MAAOC,UAc3B,OAVIiR,IAAcH,EAChBD,KAEAA,EAAU,EACVC,EAAgBG,GAMXD,EAAS,IAAMC,EAAY,IAFrB1I,KAAK2I,MAAsB,IAAhB3I,KAAK4I,UAEoB,IAAMN,CACzD,GAQFrW,EAAI4W,2BAA6B,SAAUC,GACzC,QAAqC,IAA1BxZ,OAAOyZ,eAEhB,OADAtX,QAAQuX,KAAK,oDACN,KAIT,IAAIC,EAAY,QADhBH,EAAYA,GAAa,IACY,sBACjCI,EAAe,CAAA,EAEfC,EAAI,IAAIJ,eAAe,SAAUK,GACnC,IAAK,IAAIrY,EAAI,EAAGA,EAAIqY,EAAQtY,OAAQC,IAAK,CACvC,IAAIqS,EAAYgG,EAAQrY,GAAGmO,OAAO1G,aAAayQ,GAE/C,GAAI7F,EAAW,CACb,IAAIpT,EAAWkZ,EAAa9F,GACJ,mBAAbpT,GACTA,EAASoZ,EAAQrY,GAErB,CACF,CACF,GAEA,OAAOY,OAAO0X,OAAO,CACnBC,QAAS,SAAUnW,EAASnD,GAC1B,GAAKmD,GAAaA,aAAmBoW,QAArC,CAKA,IAAInG,EAAYjQ,EAAQqF,aAAayQ,GAChC7F,IACHA,EAAYoF,EAAiBM,GAC7B3V,EAAQiN,aAAa6I,EAAW7F,IAIlC8F,EAAa9F,GAAapT,EAC1BmZ,EAAEG,QAAQnW,EAVV,MAFE1B,QAAQuX,KAAK,0DAajB,EACAQ,UAAW,SAAUrW,GACnB,GAAKA,GAAaA,aAAmBoW,QAArC,CAOA,IAAInG,EAAYjQ,EAAQqF,aAAayQ,GAChC7F,IAKD8F,EAAa9F,WACR8F,EAAa9F,GAGtBjQ,EAAQsW,gBAAgBR,GACxBE,EAAEK,UAAUrW,GAbZ,MAJE1B,QAAQuX,KACN,4DAiBN,EACAU,WAAY,WACV,IAAK,IAAItP,KAAO8O,EACd,GAAIjX,EAAIgW,OAAOiB,EAAc9O,GAAM,QAC1B8O,EAAa9O,GACpB,IAAIoE,EAAOnP,EAASsa,cAClB,IAAMV,EAAY,KAAO7O,EAAM,MAE7BoE,GACFA,EAAKiL,gBAAgBR,EAEzB,CAEFE,EAAEO,YACJ,GAEJ,EAYAzX,EAAI2X,WAAa,SAAU/P,EAAM7E,GAC/BA,EAAUrD,OAAOoD,OACf,CACE8U,YAAa,WACbC,MAAO,KACPC,UAAW,WACXC,cAAc,GAEhBhV,GAIF,IAAIiV,EAAS,SAAUC,EAAUC,EAAOC,GACtC,OAAOD,EAAMlL,OAAO,SAAUoL,EAAKC,GACjC,IAAIC,EAAWD,EAAStV,EAAQ6U,aAUhC,OARK7U,EAAQgV,qBACJM,EAAStV,EAAQ6U,aAG1BS,EAAStV,EAAQ+U,WAAaK,EAC9BC,EAAI7T,KAAK8T,GAGLC,GAAYA,EAASzZ,OAChBmZ,EAAOI,EAAKE,EAAUD,EAAStV,EAAQ8U,QAGzCO,CACT,EAAGH,EACL,EAEA,OAAOD,EAAO,GAAIzP,KAAKC,MAAMD,KAAKG,UAAUd,IAAQ,KACtD,EAUA5H,EAAIuY,WAAa,SAAU3Q,EAAM7E,GAC/BA,EAAUrD,OAAOoD,OACf,CACE8U,YAAa,WACbC,MAAO,KACPC,UAAW,YAEb/U,GAMF,IAAIyV,GAHJ5Q,EAAOW,KAAKC,MAAMD,KAAKG,UAAUd,KAGlBoF,OAAO,SAAUoL,EAAKC,GACnC,IAAIzR,EAAKyR,EAAStV,EAAQ8U,OAG1B,OAFAO,EAAIxR,GAAMyR,EACVD,EAAIxR,GAAI7D,EAAQ6U,aAAe,GACxBQ,CACT,EAAG,CAAA,GAGH,OAAOxQ,EAAKoF,OAAO,SAAUoL,EAAKC,GAChC,IAAIzR,EAAKyR,EAAStV,EAAQ8U,OACtBM,EAAWE,EAAStV,EAAQ+U,WAUhC,OAPiB,OAAbK,GAAsBK,EAAIL,GAI5BK,EAAIL,GAAUpV,EAAQ6U,aAAarT,KAAK8T,GAHxCD,EAAI7T,KAAKiU,EAAI5R,IAMRwR,CACT,EAAG,GACL,EAOApa,EAAMya,OAAS,SAAU3K,EAAK4K,GAQ5B,OAPA5K,EAAMA,EAAI5I,QAAQ,MAAO,KACzBwT,EAAUA,EAAQxT,QAAQ,MAAO,KAAK8C,MAAM,KAC5ChI,EAAI+D,KAAK2U,EAAS,SAAUC,EAAI1U,GACzB,IAAIoF,OAAO,MAAQpF,EAAO,OAAO3E,KAAKwO,KACzCA,EAAMA,EAAM,IAAM7J,EAEtB,GACO6J,EAAI5I,QAAQ,UAAW,GAChC,EAGAlH,EAAM4a,UAAY,SAAU9K,EAAK4K,GAS/B,OARA5K,EAAMA,EAAI5I,QAAQ,MAAO,KACzBwT,EAAUA,EAAQxT,QAAQ,MAAO,KAAK8C,MAAM,KAC5ChI,EAAI+D,KAAK2U,EAAS,SAAUC,EAAI1U,GAC9B,IAAImF,EAAM,IAAIC,OAAO,MAAQpF,EAAO,OAChCmF,EAAI9J,KAAKwO,KACXA,EAAMA,EAAI5I,QAAQkE,EAAK,IAE3B,GACO0E,EAAI5I,QAAQ,MAAO,KAAKA,QAAQ,UAAW,GACpD,EAGAlH,EAAM6F,GAAG0L,KAAO,SAAUjD,GAExB,IAAIC,EAAO,GACPsM,EAA+B,iBAAbvM,EAatB,OAXArO,KAAK8F,KAAK,SAAUjF,EAAGmF,GACrB,IAAIqU,EACFO,GAAY5U,EAAK8R,SAASzJ,GACtBA,EACArI,EAAKuI,iBAAiBF,GAAY,MAExCtM,EAAI+D,KAAKuU,EAAU,SAAUtU,EAAO8U,GAClCvM,EAAKhI,KAAKuU,EACZ,EACF,GAEO9Y,EAAIuM,EACb,EAGAvO,EAAM6F,GAAGE,KAAO,SAAUF,GACxB,OAAO7D,EAAI+D,KAAKmG,KAAKjM,KAAMA,KAAM4F,EACnC,EAGA7F,EAAM6F,GAAGkV,SAAW,SAAUC,EAAW3Z,GACvC,OAAOpB,KAAK8F,KAAK,SAAUC,EAAOC,GAChCA,EAAK+U,UAAYhb,EAAMqB,EAAO,YAAc,UAC1C4E,EAAK+U,UACLA,EAEJ,EACF,EAGAhb,EAAM6F,GAAGoV,YAAc,SAAUD,GAC/B,OAAO/a,KAAK8a,SAASC,GAAW,EAClC,EAGAhb,EAAM6F,GAAGqV,SAAW,SAAUF,GAC5B,IAAIG,GAAM,EAMV,OALAlb,KAAK8F,KAAK,SAAUC,EAAOC,GACrB,IAAIoF,OAAO,MAAQ2P,EAAY,OAAO1Z,KAAK2E,EAAK+U,aAClDG,GAAM,EAEV,GACOA,CACT,EAGAnb,EAAM6F,GAAGuV,IAAM,SAAUjR,EAAKpB,GAC5B,IAAItD,EAAOxF,KACPob,EAAa,SAAUnb,GACzB,OAAO4M,MAAM5M,GAAKA,EAAIA,EAAI,IAC5B,EACA,MAAsB,iBAARiK,QAA8BmF,IAAVvG,EAC7B,WACC,GAAItD,EAAK5E,OAAS,EAAG,OAAO4E,EAAK,GAAG0C,MAAMgC,EAC5C,CAFC,GAGD1E,EAAKM,KAAK,SAAUC,EAAOC,GACV,iBAARkE,EACHnI,EAAI+D,KAAKoE,EAAK,SAAUmR,EAASC,GAC/BtV,EAAKkC,MAAMmT,GAAWD,EAAWE,EACnC,GACCtV,EAAKkC,MAAMgC,GAAOkR,EAAWtS,EACpC,EACN,EAGA/I,EAAM6F,GAAG2V,MAAQ,SAAUzS,GACzB,IAAItD,EAAOxF,KACX,YAAiBqP,IAAVvG,EACF,WACC,GAAItD,EAAK5E,OAAS,EAAG,OAAO4E,EAAK,GAAG2M,WACtC,CAFC,GAGD3M,EAAKM,KAAK,WACRN,EAAK2V,IAAI,QAASrS,EACpB,EACN,EAGA/I,EAAM6F,GAAG4V,OAAS,SAAU1S,GAC1B,IAAItD,EAAOxF,KACX,YAAiBqP,IAAVvG,EACF,WACC,GAAItD,EAAK5E,OAAS,EAAG,OAAO4E,EAAK,GAAG6M,YACtC,CAFC,GAGD7M,EAAKM,KAAK,WACRN,EAAK2V,IAAI,SAAUrS,EACrB,EACN,EAGA/I,EAAM6F,GAAGqK,KAAO,SAAU/F,EAAKpB,GAC7B,IAAItD,EAAOxF,KACX,YAAiBqP,IAAVvG,EACF,WACC,GAAItD,EAAK5E,OAAS,EAAG,OAAO4E,EAAK,GAAG8C,aAAa4B,EACnD,CAFC,GAGD1E,EAAKM,KAAK,SAAUC,EAAOC,GACzBA,EAAKkK,aAAahG,EAAKpB,EACzB,EACN,EAGA/I,EAAM6F,GAAG6V,WAAa,SAAUvR,GAC9B,OAAOlK,KAAK8F,KAAK,SAAUC,EAAOC,GAChCA,EAAKuT,gBAAgBrP,EACvB,EACF,EAGAnK,EAAM6F,GAAGsS,KAAO,SAAUA,GACxB,IAAI1S,EAAOxF,KACX,YAAgBqP,IAAT6I,EACF,WACC,GAAI1S,EAAK5E,OAAS,EAAG,OAAO4E,EAAK,GAAG4L,SACtC,CAFC,GAGDpR,KAAK8F,KAAK,SAAUC,EAAOC,GACzBA,EAAKoL,UAAY8G,CACnB,EACN,EAGAnY,EAAM6F,GAAG8V,IAAM,SAAU5S,GACvB,IAAItD,EAAOxF,KACX,YAAiBqP,IAAVvG,EACF,WACC,GAAItD,EAAK5E,OAAS,EAAG,OAAO4E,EAAK,GAAGsD,KACtC,CAFC,GAGD9I,KAAK8F,KAAK,SAAUC,EAAOC,GACzBA,EAAK8C,MAAQA,CACf,EACN,EAGA/I,EAAM6F,GAAG2L,OAAS,SAAUjD,GAC1B,OAAOtO,KAAK8F,KAAK,SAAUC,EAAOC,GAChB,iBAATsI,EACHtI,EAAKwB,YAAY8G,GAChBtI,EAAKoL,UAAYpL,EAAKoL,UAAY9C,CACzC,EACF,EAGAvO,EAAM6F,GAAG4E,OAAS,SAAU8D,GAC1B,OAAOtO,KAAK8F,KAAK,SAAUC,EAAOC,GAChCsI,EAAOtI,EAAKyB,YAAY6G,GAAQtI,EAAKuR,WAAW9P,YAAYzB,EAC9D,EACF,EAGAjG,EAAM6F,GAAGC,GAAK,SAAU4H,EAAW7H,EAAId,GACrC,OAAO9E,KAAK8F,KAAK,SAAUC,EAAOC,GAChCjE,EAAI+T,SAAS9P,EAAMyH,EAAW7H,EAAId,EACpC,EACF,EAGA/E,EAAM6F,GAAG+H,IAAM,SAAUF,EAAW7H,EAAId,GACtC,OAAO9E,KAAK8F,KAAK,SAAUC,EAAOC,GAChCjE,EAAIoU,YAAYnQ,EAAMyH,EAAW7H,EAAId,EACvC,EACF,ECl1CA,IAAI6W,EAAa,WACf,IAAInW,EAAOxF,KACP8E,EAAUU,EAAKlG,OAEnB,MAAO,CACLA,OAAQwF,EAQR8W,OAAQ,SAAUjS,EAAM7J,GACtBgF,EAAQ6E,KAAOA,EACf,IAAIuO,EAAO1S,EAAKoW,SAGhB,GAAI9W,EAAQkK,OAAQ,CAClB,IAAIV,EAAOnP,SAASsa,cAAc3U,EAAQkK,QACtCV,IACFA,EAAK8C,UAAY8G,EAErB,CAGA,MAA2B,mBAAbpY,GAA2BA,EAASoY,GAAOlY,MAAQkY,CACnE,EAOA2D,QAAS,SAAUC,GAIjB,OAHAhX,EAAQgX,SAAWA,SACZtW,EAAKuW,cAEL/b,IACT,EAOAkB,MAAO,SAAUpB,GAEf,OADAA,IAAagF,EAAQ5D,MAAQpB,GACtBE,IACT,EAOAuK,MAAO,SAAUuR,EAAUnS,GACzB,OAAO3J,KAAK6b,QAAQC,GAAUF,OAAOjS,EACvC,EAEJ,EAGIqS,EAAO,CAET/D,OAAQ,SAAUC,GAChB,IAAI/M,EAAM,8BACV,OAAI+M,QAA4C,IAChDA,GAAQ,GACH/M,EAAI9J,KAAK6W,GACPA,EAAKjR,QAAQkE,EAAK,SAAU0E,GACjC,MAAO,KAAOA,EAAIoM,WAAW,GAAK,GACpC,GAH4B/D,EAI9B,GAIEgE,EAOK,SAAUrM,EAAK1K,GACpB,OAAO,IAAIiG,OAAOyE,EAAK1K,GAAO,IAChC,EATE+W,EAkBK,SAAUjY,EAAGyM,EAAMxP,GACxBwP,EAAOA,GAAQ,CAAA,EASf,IAAIyL,EAAU,YARdzL,EAAOjP,OAAOoD,OACZ,CACEuX,aAAc,IAEhB1L,IAI8BtP,MAAQ,IAAM,UAAY6C,EACtDmY,EAAe1L,EAAK0L,aAMxB,cAJO1L,EAAK0L,aACO,iBAAZ7a,SACLA,QAAQL,MAAMib,EAAS,KAAMC,EAAc,KAAM1L,GAClC,mBAAVxP,GAAwBA,EAAMwP,GAC9ByL,CACT,EAIE7c,EAAS,CACX+c,KAAM,KACNC,MAAO,KACP5c,OAAO,EACP6c,UAAU,EACVC,SAAU,IAIRzc,EAAQ,SAAU+b,EAAUhX,GAC9B,IAAIU,EAAOxF,KAGX8E,EAAUU,EAAKlG,OAASmC,OAAOoD,OAC7B,CACEiX,SAAUA,GAEZxc,EACAwF,GAIFU,EAAKwW,KAAOva,OAAOoD,OACjB,CAOEqR,QAAS,SAAUvN,EAAIgB,GACrB,IAAI2E,EAAOnP,SAAS4J,eAAeJ,GAC/BmT,EAAWxN,EAAOA,EAAK8C,UAAY,GACvC,OAAO0K,EAAWtW,EAAKoW,OAAOE,EAAUnS,GAAQ,EAClD,GAEFqS,GAIFxW,EAAKqW,QAAQ/W,EAAQgX,SACvB,EAQA/b,EAAM6E,UAAUgX,OAAS,SAAUE,EAAUnS,GAC3C,IAAInE,EAAOxF,KACP8E,EAAUU,EAAKlG,OAGfmd,EAAWX,EACXtW,EAAKqW,QAAQC,GACbtW,EAAKuW,eAAiBvW,EAAKqW,QAAQ/W,EAAQgX,UAG3C5D,EAAQ,WACVvO,EAAOA,GAAQ7E,EAAQ6E,MAAQ,CAAA,EAC/B,IACE,OAAO8S,EAAS9S,EAClB,CAAE,MAAO1F,GAEP,OADA6X,EAAWA,GAAYhX,EAAQgX,SACxBI,EACLjY,EACA,CACEmY,aAAc5W,EAAKkX,oBAAoBZ,EAAUnS,GACjDmS,SAAUA,EACV1a,KAAM,UAER0D,EAAQ5D,MAEZ,CACF,CAhBY,GAuBZ,OAJI4D,EAAQpF,QAAUoc,IACpBtW,EAAKuW,cAAgBU,GAGhBvE,CACT,EAOAnY,EAAM6E,UAAUiX,QAAU,SAAUC,GAClC,IAAItW,EAAOxF,KACP8E,EAAUU,EAAKlG,OACfqd,EAAgB7X,EAAQuX,KACxBO,EAAiB9X,EAAQwX,MACzBC,EAAWzX,EAAQyX,SACnBM,EAAQX,EAMZ,GAAwB,iBAAbJ,IAA0BA,EACnC,OAAO,WACL,MAAO,EACT,EASF,IAAIgB,EAAW,SAAUC,EAAOC,GAC9B,IAAI3Q,EAAM,CACR,MAAQsQ,GAAiBI,EAAM,IAAM,IAAM,QAC3C,KAAOA,EAAM,IAAM,YAAc,MACjC,WAAaA,EAAM,IAAM,IAAMH,EAAiB,KAKlD,OAHAI,EAAQA,GAAS,CAAA,GACXC,QAAU5Q,EAAI6Q,QAAQF,EAAMC,QAClCD,EAAMG,OAAS9Q,EAAI/F,KAAK0W,EAAMG,OACvBN,EAAMxQ,EAAIgH,KAAK,IACxB,EAGI+J,EAAab,EAAW,CAAC,GAAI,IAAM,CAAC,mBAAoB,aACxDc,EAAa,CACfJ,OAAQG,EAAW,GACnBD,MAAOC,EAAW,IAShBE,EAAQ,SAAUlN,EAAMmN,GAM1B,OALKhB,IAEHnM,EAAOA,EAAKnJ,QAAQ4V,EA7CN,UA6C0BU,EAAS,GAAK,OAEjDnN,EAAKnJ,QAAQ,YAAa,KAEnC,EAWIsD,EAAS/E,EAAK+E,MAAQ,SAAUiT,GAElC,KADAA,EAAMA,GAAO,IACH,OAAOA,EAGbjB,IACFiB,EAAMA,EAAIvW,QAAQ,MAAO,KAAKA,QAAQ,OAAQ,MAShDuW,GALAA,EAlBY,SAAUA,GACtB,OAAOA,EAAIvW,QACT4V,EAAM,WAAaD,GACnB,MAAQA,EAEZ,CAaQa,CAAQD,GACXvW,QAAQ,YAAa,MACrBA,QAAQ,SAAUsV,EAAW,GAxEhB,WA2ENtV,QACR6V,EAAS,CAAC,IAAK,GAAI,KAAMO,GACzB,SAAUxN,EAAKO,GAOb,OANAA,EAAOA,EAAKnJ,QACV4V,EAAMF,EAAgB,IAAMC,GAC5B,SAAUc,GACR,OAAOA,EAAIzW,QAAQ,SAAU,KAC/B,GAEKmJ,CACT,GAIF,IAAIuN,EAAmB,SAAUvN,GAI/B,MAAO,CAAC,KAAMA,EAAM,iBAAiBiD,KAAK,KAE5C,EAGIuK,EAAS,SAAU/N,EAAKgO,EAAWzN,GACrC,IAAI0N,EAEJ,OAAK1N,GAMH0N,EAFgB,MAAdD,EAEQ,GAGA,WARZzN,EAAOkN,EAAMlN,GAAM,IAYfuN,EACE,eAAiBG,EAAU,IAAM1N,EAAO,MAG1C,IAjBc,EAkBpB,EAGI2N,EAAY,SAAUlO,EAAKO,GAC7B,OAAKA,GACLA,EAAOkN,EAAMlN,GACNuN,EAAiBvN,IAFN,EAGpB,EAwBA,OAdEoN,EAPuB,WAArB1Y,EAAQ0X,UAKVgB,GAFAA,EAAMA,EAAIvW,QAAQ6V,EAAS,CAAC,KAAMO,GAAa,KAErCpW,QAAQ6V,EAAS,CAAC,UAAWc,IAE7B3W,QAAQ6V,EAAS,GAAIO,GAAaU,IAI5CP,EAAMA,EAAIvW,QAAQ6V,EAAS,CAAC,KAAMO,GAAaU,IAErC9W,QAAQ6V,EAAS,CAAC,WAAYc,GAIrCrB,IACHiB,EAAMA,EAAIvW,QAAQ4V,EAnJJ,UAmJwB,QAGjCW,CACT,EAOIQ,EAAkBxY,EAAKwY,eAAiB,SAAUlC,EAAUmC,GAE9D,OADAA,EAAUA,GAAWC,EAAcpC,GAC5B,IAAIrN,SAAS,SAAU,UAAYwP,EAAnC,CAA4CzY,EAAKwW,KAC1D,EACIkC,EAAiB1Y,EAAK0Y,cAAgB,SAAUpC,EAAUmC,GAwB5D,OAtBEA,GACA,CACE,eACA,gBACA,qBACG,WAGC,IAAI5R,EAAM,GACV,IAAK,IAAInC,KAAO1E,EAAKwW,KACnB3P,EAAI/F,MAAc,WAAR4D,EAAmB,IAAM,IAAMA,EAAM,WAAaA,GAE9D,OAAOmC,EAAIgH,KAAK,IAClB,CARC,GASD,IACF,eAAiB9I,EAAMuR,GAAY,KACnC,qBAGA,MACAzI,KAAK,KAGX,EAEA,IACE,OAAO2K,EAAelC,EACxB,CAAE,MAAO7X,GAEP,cADOuB,EAAKuW,cACL,WACL,OAAOG,EACLjY,EACA,CACEmY,aAAc5W,EAAKkX,oBAAoBZ,GACvCA,SAAUA,EACV1a,KAAM,WAER0D,EAAQ5D,MAEZ,CACF,CACF,EAQAnB,EAAM6E,UAAU8X,oBAAsB,SAAUZ,EAAUnS,GACxD,IAGIwU,EAAU,EACVC,EAActC,EAAS/R,MAAM,UAEjC+R,EAAWA,EAAS7U,QAAQ,UAAW,WACrC,MAAO,UAAYkX,IAAY,IACjC,GAEA,IAAIF,EAVOje,KAUQke,cAAcpC,GAC7BuC,EAAaJ,EAAQlU,MAAM,SAC3BuU,EAAY,qBAsBhB,IACEL,GAAW,mBAAqBK,EAChC,IAAI7B,EApCKzc,KAoCWge,eAAelC,EAAUmC,GACzCtU,GAAM8S,EAAS9S,EACrB,CAAE,MAAO1F,GAEP,IAAIsa,EAAoBrC,EACtBoC,EAAUrX,QAAQ,MAAO,OAAS,UAClC,KAEEuX,GAAgBva,EAAEwa,MAAM/Y,MAAM6Y,IAAsB,IAAI,IAAM,EAG9DG,EAAoB,SAAUF,EAAcG,GAC9C,IAAIC,EAAeD,EACf,2BACA,qBACAE,EACF7S,OAAOqS,EAAWG,EAAe,IAAI9Y,MAAMkZ,IAAiB,GAI9D,QAHAC,EAAaA,EAAW,KAGLL,EAAe,EACzBE,EAAkBF,EAAe,GAAG,GAGtCK,CACT,EAGIA,EAAaH,EAAkBF,EAAe,GAGlD,OAAOK,EApDU,SAAUA,GAC3BA,EAAaC,SAASD,GAAc,EAOpC,IALA,IAAIxS,EAAM,CAAC,IAEP0S,EAAQjP,KAAKkP,IAAI,EAAGH,EADL,GAEfI,EAAMnP,KAAKoP,IAAId,EAAYxd,OAAQie,EAFpB,GAIZE,GAASE,EAAKF,IACnB1S,EAAI/F,MACDyY,GAASF,EAAa,KAAO,OAC3BE,EAAQ,GAAI,KACbX,EAAYW,IAIlB,OAAO1S,EAAIgH,KAAK,MAAQ,IAC1B,CAmCsB+I,CAAayC,GAAc5a,CACjD,CACF,EAQA,IAAI9B,EAAS,SAAU2Z,EAAUhX,GAC/B,IAAIqa,EAAO,IAAIpf,EAAM+b,EAAUhX,GAC/B,OAAO6W,EAAW1P,KAAKkT,EACzB,EAMAhd,EAAOid,WAAa,SAAUC,GAC5B5d,OAAOoD,OAAOmX,EAAMqD,EACtB,EAMAld,EAAO7C,OAAS6C,EAAOmd,IAAM,SAAUxa,GACrCrD,OAAOoD,OAAOvF,EAAQwF,EACxB,EC1gBA,IAAI+G,EAAOxG,EAAMwG,OAIb3L,EAASd,OAAOe,cAAgB,CAAA,EAiMhCb,EAASyC,EAAI2F,OACf,CACE6X,OAAQ,QACRC,SAAU,CAER,QAnMK,CACThc,KAAM,CACJic,KAAM,2BACNC,OAAQ,qBACRC,UAAW,2BACXC,SAAU,iCACVC,QAAS,2BACTC,QAAS,wCAEX3c,YAAa,CACXma,MAAO,eACPyC,QAAS,gBAEXzd,SAAU,CACR0d,OAAQ,4BAEV1c,KAAM,CACJ2c,SAAU,2BACVC,OAAQ,kCAEV9d,KAAM,CACJyR,OAAQ,CACNmM,OAAQ,2BACRG,QAAS,iCACTC,YAAa,sBAEfC,iBAAkB,CAChBC,SAAU,6CACVC,MAAO,mDACPC,MAAO,6CACPxZ,IAAK,6CACLyZ,OAAQ,uCACRC,KAAM,6CACNC,SAAU,0DAEZC,uBAAwB,gBAE1B3e,QAAS,CACP4e,OAAQ,CACN,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACA,WACA,YAEFC,MAAO,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UACtCC,KAAM,CAAC,SAAK,SAAK,UACjBC,QAAS,CACPC,KAAM,UAERC,WAAY,2BACZC,WAAY,2BACZC,UAAW,2BACXC,QAAS,2BACTnF,MAAO,CACL6D,QAAS,eACTzC,MAAO,eACPlI,IAAK,eACLkM,MAAO,gBAETC,iBAAkB,2GAClBC,kBAAmB,6EACnBC,kBAAmB,yFACnBC,gBAAiB,iCACjB5B,QAAS,8CAEX9d,MAAO,CACL+d,QAAS,eACT4B,OAAQ,eACRC,aAAc,eACdC,OAAQ,CACNC,kBAAmB,wDAErBC,OAAQ,CACN/B,OAAQ,2BACR9D,MAAO,CACL8F,OAAQ,eACRC,OAAQ,2BACRC,OAAQ,eACRC,QAAS,eACTb,MAAO,eACPhF,MAAO,gBAET8F,YAAa,2BACbC,SAAU,CACRR,OAAQ,uHACR9B,QAAS,qBACT4B,OAAQ,wBAIdzf,QAAS,CACPogB,KAAM,qBACNC,KAAM,qBACNC,MAAO,eACP7hB,KAAM,eACN8hB,MAAO,wBACPC,SAAU,gBACVC,KAAM,eACNC,KAAM,SACN7C,QAAS,gBAEXtd,MAAO,CACL2J,KAAM,CACJyW,IAAK,eACLvW,KAAM,gBAER0T,OAAQ,2BACR9D,MAAO,CACL1O,OAAQ,CACNsV,MAAO,sBAETC,OAAQ,CACND,MAAO,eACPE,aAAc,6CACdC,aAAc,0HACdC,QAAS,iCAEXC,MAAO,CACLL,MAAO,eACPE,aAAc,+CAGlBI,gBACE,mKACFC,SAAU,qEAEZ9gB,SAAU,CACRyd,OAAQ,2BACRG,QAAS,iCACT2C,MAAO,CAAC,qBAAO,sBACfQ,kBAAmB,kCAErB9gB,KAAM,CACJ+gB,gBAAiB,qBACjBvD,OAAQ,2BACRwD,iBAAkB,4DAEpBnhB,OAAQ,CACNohB,SAAU,CACRC,KAAM,eACNC,MAAO,eACPC,MAAO,eACPC,MAAO,gBAETxD,iBAAkB,CAChByD,mBAAoB,qFACpBC,qBAAsB,gFACtBC,mBAAoB,0EACpBC,kBAAmB,2DAErBC,WAAY,+BAEd3gB,KAAM,CACJ4gB,QAAS,CACPC,KAAM,sBACNC,MAAO,6BACPC,QAAS,+BACTC,OAAQ,eACRC,QAAS,gBAEXC,aAAc,CAEZC,SAAU,SAAUL,EAAOC,GACzB,IAAIK,EAAa,IAARN,EAAcC,EACvB,OAAIK,EAAK,IACA,eACEA,EAAK,IACP,eACEA,EAAK,KACP,eACEA,EAAK,KACP,eACEA,EAAK,KACP,eAEF,cACT,OAcJzkB,EAAOyD,MAGLihB,EAAuB,aAqE3B,SAASC,EAAM/b,GACb,OAAOA,OACT,CAEA,IAAIgc,EA3CJ,SAAiBlf,GAEf,IAAIlG,EAAQ+B,OAAOC,OAAO,MAE1B,SAASqjB,EAAS7a,GAEhB,OADUxK,EAAMwK,KACDxK,EAAMwK,GAAOtE,EAAGY,MAAM9G,EAAOuO,WAC9C,CAKA,OAHA8W,EAAShO,QAAU,WACjBrX,EAAQ+B,OAAOC,OAAO,KACxB,EACOqjB,CACT,CA8BmBC,CAAQ,SAAUpb,EAAMI,EAAKib,GAC9C,IAAIC,EAAYtb,EAAKG,MAAM,KACvBwV,EAAS2F,EAAU,GAInBpc,EAtEN,SAAakB,EAAKJ,EAAMqb,GAKtB,IAHA,IAAIE,EAAWvb,EAAK3C,QAAQ,aAAc,OAAO8C,MAAM,KACnDsB,EAASrB,EAEJnJ,EAAI,EAAGA,EAAIskB,EAASvkB,OAAQC,IAEnC,GAAIwK,OADJA,EAASA,GAAUA,EAAO8Z,EAAStkB,KAEjC,OAAOokB,EAIX,OAAO5Z,CACT,CAyDc8I,CAAInK,EAFhBJ,EAAOsb,EAAU,GAEUD,GAE3B,GAAI5f,EAAM3F,MAAMF,MAAO,CACrB,IAAI4lB,EAAaH,IAAiBnc,GAASA,IAAUc,IACnCib,EAAM/b,IAAUsc,IAEhCvZ,EAAKlK,UACH,cAAgBiI,EAAO,aAAe2V,EAAS,qBAC/C,QAGA6F,GACFvZ,EAAKlK,UACH,yCAA2CiI,EAAO,IAClD,OAGN,CAEA,OAAOib,EAAM/b,GAASA,EAAQc,CAChC,GAEIjG,EAAO,CACTrE,OAAQA,EACRggB,IAAK,SAAUxa,GACb/C,EAAI2F,OAAOpI,EAAQwF,GACnBggB,EAAa/N,SACf,uGA2BFpT,EAAK0hB,YAAc,SAAUC,EAASC,EAAYzgB,GAChD,IAAIya,EAAUza,GAAWA,EAAQya,QAAWjgB,EAAOigB,OAC/CiG,EAAelmB,EAAOkgB,SAASD,GAC/B3G,EAAY2G,EAAS,IACrBkG,EAAa3gB,GAAW/C,EAAIgW,OAAOjT,EAAS,WAC5C4gB,EAAkBD,EAAa3gB,EAAQ6gB,aAAUtW,EAEhDmW,GAAiBC,GACpB5Z,EAAKlK,UACH,WACE4d,EACA,+DACF,QAIJ,IAAIlU,EAASyZ,EAAalM,EAAY0M,EAASE,EAAcE,GAU7D,MAPsB,iBAAXra,GAAuBka,IAEhCla,EAASA,EAAOpE,QAAQ2d,EAAsB,SAAUlf,EAAOwE,GAC7D,YAA2BmF,IAApBkW,EAAWrb,GAAqBqb,EAAWrb,GAAOxE,CAC3D,IAzGJ,SAAgBoD,GACd,GAAqB,iBAAVA,EACTA,EAAQ/G,EAAIkW,OAAOnP,QACd,GAAqB,mBAAVA,EAAsB,CACtC,IAAI8c,EAAS9c,EACbA,EAAQ,WACN,IAAI4S,EAAMkK,EAAOpf,MAAMxG,KAAMiO,WAC7B,MAAsB,iBAARyN,EAAmB3Z,EAAIkW,OAAOyD,GAAOA,CACrD,CACF,KAAiC,UAAtBrW,EAAMjE,KAAK0H,KACpBA,EAAQA,EAAMyR,IAAI,SAAUta,GAC1B,MAAoB,iBAANA,EAAiB8B,EAAIkW,OAAOhY,GAAKA,CACjD,IAGF,OAAO6I,CACT,CA4FSmP,CAAO5M,EAChB,EAKA1H,EAAKkiB,GAAKliB,EAAK0hB,kBCnXHS,EAAQ3c,4BAAR2c,EA0BW,oBAAX1mB,OAAyBA,iBA1BjB+J,EA0BgC,SAAU/J,EAAQ2mB,GAQtE,IAAI1Z,EAAM,GAEN2Z,EAAWvkB,OAAOgO,eAElBlJ,EAAQ8F,EAAI9F,MAEZ0f,EAAO5Z,EAAI4Z,KAAO,SAAUC,GAC/B,OAAO7Z,EAAI4Z,KAAKha,KAAMia,EACvB,EAAI,SAAUA,GACb,OAAO7Z,EAAI+K,OAAO5Q,MAAO,GAAI0f,EAC9B,EAGI5f,EAAO+F,EAAI/F,KAEX5B,EAAU2H,EAAI3H,QAEdyhB,EAAa,CAAA,EAEb1hB,EAAW0hB,EAAW1hB,SAEtBsT,EAASoO,EAAWxX,eAEpBH,EAAauJ,EAAOtT,SAEpBiK,EAAuBF,EAAWvC,KAAMxK,QAExC2kB,EAAU,CAAA,EAEVC,EAAa,SAAqBrc,GASpC,MAAsB,mBAARA,GAA8C,iBAAjBA,EAAIsc,UAC1B,mBAAbtc,EAAIhE,IACd,EAGIugB,EAAW,SAAmBvc,GAChC,OAAc,MAAPA,GAAeA,IAAQA,EAAI5K,MACpC,EAGID,EAAWC,EAAOD,SAIjBqnB,EAA4B,CAC/BplB,MAAM,EACNZ,KAAK,EACLimB,OAAO,EACPC,UAAU,GAGX,SAASC,EAASnjB,EAAMM,EAAM8iB,GAG7B,IAAI/lB,EAAG6a,EACNmL,GAHDD,EAAMA,GAAOznB,GAGCgI,cAAe,UAG7B,GADA0f,EAAO3V,KAAO1N,EACTM,EACJ,IAAMjD,KAAK2lB,GAYV9K,EAAM5X,EAAMjD,IAAOiD,EAAKwE,cAAgBxE,EAAKwE,aAAczH,KAE1DgmB,EAAO3W,aAAcrP,EAAG6a,GAI3BkL,EAAI1f,KAAKM,YAAaqf,GAAStP,WAAW9P,YAAaof,EACzD,CAGA,SAASC,EAAQ9c,GAChB,OAAY,MAAPA,EACGA,EAAM,GAIQ,iBAARA,GAAmC,mBAARA,EACxCmc,EAAY1hB,EAASwH,KAAMjC,KAAW,gBAC/BA,CACT,CAOA,IAAIvK,EAAU,QAEbsnB,EAAc,SAGdphB,EAAS,SAAU0I,EAAUN,GAI5B,OAAO,IAAIpI,EAAOC,GAAGohB,KAAM3Y,EAAUN,EACvC,EAkYA,SAASkZ,EAAajd,GAMrB,IAAIpJ,IAAWoJ,GAAO,WAAYA,GAAOA,EAAIpJ,OAC5CQ,EAAO0lB,EAAQ9c,GAEhB,OAAKqc,EAAYrc,KAASuc,EAAUvc,KAIpB,UAAT5I,GAA+B,IAAXR,GACR,iBAAXA,GAAuBA,EAAS,GAAOA,EAAS,KAAOoJ,EAChE,CAGA,SAASkd,EAAU5Y,EAAMrG,GAExB,OAAOqG,EAAK4Y,UAAY5Y,EAAK4Y,SAASlc,gBAAkB/C,EAAK+C,aAE9D,CAtZArF,EAAOC,GAAKD,EAAOf,UAAY,CAG9BnB,OAAQhE,EAERmP,YAAajJ,EAGb/E,OAAQ,EAERumB,QAAS,WACR,OAAO5gB,EAAM0F,KAAMjM,KACrB,EAICmU,IAAK,SAAUvE,GAGd,OAAY,MAAPA,EACGrJ,EAAM0F,KAAMjM,MAIb4P,EAAM,EAAI5P,KAAM4P,EAAM5P,KAAKY,QAAWZ,KAAM4P,EACrD,EAICwX,UAAW,SAAUC,GAGpB,IAAIC,EAAM3hB,EAAO4hB,MAAOvnB,KAAK4O,cAAeyY,GAM5C,OAHAC,EAAIE,WAAaxnB,KAGVsnB,CACT,EAGCxhB,KAAM,SAAUhG,GACf,OAAO6F,EAAOG,KAAM9F,KAAMF,EAC5B,EAECya,IAAK,SAAUza,GACd,OAAOE,KAAKonB,UAAWzhB,EAAO4U,IAAKva,KAAM,SAAUsO,EAAMzN,GACxD,OAAOf,EAASmM,KAAMqC,EAAMzN,EAAGyN,EAClC,GACA,EAEC/H,MAAO,WACN,OAAOvG,KAAKonB,UAAW7gB,EAAMC,MAAOxG,KAAMiO,WAC5C,EAECuU,MAAO,WACN,OAAOxiB,KAAKynB,GAAI,EAClB,EAEC9mB,KAAM,WACL,OAAOX,KAAKynB,MACd,EAECC,KAAM,WACL,OAAO1nB,KAAKonB,UAAWzhB,EAAOgiB,KAAM3nB,KAAM,SAAU4nB,EAAO/mB,GAC1D,OAASA,EAAI,GAAM,CACtB,GACA,EAECgnB,IAAK,WACJ,OAAO7nB,KAAKonB,UAAWzhB,EAAOgiB,KAAM3nB,KAAM,SAAU4nB,EAAO/mB,GAC1D,OAAOA,EAAI,CACd,GACA,EAEC4mB,GAAI,SAAU5mB,GACb,IAAIsL,EAAMnM,KAAKY,OACd8W,GAAK7W,GAAMA,EAAI,EAAIsL,EAAM,GAC1B,OAAOnM,KAAKonB,UAAW1P,GAAK,GAAKA,EAAIvL,EAAM,CAAEnM,KAAM0X,IAAQ,GAC7D,EAECuH,IAAK,WACJ,OAAOjf,KAAKwnB,YAAcxnB,KAAK4O,aACjC,EAICtI,KAAMA,EACN8F,KAAMC,EAAID,KACVnG,OAAQoG,EAAIpG,QAGbN,EAAO+B,OAAS/B,EAAOC,GAAG8B,OAAS,WAClC,IAAI5C,EAASmD,EAAMzH,EAAKif,EAAMqI,EAAatb,EAC1CwC,EAASf,UAAW,IAAO,CAAA,EAC3BpN,EAAI,EACJD,EAASqN,UAAUrN,OACnBmnB,GAAO,EAsBR,IAnBuB,kBAAX/Y,IACX+Y,EAAO/Y,EAGPA,EAASf,UAAWpN,IAAO,CAAA,EAC3BA,KAIsB,iBAAXmO,GAAwBqX,EAAYrX,KAC/CA,EAAS,CAAA,GAILnO,IAAMD,IACVoO,EAAShP,KACTa,KAGOA,EAAID,EAAQC,IAGnB,GAAqC,OAA9BiE,EAAUmJ,UAAWpN,IAG3B,IAAMoH,KAAQnD,EACb2a,EAAO3a,EAASmD,GAIF,cAATA,GAAwB+G,IAAWyQ,IAKnCsI,GAAQtI,IAAU9Z,EAAO4J,cAAekQ,KAC1CqI,EAAcxY,MAAMvH,QAAS0X,MAC/Bjf,EAAMwO,EAAQ/G,GAIbuE,EADIsb,IAAgBxY,MAAMvH,QAASvH,GAC3B,GACIsnB,GAAgBniB,EAAO4J,cAAe/O,GAG1CA,EAFA,CAAA,EAITsnB,GAAc,EAGd9Y,EAAQ/G,GAAStC,EAAO+B,OAAQqgB,EAAMvb,EAAOiT,SAGzBpQ,IAAToQ,IACXzQ,EAAQ/G,GAASwX,IAOrB,OAAOzQ,CACR,EAEArJ,EAAO+B,OAAQ,CAGdsgB,QAAS,UAAavoB,EAAUqQ,KAAK4I,UAAWzR,QAAS,MAAO,IAGhEghB,SAAS,EAET/mB,MAAO,SAAUC,GAChB,MAAM,IAAI+mB,MAAO/mB,EACnB,EAECgnB,KAAM,WAAW,EAEjB5Y,cAAe,SAAUvF,GACxB,IAAIwF,EAAOE,EAIX,SAAM1F,GAAgC,oBAAzBvF,EAASwH,KAAMjC,KAI5BwF,EAAQwW,EAAUhc,MASK,mBADvB0F,EAAOqI,EAAO9L,KAAMuD,EAAO,gBAAmBA,EAAMZ,cACfJ,EAAWvC,KAAMyD,KAAWhB,GACnE,EAEC0Z,cAAe,SAAUpe,GACxB,IAAI/B,EAEJ,IAAMA,KAAQ+B,EACb,OAAO,EAER,OAAO,CACT,EAICqe,WAAY,SAAU7kB,EAAMsB,EAAS8hB,GACpCD,EAASnjB,EAAM,CAAEijB,MAAO3hB,GAAWA,EAAQ2hB,OAASG,EACtD,EAEC9gB,KAAM,SAAUkE,EAAKlK,GACpB,IAAIc,EAAQC,EAAI,EAEhB,GAAKomB,EAAajd,GAEjB,IADApJ,EAASoJ,EAAIpJ,OACLC,EAAID,IACqC,IAA3Cd,EAASmM,KAAMjC,EAAKnJ,GAAKA,EAAGmJ,EAAKnJ,IADnBA,UAMpB,IAAMA,KAAKmJ,EACV,IAAgD,IAA3ClK,EAASmM,KAAMjC,EAAKnJ,GAAKA,EAAGmJ,EAAKnJ,IACrC,MAKH,OAAOmJ,CACT,EAICkH,KAAM,SAAU5C,GACf,IAAIxK,EACHwjB,EAAM,GACNzmB,EAAI,EACJylB,EAAWhY,EAAKgY,SAEjB,IAAMA,EAGL,KAAUxiB,EAAOwK,EAAMzN,MAGtBymB,GAAO3hB,EAAOuL,KAAMpN,GAGtB,OAAkB,IAAbwiB,GAA+B,KAAbA,EACfhY,EAAKga,YAEK,IAAbhC,EACGhY,EAAKiC,gBAAgB+X,YAEX,IAAbhC,GAA+B,IAAbA,EACfhY,EAAKia,UAKNjB,CACT,EAGCkB,UAAW,SAAUnc,EAAKoc,GACzB,IAAInB,EAAMmB,GAAW,GAarB,OAXY,MAAPpc,IACC4a,EAAaxlB,OAAQ4K,IACzB1G,EAAO4hB,MAAOD,EACE,iBAARjb,EACN,CAAEA,GAAQA,GAGZ/F,EAAK2F,KAAMqb,EAAKjb,IAIXib,CACT,EAECoB,QAAS,SAAUpa,EAAMjC,EAAKxL,GAC7B,OAAc,MAAPwL,KAAmB3H,EAAQuH,KAAMI,EAAKiC,EAAMzN,EACrD,EAEC8nB,SAAU,SAAUra,GACnB,IAAIsK,EAAYtK,GAAQA,EAAKsa,aAC5BC,EAAUva,IAAUA,EAAKwa,eAAiBxa,GAAOiC,gBAIlD,OAAQwW,EAAY1lB,KAAMuX,GAAaiQ,GAAWA,EAAQ3B,UAAY,OACxE,EAICK,MAAO,SAAU/E,EAAOuG,GAKvB,IAJA,IAAI5c,GAAO4c,EAAOnoB,OACjB8W,EAAI,EACJ7W,EAAI2hB,EAAM5hB,OAEH8W,EAAIvL,EAAKuL,IAChB8K,EAAO3hB,KAAQkoB,EAAQrR,GAKxB,OAFA8K,EAAM5hB,OAASC,EAER2hB,CACT,EAECmF,KAAM,SAAUN,EAAOvnB,EAAUkpB,GAShC,IARA,IACCC,EAAU,GACVpoB,EAAI,EACJD,EAASymB,EAAMzmB,OACfsoB,GAAkBF,EAIXnoB,EAAID,EAAQC,KACAf,EAAUunB,EAAOxmB,GAAKA,KAChBqoB,GACxBD,EAAQ3iB,KAAM+gB,EAAOxmB,IAIvB,OAAOooB,CACT,EAGC1O,IAAK,SAAU8M,EAAOvnB,EAAUqpB,GAC/B,IAAIvoB,EAAQkI,EACXjI,EAAI,EACJymB,EAAM,GAGP,GAAKL,EAAaI,GAEjB,IADAzmB,EAASymB,EAAMzmB,OACPC,EAAID,EAAQC,IAGL,OAFdiI,EAAQhJ,EAAUunB,EAAOxmB,GAAKA,EAAGsoB,KAGhC7B,EAAIhhB,KAAMwC,QAMZ,IAAMjI,KAAKwmB,EAGI,OAFdve,EAAQhJ,EAAUunB,EAAOxmB,GAAKA,EAAGsoB,KAGhC7B,EAAIhhB,KAAMwC,GAMb,OAAOmd,EAAMqB,EACf,EAGC8B,KAAM,EAINhD,QAASA,IAGa,mBAAXiD,SACX1jB,EAAOC,GAAIyjB,OAAOC,UAAajd,EAAKgd,OAAOC,WAI5C3jB,EAAOG,KAAM,uEAAuEiE,MAAO,KAC1F,SAAUwf,EAAIthB,GACbke,EAAY,WAAale,EAAO,KAAQA,EAAK+C,aAC/C,GAyBA,IAAI8D,EAAMzC,EAAIyC,IAGV1C,EAAOC,EAAID,KAGXnG,EAASoG,EAAIpG,OAGbujB,EAAa,sBAGbC,EAAW,IAAIre,OAClB,IAAMoe,EAAa,8BAAgCA,EAAa,KAChE,KAOD7jB,EAAOmS,SAAW,SAAU4R,EAAGC,GAC9B,IAAIC,EAAMD,GAAKA,EAAEpS,WAEjB,OAAOmS,IAAME,MAAWA,GAAwB,IAAjBA,EAAItD,YAIlCoD,EAAE5R,SACD4R,EAAE5R,SAAU8R,GACZF,EAAEG,yBAA8D,GAAnCH,EAAEG,wBAAyBD,IAE3D,EAOA,IAAIE,EAAa,+CAEjB,SAASC,EAAYC,EAAIC,GACxB,OAAKA,EAGQ,OAAPD,EACG,SAIDA,EAAGzjB,MAAO,GAAG,GAAO,KAAOyjB,EAAG/N,WAAY+N,EAAGppB,OAAS,GAAI6D,SAAU,IAAO,IAI5E,KAAOulB,CACf,CAEArkB,EAAOukB,eAAiB,SAAUC,GACjC,OAASA,EAAM,IAAKljB,QAAS6iB,EAAYC,EAC1C,EAKA,IAAIK,EAAejrB,EAClBkrB,EAAa/jB,GAEd,WAEA,IAAIzF,EACHypB,EACAC,EACAC,EACAC,EAIAtrB,EACAoR,EACAma,EACAC,EACA1B,EAPA3iB,EAAO+jB,EAUPrC,EAAUriB,EAAOqiB,QACjB4C,EAAU,EACV7mB,EAAO,EACP8mB,EAAaC,KACbC,EAAaD,KACb/O,EAAgB+O,KAChBE,EAAyBF,KACzBG,EAAY,SAAUvB,EAAGC,GAIxB,OAHKD,IAAMC,IACVc,GAAe,GAET,CACT,EAECS,EAAW,6HAMXC,EAAa,0BAA4B3B,EACxC,0CAGD4B,EAAa,MAAQ5B,EAAa,KAAO2B,EAAa,OAAS3B,EAG9D,gBAAkBA,EAGlB,2DAA6D2B,EAAa,OAC1E3B,EAAa,OAEd6B,EAAU,KAAOF,EAAP,wFAOoBC,EAPpB,eAcVE,EAAc,IAAIlgB,OAAQoe,EAAa,IAAK,KAE5C+B,EAAS,IAAIngB,OAAQ,IAAMoe,EAAa,KAAOA,EAAa,KAC5DgC,EAAqB,IAAIpgB,OAAQ,IAAMoe,EAAa,WAAaA,EAAa,IAC7EA,EAAa,KACdiC,EAAW,IAAIrgB,OAAQoe,EAAa,MAEpCkC,EAAU,IAAItgB,OAAQigB,GACtBM,EAAc,IAAIvgB,OAAQ,IAAM+f,EAAa,KAE7CS,EAAY,CACXC,GAAI,IAAIzgB,OAAQ,MAAQ+f,EAAa,KACrCW,MAAO,IAAI1gB,OAAQ,QAAU+f,EAAa,KAC1CY,IAAK,IAAI3gB,OAAQ,KAAO+f,EAAa,SACrCa,KAAM,IAAI5gB,OAAQ,IAAMggB,GACxBa,OAAQ,IAAI7gB,OAAQ,IAAMigB,GAC1Ba,MAAO,IAAI9gB,OACV,yDACCoe,EAAa,+BAAiCA,EAAa,cAC3DA,EAAa,aAAeA,EAAa,SAAU,KACrD2C,KAAM,IAAI/gB,OAAQ,OAAS8f,EAAW,KAAM,KAI5CkB,aAAc,IAAIhhB,OAAQ,IAAMoe,EAC/B,mDAAqDA,EACrD,mBAAqBA,EAAa,mBAAoB,MAGxD6C,EAAU,sCACVC,EAAU,SAGVC,EAAa,mCAEbC,EAAW,OAIXC,EAAY,IAAIrhB,OAAQ,uBAAyBoe,EAChD,uBAAwB,KACzBkD,EAAY,SAAUzU,EAAQ0U,GAC7B,IAAIC,EAAO,KAAO3U,EAAO1R,MAAO,GAAM,MAEtC,OAAKomB,IAUEC,EAAO,EACb5gB,OAAO6gB,aAAcD,EAAO,OAC5B5gB,OAAO6gB,aAAcD,GAAQ,GAAK,MAAe,KAAPA,EAAe,OAC5D,EAMCE,EAAgB,WACfC,IACF,EAECC,EAAqBC,GACpB,SAAU3e,GACT,OAAyB,IAAlBA,EAAK4e,UAAqBhG,EAAU5Y,EAAM,WACpD,EACE,CAAEvN,IAAK,aAAcwhB,KAAM,WAa7B,IACCjc,EAAKE,MACF6F,EAAM9F,EAAM0F,KAAMme,EAAa+C,YACjC/C,EAAa+C,YAMd9gB,EAAK+d,EAAa+C,WAAWvsB,QAAS0lB,QACvC,CAAE,MAAQriB,GACTqC,EAAO,CACNE,MAAO,SAAUwI,EAAQoe,GACxB/C,EAAW7jB,MAAOwI,EAAQzI,EAAM0F,KAAMmhB,GACzC,EACEnhB,KAAM,SAAU+C,GACfqb,EAAW7jB,MAAOwI,EAAQzI,EAAM0F,KAAMgC,UAAW,GACpD,EAEA,CAEA,SAASqD,EAAMjD,EAAUN,EAAS0a,EAAS4E,GAC1C,IAAIC,EAAGzsB,EAAGyN,EAAMif,EAAK7nB,EAAO8nB,EAAQC,EACnCC,EAAa3f,GAAWA,EAAQ+a,cAGhCxC,EAAWvY,EAAUA,EAAQuY,SAAW,EAKzC,GAHAmC,EAAUA,GAAW,GAGI,iBAAbpa,IAA0BA,GACxB,IAAbiY,GAA+B,IAAbA,GAA+B,KAAbA,EAEpC,OAAOmC,EAIR,IAAM4E,IACLN,GAAahf,GACbA,EAAUA,GAAW5O,EAEhBurB,GAAiB,CAIrB,GAAkB,KAAbpE,IAAqB5gB,EAAQ6mB,EAAWoB,KAAMtf,IAGlD,GAAOif,EAAI5nB,EAAO,IAGjB,GAAkB,IAAb4gB,EAAiB,CACrB,KAAOhY,EAAOP,EAAQhF,eAAgBukB,IASrC,OAAO7E,EALP,GAAKna,EAAK3F,KAAO2kB,EAEhB,OADAhnB,EAAK2F,KAAMwc,EAASna,GACbma,CAOf,MAIM,GAAKiF,IAAgBpf,EAAOof,EAAW3kB,eAAgBukB,KACtDhc,EAAKwG,SAAU/J,EAASO,IACxBA,EAAK3F,KAAO2kB,EAGZ,OADAhnB,EAAK2F,KAAMwc,EAASna,GACbma,MAKH,IAAK/iB,EAAO,GAElB,OADAY,EAAKE,MAAOiiB,EAAS1a,EAAQrN,qBAAsB2N,IAC5Coa,EAGD,IAAO6E,EAAI5nB,EAAO,KAASqI,EAAQ6f,uBAEzC,OADAtnB,EAAKE,MAAOiiB,EAAS1a,EAAQ6f,uBAAwBN,IAC9C7E,CACZ,CAIG,KAAMuC,EAAwB3c,EAAW,MACrCsc,GAAcA,EAAUtpB,KAAMgN,IAAe,CAYhD,GAVAof,EAAcpf,EACdqf,EAAa3f,EASK,IAAbuY,IACFmF,EAASpqB,KAAMgN,IAAcmd,EAAmBnqB,KAAMgN,IAAe,CAyBvE,KAtBAqf,EAAalB,EAASnrB,KAAMgN,IAAcwf,GAAa9f,EAAQwJ,aAC9DxJ,IAQkBA,GAAYqY,EAAQ3P,SAG/B8W,EAAMxf,EAAQzF,aAAc,OAClCilB,EAAM5nB,EAAOukB,eAAgBqD,GAE7Bxf,EAAQmC,aAAc,KAAQqd,EAAMvF,IAMtCnnB,GADA2sB,EAASM,GAAUzf,IACRzN,OACHC,KACP2sB,EAAQ3sB,IAAQ0sB,EAAM,IAAMA,EAAM,UAAa,IAC9CQ,GAAYP,EAAQ3sB,IAEtB4sB,EAAcD,EAAOna,KAAM,IAChC,CAEI,IAIC,OAHA/M,EAAKE,MAAOiiB,EACXiF,EAAWnf,iBAAkBkf,IAEvBhF,CACZ,CAAM,MAAQuF,GACThD,EAAwB3c,GAAU,EACvC,CAAK,QACKkf,IAAQvF,GACZja,EAAQwL,gBAAiB,KAE/B,CACA,CACA,CAIC,OAAO1F,GAAQxF,EAASpH,QAASwiB,EAAU,MAAQ1b,EAAS0a,EAAS4E,EACtE,CAQA,SAASvC,KACR,IAAImD,EAAO,GAaX,OAXA,SAASvuB,EAAOwK,EAAKpB,GASpB,OALKmlB,EAAK3nB,KAAM4D,EAAM,KAAQogB,EAAK4D,oBAG3BxuB,EAAOuuB,EAAKE,SAEXzuB,EAAOwK,EAAM,KAAQpB,CAChC,CAEA,CAMA,SAASslB,GAAcxoB,GAEtB,OADAA,EAAIoiB,IAAY,EACTpiB,CACR,CAMA,SAASyoB,GAAQzoB,GAChB,IAAIoR,EAAK7X,EAASgI,cAAe,YAEjC,IACC,QAASvB,EAAIoR,EACf,CAAG,MAAQ/S,GACT,OAAO,CACT,CAAE,QAGK+S,EAAGO,YACPP,EAAGO,WAAW9P,YAAauP,GAI5BA,EAAK,IACP,CACA,CAMA,SAASsX,GAAmBltB,GAC3B,OAAO,SAAUkN,GAChB,OAAO4Y,EAAU5Y,EAAM,UAAaA,EAAKlN,OAASA,CACpD,CACA,CAMA,SAASmtB,GAAoBntB,GAC5B,OAAO,SAAUkN,GAChB,OAAS4Y,EAAU5Y,EAAM,UAAa4Y,EAAU5Y,EAAM,YACrDA,EAAKlN,OAASA,CACjB,CACA,CAMA,SAASotB,GAAsBtB,GAG9B,OAAO,SAAU5e,GAKhB,MAAK,SAAUA,EASTA,EAAKiJ,aAAgC,IAAlBjJ,EAAK4e,SAGvB,UAAW5e,EACV,UAAWA,EAAKiJ,WACbjJ,EAAKiJ,WAAW2V,WAAaA,EAE7B5e,EAAK4e,WAAaA,EAMpB5e,EAAKmgB,aAAevB,GAG1B5e,EAAKmgB,cAAgBvB,GACpBF,EAAoB1e,KAAW4e,EAG3B5e,EAAK4e,WAAaA,EAKd,UAAW5e,GACfA,EAAK4e,WAAaA,CAK5B,CACA,CAMA,SAASwB,GAAwB9oB,GAChC,OAAOwoB,GAAc,SAAUO,GAE9B,OADAA,GAAYA,EACLP,GAAc,SAAUf,EAAMpE,GAMpC,IALA,IAAIvR,EACHkX,EAAehpB,EAAI,GAAIynB,EAAKzsB,OAAQ+tB,GACpC9tB,EAAI+tB,EAAahuB,OAGVC,KACFwsB,EAAQ3V,EAAIkX,EAAc/tB,MAC9BwsB,EAAM3V,KAASuR,EAASvR,GAAM2V,EAAM3V,IAGzC,EACA,EACA,CAOA,SAASmW,GAAa9f,GACrB,OAAOA,QAAmD,IAAjCA,EAAQrN,sBAAwCqN,CAC1E,CAOA,SAASgf,GAAajpB,GACrB,IAAI+qB,EACHjI,EAAM9iB,EAAOA,EAAKglB,eAAiBhlB,EAAOsmB,EAO3C,OAAKxD,GAAOznB,GAA6B,IAAjBynB,EAAIN,UAAmBM,EAAIrW,iBAMnDA,GADApR,EAAWynB,GACgBrW,gBAC3Bma,GAAkB/kB,EAAOgjB,SAAUxpB,GAInC8pB,EAAU1Y,EAAgB0Y,SACzB1Y,EAAgBue,uBAChBve,EAAgBwe,kBAOZxe,EAAgBwe,mBAMpB3E,GAAgBjrB,IACd0vB,EAAY1vB,EAAS6vB,cAAiBH,EAAUhd,MAAQgd,GAG1DA,EAAUlqB,iBAAkB,SAAUmoB,GAOvC1G,EAAQ6I,QAAUZ,GAAQ,SAAUrX,GAEnC,OADAzG,EAAgB/I,YAAawP,GAAKrO,GAAKhD,EAAOqiB,SACtC7oB,EAAS+vB,oBACf/vB,EAAS+vB,kBAAmBvpB,EAAOqiB,SAAUpnB,MACjD,GAKCwlB,EAAQ+I,kBAAoBd,GAAQ,SAAUrX,GAC7C,OAAOiS,EAAQhd,KAAM+K,EAAI,IAC3B,GAICoP,EAAQ3P,MAAQ4X,GAAQ,WACvB,OAAOlvB,EAASoP,iBAAkB,SACpC,GAWC6X,EAAQgJ,OAASf,GAAQ,WACxB,IAEC,OADAlvB,EAASsa,cAAe,oBACjB,CACV,CAAI,MAAQxV,GACT,OAAO,CACV,CACA,GAGMmiB,EAAQ6I,SACZ3E,EAAK9c,OAAOqe,GAAK,SAAUljB,GAC1B,IAAI0mB,EAAS1mB,EAAG1B,QAASwlB,EAAWC,GACpC,OAAO,SAAUpe,GAChB,OAAOA,EAAKhG,aAAc,QAAW+mB,CACzC,CACA,EACE/E,EAAKhZ,KAAKua,GAAK,SAAUljB,EAAIoF,GAC5B,QAAuC,IAA3BA,EAAQhF,gBAAkC2hB,EAAiB,CACtE,IAAIpc,EAAOP,EAAQhF,eAAgBJ,GACnC,OAAO2F,EAAO,CAAEA,GAAS,EAC7B,CACA,IAEEgc,EAAK9c,OAAOqe,GAAM,SAAUljB,GAC3B,IAAI0mB,EAAS1mB,EAAG1B,QAASwlB,EAAWC,GACpC,OAAO,SAAUpe,GAChB,IAAIxK,OAAwC,IAA1BwK,EAAKghB,kBACtBhhB,EAAKghB,iBAAkB,MACxB,OAAOxrB,GAAQA,EAAKgF,QAAUumB,CAClC,CACA,EAIE/E,EAAKhZ,KAAKua,GAAK,SAAUljB,EAAIoF,GAC5B,QAAuC,IAA3BA,EAAQhF,gBAAkC2hB,EAAiB,CACtE,IAAI5mB,EAAMjD,EAAGwmB,EACZ/Y,EAAOP,EAAQhF,eAAgBJ,GAEhC,GAAK2F,EAAO,CAIX,IADAxK,EAAOwK,EAAKghB,iBAAkB,QACjBxrB,EAAKgF,QAAUH,EAC3B,MAAO,CAAE2F,GAMV,IAFA+Y,EAAQtZ,EAAQmhB,kBAAmBvmB,GACnC9H,EAAI,EACMyN,EAAO+Y,EAAOxmB,MAEvB,IADAiD,EAAOwK,EAAKghB,iBAAkB,QACjBxrB,EAAKgF,QAAUH,EAC3B,MAAO,CAAE2F,EAGhB,CAEI,MAAO,EACX,CACA,GAICgc,EAAKhZ,KAAKya,IAAM,SAAUrO,EAAK3P,GAC9B,YAA6C,IAAjCA,EAAQrN,qBACZqN,EAAQrN,qBAAsBgd,GAI9B3P,EAAQQ,iBAAkBmP,EAEpC,EAGC4M,EAAKhZ,KAAKwa,MAAQ,SAAU/Q,EAAWhN,GACtC,QAA+C,IAAnCA,EAAQ6f,wBAA0ClD,EAC7D,OAAO3c,EAAQ6f,uBAAwB7S,EAE1C,EAOC4P,EAAY,GAIZ0D,GAAQ,SAAUrX,GAEjB,IAAIuY,EAEJhf,EAAgB/I,YAAawP,GAAK5F,UACjC,UAAY4W,EAAZ,iDACiBA,EADjB,oEAMKhR,EAAGzI,iBAAkB,cAAe3N,QACzC+pB,EAAUrkB,KAAM,MAAQkjB,EAAa,aAAe0B,EAAW,KAI1DlU,EAAGzI,iBAAkB,QAAUyZ,EAAU,MAAOpnB,QACrD+pB,EAAUrkB,KAAM,MAMX0Q,EAAGzI,iBAAkB,KAAOyZ,EAAU,MAAOpnB,QAClD+pB,EAAUrkB,KAAM,YAOX0Q,EAAGzI,iBAAkB,YAAa3N,QACvC+pB,EAAUrkB,KAAM,aAKjBipB,EAAQpwB,EAASgI,cAAe,UAC1B+I,aAAc,OAAQ,UAC5B8G,EAAGxP,YAAa+nB,GAAQrf,aAAc,OAAQ,KAQ9CK,EAAgB/I,YAAawP,GAAKkW,UAAW,EACM,IAA9ClW,EAAGzI,iBAAkB,aAAc3N,QACvC+pB,EAAUrkB,KAAM,WAAY,cAQ7BipB,EAAQpwB,EAASgI,cAAe,UAC1B+I,aAAc,OAAQ,IAC5B8G,EAAGxP,YAAa+nB,GACVvY,EAAGzI,iBAAkB,aAAc3N,QACxC+pB,EAAUrkB,KAAM,MAAQkjB,EAAa,QAAUA,EAAa,KAC3DA,EAAa,eAEjB,GAEOpD,EAAQgJ,QAQbzE,EAAUrkB,KAAM,QAGjBqkB,EAAYA,EAAU/pB,QAAU,IAAIwK,OAAQuf,EAAUtX,KAAM,MAM5D4X,EAAY,SAAUvB,EAAGC,GAGxB,GAAKD,IAAMC,EAEV,OADAc,GAAe,EACR,EAIR,IAAI+E,GAAW9F,EAAEG,yBAA2BF,EAAEE,wBAC9C,OAAK2F,IAgBU,GAPfA,GAAY9F,EAAEZ,eAAiBY,KAASC,EAAEb,eAAiBa,GAC1DD,EAAEG,wBAAyBF,GAG3B,KAIGvD,EAAQqJ,cAAgB9F,EAAEE,wBAAyBH,KAAQ8F,EAOzD9F,IAAMvqB,GAAYuqB,EAAEZ,eAAiBsB,GACzC9Y,EAAKwG,SAAUsS,EAAcV,IACtB,EAOHC,IAAMxqB,GAAYwqB,EAAEb,eAAiBsB,GACzC9Y,EAAKwG,SAAUsS,EAAcT,GACtB,EAIDa,EACJ9lB,EAAQuH,KAAMue,EAAWd,GAAMhlB,EAAQuH,KAAMue,EAAWb,GAC1D,EAGe,EAAV6F,GAAc,EAAK,EAC5B,EAEQrwB,GAvSCA,CAwST,CAopBA,IAAM0B,KAlpBNyQ,EAAK2X,QAAU,SAAUyG,EAAMC,GAC9B,OAAOre,EAAMoe,EAAM,KAAM,KAAMC,EAChC,EAEAre,EAAKse,gBAAkB,SAAUthB,EAAMohB,GAGtC,GAFA3C,GAAaze,GAERoc,IACHM,EAAwB0E,EAAO,QAC7B/E,IAAcA,EAAUtpB,KAAMquB,IAEjC,IACC,IAAIpI,EAAM2B,EAAQhd,KAAMqC,EAAMohB,GAG9B,GAAKpI,GAAOlB,EAAQ+I,mBAIlB7gB,EAAKnP,UAAuC,KAA3BmP,EAAKnP,SAASmnB,SAChC,OAAOgB,CAEX,CAAI,MAAQrjB,GACT+mB,EAAwB0E,GAAM,EACjC,CAGC,OAAOpe,EAAMoe,EAAMvwB,EAAU,KAAM,CAAEmP,IAAS1N,OAAS,CACxD,EAEA0Q,EAAKwG,SAAW,SAAU/J,EAASO,GAUlC,OAHOP,EAAQ+a,eAAiB/a,IAAa5O,GAC5C4tB,GAAahf,GAEPpI,EAAOmS,SAAU/J,EAASO,EAClC,EAGAgD,EAAKrB,KAAO,SAAU3B,EAAMrG,IAOpBqG,EAAKwa,eAAiBxa,IAAUnP,GACtC4tB,GAAaze,GAGd,IAAI1I,EAAK0kB,EAAKuF,WAAY5nB,EAAK+C,eAG9B0Q,EAAM9V,GAAMmS,EAAO9L,KAAMqe,EAAKuF,WAAY5nB,EAAK+C,eAC9CpF,EAAI0I,EAAMrG,GAAOyiB,QACjBrb,EAEF,YAAaA,IAARqM,EACGA,EAGDpN,EAAKhG,aAAcL,EAC3B,EAEAqJ,EAAKpQ,MAAQ,SAAUC,GACtB,MAAM,IAAI+mB,MAAO,0CAA4C/mB,EAC9D,EAMAwE,EAAOmqB,WAAa,SAAUrH,GAC7B,IAAIna,EACHyhB,EAAa,GACbrY,EAAI,EACJ7W,EAAI,EAWL,GAJA4pB,GAAgBrE,EAAQ4J,WACxBxF,GAAapE,EAAQ4J,YAAczpB,EAAM0F,KAAMwc,EAAS,GACxDrc,EAAKH,KAAMwc,EAASwC,GAEfR,EAAe,CACnB,KAAUnc,EAAOma,EAAS5nB,MACpByN,IAASma,EAAS5nB,KACtB6W,EAAIqY,EAAWzpB,KAAMzF,IAGvB,KAAQ6W,KACPzR,EAAOgG,KAAMwc,EAASsH,EAAYrY,GAAK,EAE1C,CAMC,OAFA8S,EAAY,KAEL/B,CACR,EAEA9iB,EAAOC,GAAGkqB,WAAa,WACtB,OAAO9vB,KAAKonB,UAAWzhB,EAAOmqB,WAAYvpB,EAAMC,MAAOxG,OACxD,EAEAsqB,EAAO3kB,EAAO+pB,KAAO,CAGpBxB,YAAa,GAEb+B,aAAc7B,GAEd1oB,MAAOkmB,EAEPiE,WAAY,CAAA,EAEZve,KAAM,CAAA,EAEN4e,SAAU,CACT,IAAK,CAAEnvB,IAAK,aAAcyhB,OAAO,GACjC,IAAK,CAAEzhB,IAAK,cACZ,IAAK,CAAEA,IAAK,kBAAmByhB,OAAO,GACtC,IAAK,CAAEzhB,IAAK,oBAGbovB,UAAW,CACVnE,KAAM,SAAUtmB,GAWf,OAVAA,EAAO,GAAMA,EAAO,GAAIuB,QAASwlB,EAAWC,GAG5ChnB,EAAO,IAAQA,EAAO,IAAOA,EAAO,IAAOA,EAAO,IAAO,IACvDuB,QAASwlB,EAAWC,GAEF,OAAfhnB,EAAO,KACXA,EAAO,GAAM,IAAMA,EAAO,GAAM,KAG1BA,EAAMa,MAAO,EAAG,EAC1B,EAEE2lB,MAAO,SAAUxmB,GAkChB,OAtBAA,EAAO,GAAMA,EAAO,GAAIsF,cAEU,QAA7BtF,EAAO,GAAIa,MAAO,EAAG,IAGnBb,EAAO,IACZ4L,EAAKpQ,MAAOwE,EAAO,IAKpBA,EAAO,KAASA,EAAO,GACtBA,EAAO,IAAQA,EAAO,IAAO,GAC7B,GAAqB,SAAfA,EAAO,IAAiC,QAAfA,EAAO,KAEvCA,EAAO,KAAWA,EAAO,GAAMA,EAAO,IAAwB,QAAfA,EAAO,KAG3CA,EAAO,IAClB4L,EAAKpQ,MAAOwE,EAAO,IAGbA,CACV,EAEEumB,OAAQ,SAAUvmB,GACjB,IAAI0qB,EACHC,GAAY3qB,EAAO,IAAOA,EAAO,GAElC,OAAKkmB,EAAUM,MAAM7qB,KAAMqE,EAAO,IAC1B,MAIHA,EAAO,GACXA,EAAO,GAAMA,EAAO,IAAOA,EAAO,IAAO,GAG9B2qB,GAAY3E,EAAQrqB,KAAMgvB,KAGnCD,EAAStC,GAAUuC,GAAU,MAG7BD,EAASC,EAAS3rB,QAAS,IAAK2rB,EAASzvB,OAASwvB,GAAWC,EAASzvB,UAGxE8E,EAAO,GAAMA,EAAO,GAAIa,MAAO,EAAG6pB,GAClC1qB,EAAO,GAAM2qB,EAAS9pB,MAAO,EAAG6pB,IAI1B1qB,EAAMa,MAAO,EAAG,GAC1B,GAGCiH,OAAQ,CAEPue,IAAK,SAAUuE,GACd,IAAIC,EAAmBD,EAAiBrpB,QAASwlB,EAAWC,GAAY1hB,cACxE,MAA4B,MAArBslB,EACN,WACC,OAAO,CACZ,EACI,SAAUhiB,GACT,OAAO4Y,EAAU5Y,EAAMiiB,EAC5B,CACA,EAEEzE,MAAO,SAAU/Q,GAChB,IAAIyV,EAAU3F,EAAY9P,EAAY,KAEtC,OAAOyV,IACJA,EAAU,IAAIplB,OAAQ,MAAQoe,EAAa,IAAMzO,EAClD,IAAMyO,EAAa,SACpBqB,EAAY9P,EAAW,SAAUzM,GAChC,OAAOkiB,EAAQnvB,KACY,iBAAnBiN,EAAKyM,WAA0BzM,EAAKyM,gBACb,IAAtBzM,EAAKhG,cACXgG,EAAKhG,aAAc,UACpB,GAEP,EACA,EAEE0jB,KAAM,SAAU/jB,EAAMwoB,EAAUC,GAC/B,OAAO,SAAUpiB,GAChB,IAAIjD,EAASiG,EAAKrB,KAAM3B,EAAMrG,GAE9B,OAAe,MAAVoD,EACgB,OAAbolB,GAEFA,IAINplB,GAAU,GAEQ,MAAbolB,EACGplB,IAAWqlB,EAED,OAAbD,EACGplB,IAAWqlB,EAED,OAAbD,EACGC,GAAqC,IAA5BrlB,EAAO3G,QAASgsB,GAEf,OAAbD,EACGC,GAASrlB,EAAO3G,QAASgsB,IAAU,EAEzB,OAAbD,EACGC,GAASrlB,EAAO9E,OAAQmqB,EAAM9vB,UAAa8vB,EAEjC,OAAbD,GACK,IAAMplB,EAAOpE,QAASqkB,EAAa,KAAQ,KAClD5mB,QAASgsB,IAAU,EAEJ,OAAbD,IACGplB,IAAWqlB,GAASrlB,EAAO9E,MAAO,EAAGmqB,EAAM9vB,OAAS,KAAQ8vB,EAAQ,KAIhF,CACA,EAEExE,MAAO,SAAU9qB,EAAMuvB,EAAMC,EAAWpO,EAAO7hB,GAC9C,IAAIkwB,EAAgC,QAAvBzvB,EAAKmF,MAAO,EAAG,GAC3BuqB,EAA+B,SAArB1vB,EAAKmF,OAAO,GACtBwqB,EAAkB,YAATJ,EAEV,OAAiB,IAAVnO,GAAwB,IAAT7hB,EAGrB,SAAU2N,GACT,QAASA,EAAKiJ,UACnB,EAEI,SAAUjJ,EAAM0iB,EAAUC,GACzB,IAAIvxB,EAAOwxB,EAAYptB,EAAMqtB,EAAWpS,EACvChe,EAAM8vB,IAAWC,EAAU,cAAgB,kBAC3CM,EAAS9iB,EAAKiJ,WACdtP,EAAO8oB,GAAUziB,EAAK4Y,SAASlc,cAC/BqmB,GAAYJ,IAAQF,EACpBO,GAAO,EAER,GAAKF,EAAS,CAGb,GAAKP,EAAS,CACb,KAAQ9vB,GAAM,CAEb,IADA+C,EAAOwK,EACGxK,EAAOA,EAAM/C,IACtB,GAAKgwB,EACJ7J,EAAUpjB,EAAMmE,GACE,IAAlBnE,EAAKwiB,SAEL,OAAO,EAKTvH,EAAQhe,EAAe,SAATK,IAAoB2d,GAAS,aACnD,CACO,OAAO,CACd,CAKM,GAHAA,EAAQ,CAAE+R,EAAUM,EAAOG,WAAaH,EAAOI,WAG1CV,GAAWO,GASf,IAHAC,GADAH,GADAzxB,GADAwxB,EAAaE,EAAQpJ,KAAeoJ,EAAQpJ,GAAY,KACpC5mB,IAAU,IACX,KAAQwpB,GAAWlrB,EAAO,KACzBA,EAAO,GAC3BoE,EAAOqtB,GAAaC,EAAOjE,WAAYgE,GAE7BrtB,IAASqtB,GAAartB,GAAQA,EAAM/C,KAG3CuwB,EAAOH,EAAY,IAAOpS,EAAMjQ,OAGlC,GAAuB,IAAlBhL,EAAKwiB,YAAoBgL,GAAQxtB,IAASwK,EAAO,CACrD4iB,EAAY9vB,GAAS,CAAEwpB,EAASuG,EAAWG,GAC3C,KACT,OAeO,GATKD,IAIJC,EADAH,GADAzxB,GADAwxB,EAAa5iB,EAAM0Z,KAAe1Z,EAAM0Z,GAAY,KAChC5mB,IAAU,IACX,KAAQwpB,GAAWlrB,EAAO,KAMhC,IAAT4xB,EAGJ,MAAUxtB,IAASqtB,GAAartB,GAAQA,EAAM/C,KAC3CuwB,EAAOH,EAAY,IAAOpS,EAAMjQ,WAE3BiiB,EACN7J,EAAUpjB,EAAMmE,GACE,IAAlBnE,EAAKwiB,cACHgL,IAGGD,KACJH,EAAaptB,EAAMkkB,KAChBlkB,EAAMkkB,GAAY,KACT5mB,GAAS,CAAEwpB,EAAS0G,IAG5BxtB,IAASwK,MAUlB,OADAgjB,GAAQ3wB,KACQ6hB,GAAW8O,EAAO9O,IAAU,GAAK8O,EAAO9O,GAAS,CACvE,CACA,CACA,EAEEyJ,OAAQ,SAAUwF,EAAQ9C,GAMzB,IAAI3gB,EACHpI,EAAK0kB,EAAKe,QAASoG,IAAYnH,EAAKoH,WAAYD,EAAOzmB,gBACtDsG,EAAKpQ,MAAO,uBAAyBuwB,GAKvC,OAAK7rB,EAAIoiB,GACDpiB,EAAI+oB,GAIP/oB,EAAGhF,OAAS,GAChBoN,EAAO,CAAEyjB,EAAQA,EAAQ,GAAI9C,GACtBrE,EAAKoH,WAAW/iB,eAAgB8iB,EAAOzmB,eAC7CojB,GAAc,SAAUf,EAAMpE,GAI7B,IAHA,IAAI0I,EACHne,EAAU5N,EAAIynB,EAAMsB,GACpB9tB,EAAI2S,EAAQ5S,OACLC,KAEPwsB,EADAsE,EAAMjtB,EAAQuH,KAAMohB,EAAM7Z,EAAS3S,OAClBooB,EAAS0I,GAAQne,EAAS3S,GAElD,GACK,SAAUyN,GACT,OAAO1I,EAAI0I,EAAM,EAAGN,EAC1B,GAGUpI,CACV,GAGCylB,QAAS,CAGRuG,IAAKxD,GAAc,SAAU/f,GAK5B,IAAIkhB,EAAQ,GACX9G,EAAU,GACVoJ,EAAUhW,GAASxN,EAASpH,QAASwiB,EAAU,OAEhD,OAAOoI,EAAS7J,GACfoG,GAAc,SAAUf,EAAMpE,EAAS+H,EAAUC,GAMhD,IALA,IAAI3iB,EACHwjB,EAAYD,EAASxE,EAAM,KAAM4D,EAAK,IACtCpwB,EAAIwsB,EAAKzsB,OAGFC,MACAyN,EAAOwjB,EAAWjxB,MACxBwsB,EAAMxsB,KAASooB,EAASpoB,GAAMyN,GAGrC,GACI,SAAUA,EAAM0iB,EAAUC,GAOzB,OANA1B,EAAO,GAAMjhB,EACbujB,EAAStC,EAAO,KAAM0B,EAAKxI,GAI3B8G,EAAO,GAAM,MACL9G,EAAQ3Z,KACrB,CACA,GAEEoM,IAAKkT,GAAc,SAAU/f,GAC5B,OAAO,SAAUC,GAChB,OAAOgD,EAAMjD,EAAUC,GAAO1N,OAAS,CAC3C,CACA,GAEEkX,SAAUsW,GAAc,SAAUld,GAEjC,OADAA,EAAOA,EAAKjK,QAASwlB,EAAWC,GACzB,SAAUpe,GAChB,OAASA,EAAKga,aAAe3iB,EAAOuL,KAAM5C,IAAS5J,QAASwM,IAAS,CACzE,CACA,GASE6gB,KAAM3D,GAAc,SAAU2D,GAO7B,OAJMpG,EAAYtqB,KAAM0wB,GAAQ,KAC/BzgB,EAAKpQ,MAAO,qBAAuB6wB,GAEpCA,EAAOA,EAAK9qB,QAASwlB,EAAWC,GAAY1hB,cACrC,SAAUsD,GAChB,IAAI0jB,EACJ,GACC,GAAOA,EAAWtH,EACjBpc,EAAKyjB,KACLzjB,EAAKhG,aAAc,aAAgBgG,EAAKhG,aAAc,QAGtD,OADA0pB,EAAWA,EAAShnB,iBACA+mB,GAA2C,IAAnCC,EAASttB,QAASqtB,EAAO,YAE3CzjB,EAAOA,EAAKiJ,aAAkC,IAAlBjJ,EAAKgY,UAC7C,OAAO,CACX,CACA,GAGEtX,OAAQ,SAAUV,GACjB,IAAI5E,EAAOtK,EAAOC,UAAYD,EAAOC,SAASqK,KAC9C,OAAOA,GAAQA,EAAKnD,MAAO,KAAQ+H,EAAK3F,EAC3C,EAEEspB,KAAM,SAAU3jB,GACf,OAAOA,IAASiC,CACnB,EAEE2hB,MAAO,SAAU5jB,GAChB,OAAOA,IA5oCV,WACC,IACC,OAAOnP,EAAS0Y,aAClB,CAAG,MAAQ9D,GAAM,CACjB,CAwoCmBoe,IACfhzB,EAASizB,eACL9jB,EAAKlN,MAAQkN,EAAK5F,OAAS4F,EAAK+jB,SACxC,EAGEC,QAAS9D,IAAsB,GAC/BtB,SAAUsB,IAAsB,GAEhC+D,QAAS,SAAUjkB,GAIlB,OAAS4Y,EAAU5Y,EAAM,YAAeA,EAAKikB,SAC1CrL,EAAU5Y,EAAM,aAAgBA,EAAKkkB,QAC3C,EAEEA,SAAU,SAAUlkB,GAWnB,OALKA,EAAKiJ,YAETjJ,EAAKiJ,WAAWkb,eAGQ,IAAlBnkB,EAAKkkB,QACf,EAGEE,MAAO,SAAUpkB,GAMhB,IAAMA,EAAOA,EAAKijB,WAAYjjB,EAAMA,EAAOA,EAAKqkB,YAC/C,GAAKrkB,EAAKgY,SAAW,EACpB,OAAO,EAGT,OAAO,CACV,EAEE8K,OAAQ,SAAU9iB,GACjB,OAAQgc,EAAKe,QAAQqH,MAAOpkB,EAC/B,EAGEskB,OAAQ,SAAUtkB,GACjB,OAAOge,EAAQjrB,KAAMiN,EAAK4Y,SAC7B,EAEEqI,MAAO,SAAUjhB,GAChB,OAAO+d,EAAQhrB,KAAMiN,EAAK4Y,SAC7B,EAEE2L,OAAQ,SAAUvkB,GACjB,OAAO4Y,EAAU5Y,EAAM,UAA2B,WAAdA,EAAKlN,MACxC8lB,EAAU5Y,EAAM,SACpB,EAEE4C,KAAM,SAAU5C,GACf,IAAI2B,EACJ,OAAOiX,EAAU5Y,EAAM,UAA2B,SAAdA,EAAKlN,OAKI,OAAxC6O,EAAO3B,EAAKhG,aAAc,UACN,SAAvB2H,EAAKjF,cACV,EAGEwX,MAAOkM,GAAwB,WAC9B,MAAO,CAAE,EACZ,GAEE/tB,KAAM+tB,GAAwB,SAAUoE,EAAelyB,GACtD,MAAO,CAAEA,EAAS,EACrB,GAEE6mB,GAAIiH,GAAwB,SAAUoE,EAAelyB,EAAQ+tB,GAC5D,MAAO,CAAEA,EAAW,EAAIA,EAAW/tB,EAAS+tB,EAC/C,GAEEjH,KAAMgH,GAAwB,SAAUE,EAAchuB,GAErD,IADA,IAAIC,EAAI,EACAA,EAAID,EAAQC,GAAK,EACxB+tB,EAAatoB,KAAMzF,GAEpB,OAAO+tB,CACV,GAEE/G,IAAK6G,GAAwB,SAAUE,EAAchuB,GAEpD,IADA,IAAIC,EAAI,EACAA,EAAID,EAAQC,GAAK,EACxB+tB,EAAatoB,KAAMzF,GAEpB,OAAO+tB,CACV,GAEEmE,GAAIrE,GAAwB,SAAUE,EAAchuB,EAAQ+tB,GAC3D,IAAI9tB,EAUJ,IAPCA,EADI8tB,EAAW,EACXA,EAAW/tB,EACJ+tB,EAAW/tB,EAClBA,EAEA+tB,IAGK9tB,GAAK,GACd+tB,EAAatoB,KAAMzF,GAEpB,OAAO+tB,CACV,GAEEoE,GAAItE,GAAwB,SAAUE,EAAchuB,EAAQ+tB,GAE3D,IADA,IAAI9tB,EAAI8tB,EAAW,EAAIA,EAAW/tB,EAAS+tB,IACjC9tB,EAAID,GACbguB,EAAatoB,KAAMzF,GAEpB,OAAO+tB,CACV,KAIAtE,EAAKe,QAAQ4H,IAAM3I,EAAKe,QAAQ5D,GAGrB,CAAEyL,OAAO,EAAMC,UAAU,EAAMzP,MAAM,EAAM0P,UAAU,EAAMzP,OAAO,GAC5E2G,EAAKe,QAASxqB,GAAMytB,GAAmBztB,GAExC,IAAMA,IAAK,CAAEwyB,QAAQ,EAAM/R,OAAO,GACjCgJ,EAAKe,QAASxqB,GAAM0tB,GAAoB1tB,GAIzC,SAAS6wB,KAAa,CAItB,SAAS5D,GAAUzf,EAAUilB,GAC5B,IAAI9f,EAAS9N,EAAO6tB,EAAQnyB,EAC3BoyB,EAAOhG,EAAQiG,EACfC,EAAS3I,EAAY1c,EAAW,KAEjC,GAAKqlB,EACJ,OAAOJ,EAAY,EAAII,EAAOntB,MAAO,GAOtC,IAJAitB,EAAQnlB,EACRmf,EAAS,GACTiG,EAAanJ,EAAK6F,UAEVqD,GAAQ,CA2Bf,IAAMpyB,KAxBAoS,KAAa9N,EAAQ6lB,EAAOoC,KAAM6F,MAClC9tB,IAGJ8tB,EAAQA,EAAMjtB,MAAOb,EAAO,GAAI9E,SAAY4yB,GAE7ChG,EAAOlnB,KAAQitB,EAAS,KAGzB/f,GAAU,GAGH9N,EAAQ8lB,EAAmBmC,KAAM6F,MACvChgB,EAAU9N,EAAMyoB,QAChBoF,EAAOjtB,KAAM,CACZwC,MAAO0K,EAGPpS,KAAMsE,EAAO,GAAIuB,QAASwiB,EAAU,OAErC+J,EAAQA,EAAMjtB,MAAOiN,EAAQ5S,SAIhB0pB,EAAK9c,SACX9H,EAAQkmB,EAAWxqB,GAAOusB,KAAM6F,KAAgBC,EAAYryB,MAChEsE,EAAQ+tB,EAAYryB,GAAQsE,MAC9B8N,EAAU9N,EAAMyoB,QAChBoF,EAAOjtB,KAAM,CACZwC,MAAO0K,EACPpS,KAAMA,EACN6nB,QAASvjB,IAEV8tB,EAAQA,EAAMjtB,MAAOiN,EAAQ5S,SAI/B,IAAM4S,EACL,KAEH,CAKC,OAAK8f,EACGE,EAAM5yB,OAGP4yB,EACNliB,EAAKpQ,MAAOmN,GAGZ0c,EAAY1c,EAAUmf,GAASjnB,MAAO,EACxC,CAEA,SAASwnB,GAAYwF,GAIpB,IAHA,IAAI1yB,EAAI,EACPsL,EAAMonB,EAAO3yB,OACbyN,EAAW,GACJxN,EAAIsL,EAAKtL,IAChBwN,GAAYklB,EAAQ1yB,GAAIiI,MAEzB,OAAOuF,CACR,CAEA,SAAS4e,GAAe4E,EAAS8B,EAAY5sB,GAC5C,IAAIhG,EAAM4yB,EAAW5yB,IACpB6yB,EAAOD,EAAWpR,KAClBrY,EAAM0pB,GAAQ7yB,EACd8yB,EAAmB9sB,GAAgB,eAARmD,EAC3B4pB,EAAW/vB,IAEZ,OAAO4vB,EAAWnR,MAGjB,SAAUlU,EAAMP,EAASkjB,GACxB,KAAU3iB,EAAOA,EAAMvN,IACtB,GAAuB,IAAlBuN,EAAKgY,UAAkBuN,EAC3B,OAAOhC,EAASvjB,EAAMP,EAASkjB,GAGjC,OAAO,CACV,EAGE,SAAU3iB,EAAMP,EAASkjB,GACxB,IAAI8C,EAAU7C,EACb8C,EAAW,CAAEpJ,EAASkJ,GAGvB,GAAK7C,GACJ,KAAU3iB,EAAOA,EAAMvN,IACtB,IAAuB,IAAlBuN,EAAKgY,UAAkBuN,IACtBhC,EAASvjB,EAAMP,EAASkjB,GAC5B,OAAO,OAKV,KAAU3iB,EAAOA,EAAMvN,IACtB,GAAuB,IAAlBuN,EAAKgY,UAAkBuN,EAG3B,GAFA3C,EAAa5iB,EAAM0Z,KAAe1Z,EAAM0Z,GAAY,IAE/C4L,GAAQ1M,EAAU5Y,EAAMslB,GAC5BtlB,EAAOA,EAAMvN,IAASuN,MAChB,KAAOylB,EAAW7C,EAAYhnB,KACpC6pB,EAAU,KAAQnJ,GAAWmJ,EAAU,KAAQD,EAG/C,OAASE,EAAU,GAAMD,EAAU,GAOnC,GAHA7C,EAAYhnB,GAAQ8pB,EAGbA,EAAU,GAAMnC,EAASvjB,EAAMP,EAASkjB,GAC9C,OAAO,CAEf,CAIG,OAAO,CACV,CACA,CAEA,SAASgD,GAAgBC,GACxB,OAAOA,EAAStzB,OAAS,EACxB,SAAU0N,EAAMP,EAASkjB,GAExB,IADA,IAAIpwB,EAAIqzB,EAAStzB,OACTC,KACP,IAAMqzB,EAAUrzB,GAAKyN,EAAMP,EAASkjB,GACnC,OAAO,EAGT,OAAO,CACV,EACEiD,EAAU,EACZ,CAWA,SAAS3X,GAAUuV,EAAWvX,EAAK/M,EAAQO,EAASkjB,GAOnD,IANA,IAAI3iB,EACH6lB,EAAe,GACftzB,EAAI,EACJsL,EAAM2lB,EAAUlxB,OAChBwzB,EAAgB,MAAP7Z,EAEF1Z,EAAIsL,EAAKtL,KACTyN,EAAOwjB,EAAWjxB,MAClB2M,IAAUA,EAAQc,EAAMP,EAASkjB,KACtCkD,EAAa7tB,KAAMgI,GACd8lB,GACJ7Z,EAAIjU,KAAMzF,KAMd,OAAOszB,CACR,CAEA,SAASE,GAAYlE,EAAW9hB,EAAUwjB,EAASyC,EAAYC,EAAYC,GAO1E,OANKF,IAAeA,EAAYtM,KAC/BsM,EAAaD,GAAYC,IAErBC,IAAeA,EAAYvM,KAC/BuM,EAAaF,GAAYE,EAAYC,IAE/BpG,GAAc,SAAUf,EAAM5E,EAAS1a,EAASkjB,GACtD,IAAIwD,EAAM5zB,EAAGyN,EAAMomB,EAClBC,EAAS,GACTC,EAAU,GACVC,EAAcpM,EAAQ7nB,OAGtBymB,EAAQgG,GA5CX,SAA2Bhf,EAAUymB,EAAUrM,GAG9C,IAFA,IAAI5nB,EAAI,EACPsL,EAAM2oB,EAASl0B,OACRC,EAAIsL,EAAKtL,IAChByQ,EAAMjD,EAAUymB,EAAUj0B,GAAK4nB,GAEhC,OAAOA,CACR,CAsCIsM,CAAkB1mB,GAAY,IAC7BN,EAAQuY,SAAW,CAAEvY,GAAYA,EAAS,IAG5CinB,GAAY7E,IAAe9C,GAAShf,EAEnCgZ,EADA9K,GAAU8K,EAAOsN,EAAQxE,EAAWpiB,EAASkjB,GAsB/C,GAnBKY,EAaJA,EAASmD,EATTN,EAAaH,IAAgBlH,EAAO8C,EAAY0E,GAAeP,GAG9D,GAGA7L,EAG+B1a,EAASkjB,GAEzCyD,EAAaM,EAITV,EAMJ,IALAG,EAAOlY,GAAUmY,EAAYE,GAC7BN,EAAYG,EAAM,GAAI1mB,EAASkjB,GAG/BpwB,EAAI4zB,EAAK7zB,OACDC,MACAyN,EAAOmmB,EAAM5zB,MACnB6zB,EAAYE,EAAS/zB,MAAWm0B,EAAWJ,EAAS/zB,IAAQyN,IAK/D,GAAK+e,GACJ,GAAKkH,GAAcpE,EAAY,CAC9B,GAAKoE,EAAa,CAKjB,IAFAE,EAAO,GACP5zB,EAAI6zB,EAAW9zB,OACPC,MACAyN,EAAOomB,EAAY7zB,KAGzB4zB,EAAKnuB,KAAQ0uB,EAAWn0B,GAAMyN,GAGhCimB,EAAY,KAAQG,EAAa,GAAMD,EAAMxD,EAClD,CAII,IADApwB,EAAI6zB,EAAW9zB,OACPC,MACAyN,EAAOomB,EAAY7zB,MACvB4zB,EAAOF,EAAa7vB,EAAQuH,KAAMohB,EAAM/e,GAASqmB,EAAQ9zB,SAE3DwsB,EAAMoH,KAAYhM,EAASgM,GAASnmB,GAG1C,OAIGomB,EAAanY,GACZmY,IAAejM,EACdiM,EAAWzuB,OAAQ4uB,EAAaH,EAAW9zB,QAC3C8zB,GAEGH,EACJA,EAAY,KAAM9L,EAASiM,EAAYzD,GAEvC3qB,EAAKE,MAAOiiB,EAASiM,EAGzB,EACA,CAEA,SAASO,GAAmB1B,GA+B3B,IA9BA,IAAI2B,EAAcrD,EAASna,EAC1BvL,EAAMonB,EAAO3yB,OACbu0B,EAAkB7K,EAAK4F,SAAUqD,EAAQ,GAAInyB,MAC7Cg0B,EAAmBD,GAAmB7K,EAAK4F,SAAU,KACrDrvB,EAAIs0B,EAAkB,EAAI,EAG1BE,EAAepI,GAAe,SAAU3e,GACvC,OAAOA,IAAS4mB,CACnB,EAAKE,GAAkB,GACrBE,EAAkBrI,GAAe,SAAU3e,GAC1C,OAAO5J,EAAQuH,KAAMipB,EAAc5mB,IAAS,CAC/C,EAAK8mB,GAAkB,GACrBlB,EAAW,CAAE,SAAU5lB,EAAMP,EAASkjB,GAMrC,IAAI3J,GAAS6N,IAAqBlE,GAAOljB,GAAWwc,MACjD2K,EAAennB,GAAUuY,SAC1B+O,EAAc/mB,EAAMP,EAASkjB,GAC7BqE,EAAiBhnB,EAAMP,EAASkjB,IAKlC,OADAiE,EAAe,KACR5N,CACV,GAESzmB,EAAIsL,EAAKtL,IAChB,GAAOgxB,EAAUvH,EAAK4F,SAAUqD,EAAQ1yB,GAAIO,MAC3C8yB,EAAW,CAAEjH,GAAegH,GAAgBC,GAAYrC,QAClD,CAIN,IAHAA,EAAUvH,EAAK9c,OAAQ+lB,EAAQ1yB,GAAIO,MAAOoF,MAAO,KAAM+sB,EAAQ1yB,GAAIooB,UAGrDjB,GAAY,CAIzB,IADAtQ,IAAM7W,EACE6W,EAAIvL,IACNme,EAAK4F,SAAUqD,EAAQ7b,GAAItW,MADhBsW,KAKjB,OAAO2c,GACNxzB,EAAI,GAAKozB,GAAgBC,GACzBrzB,EAAI,GAAKktB,GAGRwF,EAAOhtB,MAAO,EAAG1F,EAAI,GACnBuW,OAAQ,CAAEtO,MAAgC,MAAzByqB,EAAQ1yB,EAAI,GAAIO,KAAe,IAAM,MACvD6F,QAASwiB,EAAU,MACrBoI,EACAhxB,EAAI6W,GAAKud,GAAmB1B,EAAOhtB,MAAO1F,EAAG6W,IAC7CA,EAAIvL,GAAO8oB,GAAqB1B,EAASA,EAAOhtB,MAAOmR,IACvDA,EAAIvL,GAAO4hB,GAAYwF,GAE5B,CACGW,EAAS5tB,KAAMurB,EAClB,CAGC,OAAOoC,GAAgBC,EACxB,CAgIA,SAASrY,GAASxN,EAAU3I,GAC3B,IAAI7E,EACH00B,EAAc,GACdC,EAAkB,GAClB9B,EAAS3X,EAAe1N,EAAW,KAEpC,IAAMqlB,EAAS,CAOd,IAJMhuB,IACLA,EAAQooB,GAAUzf,IAEnBxN,EAAI6E,EAAM9E,OACFC,MACP6yB,EAASuB,GAAmBvvB,EAAO7E,KACtBmnB,GACZuN,EAAYjvB,KAAMotB,GAElB8B,EAAgBlvB,KAAMotB,GAKxBA,EAAS3X,EAAe1N,EArJ1B,SAAmCmnB,EAAiBD,GACnD,IAAIE,EAAQF,EAAY30B,OAAS,EAChC80B,EAAYF,EAAgB50B,OAAS,EACrC+0B,EAAe,SAAUtI,EAAMtf,EAASkjB,EAAKxI,EAASmN,GACrD,IAAItnB,EAAMoJ,EAAGma,EACZgE,EAAe,EACfh1B,EAAI,IACJixB,EAAYzE,GAAQ,GACpByI,EAAa,GACbC,EAAgBxL,EAGhBlD,EAAQgG,GAAQqI,GAAapL,EAAKhZ,KAAKya,IAAK,IAAK6J,GAGjDI,EAAkBpL,GAA4B,MAAjBmL,EAAwB,EAAIjmB,KAAK4I,UAAY,GAC1EvM,EAAMkb,EAAMzmB,OAeb,IAbKg1B,IAMJrL,EAAmBxc,GAAW5O,GAAY4O,GAAW6nB,GAO9C/0B,IAAMsL,GAAgC,OAAvBmC,EAAO+Y,EAAOxmB,IAAeA,IAAM,CACzD,GAAK60B,GAAapnB,EAAO,CAWxB,IAVAoJ,EAAI,EAME3J,GAAWO,EAAKwa,eAAiB3pB,IACtC4tB,GAAaze,GACb2iB,GAAOvG,GAEEmH,EAAU2D,EAAiB9d,MACpC,GAAKma,EAASvjB,EAAMP,GAAW5O,EAAU8xB,GAAQ,CAChD3qB,EAAK2F,KAAMwc,EAASna,GACpB,KACP,CAEUsnB,IACJhL,EAAUoL,EAEhB,CAGSP,KAGGnnB,GAAQujB,GAAWvjB,IACzBunB,IAIIxI,GACJyE,EAAUxrB,KAAMgI,GAGtB,CAaG,GATAunB,GAAgBh1B,EASX40B,GAAS50B,IAAMg1B,EAAe,CAElC,IADAne,EAAI,EACMma,EAAU0D,EAAa7d,MAChCma,EAASC,EAAWgE,EAAY/nB,EAASkjB,GAG1C,GAAK5D,EAAO,CAGX,GAAKwI,EAAe,EACnB,KAAQh1B,KACCixB,EAAWjxB,IAAOi1B,EAAYj1B,KACrCi1B,EAAYj1B,GAAMiO,EAAI7C,KAAMwc,IAM/BqN,EAAavZ,GAAUuZ,EAC5B,CAGIxvB,EAAKE,MAAOiiB,EAASqN,GAGhBF,IAAcvI,GAAQyI,EAAWl1B,OAAS,GAC5Ci1B,EAAeN,EAAY30B,OAAW,GAExC+E,EAAOmqB,WAAYrH,EAExB,CAQG,OALKmN,IACJhL,EAAUoL,EACVzL,EAAmBwL,GAGbjE,CACV,EAEC,OAAO2D,EACNrH,GAAcuH,GACdA,CACF,CA0BGM,CAA0BT,EAAiBD,IAG5C7B,EAAOrlB,SAAWA,CACpB,CACC,OAAOqlB,CACR,CAWA,SAAS7f,GAAQxF,EAAUN,EAAS0a,EAAS4E,GAC5C,IAAIxsB,EAAG0yB,EAAQ2C,EAAO90B,EAAMkQ,EAC3B6kB,EAA+B,mBAAb9nB,GAA2BA,EAC7C3I,GAAS2nB,GAAQS,GAAYzf,EAAW8nB,EAAS9nB,UAAYA,GAM9D,GAJAoa,EAAUA,GAAW,GAIC,IAAjB/iB,EAAM9E,OAAe,CAIzB,IADA2yB,EAAS7tB,EAAO,GAAMA,EAAO,GAAIa,MAAO,IAC5B3F,OAAS,GAAsC,QAA/Bs1B,EAAQ3C,EAAQ,IAAMnyB,MAC3B,IAArB2M,EAAQuY,UAAkBoE,GAAkBJ,EAAK4F,SAAUqD,EAAQ,GAAInyB,MAAS,CAMjF,KAJA2M,GAAYuc,EAAKhZ,KAAKua,GACrBqK,EAAMjN,QAAS,GAAIhiB,QAASwlB,EAAWC,GACvC3e,IACI,IAAM,IAEV,OAAO0a,EAGI0N,IACXpoB,EAAUA,EAAQwJ,YAGnBlJ,EAAWA,EAAS9H,MAAOgtB,EAAOpF,QAAQrlB,MAAMlI,OACnD,CAIE,IADAC,EAAI+qB,EAAUQ,aAAa/qB,KAAMgN,GAAa,EAAIklB,EAAO3yB,OACjDC,MACPq1B,EAAQ3C,EAAQ1yB,IAGXypB,EAAK4F,SAAY9uB,EAAO80B,EAAM90B,QAGnC,IAAOkQ,EAAOgZ,EAAKhZ,KAAMlQ,MAGjBisB,EAAO/b,EACb4kB,EAAMjN,QAAS,GAAIhiB,QAASwlB,EAAWC,GACvCF,EAASnrB,KAAMkyB,EAAQ,GAAInyB,OAC1BysB,GAAa9f,EAAQwJ,aAAgBxJ,IACjC,CAKL,GAFAwlB,EAAOttB,OAAQpF,EAAG,KAClBwN,EAAWgf,EAAKzsB,QAAUmtB,GAAYwF,IAGrC,OADAjtB,EAAKE,MAAOiiB,EAAS4E,GACd5E,EAGR,KACL,CAGA,CAWC,OAPE0N,GAAYta,GAASxN,EAAU3I,IAChC2nB,EACAtf,GACC2c,EACDjC,GACC1a,GAAWye,EAASnrB,KAAMgN,IAAcwf,GAAa9f,EAAQwJ,aAAgBxJ,GAExE0a,CACR,CAtlBAiJ,GAAW9sB,UAAY0lB,EAAK8L,QAAU9L,EAAKe,QAC3Cf,EAAKoH,WAAa,IAAIA,GA2lBtBtL,EAAQ4J,WAAahI,EAAQje,MAAO,IAAKqC,KAAM6e,GAAY5X,KAAM,MAAS2U,EAG1E+E,KAIA3G,EAAQqJ,aAAepB,GAAQ,SAAUrX,GAGxC,OAA4E,EAArEA,EAAG6S,wBAAyB1qB,EAASgI,cAAe,YAC5D,GAEAxB,EAAO2L,KAAOA,EAGd3L,EAAO+pB,KAAM,KAAQ/pB,EAAO+pB,KAAKrE,QACjC1lB,EAAO0wB,OAAS1wB,EAAOmqB,WAIvBxe,EAAKuK,QAAUA,GACfvK,EAAKuC,OAASA,GACdvC,EAAKyb,YAAcA,GACnBzb,EAAKwc,SAAWA,GAEhBxc,EAAK2G,OAAStS,EAAOukB,eACrB5Y,EAAKglB,QAAU3wB,EAAOuL,KACtBI,EAAKilB,MAAQ5wB,EAAOgjB,SACpBrX,EAAKklB,UAAY7wB,EAAO+pB,KACxBpe,EAAK8U,QAAUzgB,EAAOygB,QACtB9U,EAAKwe,WAAanqB,EAAOmqB,UAIxB,CAviED,GA0iEA,IAAI/uB,EAAM,SAAUuN,EAAMvN,EAAK01B,GAI9B,IAHA,IAAIjjB,EAAU,GACbkjB,OAAqBrnB,IAAVonB,GAEFnoB,EAAOA,EAAMvN,KAA6B,IAAlBuN,EAAKgY,UACtC,GAAuB,IAAlBhY,EAAKgY,SAAiB,CAC1B,GAAKoQ,GAAY/wB,EAAQ2I,GAAOqoB,GAAIF,GACnC,MAEDjjB,EAAQlN,KAAMgI,EACjB,CAEC,OAAOkF,CACR,EAGIojB,EAAW,SAAUC,EAAGvoB,GAG3B,IAFA,IAAIkF,EAAU,GAENqjB,EAAGA,EAAIA,EAAElE,YACI,IAAfkE,EAAEvQ,UAAkBuQ,IAAMvoB,GAC9BkF,EAAQlN,KAAMuwB,GAIhB,OAAOrjB,CACR,EAGIsjB,EAAgBnxB,EAAO+pB,KAAKhqB,MAAM0mB,aAElC2K,EAAU,kEAKd,SAASC,EAAQrH,EAAUsH,EAAWrF,GACrC,OAAKvL,EAAY4Q,GACTtxB,EAAOgiB,KAAMgI,EAAU,SAAUrhB,EAAMzN,GAC7C,QAASo2B,EAAUhrB,KAAMqC,EAAMzN,EAAGyN,KAAWsjB,CAChD,GAIMqF,EAAU3Q,SACP3gB,EAAOgiB,KAAMgI,EAAU,SAAUrhB,GACvC,OAASA,IAAS2oB,IAAgBrF,CACrC,GAI2B,iBAAdqF,EACJtxB,EAAOgiB,KAAMgI,EAAU,SAAUrhB,GACvC,OAAS5J,EAAQuH,KAAMgrB,EAAW3oB,IAAS,IAASsjB,CACvD,GAIQjsB,EAAO6H,OAAQypB,EAAWtH,EAAUiC,EAC5C,CAEAjsB,EAAO6H,OAAS,SAAUkiB,EAAMrI,EAAOuK,GACtC,IAAItjB,EAAO+Y,EAAO,GAMlB,OAJKuK,IACJlC,EAAO,QAAUA,EAAO,KAGH,IAAjBrI,EAAMzmB,QAAkC,IAAlB0N,EAAKgY,SACxB3gB,EAAO2L,KAAKse,gBAAiBthB,EAAMohB,GAAS,CAAEphB,GAAS,GAGxD3I,EAAO2L,KAAK2X,QAASyG,EAAM/pB,EAAOgiB,KAAMN,EAAO,SAAU/Y,GAC/D,OAAyB,IAAlBA,EAAKgY,QACd,GACA,EAEA3gB,EAAOC,GAAG8B,OAAQ,CACjB4J,KAAM,SAAUjD,GACf,IAAIxN,EAAGymB,EACNnb,EAAMnM,KAAKY,OACXs2B,EAAOl3B,KAER,GAAyB,iBAAbqO,EACX,OAAOrO,KAAKonB,UAAWzhB,EAAQ0I,GAAWb,OAAQ,WACjD,IAAM3M,EAAI,EAAGA,EAAIsL,EAAKtL,IACrB,GAAK8E,EAAOmS,SAAUof,EAAMr2B,GAAKb,MAChC,OAAO,CAGb,IAKE,IAFAsnB,EAAMtnB,KAAKonB,UAAW,IAEhBvmB,EAAI,EAAGA,EAAIsL,EAAKtL,IACrB8E,EAAO2L,KAAMjD,EAAU6oB,EAAMr2B,GAAKymB,GAGnC,OAAOnb,EAAM,EAAIxG,EAAOmqB,WAAYxI,GAAQA,CAC9C,EACC9Z,OAAQ,SAAUa,GACjB,OAAOrO,KAAKonB,UAAW4P,EAAQh3B,KAAMqO,GAAY,IAAI,GACvD,EACCujB,IAAK,SAAUvjB,GACd,OAAOrO,KAAKonB,UAAW4P,EAAQh3B,KAAMqO,GAAY,IAAI,GACvD,EACCsoB,GAAI,SAAUtoB,GACb,QAAS2oB,EACRh3B,KAIoB,iBAAbqO,GAAyByoB,EAAcz1B,KAAMgN,GACnD1I,EAAQ0I,GACRA,GAAY,IACb,GACCzN,MACJ,IAQA,IAAIu2B,EAMH5K,EAAa,uCAEN5mB,EAAOC,GAAGohB,KAAO,SAAU3Y,EAAUN,EAASkkB,GACpD,IAAIvsB,EAAO4I,EAGX,IAAMD,EACL,OAAOrO,KAQR,GAHAiyB,EAAOA,GAAQkF,EAGU,iBAAb9oB,EAAwB,CAanC,KAPC3I,EALsB,MAAlB2I,EAAU,IACsB,MAApCA,EAAUA,EAASzN,OAAS,IAC5ByN,EAASzN,QAAU,EAGX,CAAE,KAAMyN,EAAU,MAGlBke,EAAWoB,KAAMtf,MAIV3I,EAAO,IAAQqI,EA6CxB,OAAMA,GAAWA,EAAQtK,QACtBsK,GAAWkkB,GAAO3gB,KAAMjD,GAK1BrO,KAAK4O,YAAab,GAAUuD,KAAMjD,GAhDzC,GAAK3I,EAAO,GAAM,CAYjB,GAXAqI,EAAUA,aAAmBpI,EAASoI,EAAS,GAAMA,EAIrDpI,EAAO4hB,MAAOvnB,KAAM2F,EAAOyxB,UAC1B1xB,EAAO,GACPqI,GAAWA,EAAQuY,SAAWvY,EAAQ+a,eAAiB/a,EAAU5O,GACjE,IAII43B,EAAW11B,KAAMqE,EAAO,KAASC,EAAO4J,cAAexB,GAC3D,IAAMrI,KAASqI,EAGTsY,EAAYrmB,KAAM0F,IACtB1F,KAAM0F,GAASqI,EAASrI,IAIxB1F,KAAKiQ,KAAMvK,EAAOqI,EAASrI,IAK9B,OAAO1F,IAGZ,CASK,OARAsO,EAAOnP,EAAS4J,eAAgBrD,EAAO,OAKtC1F,KAAM,GAAMsO,EACZtO,KAAKY,OAAS,GAERZ,IAcZ,CAAS,OAAKqO,EAASiY,UACpBtmB,KAAM,GAAMqO,EACZrO,KAAKY,OAAS,EACPZ,MAIIqmB,EAAYhY,QACDgB,IAAf4iB,EAAKoF,MACXpF,EAAKoF,MAAOhpB,GAGZA,EAAU1I,GAGLA,EAAO6iB,UAAWna,EAAUrO,KACrC,GAGK4E,UAAYe,EAAOC,GAGxBuxB,EAAaxxB,EAAQxG,GAGrB,IAAIm4B,EAAe,iCAGlBC,EAAmB,CAClBld,UAAU,EACVmd,UAAU,EACVjV,MAAM,EACND,MAAM,GAoFR,SAASmV,EAASC,EAAK32B,GACtB,MAAU22B,EAAMA,EAAK32B,KAA4B,IAAjB22B,EAAIpR,WACpC,OAAOoR,CACR,CApFA/xB,EAAOC,GAAG8B,OAAQ,CACjBwT,IAAK,SAAUlM,GACd,IAAI2oB,EAAUhyB,EAAQqJ,EAAQhP,MAC7B43B,EAAID,EAAQ/2B,OAEb,OAAOZ,KAAKwN,OAAQ,WAEnB,IADA,IAAI3M,EAAI,EACAA,EAAI+2B,EAAG/2B,IACd,GAAK8E,EAAOmS,SAAU9X,KAAM23B,EAAS92B,IACpC,OAAO,CAGZ,EACA,EAECg3B,QAAS,SAAUrB,EAAWzoB,GAC7B,IAAI2pB,EACH72B,EAAI,EACJ+2B,EAAI53B,KAAKY,OACT4S,EAAU,GACVmkB,EAA+B,iBAAdnB,GAA0B7wB,EAAQ6wB,GAGpD,IAAMM,EAAcz1B,KAAMm1B,GACzB,KAAQ31B,EAAI+2B,EAAG/2B,IACd,IAAM62B,EAAM13B,KAAMa,GAAK62B,GAAOA,IAAQ3pB,EAAS2pB,EAAMA,EAAIngB,WAGxD,GAAKmgB,EAAIpR,SAAW,KAAQqR,EAC3BA,EAAQ5xB,MAAO2xB,IAAQ,EAGN,IAAjBA,EAAIpR,UACH3gB,EAAO2L,KAAKse,gBAAiB8H,EAAKlB,IAAgB,CAEnDhjB,EAAQlN,KAAMoxB,GACd,KACN,CAKE,OAAO13B,KAAKonB,UAAW5T,EAAQ5S,OAAS,EAAI+E,EAAOmqB,WAAYtc,GAAYA,EAC7E,EAGCzN,MAAO,SAAUuI,GAGhB,OAAMA,EAKe,iBAATA,EACJ5J,EAAQuH,KAAMtG,EAAQ2I,GAAQtO,KAAM,IAIrC0E,EAAQuH,KAAMjM,KAGpBsO,EAAK7K,OAAS6K,EAAM,GAAMA,GAZjBtO,KAAM,IAAOA,KAAM,GAAIuX,WAAevX,KAAKwiB,QAAQsV,UAAUl3B,QAAS,CAclF,EAECm3B,IAAK,SAAU1pB,EAAUN,GACxB,OAAO/N,KAAKonB,UACXzhB,EAAOmqB,WACNnqB,EAAO4hB,MAAOvnB,KAAKmU,MAAOxO,EAAQ0I,EAAUN,KAGhD,EAECiqB,QAAS,SAAU3pB,GAClB,OAAOrO,KAAK+3B,IAAiB,MAAZ1pB,EAChBrO,KAAKwnB,WAAaxnB,KAAKwnB,WAAWha,OAAQa,GAE7C,IAQA1I,EAAOG,KAAM,CACZsrB,OAAQ,SAAU9iB,GACjB,IAAI8iB,EAAS9iB,EAAKiJ,WAClB,OAAO6Z,GAA8B,KAApBA,EAAO9K,SAAkB8K,EAAS,IACrD,EACC6G,QAAS,SAAU3pB,GAClB,OAAOvN,EAAKuN,EAAM,aACpB,EACC4pB,aAAc,SAAU5pB,EAAMib,EAAIkN,GACjC,OAAO11B,EAAKuN,EAAM,aAAcmoB,EAClC,EACClU,KAAM,SAAUjU,GACf,OAAOmpB,EAASnpB,EAAM,cACxB,EACCgU,KAAM,SAAUhU,GACf,OAAOmpB,EAASnpB,EAAM,kBACxB,EACC6pB,QAAS,SAAU7pB,GAClB,OAAOvN,EAAKuN,EAAM,cACpB,EACCwpB,QAAS,SAAUxpB,GAClB,OAAOvN,EAAKuN,EAAM,kBACpB,EACC8pB,UAAW,SAAU9pB,EAAMib,EAAIkN,GAC9B,OAAO11B,EAAKuN,EAAM,cAAemoB,EACnC,EACC4B,UAAW,SAAU/pB,EAAMib,EAAIkN,GAC9B,OAAO11B,EAAKuN,EAAM,kBAAmBmoB,EACvC,EACCG,SAAU,SAAUtoB,GACnB,OAAOsoB,GAAYtoB,EAAKiJ,YAAc,CAAA,GAAKga,WAAYjjB,EACzD,EACC+L,SAAU,SAAU/L,GACnB,OAAOsoB,EAAUtoB,EAAKijB,WACxB,EACCiG,SAAU,SAAUlpB,GACnB,OAA6B,MAAxBA,EAAKgqB,iBAKTtS,EAAU1X,EAAKgqB,iBAERhqB,EAAKgqB,iBAMRpR,EAAU5Y,EAAM,cACpBA,EAAOA,EAAKiqB,SAAWjqB,GAGjB3I,EAAO4hB,MAAO,GAAIjZ,EAAK6e,YAChC,GACG,SAAUllB,EAAMrC,GAClBD,EAAOC,GAAIqC,GAAS,SAAUwuB,EAAOpoB,GACpC,IAAImF,EAAU7N,EAAO4U,IAAKva,KAAM4F,EAAI6wB,GAuBpC,MArB0B,UAArBxuB,EAAK1B,OAAO,KAChB8H,EAAWooB,GAGPpoB,GAAgC,iBAAbA,IACvBmF,EAAU7N,EAAO6H,OAAQa,EAAUmF,IAG/BxT,KAAKY,OAAS,IAGZ22B,EAAkBtvB,IACvBtC,EAAOmqB,WAAYtc,GAIf8jB,EAAaj2B,KAAM4G,IACvBuL,EAAQzG,WAIH/M,KAAKonB,UAAW5T,EACzB,CACA,GACA,IAAIglB,EAAa,oBAsOjB,SAASC,EAAUx4B,GAClB,OAAOA,CACR,CACA,SAASy4B,EAASC,GACjB,MAAMA,CACP,CAEA,SAASC,EAAY9vB,EAAO+vB,EAASC,EAAQC,GAC5C,IAAIC,EAEJ,IAGMlwB,GAASud,EAAc2S,EAASlwB,EAAMmwB,SAC1CD,EAAO/sB,KAAMnD,GAAQ/E,KAAM80B,GAAUK,KAAMJ,GAGhChwB,GAASud,EAAc2S,EAASlwB,EAAMkL,MACjDglB,EAAO/sB,KAAMnD,EAAO+vB,EAASC,GAQ7BD,EAAQryB,WAAO6I,EAAW,CAAEvG,GAAQvC,MAAOwyB,GAM9C,CAAG,MAAQjwB,GAITgwB,EAAOtyB,WAAO6I,EAAW,CAAEvG,GAC7B,CACA,CAzOAnD,EAAOwzB,UAAY,SAAUr0B,GAI5BA,EAA6B,iBAAZA,EAlClB,SAAwBA,GACvB,IAAIs0B,EAAS,CAAA,EAIb,OAHAzzB,EAAOG,KAAMhB,EAAQY,MAAO8yB,IAAmB,GAAI,SAAUjwB,EAAG8wB,GAC/DD,EAAQC,IAAS,CACnB,GACQD,CACR,CA6BEE,CAAex0B,GACfa,EAAO+B,OAAQ,CAAA,EAAI5C,GAEpB,IACCy0B,EAGAC,EAGAC,EAGAC,EAGAC,EAAO,GAGPC,EAAQ,GAGRC,GAAc,EAGdC,EAAO,WAQN,IALAJ,EAASA,GAAU50B,EAAQi1B,KAI3BN,EAAQF,GAAS,EACTK,EAAMh5B,OAAQi5B,KAErB,IADAL,EAASI,EAAMzL,UACL0L,EAAcF,EAAK/4B,SAGmC,IAA1D+4B,EAAME,GAAcrzB,MAAOgzB,EAAQ,GAAKA,EAAQ,KACpD10B,EAAQk1B,cAGRH,EAAcF,EAAK/4B,OACnB44B,GAAS,GAMN10B,EAAQ00B,SACbA,GAAS,GAGVD,GAAS,EAGJG,IAIHC,EADIH,EACG,GAIA,GAGZ,EAGEtC,EAAO,CAGNa,IAAK,WA2BJ,OA1BK4B,IAGCH,IAAWD,IACfM,EAAcF,EAAK/4B,OAAS,EAC5Bg5B,EAAMtzB,KAAMkzB,IAGb,SAAWzB,EAAK/pB,GACfrI,EAAOG,KAAMkI,EAAM,SAAUzF,EAAG4gB,GAC1B9C,EAAY8C,GACVrkB,EAAQuxB,QAAWa,EAAKhc,IAAKiO,IAClCwQ,EAAKrzB,KAAM6iB,GAEDA,GAAOA,EAAIvoB,QAA4B,WAAlBkmB,EAAQqC,IAGxC4O,EAAK5O,EAEb,EACM,CAZD,CAYKlb,WAEAurB,IAAWD,GACfO,KAGK95B,IACX,EAGGwK,OAAQ,WAYP,OAXA7E,EAAOG,KAAMmI,UAAW,SAAU1F,EAAG4gB,GAEpC,IADA,IAAIpjB,GACMA,EAAQJ,EAAO+iB,QAASS,EAAKwQ,EAAM5zB,QAC5C4zB,EAAK1zB,OAAQF,EAAO,GAGfA,GAAS8zB,GACbA,GAGP,GACW75B,IACX,EAIGkb,IAAK,SAAUtV,GACd,OAAOA,EACND,EAAO+iB,QAAS9iB,EAAI+zB,IAAS,EAC7BA,EAAK/4B,OAAS,CACnB,EAGG8xB,MAAO,WAIN,OAHKiH,IACJA,EAAO,IAED35B,IACX,EAKGi6B,QAAS,WAGR,OAFAP,EAASE,EAAQ,GACjBD,EAAOH,EAAS,GACTx5B,IACX,EACGktB,SAAU,WACT,OAAQyM,CACZ,EAKGO,KAAM,WAKL,OAJAR,EAASE,EAAQ,GACXJ,GAAWD,IAChBI,EAAOH,EAAS,IAEVx5B,IACX,EACG05B,OAAQ,WACP,QAASA,CACb,EAGGS,SAAU,SAAUpsB,EAASC,GAS5B,OARM0rB,IAEL1rB,EAAO,CAAED,GADTC,EAAOA,GAAQ,IACQzH,MAAQyH,EAAKzH,QAAUyH,GAC9C4rB,EAAMtzB,KAAM0H,GACNurB,GACLO,KAGK95B,IACX,EAGG85B,KAAM,WAEL,OADA5C,EAAKiD,SAAUn6B,KAAMiO,WACdjO,IACX,EAGGy5B,MAAO,WACN,QAASA,CACb,GAGC,OAAOvC,CACR,EA2CAvxB,EAAO+B,OAAQ,CAEd0yB,SAAU,SAAUvsB,GACnB,IAAIwsB,EAAS,CAIX,CAAE,SAAU,WAAY10B,EAAOwzB,UAAW,UACzCxzB,EAAOwzB,UAAW,UAAY,GAC/B,CAAE,UAAW,OAAQxzB,EAAOwzB,UAAW,eACtCxzB,EAAOwzB,UAAW,eAAiB,EAAG,YACvC,CAAE,SAAU,OAAQxzB,EAAOwzB,UAAW,eACrCxzB,EAAOwzB,UAAW,eAAiB,EAAG,aAExC3kB,EAAQ,UACRykB,EAAU,CACTzkB,MAAO,WACN,OAAOA,CACZ,EACI8lB,OAAQ,WAEP,OADAC,EAASx2B,KAAMkK,WAAYirB,KAAMjrB,WAC1BjO,IACZ,EACIw6B,MAAS,SAAU50B,GAClB,OAAOqzB,EAAQjlB,KAAM,KAAMpO,EAChC,EAGI60B,KAAM,WACL,IAAIC,EAAMzsB,UAEV,OAAOtI,EAAOy0B,SAAU,SAAUO,GACjCh1B,EAAOG,KAAMu0B,EAAQ,SAAU9Q,EAAIqR,GAGlC,IAAIh1B,EAAKygB,EAAYqU,EAAKE,EAAO,MAAWF,EAAKE,EAAO,IAKxDL,EAAUK,EAAO,IAAO,WACvB,IAAIC,EAAWj1B,GAAMA,EAAGY,MAAOxG,KAAMiO,WAChC4sB,GAAYxU,EAAYwU,EAAS5B,SACrC4B,EAAS5B,UACPl2B,SAAU43B,EAASG,QACnB/2B,KAAM42B,EAAS9B,SACfK,KAAMyB,EAAS7B,QAEjB6B,EAAUC,EAAO,GAAM,QACtB56B,KACA4F,EAAK,CAAEi1B,GAAa5sB,UAG9B,EACA,GACMysB,EAAM,IACZ,GAASzB,SACT,EACIjlB,KAAM,SAAU+mB,EAAaC,EAAYC,GACxC,IAAIC,EAAW,EACf,SAASrC,EAASsC,EAAOZ,EAAUjkB,EAAS8kB,GAC3C,OAAO,WACN,IAAI51B,EAAOxF,KACVgO,EAAOC,UACPotB,EAAa,WACZ,IAAIR,EAAU7mB,EAKd,KAAKmnB,EAAQD,GAAb,CAQA,IAJAL,EAAWvkB,EAAQ9P,MAAOhB,EAAMwI,MAIdusB,EAAStB,UAC1B,MAAM,IAAIqC,UAAW,4BAOtBtnB,EAAO6mB,IAKgB,iBAAbA,GACY,mBAAbA,IACRA,EAAS7mB,KAGLqS,EAAYrS,GAGXonB,EACJpnB,EAAK/H,KACJ4uB,EACAhC,EAASqC,EAAUX,EAAU9B,EAAU2C,GACvCvC,EAASqC,EAAUX,EAAU7B,EAAS0C,KAOvCF,IAEAlnB,EAAK/H,KACJ4uB,EACAhC,EAASqC,EAAUX,EAAU9B,EAAU2C,GACvCvC,EAASqC,EAAUX,EAAU7B,EAAS0C,GACtCvC,EAASqC,EAAUX,EAAU9B,EAC5B8B,EAASgB,eASPjlB,IAAYmiB,IAChBjzB,OAAO6J,EACPrB,EAAO,CAAE6sB,KAKRO,GAAWb,EAASiB,aAAeh2B,EAAMwI,GA7DrD,CA+DA,EAGQytB,EAAUL,EACTC,EACA,WACC,IACCA,GACX,CAAY,MAAQp3B,GAEJ0B,EAAOy0B,SAASsB,eACpB/1B,EAAOy0B,SAASsB,cAAez3B,EAC9Bw3B,EAAQv6B,OAMLi6B,EAAQ,GAAKD,IAIZ5kB,IAAYoiB,IAChBlzB,OAAO6J,EACPrB,EAAO,CAAE/J,IAGVs2B,EAASoB,WAAYn2B,EAAMwI,GAEvC,CACA,EAMYmtB,EACJM,KAKK91B,EAAOy0B,SAASwB,aACpBH,EAAQv6B,MAAQyE,EAAOy0B,SAASwB,eAMrBj2B,EAAOy0B,SAASyB,eAC3BJ,EAAQv6B,MAAQyE,EAAOy0B,SAASyB,gBAEjCz8B,EAAOwH,WAAY60B,GAE3B,CACA,CAEK,OAAO91B,EAAOy0B,SAAU,SAAUO,GAGjCN,EAAQ,GAAK,GAAItC,IAChBc,EACC,EACA8B,EACAtU,EAAY4U,GACXA,EACAxC,EACDkC,EAASY,aAKXlB,EAAQ,GAAK,GAAItC,IAChBc,EACC,EACA8B,EACAtU,EAAY0U,GACXA,EACAtC,IAKH4B,EAAQ,GAAK,GAAItC,IAChBc,EACC,EACA8B,EACAtU,EAAY2U,GACXA,EACAtC,GAGT,GAASO,SACT,EAIIA,QAAS,SAAUjvB,GAClB,OAAc,MAAPA,EAAcrE,EAAO+B,OAAQsC,EAAKivB,GAAYA,CAC1D,GAEGsB,EAAW,CAAA,EAkEZ,OA/DA50B,EAAOG,KAAMu0B,EAAQ,SAAUx5B,EAAG+5B,GACjC,IAAIjB,EAAOiB,EAAO,GACjBkB,EAAclB,EAAO,GAKtB3B,EAAS2B,EAAO,IAAQjB,EAAK5B,IAGxB+D,GACJnC,EAAK5B,IACJ,WAICvjB,EAAQsnB,CACd,EAIKzB,EAAQ,EAAIx5B,GAAK,GAAIo5B,QAIrBI,EAAQ,EAAIx5B,GAAK,GAAIo5B,QAGrBI,EAAQ,GAAK,GAAIH,KAGjBG,EAAQ,GAAK,GAAIH,MAOnBP,EAAK5B,IAAK6C,EAAO,GAAId,MAKrBS,EAAUK,EAAO,IAAQ,WAExB,OADAL,EAAUK,EAAO,GAAM,QAAU56B,OAASu6B,OAAWlrB,EAAYrP,KAAMiO,WAChEjO,IACX,EAKGu6B,EAAUK,EAAO,GAAM,QAAWjB,EAAKQ,QAC1C,GAGElB,EAAQA,QAASsB,GAGZ1sB,GACJA,EAAK5B,KAAMsuB,EAAUA,GAIfA,CACT,EAGCwB,KAAM,SAAUC,GACf,IAGCC,EAAYhuB,UAAUrN,OAGtBC,EAAIo7B,EAGJC,EAAkB5sB,MAAOzO,GACzBs7B,EAAgB51B,EAAM0F,KAAMgC,WAG5BmuB,EAAUz2B,EAAOy0B,WAGjBiC,EAAa,SAAUx7B,GACtB,OAAO,SAAUiI,GAChBozB,EAAiBr7B,GAAMb,KACvBm8B,EAAet7B,GAAMoN,UAAUrN,OAAS,EAAI2F,EAAM0F,KAAMgC,WAAcnF,IAC5DmzB,GACTG,EAAQZ,YAAaU,EAAiBC,EAE5C,CACA,EAGE,GAAKF,GAAa,IACjBrD,EAAYoD,EAAaI,EAAQr4B,KAAMs4B,EAAYx7B,IAAMg4B,QAASuD,EAAQtD,QACxEmD,GAGuB,YAApBG,EAAQ5nB,SACZ6R,EAAY8V,EAAet7B,IAAOs7B,EAAet7B,GAAImT,OAErD,OAAOooB,EAAQpoB,OAKjB,KAAQnT,KACP+3B,EAAYuD,EAAet7B,GAAKw7B,EAAYx7B,GAAKu7B,EAAQtD,QAG1D,OAAOsD,EAAQnD,SACjB,IAMA,IAAIqD,EAAc,yDAKlB32B,EAAOy0B,SAASsB,cAAgB,SAAUx6B,EAAOq7B,GAI3Cn9B,EAAOmC,SAAWnC,EAAOmC,QAAQuX,MAAQ5X,GAASo7B,EAAYj7B,KAAMH,EAAM+G,OAC9E7I,EAAOmC,QAAQuX,KAAM,8BAAgC5X,EAAMib,QAC1Djb,EAAMud,MAAO8d,EAEhB,EAKA52B,EAAO62B,eAAiB,SAAUt7B,GACjC9B,EAAOwH,WAAY,WAClB,MAAM1F,CACR,EACA,EAMA,IAAIu7B,EAAY92B,EAAOy0B,WAkDvB,SAASsC,IACRv9B,EAASoF,oBAAqB,mBAAoBm4B,GAClDt9B,EAAOmF,oBAAqB,OAAQm4B,GACpC/2B,EAAO0xB,OACR,CApDA1xB,EAAOC,GAAGyxB,MAAQ,SAAUzxB,GAY3B,OAVA62B,EACEzoB,KAAMpO,GAKN40B,MAAO,SAAUt5B,GACjByE,EAAO62B,eAAgBt7B,EAC1B,GAEQlB,IACR,EAEA2F,EAAO+B,OAAQ,CAGdugB,SAAS,EAIT0U,UAAW,EAGXtF,MAAO,SAAUvpB,KAGF,IAATA,IAAkBnI,EAAOg3B,UAAYh3B,EAAOsiB,WAKjDtiB,EAAOsiB,SAAU,GAGH,IAATna,KAAmBnI,EAAOg3B,UAAY,GAK3CF,EAAUjB,YAAar8B,EAAU,CAAEwG,IACrC,IAGAA,EAAO0xB,MAAMrjB,KAAOyoB,EAAUzoB,KAaD,aAAxB7U,EAAS2B,YACa,YAAxB3B,EAAS2B,aAA6B3B,EAASoR,gBAAgBqsB,SAGjEx9B,EAAOwH,WAAYjB,EAAO0xB,QAK1Bl4B,EAASwF,iBAAkB,mBAAoB+3B,GAG/Ct9B,EAAOuF,iBAAkB,OAAQ+3B,IAQlC,IAAIG,EAAS,SAAUxV,EAAOzhB,EAAIsE,EAAKpB,EAAOg0B,EAAWC,EAAUC,GAClE,IAAIn8B,EAAI,EACPsL,EAAMkb,EAAMzmB,OACZq8B,EAAc,MAAP/yB,EAGR,GAAuB,WAAlB4c,EAAQ5c,GAEZ,IAAMrJ,KADNi8B,GAAY,EACD5yB,EACV2yB,EAAQxV,EAAOzhB,EAAI/E,EAAGqJ,EAAKrJ,IAAK,EAAMk8B,EAAUC,QAI3C,QAAe3tB,IAAVvG,IACXg0B,GAAY,EAENzW,EAAYvd,KACjBk0B,GAAM,GAGFC,IAGCD,GACJp3B,EAAGqG,KAAMob,EAAOve,GAChBlD,EAAK,OAILq3B,EAAOr3B,EACPA,EAAK,SAAU0I,EAAM4uB,EAAMp0B,GAC1B,OAAOm0B,EAAKhxB,KAAMtG,EAAQ2I,GAAQxF,EACvC,IAIOlD,GACJ,KAAQ/E,EAAIsL,EAAKtL,IAChB+E,EACCyhB,EAAOxmB,GAAKqJ,EAAK8yB,EAChBl0B,EACAA,EAAMmD,KAAMob,EAAOxmB,GAAKA,EAAG+E,EAAIyhB,EAAOxmB,GAAKqJ,KAMhD,OAAK4yB,EACGzV,EAIH4V,EACGr3B,EAAGqG,KAAMob,GAGVlb,EAAMvG,EAAIyhB,EAAO,GAAKnd,GAAQ6yB,CACtC,EAIII,EAAY,QACfC,EAAa,YAGd,SAASC,GAAYC,EAAMC,GAC1B,OAAOA,EAAOh9B,aACf,CAKA,SAASi9B,GAAWC,GACnB,OAAOA,EAAOx2B,QAASk2B,EAAW,OAAQl2B,QAASm2B,EAAYC,GAChE,CACA,IAAIK,GAAa,SAAUC,GAQ1B,OAA0B,IAAnBA,EAAMrX,UAAqC,IAAnBqX,EAAMrX,YAAsBqX,EAAMrX,QAClE,EAKA,SAASsX,KACR59B,KAAKgoB,QAAUriB,EAAOqiB,QAAU4V,GAAKC,KACtC,CAEAD,GAAKC,IAAM,EAEXD,GAAKh5B,UAAY,CAEhBlF,MAAO,SAAUi+B,GAGhB,IAAI70B,EAAQ60B,EAAO39B,KAAKgoB,SA4BxB,OAzBMlf,IACLA,EAAQ,CAAA,EAKH40B,GAAYC,KAIXA,EAAMrX,SACVqX,EAAO39B,KAAKgoB,SAAYlf,EAMxBrH,OAAOyS,eAAgBypB,EAAO39B,KAAKgoB,QAAS,CAC3Clf,MAAOA,EACPg1B,cAAc,MAMXh1B,CACT,EACCwW,IAAK,SAAUqe,EAAOh0B,EAAMb,GAC3B,IAAIkP,EACHtY,EAAQM,KAAKN,MAAOi+B,GAIrB,GAAqB,iBAATh0B,EACXjK,EAAO89B,GAAW7zB,IAAWb,OAM7B,IAAMkP,KAAQrO,EACbjK,EAAO89B,GAAWxlB,IAAWrO,EAAMqO,GAGrC,OAAOtY,CACT,EACCyU,IAAK,SAAUwpB,EAAOzzB,GACrB,YAAemF,IAARnF,EACNlK,KAAKN,MAAOi+B,GAGZA,EAAO39B,KAAKgoB,UAAa2V,EAAO39B,KAAKgoB,SAAWwV,GAAWtzB,GAC9D,EACC2yB,OAAQ,SAAUc,EAAOzzB,EAAKpB,GAa7B,YAAauG,IAARnF,GACCA,GAAsB,iBAARA,QAAgCmF,IAAVvG,EAElC9I,KAAKmU,IAAKwpB,EAAOzzB,IASzBlK,KAAKsf,IAAKqe,EAAOzzB,EAAKpB,QAILuG,IAAVvG,EAAsBA,EAAQoB,EACvC,EACCM,OAAQ,SAAUmzB,EAAOzzB,GACxB,IAAIrJ,EACHnB,EAAQi+B,EAAO39B,KAAKgoB,SAErB,QAAe3Y,IAAV3P,EAAL,CAIA,QAAa2P,IAARnF,EAAoB,CAkBxBrJ,GAXCqJ,EAJIoF,MAAMvH,QAASmC,GAIbA,EAAIqQ,IAAKijB,KAEftzB,EAAMszB,GAAWtzB,MAIJxK,EACZ,CAAEwK,GACAA,EAAIxE,MAAO8yB,IAAmB,IAG1B53B,OAER,KAAQC,YACAnB,EAAOwK,EAAKrJ,GAEvB,OAGewO,IAARnF,GAAqBvE,EAAOyiB,cAAe1oB,MAM1Ci+B,EAAMrX,SACVqX,EAAO39B,KAAKgoB,cAAY3Y,SAEjBsuB,EAAO39B,KAAKgoB,SArCvB,CAwCA,EACC+V,QAAS,SAAUJ,GAClB,IAAIj+B,EAAQi+B,EAAO39B,KAAKgoB,SACxB,YAAiB3Y,IAAV3P,IAAwBiG,EAAOyiB,cAAe1oB,EACvD,GAEA,IAAIs+B,GAAW,IAAIJ,GAEfK,GAAW,IAAIL,GAcfM,GAAS,gCACZC,GAAa,SA2Bd,SAASC,GAAU9vB,EAAMpE,EAAKP,GAC7B,IAAI1B,EAIJ,QAAcoH,IAAT1F,GAAwC,IAAlB2E,EAAKgY,SAI/B,GAHAre,EAAO,QAAUiC,EAAIjD,QAASk3B,GAAY,OAAQnzB,cAG7B,iBAFrBrB,EAAO2E,EAAKhG,aAAcL,IAEM,CAC/B,IACC0B,EApCJ,SAAkBA,GACjB,MAAc,SAATA,GAIS,UAATA,IAIS,SAATA,EACG,KAIHA,KAAUA,EAAO,IACbA,EAGJu0B,GAAO78B,KAAMsI,GACVW,KAAKC,MAAOZ,GAGbA,EACR,CAaW00B,CAAS10B,EACpB,CAAK,MAAQ1F,GAAI,CAGdg6B,GAAS3e,IAAKhR,EAAMpE,EAAKP,EAC5B,MACGA,OAAO0F,EAGT,OAAO1F,CACR,CAEAhE,EAAO+B,OAAQ,CACdq2B,QAAS,SAAUzvB,GAClB,OAAO2vB,GAASF,QAASzvB,IAAU0vB,GAASD,QAASzvB,EACvD,EAEC3E,KAAM,SAAU2E,EAAMrG,EAAM0B,GAC3B,OAAOs0B,GAASpB,OAAQvuB,EAAMrG,EAAM0B,EACtC,EAEC20B,WAAY,SAAUhwB,EAAMrG,GAC3Bg2B,GAASzzB,OAAQ8D,EAAMrG,EACzB,EAICs2B,MAAO,SAAUjwB,EAAMrG,EAAM0B,GAC5B,OAAOq0B,GAASnB,OAAQvuB,EAAMrG,EAAM0B,EACtC,EAEC60B,YAAa,SAAUlwB,EAAMrG,GAC5B+1B,GAASxzB,OAAQ8D,EAAMrG,EACzB,IAGAtC,EAAOC,GAAG8B,OAAQ,CACjBiC,KAAM,SAAUO,EAAKpB,GACpB,IAAIjI,EAAGoH,EAAM0B,EACZ2E,EAAOtO,KAAM,GACby+B,EAAQnwB,GAAQA,EAAK8c,WAGtB,QAAa/b,IAARnF,EAAoB,CACxB,GAAKlK,KAAKY,SACT+I,EAAOs0B,GAAS9pB,IAAK7F,GAEE,IAAlBA,EAAKgY,WAAmB0X,GAAS7pB,IAAK7F,EAAM,iBAAmB,CAEnE,IADAzN,EAAI49B,EAAM79B,OACFC,KAIF49B,EAAO59B,IAEsB,KADjCoH,EAAOw2B,EAAO59B,GAAIoH,MACRvD,QAAS,WAClBuD,EAAOu1B,GAAWv1B,EAAK1B,MAAO,IAC9B63B,GAAU9vB,EAAMrG,EAAM0B,EAAM1B,KAI/B+1B,GAAS1e,IAAKhR,EAAM,gBAAgB,EACzC,CAGG,OAAO3E,CACV,CAGE,MAAoB,iBAARO,EACJlK,KAAK8F,KAAM,WACjBm4B,GAAS3e,IAAKtf,KAAMkK,EACxB,GAGS2yB,EAAQ78B,KAAM,SAAU8I,GAC9B,IAAIa,EAOJ,GAAK2E,QAAkBe,IAAVvG,EAKZ,YAAcuG,KADd1F,EAAOs0B,GAAS9pB,IAAK7F,EAAMpE,UAQbmF,KADd1F,EAAOy0B,GAAU9vB,EAAMpE,IALfP,OAWR,EAID3J,KAAK8F,KAAM,WAGVm4B,GAAS3e,IAAKtf,KAAMkK,EAAKpB,EAC7B,EACA,EAAK,KAAMA,EAAOmF,UAAUrN,OAAS,EAAG,MAAM,EAC9C,EAEC09B,WAAY,SAAUp0B,GACrB,OAAOlK,KAAK8F,KAAM,WACjBm4B,GAASzzB,OAAQxK,KAAMkK,EAC1B,EACA,IAIAvE,EAAO+B,OAAQ,CACdkyB,MAAO,SAAUtrB,EAAMlN,EAAMuI,GAC5B,IAAIiwB,EAEJ,GAAKtrB,EAYJ,OAXAlN,GAASA,GAAQ,MAAS,QAC1Bw4B,EAAQoE,GAAS7pB,IAAK7F,EAAMlN,GAGvBuI,KACEiwB,GAAStqB,MAAMvH,QAAS4B,GAC7BiwB,EAAQoE,GAASnB,OAAQvuB,EAAMlN,EAAMuE,EAAO6iB,UAAW7e,IAEvDiwB,EAAMtzB,KAAMqD,IAGPiwB,GAAS,EAEnB,EAEC8E,QAAS,SAAUpwB,EAAMlN,GACxBA,EAAOA,GAAQ,KAEf,IAAIw4B,EAAQj0B,EAAOi0B,MAAOtrB,EAAMlN,GAC/Bu9B,EAAc/E,EAAMh5B,OACpBgF,EAAKg0B,EAAMzL,QACXyQ,EAAQj5B,EAAOk5B,YAAavwB,EAAMlN,GAMvB,eAAPwE,IACJA,EAAKg0B,EAAMzL,QACXwQ,KAGI/4B,IAIU,OAATxE,GACJw4B,EAAM1c,QAAS,qBAIT0hB,EAAME,KACbl5B,EAAGqG,KAAMqC,EApBF,WACN3I,EAAO+4B,QAASpwB,EAAMlN,EAC1B,EAkBwBw9B,KAGhBD,GAAeC,GACpBA,EAAMlM,MAAMoH,MAEf,EAGC+E,YAAa,SAAUvwB,EAAMlN,GAC5B,IAAI8I,EAAM9I,EAAO,aACjB,OAAO48B,GAAS7pB,IAAK7F,EAAMpE,IAAS8zB,GAASnB,OAAQvuB,EAAMpE,EAAK,CAC/DwoB,MAAO/sB,EAAOwzB,UAAW,eAAgBpB,IAAK,WAC7CiG,GAASxzB,OAAQ8D,EAAM,CAAElN,EAAO,QAAS8I,GAC7C,IAEA,IAGAvE,EAAOC,GAAG8B,OAAQ,CACjBkyB,MAAO,SAAUx4B,EAAMuI,GACtB,IAAIo1B,EAAS,EAQb,MANqB,iBAAT39B,IACXuI,EAAOvI,EACPA,EAAO,KACP29B,KAGI9wB,UAAUrN,OAASm+B,EAChBp5B,EAAOi0B,MAAO55B,KAAM,GAAKoB,QAGjBiO,IAAT1F,EACN3J,KACAA,KAAK8F,KAAM,WACV,IAAI8zB,EAAQj0B,EAAOi0B,MAAO55B,KAAMoB,EAAMuI,GAGtChE,EAAOk5B,YAAa7+B,KAAMoB,GAEZ,OAATA,GAAgC,eAAfw4B,EAAO,IAC5Bj0B,EAAO+4B,QAAS1+B,KAAMoB,EAE3B,EACA,EACCs9B,QAAS,SAAUt9B,GAClB,OAAOpB,KAAK8F,KAAM,WACjBH,EAAO+4B,QAAS1+B,KAAMoB,EACzB,EACA,EACC49B,WAAY,SAAU59B,GACrB,OAAOpB,KAAK45B,MAAOx4B,GAAQ,KAAM,GACnC,EAIC63B,QAAS,SAAU73B,EAAM4I,GACxB,IAAIi1B,EACHC,EAAQ,EACRC,EAAQx5B,EAAOy0B,WACfzK,EAAW3vB,KACXa,EAAIb,KAAKY,OACTi4B,EAAU,aACCqG,GACTC,EAAM3D,YAAa7L,EAAU,CAAEA,GAEpC,EAQE,IANqB,iBAATvuB,IACX4I,EAAM5I,EACNA,OAAOiO,GAERjO,EAAOA,GAAQ,KAEPP,MACPo+B,EAAMjB,GAAS7pB,IAAKwb,EAAU9uB,GAAKO,EAAO,gBAC9B69B,EAAIvM,QACfwM,IACAD,EAAIvM,MAAMqF,IAAKc,IAIjB,OADAA,IACOsG,EAAMlG,QAASjvB,EACxB,IAEA,IAAIo1B,GAAO,sCAA0CnwB,OAEjDowB,GAAU,IAAIj0B,OAAQ,iBAAmBg0B,GAAO,cAAe,KAG/DE,GAAY,CAAE,MAAO,QAAS,SAAU,QAExC/uB,GAAkBpR,EAASoR,gBAI1BgvB,GAAa,SAAUjxB,GACzB,OAAO3I,EAAOmS,SAAUxJ,EAAKwa,cAAexa,EAC/C,EACEkxB,GAAW,CAAEA,UAAU,GAOnBjvB,GAAgBkvB,cACpBF,GAAa,SAAUjxB,GACtB,OAAO3I,EAAOmS,SAAUxJ,EAAKwa,cAAexa,IAC3CA,EAAKmxB,YAAaD,MAAelxB,EAAKwa,aAC1C,GAEA,IAAI4W,GAAqB,SAAUpxB,EAAM0I,GAOvC,MAA8B,UAH9B1I,EAAO0I,GAAM1I,GAGDpG,MAAMy3B,SACM,KAAvBrxB,EAAKpG,MAAMy3B,SAMXJ,GAAYjxB,IAEsB,SAAlC3I,EAAOwV,IAAK7M,EAAM,UACrB,EAIA,SAASsxB,GAAWtxB,EAAM0J,EAAM6nB,EAAYC,GAC3C,IAAIC,EAAUC,EACbC,EAAgB,GAChBC,EAAeJ,EACd,WACC,OAAOA,EAAMpI,KACjB,EACG,WACC,OAAO/xB,EAAOwV,IAAK7M,EAAM0J,EAAM,GACnC,EACEmoB,EAAUD,IACVE,EAAOP,GAAcA,EAAY,KAASl6B,EAAO06B,UAAWroB,GAAS,GAAK,MAG1EsoB,EAAgBhyB,EAAKgY,WAClB3gB,EAAO06B,UAAWroB,IAAmB,OAATooB,IAAkBD,IAChDd,GAAQ1R,KAAMhoB,EAAOwV,IAAK7M,EAAM0J,IAElC,GAAKsoB,GAAiBA,EAAe,KAAQF,EAAO,CAYnD,IARAD,GAAoB,EAGpBC,EAAOA,GAAQE,EAAe,GAG9BA,GAAiBH,GAAW,EAEpBF,KAIPt6B,EAAOuC,MAAOoG,EAAM0J,EAAMsoB,EAAgBF,IACnC,EAAIJ,IAAY,GAAMA,EAAQE,IAAiBC,GAAW,MAAW,IAC3EF,EAAgB,GAEjBK,GAAgCN,EAIjCM,GAAgC,EAChC36B,EAAOuC,MAAOoG,EAAM0J,EAAMsoB,EAAgBF,GAG1CP,EAAaA,GAAc,EAC7B,CAeC,OAbKA,IACJS,GAAiBA,IAAkBH,GAAW,EAG9CJ,EAAWF,EAAY,GACtBS,GAAkBT,EAAY,GAAM,GAAMA,EAAY,IACrDA,EAAY,GACTC,IACJA,EAAMM,KAAOA,EACbN,EAAM/gB,MAAQuhB,EACdR,EAAM7gB,IAAM8gB,IAGPA,CACR,CAGA,IAAIQ,GAAoB,CAAA,EAExB,SAASC,GAAmBlyB,GAC3B,IAAImmB,EACH7N,EAAMtY,EAAKwa,cACX5B,EAAW5Y,EAAK4Y,SAChByY,EAAUY,GAAmBrZ,GAE9B,OAAKyY,IAILlL,EAAO7N,EAAIxW,KAAK5I,YAAaof,EAAIzf,cAAe+f,IAChDyY,EAAUh6B,EAAOwV,IAAKsZ,EAAM,WAE5BA,EAAKld,WAAW9P,YAAagtB,GAEZ,SAAZkL,IACJA,EAAU,SAEXY,GAAmBrZ,GAAayY,EAEzBA,EACR,CAEA,SAASc,GAAU9Q,EAAU+Q,GAO5B,IANA,IAAIf,EAASrxB,EACZqyB,EAAS,GACT56B,EAAQ,EACRnF,EAAS+uB,EAAS/uB,OAGXmF,EAAQnF,EAAQmF,KACvBuI,EAAOqhB,EAAU5pB,IACNmC,QAIXy3B,EAAUrxB,EAAKpG,MAAMy3B,QAChBe,GAKa,SAAZf,IACJgB,EAAQ56B,GAAUi4B,GAAS7pB,IAAK7F,EAAM,YAAe,KAC/CqyB,EAAQ56B,KACbuI,EAAKpG,MAAMy3B,QAAU,KAGK,KAAvBrxB,EAAKpG,MAAMy3B,SAAkBD,GAAoBpxB,KACrDqyB,EAAQ56B,GAAUy6B,GAAmBlyB,KAGrB,SAAZqxB,IACJgB,EAAQ56B,GAAU,OAGlBi4B,GAAS1e,IAAKhR,EAAM,UAAWqxB,KAMlC,IAAM55B,EAAQ,EAAGA,EAAQnF,EAAQmF,IACR,MAAnB46B,EAAQ56B,KACZ4pB,EAAU5pB,GAAQmC,MAAMy3B,QAAUgB,EAAQ56B,IAI5C,OAAO4pB,CACR,CAEAhqB,EAAOC,GAAG8B,OAAQ,CACjBg5B,KAAM,WACL,OAAOD,GAAUzgC,MAAM,EACzB,EACC4gC,KAAM,WACL,OAAOH,GAAUzgC,KACnB,EACC6gC,OAAQ,SAAUrsB,GACjB,MAAsB,kBAAVA,EACJA,EAAQxU,KAAK0gC,OAAS1gC,KAAK4gC,OAG5B5gC,KAAK8F,KAAM,WACZ45B,GAAoB1/B,MACxB2F,EAAQ3F,MAAO0gC,OAEf/6B,EAAQ3F,MAAO4gC,MAEnB,EACA,IAEA,IAUEE,GACAvR,GAXEwR,GAAc,wBAEdC,GAAQ,iCAERC,GAAW,qCAMbH,GADc3hC,EAAS+hC,yBACR15B,YAAarI,EAASgI,cAAe,SACpDooB,GAAQpwB,EAASgI,cAAe,UAM3B+I,aAAc,OAAQ,SAC5Bqf,GAAMrf,aAAc,UAAW,WAC/Bqf,GAAMrf,aAAc,OAAQ,KAE5B4wB,GAAIt5B,YAAa+nB,IAIjBnJ,EAAQ+a,WAAaL,GAAIM,WAAW,GAAOA,WAAW,GAAO5P,UAAUe,QAIvEuO,GAAI1vB,UAAY,yBAChBgV,EAAQib,iBAAmBP,GAAIM,WAAW,GAAO5P,UAAUvM,aAK3D6b,GAAI1vB,UAAY,oBAChBgV,EAAQkb,SAAWR,GAAItP,UAKxB,IAAI+P,GAAU,CAKbC,MAAO,CAAE,EAAG,UAAW,YACvBC,IAAK,CAAE,EAAG,oBAAqB,uBAC/BC,GAAI,CAAE,EAAG,iBAAkB,oBAC3BC,GAAI,CAAE,EAAG,qBAAsB,yBAE/BC,SAAU,CAAE,EAAG,GAAI,KAYpB,SAASC,GAAQ9zB,EAAS2P,GAIzB,IAAI4J,EAYJ,OATCA,OAD4C,IAAjCvZ,EAAQrN,qBACbqN,EAAQrN,qBAAsBgd,GAAO,UAEI,IAA7B3P,EAAQQ,iBACpBR,EAAQQ,iBAAkBmP,GAAO,KAGjC,QAGMrO,IAARqO,GAAqBA,GAAOwJ,EAAUnZ,EAAS2P,GAC5C/X,EAAO4hB,MAAO,CAAExZ,GAAWuZ,GAG5BA,CACR,CAIA,SAASwa,GAAeza,EAAO0a,GAI9B,IAHA,IAAIlhC,EAAI,EACP+2B,EAAIvQ,EAAMzmB,OAEHC,EAAI+2B,EAAG/2B,IACdm9B,GAAS1e,IACR+H,EAAOxmB,GACP,cACCkhC,GAAe/D,GAAS7pB,IAAK4tB,EAAalhC,GAAK,cAGnD,CA7CA0gC,GAAQS,MAAQT,GAAQU,MAAQV,GAAQW,SAAWX,GAAQY,QAAUZ,GAAQC,MAC7ED,GAAQa,GAAKb,GAAQI,GAGfvb,EAAQkb,SACbC,GAAQc,SAAWd,GAAQD,OAAS,CAAE,EAAG,+BAAgC,cA2C1E,IAAIgB,GAAQ,YAEZ,SAASC,GAAelb,EAAOtZ,EAASy0B,EAASC,EAAWC,GAO3D,IANA,IAAIp0B,EAAM2wB,EAAKvhB,EAAKilB,EAAMC,EAAUlrB,EACnCmrB,EAAW90B,EAAQmzB,yBACnBjnB,EAAQ,GACRpZ,EAAI,EACJ+2B,EAAIvQ,EAAMzmB,OAEHC,EAAI+2B,EAAG/2B,IAGd,IAFAyN,EAAO+Y,EAAOxmB,KAEQ,IAATyN,EAGZ,GAAwB,WAAnBwY,EAAQxY,GAIZ3I,EAAO4hB,MAAOtN,EAAO3L,EAAKgY,SAAW,CAAEhY,GAASA,QAG1C,GAAMg0B,GAAMjhC,KAAMiN,GAIlB,CAUN,IATA2wB,EAAMA,GAAO4D,EAASr7B,YAAauG,EAAQ5G,cAAe,QAG1DuW,GAAQsjB,GAASrT,KAAMrf,IAAU,CAAE,GAAI,KAAQ,GAAItD,cACnD23B,EAAOpB,GAAS7jB,IAAS6jB,GAAQK,SACjC3C,EAAI7tB,UAAYuxB,EAAM,GAAMh9B,EAAOm9B,cAAex0B,GAASq0B,EAAM,GAGjEjrB,EAAIirB,EAAM,GACFjrB,KACPunB,EAAMA,EAAIzN,UAKX7rB,EAAO4hB,MAAOtN,EAAOglB,EAAI9R,aAGzB8R,EAAM4D,EAAStR,YAGXjJ,YAAc,EACtB,MA1BIrO,EAAM3T,KAAMyH,EAAQg1B,eAAgBz0B,IAkCvC,IAHAu0B,EAASva,YAAc,GAEvBznB,EAAI,EACMyN,EAAO2L,EAAOpZ,MAGvB,GAAK4hC,GAAa98B,EAAO+iB,QAASpa,EAAMm0B,MAClCC,GACJA,EAAQp8B,KAAMgI,QAgBhB,GAXAs0B,EAAWrD,GAAYjxB,GAGvB2wB,EAAM4C,GAAQgB,EAASr7B,YAAa8G,GAAQ,UAGvCs0B,GACJd,GAAe7C,GAIXuD,EAEJ,IADA9qB,EAAI,EACMpJ,EAAO2wB,EAAKvnB,MAChBupB,GAAY5/B,KAAMiN,EAAKlN,MAAQ,KACnCohC,EAAQl8B,KAAMgI,GAMlB,OAAOu0B,CACR,CAGA,IAAIG,GAAiB,sBAErB,SAASC,KACR,OAAO,CACR,CAEA,SAASC,KACR,OAAO,CACR,CAEA,SAASr9B,GAAIyI,EAAM60B,EAAO90B,EAAU1E,EAAM/D,EAAIw9B,GAC7C,IAAIxd,EAAQxkB,EAGZ,GAAsB,iBAAV+hC,EAAqB,CAShC,IAAM/hC,IANmB,iBAAbiN,IAGX1E,EAAOA,GAAQ0E,EACfA,OAAWgB,GAEE8zB,EACbt9B,GAAIyI,EAAMlN,EAAMiN,EAAU1E,EAAMw5B,EAAO/hC,GAAQgiC,GAEhD,OAAO90B,CACT,CAqBC,GAnBa,MAAR3E,GAAsB,MAAN/D,GAGpBA,EAAKyI,EACL1E,EAAO0E,OAAWgB,GACD,MAANzJ,IACc,iBAAbyI,GAGXzI,EAAK+D,EACLA,OAAO0F,IAIPzJ,EAAK+D,EACLA,EAAO0E,EACPA,OAAWgB,KAGD,IAAPzJ,EACJA,EAAKs9B,QACC,IAAMt9B,EACZ,OAAO0I,EAeR,OAZa,IAAR80B,IACJxd,EAAShgB,EACTA,EAAK,SAAU/F,GAId,OADA8F,IAASgI,IAAK9N,GACP+lB,EAAOpf,MAAOxG,KAAMiO,UAC9B,EAGErI,EAAGwjB,KAAOxD,EAAOwD,OAAUxD,EAAOwD,KAAOzjB,EAAOyjB,SAE1C9a,EAAKxI,KAAM,WACjBH,EAAO9F,MAAMk4B,IAAK/3B,KAAMmjC,EAAOv9B,EAAI+D,EAAM0E,EAC3C,EACA,CA6aA,SAASg1B,GAAgBrsB,EAAI5V,EAAMkiC,GAG5BA,GAQNtF,GAAS1e,IAAKtI,EAAI5V,GAAM,GACxBuE,EAAO9F,MAAMk4B,IAAK/gB,EAAI5V,EAAM,CAC3BwX,WAAW,EACXtC,QAAS,SAAUzW,GAClB,IAAIwL,EACHk4B,EAAQvF,GAAS7pB,IAAKnU,KAAMoB,GAE7B,GAAyB,EAAlBvB,EAAM2jC,WAAmBxjC,KAAMoB,IAGrC,GAAMmiC,GA4BQ59B,EAAO9F,MAAMu7B,QAASh6B,IAAU,CAAA,GAAKqiC,cAClD5jC,EAAMqN,uBAhBN,GARAq2B,EAAQh9B,EAAM0F,KAAMgC,WACpB+vB,GAAS1e,IAAKtf,KAAMoB,EAAMmiC,GAG1BvjC,KAAMoB,KACNiK,EAAS2yB,GAAS7pB,IAAKnU,KAAMoB,GAC7B48B,GAAS1e,IAAKtf,KAAMoB,GAAM,GAErBmiC,IAAUl4B,EAMd,OAHAxL,EAAM6jC,2BACN7jC,EAAM0U,iBAEClJ,OAeEk4B,IAGXvF,GAAS1e,IAAKtf,KAAMoB,EAAMuE,EAAO9F,MAAM8jC,QACtCJ,EAAO,GACPA,EAAMh9B,MAAO,GACbvG,OAWDH,EAAMqN,kBACNrN,EAAM+jC,8BAAgCX,GAE1C,UAvEoC5zB,IAA7B2uB,GAAS7pB,IAAK6C,EAAI5V,IACtBuE,EAAO9F,MAAMk4B,IAAK/gB,EAAI5V,EAAM6hC,GAwE/B,CApfAt9B,EAAO9F,MAAQ,CAEdimB,OAAQ,CAAA,EAERiS,IAAK,SAAUzpB,EAAM60B,EAAO7sB,EAAS3M,EAAM0E,GAE1C,IAAIw1B,EAAaC,EAAa7E,EAC7B3xB,EAAQy2B,EAAGC,EACX5I,EAAS6I,EAAU7iC,EAAM8iC,EAAYC,EACrCC,EAAWpG,GAAS7pB,IAAK7F,GAG1B,GAAMovB,GAAYpvB,GAuClB,IAlCKgI,EAAQA,UAEZA,GADAutB,EAAcvtB,GACQA,QACtBjI,EAAWw1B,EAAYx1B,UAKnBA,GACJ1I,EAAO2L,KAAKse,gBAAiBrf,GAAiBlC,GAIzCiI,EAAQ8S,OACb9S,EAAQ8S,KAAOzjB,EAAOyjB,SAIf9b,EAAS82B,EAAS92B,UACzBA,EAAS82B,EAAS92B,OAAS7L,OAAOC,OAAQ,QAEnCoiC,EAAcM,EAASC,UAC9BP,EAAcM,EAASC,OAAS,SAAUpgC,GAIzC,YAAyB,IAAX0B,GAA0BA,EAAO9F,MAAMykC,YAAcrgC,EAAE7C,KACpEuE,EAAO9F,MAAM0kC,SAAS/9B,MAAO8H,EAAML,gBAAcoB,CACtD,GAKE00B,GADAZ,GAAUA,GAAS,IAAKz9B,MAAO8yB,IAAmB,CAAE,KAC1C53B,OACFmjC,KAEP3iC,EAAO+iC,GADPlF,EAAM+D,GAAerV,KAAMwV,EAAOY,KAAS,IACpB,GACvBG,GAAejF,EAAK,IAAO,IAAKl1B,MAAO,KAAMqC,OAGvChL,IAKNg6B,EAAUz1B,EAAO9F,MAAMu7B,QAASh6B,IAAU,CAAA,EAG1CA,GAASiN,EAAW+sB,EAAQqI,aAAerI,EAAQoJ,WAAcpjC,EAGjEg6B,EAAUz1B,EAAO9F,MAAMu7B,QAASh6B,IAAU,CAAA,EAG1C4iC,EAAYr+B,EAAO+B,OAAQ,CAC1BtG,KAAMA,EACN+iC,SAAUA,EACVx6B,KAAMA,EACN2M,QAASA,EACT8S,KAAM9S,EAAQ8S,KACd/a,SAAUA,EACV+d,aAAc/d,GAAY1I,EAAO+pB,KAAKhqB,MAAM0mB,aAAa/qB,KAAMgN,GAC/DuK,UAAWsrB,EAAW7wB,KAAM,MAC1BwwB,IAGKI,EAAW32B,EAAQlM,OAC1B6iC,EAAW32B,EAAQlM,GAAS,IACnBqjC,cAAgB,EAGnBrJ,EAAQsJ,QACiD,IAA9DtJ,EAAQsJ,MAAMz4B,KAAMqC,EAAM3E,EAAMu6B,EAAYJ,IAEvCx1B,EAAK3J,kBACT2J,EAAK3J,iBAAkBvD,EAAM0iC,IAK3B1I,EAAQrD,MACZqD,EAAQrD,IAAI9rB,KAAMqC,EAAM01B,GAElBA,EAAU1tB,QAAQ8S,OACvB4a,EAAU1tB,QAAQ8S,KAAO9S,EAAQ8S,OAK9B/a,EACJ41B,EAASh+B,OAAQg+B,EAASQ,gBAAiB,EAAGT,GAE9CC,EAAS39B,KAAM09B,GAIhBr+B,EAAO9F,MAAMimB,OAAQ1kB,IAAS,EAGjC,EAGCoJ,OAAQ,SAAU8D,EAAM60B,EAAO7sB,EAASjI,EAAUs2B,GAEjD,IAAIjtB,EAAGktB,EAAW3F,EACjB3xB,EAAQy2B,EAAGC,EACX5I,EAAS6I,EAAU7iC,EAAM8iC,EAAYC,EACrCC,EAAWpG,GAASD,QAASzvB,IAAU0vB,GAAS7pB,IAAK7F,GAEtD,GAAM81B,IAAe92B,EAAS82B,EAAS92B,QAAvC,CAOA,IADAy2B,GADAZ,GAAUA,GAAS,IAAKz9B,MAAO8yB,IAAmB,CAAE,KAC1C53B,OACFmjC,KAMP,GAJA3iC,EAAO+iC,GADPlF,EAAM+D,GAAerV,KAAMwV,EAAOY,KAAS,IACpB,GACvBG,GAAejF,EAAK,IAAO,IAAKl1B,MAAO,KAAMqC,OAGvChL,EAAN,CAeA,IARAg6B,EAAUz1B,EAAO9F,MAAMu7B,QAASh6B,IAAU,CAAA,EAE1C6iC,EAAW32B,EADXlM,GAASiN,EAAW+sB,EAAQqI,aAAerI,EAAQoJ,WAAcpjC,IACpC,GAC7B69B,EAAMA,EAAK,IACV,IAAI7zB,OAAQ,UAAY84B,EAAW7wB,KAAM,iBAAoB,WAG9DuxB,EAAYltB,EAAIusB,EAASrjC,OACjB8W,KACPssB,EAAYC,EAAUvsB,IAEfitB,GAAeR,IAAaH,EAAUG,UACzC7tB,GAAWA,EAAQ8S,OAAS4a,EAAU5a,MACtC6V,IAAOA,EAAI59B,KAAM2iC,EAAUprB,YAC3BvK,GAAYA,IAAa21B,EAAU31B,WACxB,OAAbA,IAAqB21B,EAAU31B,YAChC41B,EAASh+B,OAAQyR,EAAG,GAEfssB,EAAU31B,UACd41B,EAASQ,gBAELrJ,EAAQ5wB,QACZ4wB,EAAQ5wB,OAAOyB,KAAMqC,EAAM01B,IAOzBY,IAAcX,EAASrjC,SACrBw6B,EAAQyJ,WACkD,IAA/DzJ,EAAQyJ,SAAS54B,KAAMqC,EAAM41B,EAAYE,EAASC,SAElD1+B,EAAOwQ,YAAa7H,EAAMlN,EAAMgjC,EAASC,eAGnC/2B,EAAQlM,GAtCnB,MAJI,IAAMA,KAAQkM,EACb3H,EAAO9F,MAAM2K,OAAQ8D,EAAMlN,EAAO+hC,EAAOY,GAAKztB,EAASjI,GAAU,GA8C/D1I,EAAOyiB,cAAe9a,IAC1B0wB,GAASxzB,OAAQ8D,EAAM,gBA5D1B,CA8DA,EAECi2B,SAAU,SAAUO,GAEnB,IAAIjkC,EAAG6W,EAAG4P,EAAK9T,EAASwwB,EAAWe,EAClC/2B,EAAO,IAAIsB,MAAOrB,UAAUrN,QAG5Bf,EAAQ8F,EAAO9F,MAAMmlC,IAAKF,GAE1Bb,GACCjG,GAAS7pB,IAAKnU,KAAM,WAAcyB,OAAOC,OAAQ,OAC/C7B,EAAMuB,OAAU,GACnBg6B,EAAUz1B,EAAO9F,MAAMu7B,QAASv7B,EAAMuB,OAAU,CAAA,EAKjD,IAFA4M,EAAM,GAAMnO,EAENgB,EAAI,EAAGA,EAAIoN,UAAUrN,OAAQC,IAClCmN,EAAMnN,GAAMoN,UAAWpN,GAMxB,GAHAhB,EAAMolC,eAAiBjlC,MAGlBo7B,EAAQ8J,cAA2D,IAA5C9J,EAAQ8J,YAAYj5B,KAAMjM,KAAMH,GAA5D,CASA,IAJAklC,EAAep/B,EAAO9F,MAAMokC,SAASh4B,KAAMjM,KAAMH,EAAOokC,GAGxDpjC,EAAI,GACM2S,EAAUuxB,EAAclkC,QAAYhB,EAAMslC,wBAInD,IAHAtlC,EAAMqE,cAAgBsP,EAAQlF,KAE9BoJ,EAAI,GACMssB,EAAYxwB,EAAQywB,SAAUvsB,QACtC7X,EAAM+jC,iCAID/jC,EAAMulC,aAAsC,IAAxBpB,EAAUprB,YACnC/Y,EAAMulC,WAAW/jC,KAAM2iC,EAAUprB,aAEjC/Y,EAAMmkC,UAAYA,EAClBnkC,EAAM8J,KAAOq6B,EAAUr6B,UAKV0F,KAHbiY,IAAU3hB,EAAO9F,MAAMu7B,QAAS4I,EAAUG,WAAc,CAAA,GAAKE,QAC5DL,EAAU1tB,SAAU9P,MAAOgN,EAAQlF,KAAMN,MAGT,KAAzBnO,EAAMwL,OAASic,KACrBznB,EAAM0U,iBACN1U,EAAMqN,oBAYX,OAJKkuB,EAAQiK,cACZjK,EAAQiK,aAAap5B,KAAMjM,KAAMH,GAG3BA,EAAMwL,MAxCf,CAyCA,EAEC44B,SAAU,SAAUpkC,EAAOokC,GAC1B,IAAIpjC,EAAGmjC,EAAW7Z,EAAKmb,EAAiBC,EACvCR,EAAe,GACfN,EAAgBR,EAASQ,cACzB/M,EAAM73B,EAAMmP,OAGb,GAAKy1B,GAIJ/M,EAAIpR,YAOc,UAAfzmB,EAAMuB,MAAoBvB,EAAMgzB,QAAU,GAE7C,KAAQ6E,IAAQ13B,KAAM03B,EAAMA,EAAIngB,YAAcvX,KAI7C,GAAsB,IAAjB03B,EAAIpR,WAAoC,UAAfzmB,EAAMuB,OAAqC,IAAjBs2B,EAAIxK,UAAsB,CAGjF,IAFAoY,EAAkB,GAClBC,EAAmB,CAAA,EACb1kC,EAAI,EAAGA,EAAI4jC,EAAe5jC,SAMEwO,IAA5Bk2B,EAFLpb,GAHA6Z,EAAYC,EAAUpjC,IAGNwN,SAAW,OAG1Bk3B,EAAkBpb,GAAQ6Z,EAAU5X,aACnCzmB,EAAQwkB,EAAKnqB,MAAO+F,MAAO2xB,IAAQ,EACnC/xB,EAAO2L,KAAM6Y,EAAKnqB,KAAM,KAAM,CAAE03B,IAAQ92B,QAErC2kC,EAAkBpb,IACtBmb,EAAgBh/B,KAAM09B,GAGnBsB,EAAgB1kC,QACpBmkC,EAAaz+B,KAAM,CAAEgI,KAAMopB,EAAKuM,SAAUqB,GAEhD,CAUE,OALA5N,EAAM13B,KACDykC,EAAgBR,EAASrjC,QAC7BmkC,EAAaz+B,KAAM,CAAEgI,KAAMopB,EAAKuM,SAAUA,EAAS19B,MAAOk+B,KAGpDM,CACT,EAECS,QAAS,SAAUv9B,EAAMw9B,GACxBhkC,OAAOyS,eAAgBvO,EAAO+/B,MAAM9gC,UAAWqD,EAAM,CACpD09B,YAAY,EACZ7H,cAAc,EAEd3pB,IAAKkS,EAAYof,GAChB,WACC,GAAKzlC,KAAK4lC,cACT,OAAOH,EAAMzlC,KAAK4lC,cAExB,EACI,WACC,GAAK5lC,KAAK4lC,cACT,OAAO5lC,KAAK4lC,cAAe39B,EAEjC,EAEGqX,IAAK,SAAUxW,GACdrH,OAAOyS,eAAgBlU,KAAMiI,EAAM,CAClC09B,YAAY,EACZ7H,cAAc,EACd+H,UAAU,EACV/8B,MAAOA,GAEZ,GAEA,EAECk8B,IAAK,SAAUY,GACd,OAAOA,EAAejgC,EAAOqiB,SAC5B4d,EACA,IAAIjgC,EAAO+/B,MAAOE,EACrB,EAECxK,QAAS,CACR0K,KAAM,CAGLC,UAAU,GAEXC,MAAO,CAGNtB,MAAO,SAAU/6B,GAIhB,IAAIqN,EAAKhX,MAAQ2J,EAWjB,OARKo3B,GAAe1/B,KAAM2V,EAAG5V,OAC5B4V,EAAGgvB,OAAS9e,EAAUlQ,EAAI,UAG1BqsB,GAAgBrsB,EAAI,SAAS,IAIvB,CACX,EACG2sB,QAAS,SAAUh6B,GAIlB,IAAIqN,EAAKhX,MAAQ2J,EAUjB,OAPKo3B,GAAe1/B,KAAM2V,EAAG5V,OAC5B4V,EAAGgvB,OAAS9e,EAAUlQ,EAAI,UAE1BqsB,GAAgBrsB,EAAI,UAId,CACX,EAIG4qB,SAAU,SAAU/hC,GACnB,IAAImP,EAASnP,EAAMmP,OACnB,OAAO+xB,GAAe1/B,KAAM2N,EAAO5N,OAClC4N,EAAOg3B,OAAS9e,EAAUlY,EAAQ,UAClCgvB,GAAS7pB,IAAKnF,EAAQ,UACtBkY,EAAUlY,EAAQ,IACvB,GAGEi3B,aAAc,CACbZ,aAAc,SAAUxlC,QAIDwP,IAAjBxP,EAAMwL,QAAwBxL,EAAM+lC,gBACxC/lC,EAAM+lC,cAAcM,YAAcrmC,EAAMwL,OAE7C,KAwFA1F,EAAOwQ,YAAc,SAAU7H,EAAMlN,EAAMijC,GAGrC/1B,EAAK/J,qBACT+J,EAAK/J,oBAAqBnD,EAAMijC,EAElC,EAEA1+B,EAAO+/B,MAAQ,SAAUllC,EAAK2lC,GAG7B,KAAQnmC,gBAAgB2F,EAAO+/B,OAC9B,OAAO,IAAI//B,EAAO+/B,MAAOllC,EAAK2lC,GAI1B3lC,GAAOA,EAAIY,MACfpB,KAAK4lC,cAAgBplC,EACrBR,KAAKoB,KAAOZ,EAAIY,KAIhBpB,KAAKomC,mBAAqB5lC,EAAI6lC,uBACHh3B,IAAzB7O,EAAI6lC,mBAGgB,IAApB7lC,EAAI0lC,YACLjD,GACAC,GAKDljC,KAAKgP,OAAWxO,EAAIwO,QAAkC,IAAxBxO,EAAIwO,OAAOsX,SACxC9lB,EAAIwO,OAAOuI,WACX/W,EAAIwO,OAELhP,KAAKkE,cAAgB1D,EAAI0D,cACzBlE,KAAKsmC,cAAgB9lC,EAAI8lC,eAIzBtmC,KAAKoB,KAAOZ,EAIR2lC,GACJxgC,EAAO+B,OAAQ1H,KAAMmmC,GAItBnmC,KAAKumC,UAAY/lC,GAAOA,EAAI+lC,WAAaj/B,KAAK8N,MAG9CpV,KAAM2F,EAAOqiB,UAAY,CAC1B,EAIAriB,EAAO+/B,MAAM9gC,UAAY,CACxBgK,YAAajJ,EAAO+/B,MACpBU,mBAAoBlD,GACpBiC,qBAAsBjC,GACtBU,8BAA+BV,GAC/BsD,aAAa,EAEbjyB,eAAgB,WACf,IAAItQ,EAAIjE,KAAK4lC,cAEb5lC,KAAKomC,mBAAqBnD,GAErBh/B,IAAMjE,KAAKwmC,aACfviC,EAAEsQ,gBAEL,EACCrH,gBAAiB,WAChB,IAAIjJ,EAAIjE,KAAK4lC,cAEb5lC,KAAKmlC,qBAAuBlC,GAEvBh/B,IAAMjE,KAAKwmC,aACfviC,EAAEiJ,iBAEL,EACCw2B,yBAA0B,WACzB,IAAIz/B,EAAIjE,KAAK4lC,cAEb5lC,KAAK4jC,8BAAgCX,GAEhCh/B,IAAMjE,KAAKwmC,aACfviC,EAAEy/B,2BAGH1jC,KAAKkN,iBACP,GAIAvH,EAAOG,KAAM,CACZ2gC,QAAQ,EACRC,SAAS,EACTC,YAAY,EACZC,gBAAgB,EAChBC,SAAS,EACTC,QAAQ,EACRC,YAAY,EACZC,SAAS,EACTC,OAAO,EACPC,OAAO,EACPC,UAAU,EACVC,MAAM,EACNC,MAAQ,EACR7jC,MAAM,EACN8jC,UAAU,EACVp9B,KAAK,EACLq9B,SAAS,EACT1U,QAAQ,EACR2U,SAAS,EACT51B,SAAS,EACTE,SAAS,EACTa,SAAS,EACTE,SAAS,EACT40B,WAAW,EACXC,aAAa,EACbC,SAAS,EACTC,SAAS,EACTC,eAAe,EACfC,WAAW,EACX5yB,SAAS,EACT6yB,OAAO,GACLpiC,EAAO9F,MAAM2lC,SAEhB7/B,EAAOG,KAAM,CAAEosB,MAAO,UAAW8V,KAAM,YAAc,SAAU5mC,EAAMqiC,GAEpE,SAASwE,EAAoBnD,GAC5B,GAAK3lC,EAAS+oC,aAAe,CAS5B,IAAI7D,EAASrG,GAAS7pB,IAAKnU,KAAM,UAChCH,EAAQ8F,EAAO9F,MAAMmlC,IAAKF,GAC3BjlC,EAAMuB,KAA4B,YAArB0jC,EAAY1jC,KAAqB,QAAU,OACxDvB,EAAM2mC,aAAc,EAGpBnC,EAAQS,GAMHjlC,EAAMmP,SAAWnP,EAAMqE,eAK3BmgC,EAAQxkC,EAEZ,MAIG8F,EAAO9F,MAAMsoC,SAAU1E,EAAcqB,EAAY91B,OAChDrJ,EAAO9F,MAAMmlC,IAAKF,GAEtB,CAECn/B,EAAO9F,MAAMu7B,QAASh6B,GAAS,CAG9BsjC,MAAO,WAEN,IAAI0D,EAOJ,GAFA/E,GAAgBrjC,KAAMoB,GAAM,IAEvBjC,EAAS+oC,aAcb,OAAO,GARPE,EAAWpK,GAAS7pB,IAAKnU,KAAMyjC,KAE9BzjC,KAAK2E,iBAAkB8+B,EAAcwE,GAEtCjK,GAAS1e,IAAKtf,KAAMyjC,GAAgB2E,GAAY,GAAM,EAM1D,EACEzE,QAAS,WAMR,OAHAN,GAAgBrjC,KAAMoB,IAGf,CACV,EAEEyjC,SAAU,WACT,IAAIuD,EAEJ,IAAKjpC,EAAS+oC,aAWb,OAAO,GAVPE,EAAWpK,GAAS7pB,IAAKnU,KAAMyjC,GAAiB,GAK/CzF,GAAS1e,IAAKtf,KAAMyjC,EAAc2E,IAHlCpoC,KAAKuE,oBAAqBk/B,EAAcwE,GACxCjK,GAASxzB,OAAQxK,KAAMyjC,GAS5B,EAIE7B,SAAU,SAAU/hC,GACnB,OAAOm+B,GAAS7pB,IAAKtU,EAAMmP,OAAQ5N,EACtC,EAEEqiC,aAAcA,GAef99B,EAAO9F,MAAMu7B,QAASqI,GAAiB,CACtCiB,MAAO,WAIN,IAAI9d,EAAM5mB,KAAK8oB,eAAiB9oB,KAAKb,UAAYa,KAChDqoC,EAAalpC,EAAS+oC,aAAeloC,KAAO4mB,EAC5CwhB,EAAWpK,GAAS7pB,IAAKk0B,EAAY5E,GAMhC2E,IACAjpC,EAAS+oC,aACbloC,KAAK2E,iBAAkB8+B,EAAcwE,GAErCrhB,EAAIjiB,iBAAkBvD,EAAM6mC,GAAoB,IAGlDjK,GAAS1e,IAAK+oB,EAAY5E,GAAgB2E,GAAY,GAAM,EAC/D,EACEvD,SAAU,WACT,IAAIje,EAAM5mB,KAAK8oB,eAAiB9oB,KAAKb,UAAYa,KAChDqoC,EAAalpC,EAAS+oC,aAAeloC,KAAO4mB,EAC5CwhB,EAAWpK,GAAS7pB,IAAKk0B,EAAY5E,GAAiB,EAEjD2E,EAQLpK,GAAS1e,IAAK+oB,EAAY5E,EAAc2E,IAPnCjpC,EAAS+oC,aACbloC,KAAKuE,oBAAqBk/B,EAAcwE,GAExCrhB,EAAIriB,oBAAqBnD,EAAM6mC,GAAoB,GAEpDjK,GAASxzB,OAAQ69B,EAAY5E,GAIjC,EAEA,GAUA99B,EAAOG,KAAM,CACZwiC,WAAY,YACZC,WAAY,WACZC,aAAc,cACdC,aAAc,cACZ,SAAUC,EAAM1D,GAClBr/B,EAAO9F,MAAMu7B,QAASsN,GAAS,CAC9BjF,aAAcuB,EACdR,SAAUQ,EAEVX,OAAQ,SAAUxkC,GACjB,IAAIynB,EAEHqhB,EAAU9oC,EAAMymC,cAChBtC,EAAYnkC,EAAMmkC,UASnB,OALM2E,IAAaA,IANT3oC,MAMgC2F,EAAOmS,SANvC9X,KAMyD2oC,MAClE9oC,EAAMuB,KAAO4iC,EAAUG,SACvB7c,EAAM0c,EAAU1tB,QAAQ9P,MAAOxG,KAAMiO,WACrCpO,EAAMuB,KAAO4jC,GAEP1d,CACV,EAEA,GAEA3hB,EAAOC,GAAG8B,OAAQ,CAEjB7B,GAAI,SAAUs9B,EAAO90B,EAAU1E,EAAM/D,GACpC,OAAOC,GAAI7F,KAAMmjC,EAAO90B,EAAU1E,EAAM/D,EAC1C,EACCw9B,IAAK,SAAUD,EAAO90B,EAAU1E,EAAM/D,GACrC,OAAOC,GAAI7F,KAAMmjC,EAAO90B,EAAU1E,EAAM/D,EAAI,EAC9C,EACC+H,IAAK,SAAUw1B,EAAO90B,EAAUzI,GAC/B,IAAIo+B,EAAW5iC,EACf,GAAK+hC,GAASA,EAAM5uB,gBAAkB4uB,EAAMa,UAW3C,OARAA,EAAYb,EAAMa,UAClBr+B,EAAQw9B,EAAM8B,gBAAiBt3B,IAC9Bq2B,EAAUprB,UACTorB,EAAUG,SAAW,IAAMH,EAAUprB,UACrCorB,EAAUG,SACXH,EAAU31B,SACV21B,EAAU1tB,SAEJtW,KAER,GAAsB,iBAAVmjC,EAAqB,CAGhC,IAAM/hC,KAAQ+hC,EACbnjC,KAAK2N,IAAKvM,EAAMiN,EAAU80B,EAAO/hC,IAElC,OAAOpB,IACV,CAUE,OATkB,IAAbqO,GAA0C,mBAAbA,IAGjCzI,EAAKyI,EACLA,OAAWgB,IAEA,IAAPzJ,IACJA,EAAKs9B,IAECljC,KAAK8F,KAAM,WACjBH,EAAO9F,MAAM2K,OAAQxK,KAAMmjC,EAAOv9B,EAAIyI,EACzC,EACA,IAIA,IAKCu6B,GAAe,wBAGfC,GAAW,oCAEXC,GAAe,6BAGhB,SAASC,GAAoBz6B,EAAMiqB,GAClC,OAAKrR,EAAU5Y,EAAM,UACpB4Y,EAA+B,KAArBqR,EAAQjS,SAAkBiS,EAAUA,EAAQhH,WAAY,OAE3D5rB,EAAQ2I,GAAO+L,SAAU,SAAW,IAGrC/L,CACR,CAGA,SAAS06B,GAAe16B,GAEvB,OADAA,EAAKlN,MAAyC,OAAhCkN,EAAKhG,aAAc,SAAsB,IAAMgG,EAAKlN,KAC3DkN,CACR,CACA,SAAS26B,GAAe36B,GAOvB,MAN2C,WAApCA,EAAKlN,MAAQ,IAAKmF,MAAO,EAAG,GAClC+H,EAAKlN,KAAOkN,EAAKlN,KAAKmF,MAAO,GAE7B+H,EAAKiL,gBAAiB,QAGhBjL,CACR,CAEA,SAAS46B,GAAgB1oC,EAAK2oC,GAC7B,IAAItoC,EAAG+2B,EAAGx2B,EAAgBgoC,EAAUC,EAAU/7B,EAE9C,GAAuB,IAAlB67B,EAAK7iB,SAAV,CAKA,GAAK0X,GAASD,QAASv9B,KAEtB8M,EADW0wB,GAAS7pB,IAAK3T,GACP8M,QAKjB,IAAMlM,KAFN48B,GAASxzB,OAAQ2+B,EAAM,iBAET77B,EACb,IAAMzM,EAAI,EAAG+2B,EAAItqB,EAAQlM,GAAOR,OAAQC,EAAI+2B,EAAG/2B,IAC9C8E,EAAO9F,MAAMk4B,IAAKoR,EAAM/nC,EAAMkM,EAAQlM,GAAQP,IAO7Co9B,GAASF,QAASv9B,KACtB4oC,EAAWnL,GAASpB,OAAQr8B,GAC5B6oC,EAAW1jC,EAAO+B,OAAQ,CAAA,EAAI0hC,GAE9BnL,GAAS3e,IAAK6pB,EAAME,GAvBtB,CAyBA,CAGA,SAASC,GAAU9oC,EAAK2oC,GACvB,IAAIjiB,EAAWiiB,EAAKjiB,SAASlc,cAGX,UAAbkc,GAAwB6Z,GAAe1/B,KAAMb,EAAIY,MACrD+nC,EAAK5W,QAAU/xB,EAAI+xB,QAGK,UAAbrL,GAAqC,aAAbA,IACnCiiB,EAAKlkB,aAAezkB,EAAIykB,aAE1B,CAEA,SAASskB,GAAUC,EAAYx7B,EAAMlO,EAAU4iC,GAG9C10B,EAAOiY,EAAMjY,GAEb,IAAI60B,EAAUrgB,EAAOggB,EAASiH,EAAY3lC,EAAM8iB,EAC/C/lB,EAAI,EACJ+2B,EAAI4R,EAAW5oC,OACf8oC,EAAW9R,EAAI,EACf9uB,EAAQkF,EAAM,GACd27B,EAAkBtjB,EAAYvd,GAG/B,GAAK6gC,GACD/R,EAAI,GAAsB,iBAAV9uB,IAChBsd,EAAQ+a,YAAc0H,GAASxnC,KAAMyH,GACxC,OAAO0gC,EAAW1jC,KAAM,SAAUC,GACjC,IAAImxB,EAAOsS,EAAW/hB,GAAI1hB,GACrB4jC,IACJ37B,EAAM,GAAMlF,EAAMmD,KAAMjM,KAAM+F,EAAOmxB,EAAKhf,SAE3CqxB,GAAUrS,EAAMlpB,EAAMlO,EAAU4iC,EACnC,GAGC,GAAK9K,IAEJpV,GADAqgB,EAAWN,GAAev0B,EAAMw7B,EAAY,GAAI1gB,eAAe,EAAO0gB,EAAY9G,IACjEnR,WAEmB,IAA/BsR,EAAS1V,WAAWvsB,SACxBiiC,EAAWrgB,GAIPA,GAASkgB,GAAU,CAOvB,IALA+G,GADAjH,EAAU78B,EAAO4U,IAAKsnB,GAAQgB,EAAU,UAAYmG,KAC/BpoC,OAKbC,EAAI+2B,EAAG/2B,IACdiD,EAAO++B,EAEFhiC,IAAM6oC,IACV5lC,EAAO6B,EAAO6G,MAAO1I,GAAM,GAAM,GAG5B2lC,GAIJ9jC,EAAO4hB,MAAOib,EAASX,GAAQ/9B,EAAM,YAIvChE,EAASmM,KAAMu9B,EAAY3oC,GAAKiD,EAAMjD,GAGvC,GAAK4oC,EAOJ,IANA7iB,EAAM4b,EAASA,EAAQ5hC,OAAS,GAAIkoB,cAGpCnjB,EAAO4U,IAAKioB,EAASyG,IAGfpoC,EAAI,EAAGA,EAAI4oC,EAAY5oC,IAC5BiD,EAAO0+B,EAAS3hC,GACXogC,GAAY5/B,KAAMyC,EAAK1C,MAAQ,MAClC48B,GAASnB,OAAQ/4B,EAAM,eACxB6B,EAAOmS,SAAU8O,EAAK9iB,KAEjBA,EAAKtD,KAA8C,YAArCsD,EAAK1C,MAAQ,IAAK4J,cAG/BrF,EAAOikC,WAAa9lC,EAAK4iB,UAC7B/gB,EAAOikC,SAAU9lC,EAAKtD,IAAK,CAC1BimB,MAAO3iB,EAAK2iB,OAAS3iB,EAAKwE,aAAc,UACtCse,GASJD,EAAS7iB,EAAKwkB,YAAYrhB,QAAS6hC,GAAc,IAAMhlC,EAAM8iB,GAKpE,CAGC,OAAO4iB,CACR,CAEA,SAASh/B,GAAQ8D,EAAMD,EAAUw7B,GAKhC,IAJA,IAAI/lC,EACHmW,EAAQ5L,EAAW1I,EAAO6H,OAAQa,EAAUC,GAASA,EACrDzN,EAAI,EAE4B,OAAvBiD,EAAOmW,EAAOpZ,IAAeA,IAChCgpC,GAA8B,IAAlB/lC,EAAKwiB,UACtB3gB,EAAOmkC,UAAWjI,GAAQ/9B,IAGtBA,EAAKyT,aACJsyB,GAAYtK,GAAYz7B,IAC5Bg+B,GAAeD,GAAQ/9B,EAAM,WAE9BA,EAAKyT,WAAW9P,YAAa3D,IAI/B,OAAOwK,CACR,CAEA3I,EAAO+B,OAAQ,CACdo7B,cAAe,SAAU5qB,GACxB,OAAOA,CACT,EAEC1L,MAAO,SAAU8B,EAAMy7B,EAAeC,GACrC,IAAInpC,EAAG+2B,EAAGqS,EAAaC,EACtB19B,EAAQ8B,EAAK8yB,WAAW,GACxB+I,EAAS5K,GAAYjxB,GAGtB,KAAM8X,EAAQib,gBAAsC,IAAlB/yB,EAAKgY,UAAoC,KAAlBhY,EAAKgY,UAC3D3gB,EAAOgjB,SAAUra,IAOnB,IAHA47B,EAAerI,GAAQr1B,GAGjB3L,EAAI,EAAG+2B,GAFbqS,EAAcpI,GAAQvzB,IAEO1N,OAAQC,EAAI+2B,EAAG/2B,IAC3CyoC,GAAUW,EAAappC,GAAKqpC,EAAcrpC,IAK5C,GAAKkpC,EACJ,GAAKC,EAIJ,IAHAC,EAAcA,GAAepI,GAAQvzB,GACrC47B,EAAeA,GAAgBrI,GAAQr1B,GAEjC3L,EAAI,EAAG+2B,EAAIqS,EAAYrpC,OAAQC,EAAI+2B,EAAG/2B,IAC3CqoC,GAAgBe,EAAappC,GAAKqpC,EAAcrpC,SAGjDqoC,GAAgB56B,EAAM9B,GAWxB,OANA09B,EAAerI,GAAQr1B,EAAO,WACZ5L,OAAS,GAC1BkhC,GAAeoI,GAAeC,GAAUtI,GAAQvzB,EAAM,WAIhD9B,CACT,EAECs9B,UAAW,SAAUziB,GAKpB,IAJA,IAAI1d,EAAM2E,EAAMlN,EACfg6B,EAAUz1B,EAAO9F,MAAMu7B,QACvBv6B,EAAI,OAE6BwO,KAAxBf,EAAO+Y,EAAOxmB,IAAqBA,IAC5C,GAAK68B,GAAYpvB,GAAS,CACzB,GAAO3E,EAAO2E,EAAM0vB,GAAShW,SAAc,CAC1C,GAAKre,EAAK2D,OACT,IAAMlM,KAAQuI,EAAK2D,OACb8tB,EAASh6B,GACbuE,EAAO9F,MAAM2K,OAAQ8D,EAAMlN,GAI3BuE,EAAOwQ,YAAa7H,EAAMlN,EAAMuI,EAAK06B,QAOxC/1B,EAAM0vB,GAAShW,cAAY3Y,CAChC,CACSf,EAAM2vB,GAASjW,WAInB1Z,EAAM2vB,GAASjW,cAAY3Y,EAEhC,CAEA,IAGA1J,EAAOC,GAAG8B,OAAQ,CACjB0iC,OAAQ,SAAU/7B,GACjB,OAAO7D,GAAQxK,KAAMqO,GAAU,EACjC,EAEC7D,OAAQ,SAAU6D,GACjB,OAAO7D,GAAQxK,KAAMqO,EACvB,EAEC6C,KAAM,SAAUpI,GACf,OAAO+zB,EAAQ78B,KAAM,SAAU8I,GAC9B,YAAiBuG,IAAVvG,EACNnD,EAAOuL,KAAMlR,MACbA,KAAK0yB,QAAQ5sB,KAAM,WACK,IAAlB9F,KAAKsmB,UAAoC,KAAlBtmB,KAAKsmB,UAAqC,IAAlBtmB,KAAKsmB,WACxDtmB,KAAKsoB,YAAcxf,EAEzB,EACA,EAAK,KAAMA,EAAOmF,UAAUrN,OAC5B,EAEC2Q,OAAQ,WACP,OAAOg4B,GAAUvpC,KAAMiO,UAAW,SAAUK,GACpB,IAAlBtO,KAAKsmB,UAAoC,KAAlBtmB,KAAKsmB,UAAqC,IAAlBtmB,KAAKsmB,UAC3CyiB,GAAoB/oC,KAAMsO,GAChC9G,YAAa8G,EAExB,EACA,EAEC+7B,QAAS,WACR,OAAOd,GAAUvpC,KAAMiO,UAAW,SAAUK,GAC3C,GAAuB,IAAlBtO,KAAKsmB,UAAoC,KAAlBtmB,KAAKsmB,UAAqC,IAAlBtmB,KAAKsmB,SAAiB,CACzE,IAAItX,EAAS+5B,GAAoB/oC,KAAMsO,GACvCU,EAAOs7B,aAAch8B,EAAMU,EAAOuiB,WACtC,CACA,EACA,EAECtU,OAAQ,WACP,OAAOssB,GAAUvpC,KAAMiO,UAAW,SAAUK,GACtCtO,KAAKuX,YACTvX,KAAKuX,WAAW+yB,aAAch8B,EAAMtO,KAExC,EACA,EAECmd,MAAO,WACN,OAAOosB,GAAUvpC,KAAMiO,UAAW,SAAUK,GACtCtO,KAAKuX,YACTvX,KAAKuX,WAAW+yB,aAAch8B,EAAMtO,KAAK2yB,YAE7C,EACA,EAECD,MAAO,WAIN,IAHA,IAAIpkB,EACHzN,EAAI,EAE2B,OAAtByN,EAAOtO,KAAMa,IAAeA,IACd,IAAlByN,EAAKgY,WAGT3gB,EAAOmkC,UAAWjI,GAAQvzB,GAAM,IAGhCA,EAAKga,YAAc,IAIrB,OAAOtoB,IACT,EAECwM,MAAO,SAAUu9B,EAAeC,GAI/B,OAHAD,EAAiC,MAAjBA,GAAgCA,EAChDC,EAAyC,MAArBA,EAA4BD,EAAgBC,EAEzDhqC,KAAKua,IAAK,WAChB,OAAO5U,EAAO6G,MAAOxM,KAAM+pC,EAAeC,EAC7C,EACA,EAEC9xB,KAAM,SAAUpP,GACf,OAAO+zB,EAAQ78B,KAAM,SAAU8I,GAC9B,IAAIwF,EAAOtO,KAAM,IAAO,CAAA,EACvBa,EAAI,EACJ+2B,EAAI53B,KAAKY,OAEV,QAAeyO,IAAVvG,GAAyC,IAAlBwF,EAAKgY,SAChC,OAAOhY,EAAK8C,UAIb,GAAsB,iBAAVtI,IAAuB8/B,GAAavnC,KAAMyH,KACpDy4B,IAAWP,GAASrT,KAAM7kB,IAAW,CAAE,GAAI,KAAQ,GAAIkC,eAAkB,CAE1ElC,EAAQnD,EAAOm9B,cAAeh6B,GAE9B,IACC,KAAQjI,EAAI+2B,EAAG/2B,IAIS,KAHvByN,EAAOtO,KAAMa,IAAO,CAAA,GAGVylB,WACT3gB,EAAOmkC,UAAWjI,GAAQvzB,GAAM,IAChCA,EAAK8C,UAAYtI,GAInBwF,EAAO,CAGZ,CAAM,MAAQrK,GAAI,CAClB,CAEQqK,GACJtO,KAAK0yB,QAAQnhB,OAAQzI,EAEzB,EAAK,KAAMA,EAAOmF,UAAUrN,OAC5B,EAEC2pC,YAAa,WACZ,IAAI7H,EAAU,GAGd,OAAO6G,GAAUvpC,KAAMiO,UAAW,SAAUK,GAC3C,IAAI8iB,EAASpxB,KAAKuX,WAEb5R,EAAO+iB,QAAS1oB,KAAM0iC,GAAY,IACtC/8B,EAAOmkC,UAAWjI,GAAQ7hC,OACrBoxB,GACJA,EAAOoZ,aAAcl8B,EAAMtO,MAKhC,EAAK0iC,EACL,IAGA/8B,EAAOG,KAAM,CACZ2kC,SAAU,SACVC,UAAW,UACXJ,aAAc,SACdK,YAAa,QACbC,WAAY,eACV,SAAU3iC,EAAM4iC,GAClBllC,EAAOC,GAAIqC,GAAS,SAAUoG,GAO7B,IANA,IAAIgZ,EACHC,EAAM,GACNwjB,EAASnlC,EAAQ0I,GACjB1N,EAAOmqC,EAAOlqC,OAAS,EACvBC,EAAI,EAEGA,GAAKF,EAAME,IAClBwmB,EAAQxmB,IAAMF,EAAOX,KAAOA,KAAKwM,OAAO,GACxC7G,EAAQmlC,EAAQjqC,IAAOgqC,GAAYxjB,GAInC/gB,EAAKE,MAAO8gB,EAAKD,EAAMlT,OAGxB,OAAOnU,KAAKonB,UAAWE,EACzB,CACA,GACA,IAAIyjB,GAAY,IAAI3/B,OAAQ,KAAOg0B,GAAO,kBAAmB,KAEzD4L,GAAc,MAGdC,GAAY,SAAU38B,GAKxB,IAAI84B,EAAO94B,EAAKwa,cAAckG,YAM9B,OAJMoY,GAASA,EAAK8D,SACnB9D,EAAOhoC,GAGDgoC,EAAKh/B,iBAAkBkG,EAChC,EAEI68B,GAAO,SAAU78B,EAAMxJ,EAAShF,GACnC,IAAIwnB,EAAKrf,EACRmjC,EAAM,CAAA,EAGP,IAAMnjC,KAAQnD,EACbsmC,EAAKnjC,GAASqG,EAAKpG,MAAOD,GAC1BqG,EAAKpG,MAAOD,GAASnD,EAASmD,GAM/B,IAAMA,KAHNqf,EAAMxnB,EAASmM,KAAMqC,GAGPxJ,EACbwJ,EAAKpG,MAAOD,GAASmjC,EAAKnjC,GAG3B,OAAOqf,CACR,EAGI+jB,GAAY,IAAIjgC,OAAQk0B,GAAUjsB,KAAM,KAAO,KAiJnD,SAASi4B,GAAQh9B,EAAMrG,EAAMsjC,GAC5B,IAAIhwB,EAAOiwB,EAAUC,EAAUnkB,EAC9BokB,EAAeV,GAAY3pC,KAAM4G,GAMjCC,EAAQoG,EAAKpG,MAoEd,OAlEAqjC,EAAWA,GAAYN,GAAW38B,MAgBjCgZ,EAAMikB,EAASljC,iBAAkBJ,IAAUsjC,EAAUtjC,GAEhDyjC,GAAgBpkB,IAkBpBA,EAAMA,EAAIrgB,QAASwiB,EAAU,YAAUpa,GAG3B,KAARiY,GAAeiY,GAAYjxB,KAC/BgZ,EAAM3hB,EAAOuC,MAAOoG,EAAMrG,KAQrBme,EAAQulB,kBAAoBZ,GAAU1pC,KAAMimB,IAAS+jB,GAAUhqC,KAAM4G,KAG1EsT,EAAQrT,EAAMqT,MACdiwB,EAAWtjC,EAAMsjC,SACjBC,EAAWvjC,EAAMujC,SAGjBvjC,EAAMsjC,SAAWtjC,EAAMujC,SAAWvjC,EAAMqT,MAAQ+L,EAChDA,EAAMikB,EAAShwB,MAGfrT,EAAMqT,MAAQA,EACdrT,EAAMsjC,SAAWA,EACjBtjC,EAAMujC,SAAWA,SAIJp8B,IAARiY,EAINA,EAAM,GACNA,CACF,CAGA,SAASskB,GAAcC,EAAaC,GAGnC,MAAO,CACN33B,IAAK,WACJ,IAAK03B,IASL,OAAS7rC,KAAKmU,IAAM23B,GAAStlC,MAAOxG,KAAMiO,kBALlCjO,KAAKmU,GAMhB,EAEA,EAnPA,WAIC,SAAS43B,IAGR,GAAMjL,EAAN,CAIAkL,EAAU9jC,MAAMiJ,QAAU,+EAE1B2vB,EAAI54B,MAAMiJ,QACT,4HAGDZ,GAAgB/I,YAAawkC,GAAYxkC,YAAas5B,GAEtD,IAAImL,EAAW7sC,EAAOgJ,iBAAkB04B,GACxCoL,EAAoC,OAAjBD,EAASp6B,IAG5Bs6B,EAAsE,KAA9CC,EAAoBH,EAASI,YAIrDvL,EAAI54B,MAAM6J,MAAQ,MAClBu6B,EAA6D,KAAzCF,EAAoBH,EAASl6B,OAIjDw6B,EAAgE,KAAzCH,EAAoBH,EAAS1wB,OAMpDulB,EAAI54B,MAAMsJ,SAAW,WACrBg7B,EAAiE,KAA9CJ,EAAoBtL,EAAI3uB,YAAc,GAEzD5B,GAAgB9I,YAAaukC,GAI7BlL,EAAM,IApCR,CAqCA,CAEC,SAASsL,EAAoBK,GAC5B,OAAO38B,KAAK48B,MAAOC,WAAYF,GACjC,CAEC,IAAIP,EAAkBK,EAAsBC,EAAkBF,EAC7DM,EAAyBT,EACzBH,EAAY7sC,EAASgI,cAAe,OACpC25B,EAAM3hC,EAASgI,cAAe,OAGzB25B,EAAI54B,QAMV44B,EAAI54B,MAAM2kC,eAAiB,cAC3B/L,EAAIM,WAAW,GAAOl5B,MAAM2kC,eAAiB,GAC7CzmB,EAAQ0mB,gBAA+C,gBAA7BhM,EAAI54B,MAAM2kC,eAEpClnC,EAAO+B,OAAQ0e,EAAS,CACvB2mB,kBAAmB,WAElB,OADAhB,IACOQ,CACV,EACEZ,eAAgB,WAEf,OADAI,IACOO,CACV,EACEU,cAAe,WAEd,OADAjB,IACOG,CACV,EACEe,mBAAoB,WAEnB,OADAlB,IACOI,CACV,EACEe,cAAe,WAEd,OADAnB,IACOS,CACV,EAWEW,qBAAsB,WACrB,IAAI1qC,EAAOi/B,EAAI0L,EAASC,EAmCxB,OAlCgC,MAA3BT,IACJnqC,EAAQtD,EAASgI,cAAe,SAChCu6B,EAAKviC,EAASgI,cAAe,MAC7BimC,EAAUjuC,EAASgI,cAAe,OAElC1E,EAAMyF,MAAMiJ,QAAU,2DACtBuwB,EAAGx5B,MAAMiJ,QAAU,0CAKnBuwB,EAAGx5B,MAAMsT,OAAS,MAClB4xB,EAAQllC,MAAMsT,OAAS,MAQvB4xB,EAAQllC,MAAMy3B,QAAU,QAExBpvB,GACE/I,YAAa/E,GACb+E,YAAak6B,GACbl6B,YAAa4lC,GAEfC,EAAUjuC,EAAOgJ,iBAAkBs5B,GACnCkL,EAA4B9tB,SAAUuuB,EAAQ7xB,OAAQ,IACrDsD,SAAUuuB,EAAQC,eAAgB,IAClCxuB,SAAUuuB,EAAQE,kBAAmB,MAAW7L,EAAGrvB,aAEpD9B,GAAgB9I,YAAahF,IAEvBmqC,CACV,IAEC,CA1ID,GAsPA,IAAIY,GAAc,CAAE,SAAU,MAAO,MACpCC,GAAatuC,EAASgI,cAAe,OAAQe,MAC7CwlC,GAAc,CAAA,EAkBf,SAASC,GAAe1lC,GAGvB,OAFYtC,EAAOioC,SAAU3lC,IAAUylC,GAAazlC,KAK/CA,KAAQwlC,GACLxlC,EAEDylC,GAAazlC,GAxBrB,SAAyBA,GAMxB,IAHA,IAAI4lC,EAAU5lC,EAAM,GAAI1H,cAAgB0H,EAAK1B,MAAO,GACnD1F,EAAI2sC,GAAY5sC,OAETC,KAEP,IADAoH,EAAOulC,GAAa3sC,GAAMgtC,KACbJ,GACZ,OAAOxlC,CAGV,CAY8B6lC,CAAgB7lC,IAAUA,EACxD,CAGA,IAKC8lC,GAAe,4BACfC,GAAU,CAAEx8B,SAAU,WAAYy8B,WAAY,SAAUtO,QAAS,SACjEuO,GAAqB,CACpBC,cAAe,IACfC,WAAY,OAGd,SAASC,GAAmBzmB,EAAO9e,EAAOwlC,GAIzC,IAAIrlB,EAAUoW,GAAQ1R,KAAM7kB,GAC5B,OAAOmgB,EAGNnZ,KAAKkP,IAAK,EAAGiK,EAAS,IAAQqlB,GAAY,KAAUrlB,EAAS,IAAO,MACpEngB,CACF,CAEA,SAASylC,GAAoBjgC,EAAMkgC,EAAWC,EAAKC,EAAaC,EAAQC,GACvE,IAAI/tC,EAAkB,UAAd2tC,EAAwB,EAAI,EACnCK,EAAQ,EACRC,EAAQ,EACRC,EAAc,EAGf,GAAKN,KAAUC,EAAc,SAAW,WACvC,OAAO,EAGR,KAAQ7tC,EAAI,EAAGA,GAAK,EAKN,WAAR4tC,IACJM,GAAeppC,EAAOwV,IAAK7M,EAAMmgC,EAAMnP,GAAWz+B,IAAK,EAAM8tC,IAIxDD,GAmBQ,YAARD,IACJK,GAASnpC,EAAOwV,IAAK7M,EAAM,UAAYgxB,GAAWz+B,IAAK,EAAM8tC,IAIjD,WAARF,IACJK,GAASnpC,EAAOwV,IAAK7M,EAAM,SAAWgxB,GAAWz+B,GAAM,SAAS,EAAM8tC,MAtBvEG,GAASnpC,EAAOwV,IAAK7M,EAAM,UAAYgxB,GAAWz+B,IAAK,EAAM8tC,GAGhD,YAARF,EACJK,GAASnpC,EAAOwV,IAAK7M,EAAM,SAAWgxB,GAAWz+B,GAAM,SAAS,EAAM8tC,GAItEE,GAASlpC,EAAOwV,IAAK7M,EAAM,SAAWgxB,GAAWz+B,GAAM,SAAS,EAAM8tC,IAoCzE,OAhBMD,GAAeE,GAAe,IAInCE,GAASh/B,KAAKkP,IAAK,EAAGlP,KAAKk/B,KAC1B1gC,EAAM,SAAWkgC,EAAW,GAAIjuC,cAAgBiuC,EAAUjoC,MAAO,IACjEqoC,EACAE,EACAD,EACA,MAIM,GAGDC,EAAQC,CAChB,CAEA,SAASE,GAAkB3gC,EAAMkgC,EAAWK,GAG3C,IAAIF,EAAS1D,GAAW38B,GAKvBogC,IADmBtoB,EAAQ2mB,qBAAuB8B,IAEE,eAAnDlpC,EAAOwV,IAAK7M,EAAM,aAAa,EAAOqgC,GACvCO,EAAmBR,EAEnBhzB,EAAM4vB,GAAQh9B,EAAMkgC,EAAWG,GAC/BQ,EAAa,SAAWX,EAAW,GAAIjuC,cAAgBiuC,EAAUjoC,MAAO,GAIzE,GAAKwkC,GAAU1pC,KAAMqa,GAAQ,CAC5B,IAAMmzB,EACL,OAAOnzB,EAERA,EAAM,MACR,CAwCC,QAlCQ0K,EAAQ2mB,qBAAuB2B,IAMrCtoB,EAAQ+mB,wBAA0BjmB,EAAU5Y,EAAM,OAI3C,SAARoN,IAICixB,WAAYjxB,IAA0D,WAAjD/V,EAAOwV,IAAK7M,EAAM,WAAW,EAAOqgC,KAG1DrgC,EAAK8gC,iBAAiBxuC,SAEtB8tC,EAAiE,eAAnD/oC,EAAOwV,IAAK7M,EAAM,aAAa,EAAOqgC,IAKpDO,EAAmBC,KAAc7gC,KAEhCoN,EAAMpN,EAAM6gC,MAKdzzB,EAAMixB,WAAYjxB,IAAS,GAI1B6yB,GACCjgC,EACAkgC,EACAK,IAAWH,EAAc,SAAW,WACpCQ,EACAP,EAGAjzB,GAEE,IACL,CAuTA,SAAS2zB,GAAO/gC,EAAMxJ,EAASkT,EAAMiH,EAAKqwB,GACzC,OAAO,IAAID,GAAMzqC,UAAUoiB,KAAM1Y,EAAMxJ,EAASkT,EAAMiH,EAAKqwB,EAC5D,CAvTA3pC,EAAO+B,OAAQ,CAId6nC,SAAU,CACT37B,QAAS,CACRO,IAAK,SAAU7F,EAAMi9B,GACpB,GAAKA,EAAW,CAGf,IAAIjkB,EAAMgkB,GAAQh9B,EAAM,WACxB,MAAe,KAARgZ,EAAa,IAAMA,CAC/B,CACA,IAKC+Y,UAAW,CACVmP,yBAAyB,EACzBC,aAAa,EACbC,kBAAkB,EAClBC,aAAa,EACbC,UAAU,EACVC,YAAY,EACZzB,YAAY,EACZ0B,UAAU,EACVC,YAAY,EACZC,eAAe,EACfC,iBAAiB,EACjBC,SAAS,EACTC,YAAY,EACZC,cAAc,EACdC,YAAY,EACZz8B,SAAS,EACT08B,OAAO,EACPC,SAAS,EACTvQ,OAAO,EACPwQ,QAAQ,EACRC,QAAQ,EACRC,MAAM,EAGNC,aAAa,EACbC,cAAc,EACdC,aAAa,EACbC,kBAAkB,EAClBC,eAAe,GAKhBnD,SAAU,CAAA,EAGV1lC,MAAO,SAAUoG,EAAMrG,EAAMa,EAAO+lC,GAGnC,GAAMvgC,GAA0B,IAAlBA,EAAKgY,UAAoC,IAAlBhY,EAAKgY,UAAmBhY,EAAKpG,MAAlE,CAKA,IAAIof,EAAKlmB,EAAMw9B,EACdoS,EAAWxT,GAAWv1B,GACtByjC,EAAeV,GAAY3pC,KAAM4G,GACjCC,EAAQoG,EAAKpG,MAad,GARMwjC,IACLzjC,EAAO0lC,GAAeqD,IAIvBpS,EAAQj5B,EAAO4pC,SAAUtnC,IAAUtC,EAAO4pC,SAAUyB,QAGrC3hC,IAAVvG,EA0CJ,OAAK81B,GAAS,QAASA,QACwBvvB,KAA5CiY,EAAMsX,EAAMzqB,IAAK7F,GAAM,EAAOugC,IAEzBvnB,EAIDpf,EAAOD,GA7CA,WAHd7G,SAAc0H,KAGcwe,EAAM+X,GAAQ1R,KAAM7kB,KAAawe,EAAK,KACjExe,EAAQ82B,GAAWtxB,EAAMrG,EAAMqf,GAG/BlmB,EAAO,UAIM,MAAT0H,GAAiBA,GAAUA,IAOlB,WAAT1H,GAAsBsqC,IAC1B5iC,GAASwe,GAAOA,EAAK,KAAS3hB,EAAO06B,UAAW2Q,GAAa,GAAK,OAI7D5qB,EAAQ0mB,iBAA6B,KAAVhkC,GAAiD,IAAjCb,EAAKvD,QAAS,gBAC9DwD,EAAOD,GAAS,WAIX22B,GAAY,QAASA,QACsBvvB,KAA9CvG,EAAQ81B,EAAMtf,IAAKhR,EAAMxF,EAAO+lC,MAE7BnD,EACJxjC,EAAM+oC,YAAahpC,EAAMa,GAEzBZ,EAAOD,GAASa,GAtDrB,CAsEA,EAECqS,IAAK,SAAU7M,EAAMrG,EAAM4mC,EAAOF,GACjC,IAAIjzB,EAAK9L,EAAKgvB,EACboS,EAAWxT,GAAWv1B,GA6BvB,OA5BgB+iC,GAAY3pC,KAAM4G,KAMjCA,EAAO0lC,GAAeqD,KAIvBpS,EAAQj5B,EAAO4pC,SAAUtnC,IAAUtC,EAAO4pC,SAAUyB,KAGtC,QAASpS,IACtBljB,EAAMkjB,EAAMzqB,IAAK7F,GAAM,EAAMugC,SAIjBx/B,IAARqM,IACJA,EAAM4vB,GAAQh9B,EAAMrG,EAAM0mC,IAId,WAARjzB,GAAoBzT,KAAQimC,KAChCxyB,EAAMwyB,GAAoBjmC,IAIZ,KAAV4mC,GAAgBA,GACpBj/B,EAAM+8B,WAAYjxB,IACD,IAAVmzB,GAAkBqC,SAAUthC,GAAQA,GAAO,EAAI8L,GAGhDA,CACT,IAGA/V,EAAOG,KAAM,CAAE,SAAU,SAAW,SAAUyjB,EAAIilB,GACjD7oC,EAAO4pC,SAAUf,GAAc,CAC9Br6B,IAAK,SAAU7F,EAAMi9B,EAAUsD,GAC9B,GAAKtD,EAIJ,OAAOwC,GAAa1sC,KAAMsE,EAAOwV,IAAK7M,EAAM,aAQxCA,EAAK8gC,iBAAiBxuC,QAAW0N,EAAK2D,wBAAwBsJ,MAIjE0zB,GAAkB3gC,EAAMkgC,EAAWK,GAHnC1D,GAAM78B,EAAM0/B,GAAS,WACpB,OAAOiB,GAAkB3gC,EAAMkgC,EAAWK,EAChD,EAGA,EAEEvvB,IAAK,SAAUhR,EAAMxF,EAAO+lC,GAC3B,IAAI5lB,EACH0lB,EAAS1D,GAAW38B,GAIpB6iC,GAAsB/qB,EAAQ8mB,iBACT,aAApByB,EAAOn9B,SAIRk9B,GADkByC,GAAsBtC,IAEY,eAAnDlpC,EAAOwV,IAAK7M,EAAM,aAAa,EAAOqgC,GACvCL,EAAWO,EACVN,GACCjgC,EACAkgC,EACAK,EACAH,EACAC,GAED,EAqBF,OAjBKD,GAAeyC,IACnB7C,GAAYx+B,KAAKk/B,KAChB1gC,EAAM,SAAWkgC,EAAW,GAAIjuC,cAAgBiuC,EAAUjoC,MAAO,IACjEomC,WAAYgC,EAAQH,IACpBD,GAAoBjgC,EAAMkgC,EAAW,UAAU,EAAOG,GACtD,KAKGL,IAAcrlB,EAAUoW,GAAQ1R,KAAM7kB,KACb,QAA3BmgB,EAAS,IAAO,QAElB3a,EAAKpG,MAAOsmC,GAAc1lC,EAC1BA,EAAQnD,EAAOwV,IAAK7M,EAAMkgC,IAGpBH,GAAmB//B,EAAMxF,EAAOwlC,EAC1C,EAEA,GAEA3oC,EAAO4pC,SAASlD,WAAaT,GAAcxlB,EAAQ6mB,mBAClD,SAAU3+B,EAAMi9B,GACf,GAAKA,EACJ,OAASoB,WAAYrB,GAAQh9B,EAAM,gBAClCA,EAAK2D,wBAAwBN,KAC5Bw5B,GAAM78B,EAAM,CAAE+9B,WAAY,GAAK,WAC9B,OAAO/9B,EAAK2D,wBAAwBN,IAC1C,IACO,IAEP,GAIAhM,EAAOG,KAAM,CACZ0M,OAAQ,GACR4+B,QAAS,GACTC,OAAQ,SACN,SAAU94B,EAAQ+4B,GACpB3rC,EAAO4pC,SAAUh3B,EAAS+4B,GAAW,CACpCC,OAAQ,SAAUzoC,GAOjB,IANA,IAAIjI,EAAI,EACP2wC,EAAW,CAAA,EAGXC,EAAyB,iBAAV3oC,EAAqBA,EAAMiB,MAAO,KAAQ,CAAEjB,GAEpDjI,EAAI,EAAGA,IACd2wC,EAAUj5B,EAAS+mB,GAAWz+B,GAAMywC,GACnCG,EAAO5wC,IAAO4wC,EAAO5wC,EAAI,IAAO4wC,EAAO,GAGzC,OAAOD,CACV,GAGiB,WAAXj5B,IACJ5S,EAAO4pC,SAAUh3B,EAAS+4B,GAAShyB,IAAM+uB,GAE3C,GAEA1oC,EAAOC,GAAG8B,OAAQ,CACjByT,IAAK,SAAUlT,EAAMa,GACpB,OAAO+zB,EAAQ78B,KAAM,SAAUsO,EAAMrG,EAAMa,GAC1C,IAAI6lC,EAAQxiC,EACXoO,EAAM,CAAA,EACN1Z,EAAI,EAEL,GAAKyO,MAAMvH,QAASE,GAAS,CAI5B,IAHA0mC,EAAS1D,GAAW38B,GACpBnC,EAAMlE,EAAKrH,OAEHC,EAAIsL,EAAKtL,IAChB0Z,EAAKtS,EAAMpH,IAAQ8E,EAAOwV,IAAK7M,EAAMrG,EAAMpH,IAAK,EAAO8tC,GAGxD,OAAOp0B,CACX,CAEG,YAAiBlL,IAAVvG,EACNnD,EAAOuC,MAAOoG,EAAMrG,EAAMa,GAC1BnD,EAAOwV,IAAK7M,EAAMrG,EACtB,EAAKA,EAAMa,EAAOmF,UAAUrN,OAAS,EACrC,IAOA+E,EAAO0pC,MAAQA,GAEfA,GAAMzqC,UAAY,CACjBgK,YAAaygC,GACbroB,KAAM,SAAU1Y,EAAMxJ,EAASkT,EAAMiH,EAAKqwB,EAAQlP,GACjDpgC,KAAKsO,KAAOA,EACZtO,KAAKgY,KAAOA,EACZhY,KAAKsvC,OAASA,GAAU3pC,EAAO2pC,OAAO1N,SACtC5hC,KAAK8E,QAAUA,EACf9E,KAAK+e,MAAQ/e,KAAKoV,IAAMpV,KAAK03B,MAC7B13B,KAAKif,IAAMA,EACXjf,KAAKogC,KAAOA,IAAUz6B,EAAO06B,UAAWroB,GAAS,GAAK,KACxD,EACC0f,IAAK,WACJ,IAAIkH,EAAQyQ,GAAMqC,UAAW1xC,KAAKgY,MAElC,OAAO4mB,GAASA,EAAMzqB,IACrByqB,EAAMzqB,IAAKnU,MACXqvC,GAAMqC,UAAU9P,SAASztB,IAAKnU,KACjC,EACC2xC,IAAK,SAAUC,GACd,IAAIC,EACHjT,EAAQyQ,GAAMqC,UAAW1xC,KAAKgY,MAoB/B,OAlBKhY,KAAK8E,QAAQgtC,SACjB9xC,KAAK+xC,IAAMF,EAAQlsC,EAAO2pC,OAAQtvC,KAAKsvC,QACtCsC,EAAS5xC,KAAK8E,QAAQgtC,SAAWF,EAAS,EAAG,EAAG5xC,KAAK8E,QAAQgtC,UAG9D9xC,KAAK+xC,IAAMF,EAAQD,EAEpB5xC,KAAKoV,KAAQpV,KAAKif,IAAMjf,KAAK+e,OAAU8yB,EAAQ7xC,KAAK+e,MAE/C/e,KAAK8E,QAAQktC,MACjBhyC,KAAK8E,QAAQktC,KAAK/lC,KAAMjM,KAAKsO,KAAMtO,KAAKoV,IAAKpV,MAGzC4+B,GAASA,EAAMtf,IACnBsf,EAAMtf,IAAKtf,MAEXqvC,GAAMqC,UAAU9P,SAAStiB,IAAKtf,MAExBA,IACT,GAGAqvC,GAAMzqC,UAAUoiB,KAAKpiB,UAAYyqC,GAAMzqC,UAEvCyqC,GAAMqC,UAAY,CACjB9P,SAAU,CACTztB,IAAK,SAAU2rB,GACd,IAAIz0B,EAIJ,OAA6B,IAAxBy0B,EAAMxxB,KAAKgY,UACa,MAA5BwZ,EAAMxxB,KAAMwxB,EAAM9nB,OAAoD,MAAlC8nB,EAAMxxB,KAAKpG,MAAO43B,EAAM9nB,MACrD8nB,EAAMxxB,KAAMwxB,EAAM9nB,OAO1B3M,EAAS1F,EAAOwV,IAAK2kB,EAAMxxB,KAAMwxB,EAAM9nB,KAAM,MAGhB,SAAX3M,EAAwBA,EAAJ,CACzC,EACEiU,IAAK,SAAUwgB,GAKTn6B,EAAOssC,GAAGD,KAAMlS,EAAM9nB,MAC1BrS,EAAOssC,GAAGD,KAAMlS,EAAM9nB,MAAQ8nB,GACK,IAAxBA,EAAMxxB,KAAKgY,WACtB3gB,EAAO4pC,SAAUzP,EAAM9nB,OAC6B,MAAnD8nB,EAAMxxB,KAAKpG,MAAOylC,GAAe7N,EAAM9nB,OAGxC8nB,EAAMxxB,KAAMwxB,EAAM9nB,MAAS8nB,EAAM1qB,IAFjCzP,EAAOuC,MAAO43B,EAAMxxB,KAAMwxB,EAAM9nB,KAAM8nB,EAAM1qB,IAAM0qB,EAAMM,KAI5D,IAMAiP,GAAMqC,UAAUQ,UAAY7C,GAAMqC,UAAUS,WAAa,CACxD7yB,IAAK,SAAUwgB,GACTA,EAAMxxB,KAAKgY,UAAYwZ,EAAMxxB,KAAKiJ,aACtCuoB,EAAMxxB,KAAMwxB,EAAM9nB,MAAS8nB,EAAM1qB,IAEpC,GAGAzP,EAAO2pC,OAAS,CACf8C,OAAQ,SAAUC,GACjB,OAAOA,CACT,EACCC,MAAO,SAAUD,GAChB,MAAO,GAAMviC,KAAKyiC,IAAKF,EAAIviC,KAAK0iC,IAAO,CACzC,EACC5Q,SAAU,SAGXj8B,EAAOssC,GAAK5C,GAAMzqC,UAAUoiB,KAG5BrhB,EAAOssC,GAAGD,KAAO,CAAA,EAKjB,IACCS,GAAOC,GACPC,GAAW,yBACXC,GAAO,cAER,SAASC,KACHH,MACqB,IAApBvzC,EAAS2zC,QAAoB1zC,EAAO2zC,sBACxC3zC,EAAO2zC,sBAAuBF,IAE9BzzC,EAAOwH,WAAYisC,GAAUltC,EAAOssC,GAAGe,UAGxCrtC,EAAOssC,GAAGgB,OAEZ,CAGA,SAASC,KAIR,OAHA9zC,EAAOwH,WAAY,WAClB6rC,QAAQpjC,CACV,GACUojC,GAAQnrC,KAAK8N,KACvB,CAGA,SAAS+9B,GAAO/xC,EAAMgyC,GACrB,IAAIrL,EACHlnC,EAAI,EACJ49B,EAAQ,CAAEjjB,OAAQpa,GAKnB,IADAgyC,EAAeA,EAAe,EAAI,EAC1BvyC,EAAI,EAAGA,GAAK,EAAIuyC,EAEvB3U,EAAO,UADPsJ,EAAQzI,GAAWz+B,KACS49B,EAAO,UAAYsJ,GAAU3mC,EAO1D,OAJKgyC,IACJ3U,EAAM7qB,QAAU6qB,EAAMljB,MAAQna,GAGxBq9B,CACR,CAEA,SAAS4U,GAAavqC,EAAOkP,EAAMs7B,GAKlC,IAJA,IAAIxT,EACH0J,GAAe+J,GAAUC,SAAUx7B,IAAU,IAAKZ,OAAQm8B,GAAUC,SAAU,MAC9EztC,EAAQ,EACRnF,EAAS4oC,EAAW5oC,OACbmF,EAAQnF,EAAQmF,IACvB,GAAO+5B,EAAQ0J,EAAYzjC,GAAQkG,KAAMqnC,EAAWt7B,EAAMlP,GAGzD,OAAOg3B,CAGV,CAmNA,SAASyT,GAAWjlC,EAAMmlC,EAAY3uC,GACrC,IAAIuG,EACHqoC,EACA3tC,EAAQ,EACRnF,EAAS2yC,GAAUI,WAAW/yC,OAC9B25B,EAAW50B,EAAOy0B,WAAWE,OAAQ,kBAG7B2Y,EAAK3kC,IACf,GACE2kC,EAAO,WACN,GAAKS,EACJ,OAAO,EAYR,IAVA,IAAIE,EAAcnB,IAASS,KAC1BjX,EAAYnsB,KAAKkP,IAAK,EAAGs0B,EAAUlyB,UAAYkyB,EAAUxB,SAAW8B,GAKpEhC,EAAU,GADH3V,EAAYqX,EAAUxB,UAAY,GAEzC/rC,EAAQ,EACRnF,EAAS0yC,EAAUO,OAAOjzC,OAEnBmF,EAAQnF,EAAQmF,IACvButC,EAAUO,OAAQ9tC,GAAQ4rC,IAAKC,GAMhC,OAHArX,EAASgB,WAAYjtB,EAAM,CAAEglC,EAAW1B,EAAS3V,IAG5C2V,EAAU,GAAKhxC,EACZq7B,GAIFr7B,GACL25B,EAASgB,WAAYjtB,EAAM,CAAEglC,EAAW,EAAG,IAI5C/Y,EAASiB,YAAaltB,EAAM,CAAEglC,KACvB,EACV,EACEA,EAAY/Y,EAAStB,QAAS,CAC7B3qB,KAAMA,EACN63B,MAAOxgC,EAAO+B,OAAQ,CAAA,EAAI+rC,GAC1B/iC,KAAM/K,EAAO+B,QAAQ,EAAM,CAC1BosC,cAAe,CAAA,EACfxE,OAAQ3pC,EAAO2pC,OAAO1N,UACpB98B,GACHivC,mBAAoBN,EACpBO,gBAAiBlvC,EACjBsc,UAAWqxB,IAASS,KACpBpB,SAAUhtC,EAAQgtC,SAClB+B,OAAQ,GACRR,YAAa,SAAUr7B,EAAMiH,GAC5B,IAAI6gB,EAAQn6B,EAAO0pC,MAAO/gC,EAAMglC,EAAU5iC,KAAMsH,EAAMiH,EACrDq0B,EAAU5iC,KAAKojC,cAAe97B,IAAUs7B,EAAU5iC,KAAK4+B,QAExD,OADAgE,EAAUO,OAAOvtC,KAAMw5B,GAChBA,CACX,EACGhB,KAAM,SAAUmV,GACf,IAAIluC,EAAQ,EAIXnF,EAASqzC,EAAUX,EAAUO,OAAOjzC,OAAS,EAC9C,GAAK8yC,EACJ,OAAO1zC,KAGR,IADA0zC,GAAU,EACF3tC,EAAQnF,EAAQmF,IACvButC,EAAUO,OAAQ9tC,GAAQ4rC,IAAK,GAUhC,OANKsC,GACJ1Z,EAASgB,WAAYjtB,EAAM,CAAEglC,EAAW,EAAG,IAC3C/Y,EAASiB,YAAaltB,EAAM,CAAEglC,EAAWW,KAEzC1Z,EAASoB,WAAYrtB,EAAM,CAAEglC,EAAWW,IAElCj0C,IACX,IAEEmmC,EAAQmN,EAAUnN,MAInB,IA/HD,SAAqBA,EAAO2N,GAC3B,IAAI/tC,EAAOkC,EAAMqnC,EAAQxmC,EAAO81B,EAGhC,IAAM74B,KAASogC,EAed,GAbAmJ,EAASwE,EADT7rC,EAAOu1B,GAAWz3B,IAElB+C,EAAQq9B,EAAOpgC,GACVuJ,MAAMvH,QAASe,KACnBwmC,EAASxmC,EAAO,GAChBA,EAAQq9B,EAAOpgC,GAAU+C,EAAO,IAG5B/C,IAAUkC,IACdk+B,EAAOl+B,GAASa,SACTq9B,EAAOpgC,KAGf64B,EAAQj5B,EAAO4pC,SAAUtnC,KACX,WAAY22B,EAMzB,IAAM74B,KALN+C,EAAQ81B,EAAM2S,OAAQzoC,UACfq9B,EAAOl+B,GAICa,EACN/C,KAASogC,IAChBA,EAAOpgC,GAAU+C,EAAO/C,GACxB+tC,EAAe/tC,GAAUupC,QAI3BwE,EAAe7rC,GAASqnC,CAG3B,CA0FC4E,CAAY/N,EAAOmN,EAAU5iC,KAAKojC,eAE1B/tC,EAAQnF,EAAQmF,IAEvB,GADAsF,EAASkoC,GAAUI,WAAY5tC,GAAQkG,KAAMqnC,EAAWhlC,EAAM63B,EAAOmN,EAAU5iC,MAM9E,OAJK2V,EAAYhb,EAAOyzB,QACvBn5B,EAAOk5B,YAAayU,EAAUhlC,KAAMglC,EAAU5iC,KAAKkpB,OAAQkF,KAC1DzzB,EAAOyzB,KAAKqV,KAAM9oC,IAEbA,EAyBT,OArBA1F,EAAO4U,IAAK4rB,EAAOkN,GAAaC,GAE3BjtB,EAAYitB,EAAU5iC,KAAKqO,QAC/Bu0B,EAAU5iC,KAAKqO,MAAM9S,KAAMqC,EAAMglC,GAIlCA,EACEvwC,SAAUuwC,EAAU5iC,KAAK3N,UACzBgB,KAAMuvC,EAAU5iC,KAAK3M,KAAMuvC,EAAU5iC,KAAKpH,UAC1C4vB,KAAMoa,EAAU5iC,KAAKwoB,MACrBoB,OAAQgZ,EAAU5iC,KAAK4pB,QAEzB30B,EAAOssC,GAAGmC,MACTzuC,EAAO+B,OAAQurC,EAAM,CACpB3kC,KAAMA,EACN+lC,KAAMf,EACN1Z,MAAO0Z,EAAU5iC,KAAKkpB,SAIjB0Z,CACR,CAEA3tC,EAAO4tC,UAAY5tC,EAAO+B,OAAQ6rC,GAAW,CAE5CC,SAAU,CACT,IAAK,CAAE,SAAUx7B,EAAMlP,GACtB,IAAIg3B,EAAQ9/B,KAAKqzC,YAAar7B,EAAMlP,GAEpC,OADA82B,GAAWE,EAAMxxB,KAAM0J,EAAMqnB,GAAQ1R,KAAM7kB,GAASg3B,GAC7CA,CACV,IAGCwU,QAAS,SAAUnO,EAAOrmC,GACpBumB,EAAY8f,IAChBrmC,EAAWqmC,EACXA,EAAQ,CAAE,MAEVA,EAAQA,EAAMzgC,MAAO8yB,GAOtB,IAJA,IAAIxgB,EACHjS,EAAQ,EACRnF,EAASulC,EAAMvlC,OAERmF,EAAQnF,EAAQmF,IACvBiS,EAAOmuB,EAAOpgC,GACdwtC,GAAUC,SAAUx7B,GAASu7B,GAAUC,SAAUx7B,IAAU,GAC3Du7B,GAAUC,SAAUx7B,GAAOkF,QAASpd,EAEvC,EAEC6zC,WAAY,CA3Wb,SAA2BrlC,EAAM63B,EAAOz1B,GACvC,IAAIsH,EAAMlP,EAAO+3B,EAAQjC,EAAO2V,EAASC,EAAWC,EAAgB9U,EACnE+U,EAAQ,UAAWvO,GAAS,WAAYA,EACxCkO,EAAOr0C,KACP0oC,EAAO,CAAA,EACPxgC,EAAQoG,EAAKpG,MACb4qC,EAASxkC,EAAKgY,UAAYoZ,GAAoBpxB,GAC9CqmC,EAAW3W,GAAS7pB,IAAK7F,EAAM,UA6BhC,IAAM0J,KA1BAtH,EAAKkpB,QAEa,OADvBgF,EAAQj5B,EAAOk5B,YAAavwB,EAAM,OACvBsmC,WACVhW,EAAMgW,SAAW,EACjBL,EAAU3V,EAAMlM,MAAMoH,KACtB8E,EAAMlM,MAAMoH,KAAO,WACZ8E,EAAMgW,UACXL,GAEL,GAEE3V,EAAMgW,WAENP,EAAK/Z,OAAQ,WAGZ+Z,EAAK/Z,OAAQ,WACZsE,EAAMgW,WACAjvC,EAAOi0B,MAAOtrB,EAAM,MAAO1N,QAChCg+B,EAAMlM,MAAMoH,MAEjB,EACA,IAIeqM,EAEb,GADAr9B,EAAQq9B,EAAOnuB,GACV26B,GAAStxC,KAAMyH,GAAU,CAG7B,UAFOq9B,EAAOnuB,GACd6oB,EAASA,GAAoB,WAAV/3B,EACdA,KAAYgqC,EAAS,OAAS,QAAW,CAI7C,GAAe,SAAVhqC,IAAoB6rC,QAAiCtlC,IAArBslC,EAAU38B,GAK9C,SAJA86B,GAAS,CAMd,CACGpK,EAAM1wB,GAAS28B,GAAYA,EAAU38B,IAAUrS,EAAOuC,MAAOoG,EAAM0J,EACtE,CAKC,IADAw8B,GAAa7uC,EAAOyiB,cAAe+d,MAChBxgC,EAAOyiB,cAAesgB,GA8DzC,IAAM1wB,KAzDD08B,GAA2B,IAAlBpmC,EAAKgY,WAMlB5V,EAAKmkC,SAAW,CAAE3sC,EAAM2sC,SAAU3sC,EAAM4sC,UAAW5sC,EAAM6sC,WAIlC,OADvBN,EAAiBE,GAAYA,EAAShV,WAErC8U,EAAiBzW,GAAS7pB,IAAK7F,EAAM,YAGrB,UADjBqxB,EAAUh6B,EAAOwV,IAAK7M,EAAM,cAEtBmmC,EACJ9U,EAAU8U,GAIVhU,GAAU,CAAEnyB,IAAQ,GACpBmmC,EAAiBnmC,EAAKpG,MAAMy3B,SAAW8U,EACvC9U,EAAUh6B,EAAOwV,IAAK7M,EAAM,WAC5BmyB,GAAU,CAAEnyB,OAKG,WAAZqxB,GAAoC,iBAAZA,GAAgD,MAAlB8U,IACrB,SAAhC9uC,EAAOwV,IAAK7M,EAAM,WAGhBkmC,IACLH,EAAKtwC,KAAM,WACVmE,EAAMy3B,QAAU8U,CACtB,GAC4B,MAAlBA,IACJ9U,EAAUz3B,EAAMy3B,QAChB8U,EAA6B,SAAZ9U,EAAqB,GAAKA,IAG7Cz3B,EAAMy3B,QAAU,iBAKdjvB,EAAKmkC,WACT3sC,EAAM2sC,SAAW,SACjBR,EAAK/Z,OAAQ,WACZpyB,EAAM2sC,SAAWnkC,EAAKmkC,SAAU,GAChC3sC,EAAM4sC,UAAYpkC,EAAKmkC,SAAU,GACjC3sC,EAAM6sC,UAAYrkC,EAAKmkC,SAAU,EACpC,IAICL,GAAY,EACE9L,EAGP8L,IACAG,EACC,WAAYA,IAChB7B,EAAS6B,EAAS7B,QAGnB6B,EAAW3W,GAASnB,OAAQvuB,EAAM,SAAU,CAAEqxB,QAAS8U,IAInD5T,IACJ8T,EAAS7B,QAAUA,GAIfA,GACJrS,GAAU,CAAEnyB,IAAQ,GAKrB+lC,EAAKtwC,KAAM,WASV,IAAMiU,KAJA86B,GACLrS,GAAU,CAAEnyB,IAEb0vB,GAASxzB,OAAQ8D,EAAM,UACTo6B,EACb/iC,EAAOuC,MAAOoG,EAAM0J,EAAM0wB,EAAM1wB,GAErC,IAIEw8B,EAAYnB,GAAaP,EAAS6B,EAAU38B,GAAS,EAAGA,EAAMq8B,GACtDr8B,KAAQ28B,IACfA,EAAU38B,GAASw8B,EAAUz1B,MACxB+zB,IACJ0B,EAAUv1B,IAAMu1B,EAAUz1B,MAC1By1B,EAAUz1B,MAAQ,GAItB,GAmMCi2B,UAAW,SAAUl1C,EAAUuqC,GACzBA,EACJkJ,GAAUI,WAAWz2B,QAASpd,GAE9ByzC,GAAUI,WAAWrtC,KAAMxG,EAE9B,IAGA6F,EAAOsvC,MAAQ,SAAUA,EAAO3F,EAAQ1pC,GACvC,IAAIsvC,EAAMD,GAA0B,iBAAVA,EAAqBtvC,EAAO+B,OAAQ,GAAIutC,GAAU,CAC3E3rC,SAAU1D,IAAOA,GAAM0pC,GACtBjpB,EAAY4uB,IAAWA,EACxBnD,SAAUmD,EACV3F,OAAQ1pC,GAAM0pC,GAAUA,IAAWjpB,EAAYipB,IAAYA,GAoC5D,OAhCK3pC,EAAOssC,GAAGtkC,IACdunC,EAAIpD,SAAW,EAGc,iBAAjBoD,EAAIpD,WACVoD,EAAIpD,YAAYnsC,EAAOssC,GAAGkD,OAC9BD,EAAIpD,SAAWnsC,EAAOssC,GAAGkD,OAAQD,EAAIpD,UAGrCoD,EAAIpD,SAAWnsC,EAAOssC,GAAGkD,OAAOvT,UAMjB,MAAbsT,EAAItb,QAA+B,IAAdsb,EAAItb,QAC7Bsb,EAAItb,MAAQ,MAIbsb,EAAI9J,IAAM8J,EAAI5rC,SAEd4rC,EAAI5rC,SAAW,WACT+c,EAAY6uB,EAAI9J,MACpB8J,EAAI9J,IAAIn/B,KAAMjM,MAGVk1C,EAAItb,OACRj0B,EAAO+4B,QAAS1+B,KAAMk1C,EAAItb,MAE7B,EAEQsb,CACR,EAEAvvC,EAAOC,GAAG8B,OAAQ,CACjB0tC,OAAQ,SAAUH,EAAOI,EAAI/F,EAAQxvC,GAGpC,OAAOE,KAAKwN,OAAQkyB,IAAqBvkB,IAAK,UAAW,GAAIulB,OAG3DzhB,MAAMq2B,QAAS,CAAE1hC,QAASyhC,GAAMJ,EAAO3F,EAAQxvC,EACnD,EACCw1C,QAAS,SAAUt9B,EAAMi9B,EAAO3F,EAAQxvC,GACvC,IAAI4yB,EAAQ/sB,EAAOyiB,cAAepQ,GACjCu9B,EAAS5vC,EAAOsvC,MAAOA,EAAO3F,EAAQxvC,GACtC01C,EAAc,WAGb,IAAInB,EAAOd,GAAWvzC,KAAM2F,EAAO+B,OAAQ,CAAA,EAAIsQ,GAAQu9B,IAGlD7iB,GAASsL,GAAS7pB,IAAKnU,KAAM,YACjCq0C,EAAKvV,MAAM,EAEhB,EAIE,OAFA0W,EAAYC,OAASD,EAEd9iB,IAA0B,IAAjB6iB,EAAO3b,MACtB55B,KAAK8F,KAAM0vC,GACXx1C,KAAK45B,MAAO2b,EAAO3b,MAAO4b,EAC7B,EACC1W,KAAM,SAAU19B,EAAM49B,EAAYiV,GACjC,IAAIyB,EAAY,SAAU9W,GACzB,IAAIE,EAAOF,EAAME,YACVF,EAAME,KACbA,EAAMmV,EACT,EAWE,MATqB,iBAAT7yC,IACX6yC,EAAUjV,EACVA,EAAa59B,EACbA,OAAOiO,GAEH2vB,GACJh/B,KAAK45B,MAAOx4B,GAAQ,KAAM,IAGpBpB,KAAK8F,KAAM,WACjB,IAAI44B,GAAU,EACb34B,EAAgB,MAAR3E,GAAgBA,EAAO,aAC/Bu0C,EAAShwC,EAAOgwC,OAChBhsC,EAAOq0B,GAAS7pB,IAAKnU,MAEtB,GAAK+F,EACC4D,EAAM5D,IAAW4D,EAAM5D,GAAQ+4B,MACnC4W,EAAW/rC,EAAM5D,SAGlB,IAAMA,KAAS4D,EACTA,EAAM5D,IAAW4D,EAAM5D,GAAQ+4B,MAAQ8T,GAAKvxC,KAAM0E,IACtD2vC,EAAW/rC,EAAM5D,IAKpB,IAAMA,EAAQ4vC,EAAO/0C,OAAQmF,KACvB4vC,EAAQ5vC,GAAQuI,OAAStO,MACnB,MAARoB,GAAgBu0C,EAAQ5vC,GAAQ6zB,QAAUx4B,IAE5Cu0C,EAAQ5vC,GAAQsuC,KAAKvV,KAAMmV,GAC3BvV,GAAU,EACViX,EAAO1vC,OAAQF,EAAO,KAOnB24B,GAAYuV,GAChBtuC,EAAO+4B,QAAS1+B,KAAMoB,EAE1B,EACA,EACCq0C,OAAQ,SAAUr0C,GAIjB,OAHc,IAATA,IACJA,EAAOA,GAAQ,MAETpB,KAAK8F,KAAM,WACjB,IAAIC,EACH4D,EAAOq0B,GAAS7pB,IAAKnU,MACrB45B,EAAQjwB,EAAMvI,EAAO,SACrBw9B,EAAQj1B,EAAMvI,EAAO,cACrBu0C,EAAShwC,EAAOgwC,OAChB/0C,EAASg5B,EAAQA,EAAMh5B,OAAS,EAajC,IAVA+I,EAAK8rC,QAAS,EAGd9vC,EAAOi0B,MAAO55B,KAAMoB,EAAM,IAErBw9B,GAASA,EAAME,MACnBF,EAAME,KAAK7yB,KAAMjM,MAAM,GAIlB+F,EAAQ4vC,EAAO/0C,OAAQmF,KACvB4vC,EAAQ5vC,GAAQuI,OAAStO,MAAQ21C,EAAQ5vC,GAAQ6zB,QAAUx4B,IAC/Du0C,EAAQ5vC,GAAQsuC,KAAKvV,MAAM,GAC3B6W,EAAO1vC,OAAQF,EAAO,IAKxB,IAAMA,EAAQ,EAAGA,EAAQnF,EAAQmF,IAC3B6zB,EAAO7zB,IAAW6zB,EAAO7zB,GAAQ0vC,QACrC7b,EAAO7zB,GAAQ0vC,OAAOxpC,KAAMjM,aAKvB2J,EAAK8rC,MACf,EACA,IAGA9vC,EAAOG,KAAM,CAAE,SAAU,OAAQ,QAAU,SAAUyjB,EAAIthB,GACxD,IAAI2tC,EAAQjwC,EAAOC,GAAIqC,GACvBtC,EAAOC,GAAIqC,GAAS,SAAUgtC,EAAO3F,EAAQxvC,GAC5C,OAAgB,MAATm1C,GAAkC,kBAAVA,EAC9BW,EAAMpvC,MAAOxG,KAAMiO,WACnBjO,KAAKs1C,QAASnC,GAAOlrC,GAAM,GAAQgtC,EAAO3F,EAAQxvC,EACrD,CACA,GAGA6F,EAAOG,KAAM,CACZ+vC,UAAW1C,GAAO,QAClB2C,QAAS3C,GAAO,QAChB4C,YAAa5C,GAAO,UACpB6C,OAAQ,CAAEpiC,QAAS,QACnBqiC,QAAS,CAAEriC,QAAS,QACpBsiC,WAAY,CAAEtiC,QAAS,WACrB,SAAU3L,EAAMk+B,GAClBxgC,EAAOC,GAAIqC,GAAS,SAAUgtC,EAAO3F,EAAQxvC,GAC5C,OAAOE,KAAKs1C,QAASnP,EAAO8O,EAAO3F,EAAQxvC,EAC7C,CACA,GAEA6F,EAAOgwC,OAAS,GAChBhwC,EAAOssC,GAAGgB,KAAO,WAChB,IAAImB,EACHvzC,EAAI,EACJ80C,EAAShwC,EAAOgwC,OAIjB,IAFAlD,GAAQnrC,KAAK8N,MAELvU,EAAI80C,EAAO/0C,OAAQC,KAC1BuzC,EAAQuB,EAAQ90C,OAGC80C,EAAQ90C,KAAQuzC,GAChCuB,EAAO1vC,OAAQpF,IAAK,GAIhB80C,EAAO/0C,QACZ+E,EAAOssC,GAAGnT,OAEX2T,QAAQpjC,CACT,EAEA1J,EAAOssC,GAAGmC,MAAQ,SAAUA,GAC3BzuC,EAAOgwC,OAAOrvC,KAAM8tC,GACpBzuC,EAAOssC,GAAGlzB,OACX,EAEApZ,EAAOssC,GAAGe,SAAW,GACrBrtC,EAAOssC,GAAGlzB,MAAQ,WACZ2zB,KAILA,IAAa,EACbG,KACD,EAEAltC,EAAOssC,GAAGnT,KAAO,WAChB4T,GAAa,IACd,EAEA/sC,EAAOssC,GAAGkD,OAAS,CAClBgB,KAAM,IACNC,KAAM,IAGNxU,SAAU,KAKXj8B,EAAOC,GAAGywC,MAAQ,SAAUt1B,EAAM3f,GAIjC,OAHA2f,EAAOpb,EAAOssC,IAAKtsC,EAAOssC,GAAGkD,OAAQp0B,IAAiBA,EACtD3f,EAAOA,GAAQ,KAERpB,KAAK45B,MAAOx4B,EAAM,SAAUmhB,EAAMqc,GACxC,IAAIr/B,EAAUH,EAAOwH,WAAY2b,EAAMxB,GACvC6d,EAAME,KAAO,WACZ1/B,EAAO8O,aAAc3O,EACxB,CACA,EACA,EAGA,WACC,IAAIgwB,EAAQpwB,EAASgI,cAAe,SAEnC+tC,EADS/1C,EAASgI,cAAe,UACpBK,YAAarI,EAASgI,cAAe,WAEnDooB,EAAMnuB,KAAO,WAIbglB,EAAQkwB,QAA0B,KAAhB/mB,EAAMzmB,MAIxBsd,EAAQmwB,YAAcrB,EAAI1iB,UAI1BjD,EAAQpwB,EAASgI,cAAe,UAC1B2B,MAAQ,IACdymB,EAAMnuB,KAAO,QACbglB,EAAQowB,WAA6B,MAAhBjnB,EAAMzmB,KAC3B,CArBD,GAwBA,IAAI2tC,GACH5mB,GAAalqB,EAAO+pB,KAAKG,WAE1BlqB,EAAOC,GAAG8B,OAAQ,CACjBuI,KAAM,SAAUhI,EAAMa,GACrB,OAAO+zB,EAAQ78B,KAAM2F,EAAOsK,KAAMhI,EAAMa,EAAOmF,UAAUrN,OAAS,EACpE,EAEC6a,WAAY,SAAUxT,GACrB,OAAOjI,KAAK8F,KAAM,WACjBH,EAAO8V,WAAYzb,KAAMiI,EAC5B,EACA,IAGAtC,EAAO+B,OAAQ,CACduI,KAAM,SAAU3B,EAAMrG,EAAMa,GAC3B,IAAIwe,EAAKsX,EACR8X,EAAQpoC,EAAKgY,SAGd,GAAe,IAAVowB,GAAyB,IAAVA,GAAyB,IAAVA,EAKnC,YAAkC,IAAtBpoC,EAAKhG,aACT3C,EAAOqS,KAAM1J,EAAMrG,EAAMa,IAKlB,IAAV4tC,GAAgB/wC,EAAOgjB,SAAUra,KACrCswB,EAAQj5B,EAAOgxC,UAAW1uC,EAAK+C,iBAC5BrF,EAAO+pB,KAAKhqB,MAAMymB,KAAK9qB,KAAM4G,GAASwuC,QAAWpnC,SAGtCA,IAAVvG,EACW,OAAVA,OACJnD,EAAO8V,WAAYnN,EAAMrG,GAIrB22B,GAAS,QAASA,QACuBvvB,KAA3CiY,EAAMsX,EAAMtf,IAAKhR,EAAMxF,EAAOb,IACzBqf,GAGRhZ,EAAK4B,aAAcjI,EAAMa,EAAQ,IAC1BA,GAGH81B,GAAS,QAASA,GAA+C,QAApCtX,EAAMsX,EAAMzqB,IAAK7F,EAAMrG,IACjDqf,EAMM,OAHdA,EAAM3hB,EAAO2L,KAAKrB,KAAM3B,EAAMrG,SAGToH,EAAYiY,EACnC,EAECqvB,UAAW,CACVv1C,KAAM,CACLke,IAAK,SAAUhR,EAAMxF,GACpB,IAAMsd,EAAQowB,YAAwB,UAAV1tC,GAC3Boe,EAAU5Y,EAAM,SAAY,CAC5B,IAAIoN,EAAMpN,EAAKxF,MAKf,OAJAwF,EAAK4B,aAAc,OAAQpH,GACtB4S,IACJpN,EAAKxF,MAAQ4S,GAEP5S,CACZ,CACA,IAIC2S,WAAY,SAAUnN,EAAMxF,GAC3B,IAAIb,EACHpH,EAAI,EAIJ+1C,EAAY9tC,GAASA,EAAMpD,MAAO8yB,GAEnC,GAAKoe,GAA+B,IAAlBtoC,EAAKgY,SACtB,KAAUre,EAAO2uC,EAAW/1C,MAC3ByN,EAAKiL,gBAAiBtR,EAG1B,IAIAwuC,GAAW,CACVn3B,IAAK,SAAUhR,EAAMxF,EAAOb,GAQ3B,OAPe,IAAVa,EAGJnD,EAAO8V,WAAYnN,EAAMrG,GAEzBqG,EAAK4B,aAAcjI,EAAMA,GAEnBA,CACT,GAGAtC,EAAOG,KAAMH,EAAO+pB,KAAKhqB,MAAMymB,KAAKld,OAAOvJ,MAAO,QAAU,SAAU6jB,EAAIthB,GACzE,IAAI4uC,EAAShnB,GAAY5nB,IAAUtC,EAAO2L,KAAKrB,KAE/C4f,GAAY5nB,GAAS,SAAUqG,EAAMrG,EAAMsuB,GAC1C,IAAIjP,EAAK+c,EACRyS,EAAgB7uC,EAAK+C,cAYtB,OAVMurB,IAGL8N,EAASxU,GAAYinB,GACrBjnB,GAAYinB,GAAkBxvB,EAC9BA,EAAqC,MAA/BuvB,EAAQvoC,EAAMrG,EAAMsuB,GACzBugB,EACA,KACDjnB,GAAYinB,GAAkBzS,GAExB/c,CACT,CACA,GAKA,IAAIyvB,GAAa,sCAChBC,GAAa,gBAwIb,SAASC,GAAkBnuC,GAE1B,OADaA,EAAMpD,MAAO8yB,IAAmB,IAC/BnlB,KAAM,IACtB,CAGA,SAAS6jC,GAAU5oC,GAClB,OAAOA,EAAKhG,cAAgBgG,EAAKhG,aAAc,UAAa,EAC7D,CAEA,SAAS6uC,GAAgBruC,GACxB,OAAKwG,MAAMvH,QAASe,GACZA,EAEc,iBAAVA,GACJA,EAAMpD,MAAO8yB,IAEd,EACR,CAxJA7yB,EAAOC,GAAG8B,OAAQ,CACjBsQ,KAAM,SAAU/P,EAAMa,GACrB,OAAO+zB,EAAQ78B,KAAM2F,EAAOqS,KAAM/P,EAAMa,EAAOmF,UAAUrN,OAAS,EACpE,EAECw2C,WAAY,SAAUnvC,GACrB,OAAOjI,KAAK8F,KAAM,kBACV9F,KAAM2F,EAAO0xC,QAASpvC,IAAUA,EAC1C,EACA,IAGAtC,EAAO+B,OAAQ,CACdsQ,KAAM,SAAU1J,EAAMrG,EAAMa,GAC3B,IAAIwe,EAAKsX,EACR8X,EAAQpoC,EAAKgY,SAGd,GAAe,IAAVowB,GAAyB,IAAVA,GAAyB,IAAVA,EAWnC,OAPe,IAAVA,GAAgB/wC,EAAOgjB,SAAUra,KAGrCrG,EAAOtC,EAAO0xC,QAASpvC,IAAUA,EACjC22B,EAAQj5B,EAAO+rC,UAAWzpC,SAGZoH,IAAVvG,EACC81B,GAAS,QAASA,QACuBvvB,KAA3CiY,EAAMsX,EAAMtf,IAAKhR,EAAMxF,EAAOb,IACzBqf,EAGChZ,EAAMrG,GAASa,EAGpB81B,GAAS,QAASA,GAA+C,QAApCtX,EAAMsX,EAAMzqB,IAAK7F,EAAMrG,IACjDqf,EAGDhZ,EAAMrG,EACf,EAECypC,UAAW,CACVrf,SAAU,CACTle,IAAK,SAAU7F,GAMd,IAAIgpC,EAAW3xC,EAAO2L,KAAKrB,KAAM3B,EAAM,YAEvC,OAAKgpC,EACGx4B,SAAUw4B,EAAU,IAI3BP,GAAW11C,KAAMiN,EAAK4Y,WACtB8vB,GAAW31C,KAAMiN,EAAK4Y,WACtB5Y,EAAK5F,KAEE,GAGD,CACX,IAIC2uC,QAAS,CACRE,IAAO,UACPC,MAAS,eAYLpxB,EAAQmwB,cACb5wC,EAAO+rC,UAAUlf,SAAW,CAC3Bre,IAAK,SAAU7F,GAId,IAAI8iB,EAAS9iB,EAAKiJ,WAIlB,OAHK6Z,GAAUA,EAAO7Z,YACrB6Z,EAAO7Z,WAAWkb,cAEZ,IACV,EACEnT,IAAK,SAAUhR,GAId,IAAI8iB,EAAS9iB,EAAKiJ,WACb6Z,IACJA,EAAOqB,cAEFrB,EAAO7Z,YACX6Z,EAAO7Z,WAAWkb,cAGvB,IAIA9sB,EAAOG,KAAM,CACZ,WACA,WACA,YACA,cACA,cACA,UACA,UACA,SACA,cACA,mBACE,WACFH,EAAO0xC,QAASr3C,KAAKgL,eAAkBhL,IACxC,GA2BA2F,EAAOC,GAAG8B,OAAQ,CACjBoT,SAAU,SAAUhS,GACnB,IAAI2uC,EAAY/f,EAAKggB,EAAU38B,EAAWla,EAAG82C,EAE7C,OAAKtxB,EAAYvd,GACT9I,KAAK8F,KAAM,SAAU4R,GAC3B/R,EAAQ3F,MAAO8a,SAAUhS,EAAMmD,KAAMjM,KAAM0X,EAAGw/B,GAAUl3C,OAC5D,IAGEy3C,EAAaN,GAAgBruC,IAEblI,OACRZ,KAAK8F,KAAM,WAIjB,GAHA4xC,EAAWR,GAAUl3C,MACrB03B,EAAwB,IAAlB13B,KAAKsmB,UAAoB,IAAM2wB,GAAkBS,GAAa,IAEzD,CACV,IAAM72C,EAAI,EAAGA,EAAI42C,EAAW72C,OAAQC,IACnCka,EAAY08B,EAAY52C,GACnB62B,EAAIhzB,QAAS,IAAMqW,EAAY,KAAQ,IAC3C2c,GAAO3c,EAAY,KAKrB48B,EAAaV,GAAkBvf,GAC1BggB,IAAaC,GACjB33C,KAAKkQ,aAAc,QAASynC,EAElC,CACA,GAGS33C,IACT,EAECgb,YAAa,SAAUlS,GACtB,IAAI2uC,EAAY/f,EAAKggB,EAAU38B,EAAWla,EAAG82C,EAE7C,OAAKtxB,EAAYvd,GACT9I,KAAK8F,KAAM,SAAU4R,GAC3B/R,EAAQ3F,MAAOgb,YAAalS,EAAMmD,KAAMjM,KAAM0X,EAAGw/B,GAAUl3C,OAC/D,GAGQiO,UAAUrN,QAIhB62C,EAAaN,GAAgBruC,IAEblI,OACRZ,KAAK8F,KAAM,WAMjB,GALA4xC,EAAWR,GAAUl3C,MAGrB03B,EAAwB,IAAlB13B,KAAKsmB,UAAoB,IAAM2wB,GAAkBS,GAAa,IAEzD,CACV,IAAM72C,EAAI,EAAGA,EAAI42C,EAAW72C,OAAQC,IAInC,IAHAka,EAAY08B,EAAY52C,GAGhB62B,EAAIhzB,QAAS,IAAMqW,EAAY,SACtC2c,EAAMA,EAAIzwB,QAAS,IAAM8T,EAAY,IAAK,KAK5C48B,EAAaV,GAAkBvf,GAC1BggB,IAAaC,GACjB33C,KAAKkQ,aAAc,QAASynC,EAElC,CACA,GAGS33C,KA/BCA,KAAKiQ,KAAM,QAAS,GAgC9B,EAEC2nC,YAAa,SAAU9uC,EAAO+uC,GAC7B,IAAIJ,EAAY18B,EAAWla,EAAGq2B,EAC7B91B,SAAc0H,EACdgvC,EAAwB,WAAT12C,GAAqBkO,MAAMvH,QAASe,GAEpD,OAAKud,EAAYvd,GACT9I,KAAK8F,KAAM,SAAUjF,GAC3B8E,EAAQ3F,MAAO43C,YACd9uC,EAAMmD,KAAMjM,KAAMa,EAAGq2C,GAAUl3C,MAAQ63C,GACvCA,EAEL,GAG2B,kBAAbA,GAA0BC,EAC9BD,EAAW73C,KAAK8a,SAAUhS,GAAU9I,KAAKgb,YAAalS,IAG9D2uC,EAAaN,GAAgBruC,GAEtB9I,KAAK8F,KAAM,WACjB,GAAKgyC,EAKJ,IAFA5gB,EAAOvxB,EAAQ3F,MAETa,EAAI,EAAGA,EAAI42C,EAAW72C,OAAQC,IACnCka,EAAY08B,EAAY52C,GAGnBq2B,EAAKjc,SAAUF,GACnBmc,EAAKlc,YAAaD,GAElBmc,EAAKpc,SAAUC,aAKI1L,IAAVvG,GAAgC,YAAT1H,KAClC2Z,EAAYm8B,GAAUl3C,QAIrBg+B,GAAS1e,IAAKtf,KAAM,gBAAiB+a,GAOjC/a,KAAKkQ,cACTlQ,KAAKkQ,aAAc,QAClB6K,IAAuB,IAAVjS,EACZ,GACAk1B,GAAS7pB,IAAKnU,KAAM,kBAAqB,IAIhD,GACA,EAECib,SAAU,SAAU5M,GACnB,IAAI0M,EAAWzM,EACdzN,EAAI,EAGL,IADAka,EAAY,IAAM1M,EAAW,IACnBC,EAAOtO,KAAMa,MACtB,GAAuB,IAAlByN,EAAKgY,WACP,IAAM2wB,GAAkBC,GAAU5oC,IAAW,KAAM5J,QAASqW,MAC9D,OAAO,EAIT,OAAO,CACT,IAMA,IAAIg9B,GAAU,MAEdpyC,EAAOC,GAAG8B,OAAQ,CACjBgU,IAAK,SAAU5S,GACd,IAAI81B,EAAOtX,EAAKqiB,EACfr7B,EAAOtO,KAAM,GAEd,OAAMiO,UAAUrN,QA0BhB+oC,EAAkBtjB,EAAYvd,GAEvB9I,KAAK8F,KAAM,SAAUjF,GAC3B,IAAI6a,EAEmB,IAAlB1b,KAAKsmB,WAWE,OANX5K,EADIiuB,EACE7gC,EAAMmD,KAAMjM,KAAMa,EAAG8E,EAAQ3F,MAAO0b,OAEpC5S,GAKN4S,EAAM,GAEoB,iBAARA,EAClBA,GAAO,GAEIpM,MAAMvH,QAAS2T,KAC1BA,EAAM/V,EAAO4U,IAAKmB,EAAK,SAAU5S,GAChC,OAAgB,MAATA,EAAgB,GAAKA,EAAQ,EACzC,KAGG81B,EAAQj5B,EAAOqyC,SAAUh4C,KAAKoB,OAAUuE,EAAOqyC,SAAUh4C,KAAKknB,SAASlc,iBAGrD,QAAS4zB,QAA+CvvB,IAApCuvB,EAAMtf,IAAKtf,KAAM0b,EAAK,WAC3D1b,KAAK8I,MAAQ4S,GAEjB,IA3DQpN,GACJswB,EAAQj5B,EAAOqyC,SAAU1pC,EAAKlN,OAC7BuE,EAAOqyC,SAAU1pC,EAAK4Y,SAASlc,iBAG/B,QAAS4zB,QACgCvvB,KAAvCiY,EAAMsX,EAAMzqB,IAAK7F,EAAM,UAElBgZ,EAMY,iBAHpBA,EAAMhZ,EAAKxF,OAIHwe,EAAIrgB,QAAS8wC,GAAS,IAIhB,MAAPzwB,EAAc,GAAKA,OAG3B,CAsCH,IAGA3hB,EAAO+B,OAAQ,CACdswC,SAAU,CACT1W,OAAQ,CACPntB,IAAK,SAAU7F,GAEd,IAAIoN,EAAM/V,EAAO2L,KAAKrB,KAAM3B,EAAM,SAClC,OAAc,MAAPoN,EACNA,EAMAu7B,GAAkBtxC,EAAOuL,KAAM5C,GACpC,GAEEuF,OAAQ,CACPM,IAAK,SAAU7F,GACd,IAAIxF,EAAOw4B,EAAQzgC,EAClBiE,EAAUwJ,EAAKxJ,QACfiB,EAAQuI,EAAKmkB,cACb2Q,EAAoB,eAAd90B,EAAKlN,KACXu/B,EAASyC,EAAM,KAAO,GACtBpkB,EAAMokB,EAAMr9B,EAAQ,EAAIjB,EAAQlE,OAUjC,IAPCC,EADIkF,EAAQ,EACRiZ,EAGAokB,EAAMr9B,EAAQ,EAIXlF,EAAIme,EAAKne,IAKhB,KAJAygC,EAASx8B,EAASjE,IAIJ2xB,UAAY3xB,IAAMkF,KAG7Bu7B,EAAOpU,YACLoU,EAAO/pB,WAAW2V,WACnBhG,EAAUoa,EAAO/pB,WAAY,aAAiB,CAMjD,GAHAzO,EAAQnD,EAAQ27B,GAAS5lB,MAGpB0nB,EACJ,OAAOt6B,EAIR63B,EAAOr6B,KAAMwC,EACnB,CAGI,OAAO63B,CACX,EAEGrhB,IAAK,SAAUhR,EAAMxF,GAMpB,IALA,IAAImvC,EAAW3W,EACdx8B,EAAUwJ,EAAKxJ,QACf67B,EAASh7B,EAAO6iB,UAAW1f,GAC3BjI,EAAIiE,EAAQlE,OAELC,OACPygC,EAASx8B,EAASjE,IAIN2xB,SACX7sB,EAAO+iB,QAAS/iB,EAAOqyC,SAAS1W,OAAOntB,IAAKmtB,GAAUX,IAAW,KAEjEsX,GAAY,GAUd,OAHMA,IACL3pC,EAAKmkB,eAAgB,GAEfkO,CACX,MAMAh7B,EAAOG,KAAM,CAAE,QAAS,YAAc,WACrCH,EAAOqyC,SAAUh4C,MAAS,CACzBsf,IAAK,SAAUhR,EAAMxF,GACpB,GAAKwG,MAAMvH,QAASe,GACnB,OAASwF,EAAKikB,QAAU5sB,EAAO+iB,QAAS/iB,EAAQ2I,GAAOoN,MAAO5S,IAAU,CAE5E,GAEOsd,EAAQkwB,UACb3wC,EAAOqyC,SAAUh4C,MAAOmU,IAAM,SAAU7F,GACvC,OAAwC,OAAjCA,EAAKhG,aAAc,SAAqB,KAAOgG,EAAKxF,KAC9D,EAEA,GAMA,IAAIzJ,GAAWD,EAAOC,SAElBonB,GAAQ,CAAE2C,KAAM9hB,KAAK8N,OAErB8iC,GAAM,KAKVvyC,EAAOwyC,SAAW,SAAUxuC,GAC3B,IAAIsnB,EAAKmnB,EACT,IAAMzuC,GAAwB,iBAATA,EACpB,OAAO,KAKR,IACCsnB,GAAM,IAAM7xB,EAAOi5C,WAAcC,gBAAiB3uC,EAAM,WAC1D,CAAG,MAAQ1F,GAAI,CAYd,OAVAm0C,EAAkBnnB,GAAOA,EAAIvwB,qBAAsB,eAAiB,GAC9DuwB,IAAOmnB,GACZzyC,EAAOzE,MAAO,iBACbk3C,EACCzyC,EAAO4U,IAAK69B,EAAgBjrB,WAAY,SAAUnW,GACjD,OAAOA,EAAGsR,WACf,GAAQjV,KAAM,MACV1J,IAGIsnB,CACR,EAGA,IAAIsnB,GAAc,kCACjBC,GAA0B,SAAUv0C,GACnCA,EAAEiJ,iBACJ,EAEAvH,EAAO+B,OAAQ/B,EAAO9F,MAAO,CAE5B8jC,QAAS,SAAU9jC,EAAO8J,EAAM2E,EAAMmqC,GAErC,IAAI53C,EAAG62B,EAAKuH,EAAKyZ,EAAYC,EAAQtU,EAAQjJ,EAASwd,EACrD1hC,EAAY,CAAE5I,GAAQnP,GACtBiC,EAAO2W,EAAO9L,KAAMpM,EAAO,QAAWA,EAAMuB,KAAOvB,EACnDqkC,EAAansB,EAAO9L,KAAMpM,EAAO,aAAgBA,EAAM+Y,UAAU7O,MAAO,KAAQ,GAKjF,GAHA2tB,EAAMkhB,EAAc3Z,EAAM3wB,EAAOA,GAAQnP,EAGlB,IAAlBmP,EAAKgY,UAAoC,IAAlBhY,EAAKgY,WAK5BiyB,GAAYl3C,KAAMD,EAAOuE,EAAO9F,MAAMykC,aAItCljC,EAAKsD,QAAS,MAAQ,IAG1Bw/B,EAAa9iC,EAAK2I,MAAO,KACzB3I,EAAO8iC,EAAW/V,QAClB+V,EAAW93B,QAEZusC,EAASv3C,EAAKsD,QAAS,KAAQ,GAAK,KAAOtD,GAG3CvB,EAAQA,EAAO8F,EAAOqiB,SACrBnoB,EACA,IAAI8F,EAAO+/B,MAAOtkC,EAAuB,iBAAVvB,GAAsBA,IAGhD2jC,UAAYiV,EAAe,EAAI,EACrC54C,EAAM+Y,UAAYsrB,EAAW7wB,KAAM,KACnCxT,EAAMulC,WAAavlC,EAAM+Y,UACxB,IAAIxN,OAAQ,UAAY84B,EAAW7wB,KAAM,iBAAoB,WAC7D,KAGDxT,EAAMwL,YAASgE,EACTxP,EAAMmP,SACXnP,EAAMmP,OAASV,GAIhB3E,EAAe,MAARA,EACN,CAAE9J,GACF8F,EAAO6iB,UAAW7e,EAAM,CAAE9J,IAG3Bu7B,EAAUz1B,EAAO9F,MAAMu7B,QAASh6B,IAAU,CAAA,EACpCq3C,IAAgBrd,EAAQuI,UAAmD,IAAxCvI,EAAQuI,QAAQn9B,MAAO8H,EAAM3E,IAAtE,CAMA,IAAM8uC,IAAiBrd,EAAQ2K,WAAaxf,EAAUjY,GAAS,CAM9D,IAJAoqC,EAAatd,EAAQqI,cAAgBriC,EAC/Bm3C,GAAYl3C,KAAMq3C,EAAat3C,KACpCs2B,EAAMA,EAAIngB,YAEHmgB,EAAKA,EAAMA,EAAIngB,WACtBL,EAAU5Q,KAAMoxB,GAChBuH,EAAMvH,EAIFuH,KAAU3wB,EAAKwa,eAAiB3pB,IACpC+X,EAAU5Q,KAAM24B,EAAIjQ,aAAeiQ,EAAI4Z,cAAgBz5C,EAE3D,CAIE,IADAyB,EAAI,GACM62B,EAAMxgB,EAAWrW,QAAYhB,EAAMslC,wBAC5CyT,EAAclhB,EACd73B,EAAMuB,KAAOP,EAAI,EAChB63C,EACAtd,EAAQoJ,UAAYpjC,GAGrBijC,GAAWrG,GAAS7pB,IAAKujB,EAAK,WAAcj2B,OAAOC,OAAQ,OAAU7B,EAAMuB,OAC1E48B,GAAS7pB,IAAKujB,EAAK,YAEnB2M,EAAO79B,MAAOkxB,EAAK/tB,IAIpB06B,EAASsU,GAAUjhB,EAAKihB,KACTtU,EAAO79B,OAASk3B,GAAYhG,KAC1C73B,EAAMwL,OAASg5B,EAAO79B,MAAOkxB,EAAK/tB,IACZ,IAAjB9J,EAAMwL,QACVxL,EAAM0U,kBA8CT,OA1CA1U,EAAMuB,KAAOA,EAGPq3C,GAAiB54C,EAAMumC,sBAEpBhL,EAAQwG,WACqC,IAApDxG,EAAQwG,SAASp7B,MAAO0Q,EAAUpI,MAAOnF,KACzC+zB,GAAYpvB,IAIPqqC,GAAUtyB,EAAY/X,EAAMlN,MAAamlB,EAAUjY,MAGvD2wB,EAAM3wB,EAAMqqC,MAGXrqC,EAAMqqC,GAAW,MAIlBhzC,EAAO9F,MAAMykC,UAAYljC,EAEpBvB,EAAMslC,wBACVyT,EAAYj0C,iBAAkBvD,EAAMo3C,IAGrClqC,EAAMlN,KAEDvB,EAAMslC,wBACVyT,EAAYr0C,oBAAqBnD,EAAMo3C,IAGxC7yC,EAAO9F,MAAMykC,eAAYj1B,EAEpB4vB,IACJ3wB,EAAMqqC,GAAW1Z,IAMdp/B,EAAMwL,MAvFf,CAwFA,EAIC88B,SAAU,SAAU/mC,EAAMkN,EAAMzO,GAC/B,IAAIoE,EAAI0B,EAAO+B,OACd,IAAI/B,EAAO+/B,MACX7lC,EACA,CACCuB,KAAMA,EACNolC,aAAa,IAIf7gC,EAAO9F,MAAM8jC,QAAS1/B,EAAG,KAAMqK,EACjC,IAIA3I,EAAOC,GAAG8B,OAAQ,CAEjBi8B,QAAS,SAAUviC,EAAMuI,GACxB,OAAO3J,KAAK8F,KAAM,WACjBH,EAAO9F,MAAM8jC,QAASviC,EAAMuI,EAAM3J,KACrC,EACA,EACC84C,eAAgB,SAAU13C,EAAMuI,GAC/B,IAAI2E,EAAOtO,KAAM,GACjB,GAAKsO,EACJ,OAAO3I,EAAO9F,MAAM8jC,QAASviC,EAAMuI,EAAM2E,GAAM,EAElD,IAIA,IACCyqC,GAAW,QACXC,GAAQ,SACRC,GAAkB,wCAClBC,GAAe,qCAEhB,SAASC,GAAa5gC,EAAQvO,EAAKovC,EAAarhB,GAC/C,IAAI9vB,EAEJ,GAAKqH,MAAMvH,QAASiC,GAGnBrE,EAAOG,KAAMkE,EAAK,SAAUnJ,EAAGZ,GACzBm5C,GAAeL,GAAS13C,KAAMkX,GAGlCwf,EAAKxf,EAAQtY,GAKbk5C,GACC5gC,EAAS,KAAqB,iBAANtY,GAAuB,MAALA,EAAYY,EAAI,IAAO,IACjEZ,EACAm5C,EACArhB,EAGL,QAEQ,GAAMqhB,GAAiC,WAAlBtyB,EAAQ9c,GAUnC+tB,EAAKxf,EAAQvO,QAPb,IAAM/B,KAAQ+B,EACbmvC,GAAa5gC,EAAS,IAAMtQ,EAAO,IAAK+B,EAAK/B,GAAQmxC,EAAarhB,EAQrE,CAIApyB,EAAO0zC,MAAQ,SAAU3vB,EAAG0vB,GAC3B,IAAI7gC,EACH+gC,EAAI,GACJvhB,EAAM,SAAU7tB,EAAKqvC,GAGpB,IAAIzwC,EAAQud,EAAYkzB,GACvBA,IACAA,EAEDD,EAAGA,EAAE14C,QAAW44C,mBAAoBtvC,GAAQ,IAC3CsvC,mBAA6B,MAAT1wC,EAAgB,GAAKA,EAC7C,EAEC,GAAU,MAAL4gB,EACJ,MAAO,GAIR,GAAKpa,MAAMvH,QAAS2hB,IAASA,EAAEjmB,SAAWkC,EAAO4J,cAAema,GAG/D/jB,EAAOG,KAAM4jB,EAAG,WACfqO,EAAK/3B,KAAKiI,KAAMjI,KAAK8I,MACxB,QAME,IAAMyP,KAAUmR,EACfyvB,GAAa5gC,EAAQmR,EAAGnR,GAAU6gC,EAAarhB,GAKjD,OAAOuhB,EAAEjmC,KAAM,IAChB,EAEA1N,EAAOC,GAAG8B,OAAQ,CACjB+xC,UAAW,WACV,OAAO9zC,EAAO0zC,MAAOr5C,KAAK05C,iBAC5B,EACCA,eAAgB,WACf,OAAO15C,KAAKua,IAAK,WAGhB,IAAIoV,EAAWhqB,EAAOqS,KAAMhY,KAAM,YAClC,OAAO2vB,EAAWhqB,EAAO6iB,UAAWmH,GAAa3vB,IACpD,GAAMwN,OAAQ,WACX,IAAIpM,EAAOpB,KAAKoB,KAGhB,OAAOpB,KAAKiI,OAAStC,EAAQ3F,MAAO22B,GAAI,cACvCuiB,GAAa73C,KAAMrB,KAAKknB,YAAe+xB,GAAgB53C,KAAMD,KAC3DpB,KAAKuyB,UAAYwO,GAAe1/B,KAAMD,GAC5C,GAAMmZ,IAAK,SAAUgP,EAAIjb,GACtB,IAAIoN,EAAM/V,EAAQ3F,MAAO0b,MAEzB,OAAY,MAAPA,EACG,KAGHpM,MAAMvH,QAAS2T,GACZ/V,EAAO4U,IAAKmB,EAAK,SAAUA,GACjC,MAAO,CAAEzT,KAAMqG,EAAKrG,KAAMa,MAAO4S,EAAIzU,QAAS+xC,GAAO,QAC1D,GAGU,CAAE/wC,KAAMqG,EAAKrG,KAAMa,MAAO4S,EAAIzU,QAAS+xC,GAAO,QACxD,GAAM7kC,KACN,IAIA,IACCwlC,GAAM,OACNC,GAAQ,OACRC,GAAa,gBACbC,GAAW,6BAIXC,GAAa,iBACbC,GAAY,QAWZrG,GAAa,CAAA,EAObsG,GAAa,CAAA,EAGbC,GAAW,KAAK9iC,OAAQ,KAGxB+iC,GAAeh7C,EAASgI,cAAe,KAKxC,SAASizC,GAA6BC,GAGrC,OAAO,SAAUC,EAAoBzsC,GAED,iBAAvBysC,IACXzsC,EAAOysC,EACPA,EAAqB,KAGtB,IAAIC,EACH15C,EAAI,EACJ25C,EAAYF,EAAmBtvC,cAActF,MAAO8yB,IAAmB,GAExE,GAAKnS,EAAYxY,GAGhB,KAAU0sC,EAAWC,EAAW35C,MAGR,MAAlB05C,EAAU,IACdA,EAAWA,EAASh0C,MAAO,IAAO,KAChC8zC,EAAWE,GAAaF,EAAWE,IAAc,IAAKr9B,QAASrP,KAI/DwsC,EAAWE,GAAaF,EAAWE,IAAc,IAAKj0C,KAAMuH,EAInE,CACA,CAGA,SAAS4sC,GAA+BJ,EAAWv1C,EAASkvC,EAAiB0G,GAE5E,IAAIC,EAAY,CAAA,EACfC,EAAqBP,IAAcJ,GAEpC,SAASY,EAASN,GACjB,IAAI/nB,EAcJ,OAbAmoB,EAAWJ,IAAa,EACxB50C,EAAOG,KAAMu0C,EAAWE,IAAc,GAAI,SAAUhyC,EAAGuyC,GACtD,IAAIC,EAAsBD,EAAoBh2C,EAASkvC,EAAiB0G,GACxE,MAAoC,iBAAxBK,GACVH,GAAqBD,EAAWI,GAKtBH,IACDpoB,EAAWuoB,QADf,GAHNj2C,EAAQ01C,UAAUt9B,QAAS69B,GAC3BF,EAASE,IACF,EAIX,GACSvoB,CACT,CAEC,OAAOqoB,EAAS/1C,EAAQ01C,UAAW,MAAUG,EAAW,MAASE,EAAS,IAC3E,CAKA,SAASG,GAAYhsC,EAAQxO,GAC5B,IAAI0J,EAAK6d,EACRkzB,EAAct1C,EAAOu1C,aAAaD,aAAe,CAAA,EAElD,IAAM/wC,KAAO1J,OACQ6O,IAAf7O,EAAK0J,MACP+wC,EAAa/wC,GAAQ8E,EAAW+Y,IAAUA,EAAO,CAAA,IAAU7d,GAAQ1J,EAAK0J,IAO5E,OAJK6d,GACJpiB,EAAO+B,QAAQ,EAAMsH,EAAQ+Y,GAGvB/Y,CACR,CAhFAmrC,GAAazxC,KAAOrJ,GAASqJ,KAgP7B/C,EAAO+B,OAAQ,CAGdyzC,OAAQ,EAGRC,aAAc,CAAA,EACdC,KAAM,CAAA,EAENH,aAAc,CACbl0C,IAAK3H,GAASqJ,KACdtH,KAAM,MACNk6C,QAxRgB,4DAwRQj6C,KAAMhC,GAASk8C,UACvCz1B,QAAQ,EACR01B,aAAa,EACbp0C,OAAO,EACPq0C,YAAa,mDAcbC,QAAS,CACR,IAAKxB,GACLhpC,KAAM,aACNgH,KAAM,YACN+Y,IAAK,4BACL0qB,KAAM,qCAGPnkB,SAAU,CACTvG,IAAK,UACL/Y,KAAM,SACNyjC,KAAM,YAGPC,eAAgB,CACf3qB,IAAK,cACL/f,KAAM,eACNyqC,KAAM,gBAKPE,WAAY,CAGX,SAAU7vC,OAGV,aAAa,EAGb,YAAa1B,KAAKC,MAGlB,WAAY5E,EAAOwyC,UAOpB8C,YAAa,CACZj0C,KAAK,EACL+G,SAAS,IAOX+tC,UAAW,SAAU9sC,EAAQrH,GAC5B,OAAOA,EAGNqzC,GAAYA,GAAYhsC,EAAQrJ,EAAOu1C,cAAgBvzC,GAGvDqzC,GAAYr1C,EAAOu1C,aAAclsC,EACpC,EAEC+sC,cAAe3B,GAA6BzG,IAC5CqI,cAAe5B,GAA6BH,IAG5CgC,KAAM,SAAUj1C,EAAKlC,GAGA,iBAARkC,IACXlC,EAAUkC,EACVA,OAAMqI,GAIPvK,EAAUA,GAAW,CAAA,EAErB,IAAIo3C,EAGHC,EAGAC,EACAC,EAGAC,EAGAC,EAGA7f,EAGA8f,EAGA37C,EAGA47C,EAGAnD,EAAI3zC,EAAOm2C,UAAW,CAAA,EAAIh3C,GAG1B43C,EAAkBpD,EAAEvrC,SAAWurC,EAG/BqD,EAAqBrD,EAAEvrC,UACpB2uC,EAAgBp2B,UAAYo2B,EAAgBj5C,QAC9CkC,EAAQ+2C,GACR/2C,EAAO9F,MAGR06B,EAAW50B,EAAOy0B,WAClBwiB,EAAmBj3C,EAAOwzB,UAAW,eAGrC0jB,EAAavD,EAAEuD,YAAc,CAAA,EAG7BC,EAAiB,CAAA,EACjBC,EAAsB,CAAA,EAGtBC,EAAW,WAGXtC,EAAQ,CACP55C,WAAY,EAGZm8C,kBAAmB,SAAU/yC,GAC5B,IAAIxE,EACJ,GAAKg3B,EAAY,CAChB,IAAM2f,EAEL,IADAA,EAAkB,CAAA,EACR32C,EAAQo0C,GAASnsB,KAAMyuB,IAChCC,EAAiB32C,EAAO,GAAIsF,cAAgB,MACzCqxC,EAAiB32C,EAAO,GAAIsF,cAAgB,MAAS,IACrDoM,OAAQ1R,EAAO,IAGpBA,EAAQ22C,EAAiBnyC,EAAIc,cAAgB,IACnD,CACK,OAAgB,MAATtF,EAAgB,KAAOA,EAAM2N,KAAM,KAC/C,EAGI6pC,sBAAuB,WACtB,OAAOxgB,EAAY0f,EAAwB,IAChD,EAGIe,iBAAkB,SAAUl1C,EAAMa,GAMjC,OALkB,MAAb4zB,IACJz0B,EAAO80C,EAAqB90C,EAAK+C,eAChC+xC,EAAqB90C,EAAK+C,gBAAmB/C,EAC9C60C,EAAgB70C,GAASa,GAEnB9I,IACZ,EAGIo9C,iBAAkB,SAAUh8C,GAI3B,OAHkB,MAAbs7B,IACJ4c,EAAE+D,SAAWj8C,GAEPpB,IACZ,EAGI68C,WAAY,SAAUtiC,GACrB,IAAI/W,EACJ,GAAK+W,EACJ,GAAKmiB,EAGJge,EAAMpgB,OAAQ/f,EAAKmgC,EAAM96C,cAIzB,IAAM4D,KAAQ+W,EACbsiC,EAAYr5C,GAAS,CAAEq5C,EAAYr5C,GAAQ+W,EAAK/W,IAInD,OAAOxD,IACZ,EAGIs9C,MAAO,SAAUC,GAChB,IAAIC,EAAYD,GAAcP,EAK9B,OAJKd,GACJA,EAAUoB,MAAOE,GAElBz5C,EAAM,EAAGy5C,GACFx9C,IACZ,GAmBE,GAfAu6B,EAAStB,QAASyhB,GAKlBpB,EAAEtyC,MAAUA,GAAOsyC,EAAEtyC,KAAO3H,GAASqJ,MAAS,IAC5CzB,QAAS+yC,GAAW36C,GAASk8C,SAAW,MAG1CjC,EAAEl4C,KAAO0D,EAAQk0B,QAAUl0B,EAAQ1D,MAAQk4C,EAAEtgB,QAAUsgB,EAAEl4C,KAGzDk4C,EAAEkB,WAAclB,EAAEiB,UAAY,KAAMvvC,cAActF,MAAO8yB,IAAmB,CAAE,IAGxD,MAAjB8gB,EAAEmE,YAAsB,CAC5BlB,EAAYp9C,EAASgI,cAAe,KAKpC,IACCo1C,EAAU7zC,KAAO4wC,EAAEtyC,IAInBu1C,EAAU7zC,KAAO6zC,EAAU7zC,KAC3B4wC,EAAEmE,YAActD,GAAaoB,SAAW,KAAOpB,GAAa10C,MAC3D82C,EAAUhB,SAAW,KAAOgB,EAAU92C,IAC3C,CAAK,MAAQxB,GAITq1C,EAAEmE,aAAc,CACpB,CACA,CAWE,GARKnE,EAAE3vC,MAAQ2vC,EAAEkC,aAAiC,iBAAXlC,EAAE3vC,OACxC2vC,EAAE3vC,KAAOhE,EAAO0zC,MAAOC,EAAE3vC,KAAM2vC,EAAEF,cAIlCqB,GAA+B9G,GAAY2F,EAAGx0C,EAAS41C,GAGlDhe,EACJ,OAAOge,EA8ER,IAAM75C,KAzEN27C,EAAc72C,EAAO9F,OAASy5C,EAAExzB,SAGQ,IAApBngB,EAAOw1C,UAC1Bx1C,EAAO9F,MAAM8jC,QAAS,aAIvB2V,EAAEl4C,KAAOk4C,EAAEl4C,KAAKb,cAGhB+4C,EAAEoE,YAAc3D,GAAW14C,KAAMi4C,EAAEl4C,MAKnC+6C,EAAW7C,EAAEtyC,IAAIC,QAAS2yC,GAAO,IAG3BN,EAAEoE,WAwBIpE,EAAE3vC,MAAQ2vC,EAAEkC,aACoD,KAAzElC,EAAEmC,aAAe,IAAK/2C,QAAS,uCACjC40C,EAAE3vC,KAAO2vC,EAAE3vC,KAAK1C,QAAS0yC,GAAK,OAvB9B8C,EAAWnD,EAAEtyC,IAAIT,MAAO41C,EAASv7C,QAG5B04C,EAAE3vC,OAAU2vC,EAAEkC,aAAiC,iBAAXlC,EAAE3vC,QAC1CwyC,IAAcjE,GAAO72C,KAAM86C,GAAa,IAAM,KAAQ7C,EAAE3vC,YAGjD2vC,EAAE3vC,OAIO,IAAZ2vC,EAAE55C,QACNy8C,EAAWA,EAASl1C,QAAS4yC,GAAY,MACzC4C,GAAavE,GAAO72C,KAAM86C,GAAa,IAAM,KAAQ,KAAS11B,GAAM2C,OACnEqzB,GAIFnD,EAAEtyC,IAAMm1C,EAAWM,GASfnD,EAAEqE,aACDh4C,EAAOy1C,aAAce,IACzBzB,EAAMyC,iBAAkB,oBAAqBx3C,EAAOy1C,aAAce,IAE9Dx2C,EAAO01C,KAAMc,IACjBzB,EAAMyC,iBAAkB,gBAAiBx3C,EAAO01C,KAAMc,MAKnD7C,EAAE3vC,MAAQ2vC,EAAEoE,aAAgC,IAAlBpE,EAAEmC,aAAyB32C,EAAQ22C,cACjEf,EAAMyC,iBAAkB,eAAgB7D,EAAEmC,aAI3Cf,EAAMyC,iBACL,SACA7D,EAAEkB,UAAW,IAAOlB,EAAEoC,QAASpC,EAAEkB,UAAW,IAC3ClB,EAAEoC,QAASpC,EAAEkB,UAAW,KACA,MAArBlB,EAAEkB,UAAW,GAAc,KAAON,GAAW,WAAa,IAC7DZ,EAAEoC,QAAS,MAIFpC,EAAEsE,QACZlD,EAAMyC,iBAAkBt8C,EAAGy4C,EAAEsE,QAAS/8C,IAIvC,GAAKy4C,EAAEuE,cAC+C,IAAnDvE,EAAEuE,WAAW5xC,KAAMywC,EAAiBhC,EAAOpB,IAAiB5c,GAG9D,OAAOge,EAAM4C,QAed,GAXAN,EAAW,QAGXJ,EAAiB7kB,IAAKuhB,EAAEhwC,UACxBoxC,EAAM32C,KAAMu1C,EAAEwE,SACdpD,EAAMxhB,KAAMogB,EAAEp4C,OAGdg7C,EAAYzB,GAA+BR,GAAYX,EAAGx0C,EAAS41C,GAK5D,CASN,GARAA,EAAM55C,WAAa,EAGd07C,GACJG,EAAmBhZ,QAAS,WAAY,CAAE+W,EAAOpB,IAI7C5c,EACJ,OAAOge,EAIHpB,EAAElyC,OAASkyC,EAAE/5C,QAAU,IAC3B+8C,EAAel9C,EAAOwH,WAAY,WACjC8zC,EAAM4C,MAAO,UAClB,EAAOhE,EAAE/5C,UAGN,IACCm9B,GAAY,EACZwf,EAAU6B,KAAMjB,EAAgB/4C,EACpC,CAAK,MAAQE,GAGT,GAAKy4B,EACJ,MAAMz4B,EAIPF,GAAM,EAAIE,EACd,CACA,MAlCGF,GAAM,EAAI,gBAqCX,SAASA,EAAMnE,EAAQo+C,EAAkBC,EAAWL,GACnD,IAAIM,EAAWJ,EAAS58C,EAAOi9C,EAAUC,EACxCb,EAAaS,EAGTthB,IAILA,GAAY,EAGP4f,GACJl9C,EAAO8O,aAAcouC,GAKtBJ,OAAY7sC,EAGZ+sC,EAAwBwB,GAAW,GAGnClD,EAAM55C,WAAalB,EAAS,EAAI,EAAI,EAGpCs+C,EAAYt+C,GAAU,KAAOA,EAAS,KAAkB,MAAXA,EAGxCq+C,IACJE,EA7lBJ,SAA8B7E,EAAGoB,EAAOuD,GAOvC,IALA,IAAII,EAAIj9C,EAAMk9C,EAAeC,EAC5B/mB,EAAW8hB,EAAE9hB,SACbgjB,EAAYlB,EAAEkB,UAGY,MAAnBA,EAAW,IAClBA,EAAUrsB,aACE9e,IAAPgvC,IACJA,EAAK/E,EAAE+D,UAAY3C,EAAMuC,kBAAmB,iBAK9C,GAAKoB,EACJ,IAAMj9C,KAAQo2B,EACb,GAAKA,EAAUp2B,IAAUo2B,EAAUp2B,GAAOC,KAAMg9C,GAAO,CACtD7D,EAAUt9B,QAAS9b,GACnB,KACJ,CAKC,GAAKo5C,EAAW,KAAOyD,EACtBK,EAAgB9D,EAAW,OACrB,CAGN,IAAMp5C,KAAQ68C,EAAY,CACzB,IAAMzD,EAAW,IAAOlB,EAAEuC,WAAYz6C,EAAO,IAAMo5C,EAAW,IAAQ,CACrE8D,EAAgBl9C,EAChB,KACJ,CACSm9C,IACLA,EAAgBn9C,EAEpB,CAGEk9C,EAAgBA,GAAiBC,CACnC,CAKC,GAAKD,EAIJ,OAHKA,IAAkB9D,EAAW,IACjCA,EAAUt9B,QAASohC,GAEbL,EAAWK,EAEpB,CAwiBeE,CAAqBlF,EAAGoB,EAAOuD,KAIrCC,GACLv4C,EAAO+iB,QAAS,SAAU4wB,EAAEkB,YAAc,GAC1C70C,EAAO+iB,QAAS,OAAQ4wB,EAAEkB,WAAc,IACxClB,EAAEuC,WAAY,eAAkB,WAAW,GAI5CsC,EA9iBH,SAAsB7E,EAAG6E,EAAUzD,EAAOwD,GACzC,IAAIO,EAAOC,EAASC,EAAM1f,EAAK3c,EAC9Bu5B,EAAa,CAAA,EAGbrB,EAAYlB,EAAEkB,UAAUj0C,QAGzB,GAAKi0C,EAAW,GACf,IAAMmE,KAAQrF,EAAEuC,WACfA,EAAY8C,EAAK3zC,eAAkBsuC,EAAEuC,WAAY8C,GAOnD,IAHAD,EAAUlE,EAAUrsB,QAGZuwB,GAcP,GAZKpF,EAAEsC,eAAgB8C,KACtBhE,EAAOpB,EAAEsC,eAAgB8C,IAAcP,IAIlC77B,GAAQ47B,GAAa5E,EAAEsF,aAC5BT,EAAW7E,EAAEsF,WAAYT,EAAU7E,EAAEiB,WAGtCj4B,EAAOo8B,EACPA,EAAUlE,EAAUrsB,QAKnB,GAAiB,MAAZuwB,EAEJA,EAAUp8B,OAGJ,GAAc,MAATA,GAAgBA,IAASo8B,EAAU,CAM9C,KAHAC,EAAO9C,EAAYv5B,EAAO,IAAMo8B,IAAa7C,EAAY,KAAO6C,IAI/D,IAAMD,KAAS5C,EAId,IADA5c,EAAMwf,EAAM10C,MAAO,MACT,KAAQ20C,IAGjBC,EAAO9C,EAAYv5B,EAAO,IAAM2c,EAAK,KACpC4c,EAAY,KAAO5c,EAAK,KACb,EAGG,IAAT0f,EACJA,EAAO9C,EAAY4C,IAGgB,IAAxB5C,EAAY4C,KACvBC,EAAUzf,EAAK,GACfub,EAAUt9B,QAAS+hB,EAAK,KAEzB,KACR,CAMI,IAAc,IAAT0f,EAGJ,GAAKA,GAAQrF,EAAEuF,OACdV,EAAWQ,EAAMR,QAEjB,IACCA,EAAWQ,EAAMR,EACxB,CAAQ,MAAQl6C,GACT,MAAO,CACNuQ,MAAO,cACPtT,MAAOy9C,EAAO16C,EAAI,sBAAwBqe,EAAO,OAASo8B,EAElE,CAGA,CAIC,MAAO,CAAElqC,MAAO,UAAW7K,KAAMw0C,EAClC,CAgdcW,CAAaxF,EAAG6E,EAAUzD,EAAOwD,GAGvCA,GAGC5E,EAAEqE,cACNS,EAAW1D,EAAMuC,kBAAmB,oBAEnCt3C,EAAOy1C,aAAce,GAAaiC,IAEnCA,EAAW1D,EAAMuC,kBAAmB,WAEnCt3C,EAAO01C,KAAMc,GAAaiC,IAKZ,MAAXx+C,GAA6B,SAAX05C,EAAEl4C,KACxBm8C,EAAa,YAGS,MAAX39C,EACX29C,EAAa,eAIbA,EAAaY,EAAS3pC,MACtBspC,EAAUK,EAASx0C,KAEnBu0C,IADAh9C,EAAQi9C,EAASj9C,UAMlBA,EAAQq8C,GACH39C,GAAW29C,IACfA,EAAa,QACR39C,EAAS,IACbA,EAAS,KAMZ86C,EAAM96C,OAASA,EACf86C,EAAM6C,YAAeS,GAAoBT,GAAe,GAGnDW,EACJ3jB,EAASiB,YAAakhB,EAAiB,CAAEoB,EAASP,EAAY7C,IAE9DngB,EAASoB,WAAY+gB,EAAiB,CAAEhC,EAAO6C,EAAYr8C,IAI5Dw5C,EAAMmC,WAAYA,GAClBA,OAAaxtC,EAERmtC,GACJG,EAAmBhZ,QAASua,EAAY,cAAgB,YACvD,CAAExD,EAAOpB,EAAG4E,EAAYJ,EAAU58C,IAIpC07C,EAAiBziB,SAAUuiB,EAAiB,CAAEhC,EAAO6C,IAEhDf,IACJG,EAAmBhZ,QAAS,eAAgB,CAAE+W,EAAOpB,MAG3C3zC,EAAOw1C,QAChBx1C,EAAO9F,MAAM8jC,QAAS,aAG3B,CAEE,OAAO+W,CACT,EAECqE,QAAS,SAAU/3C,EAAK2C,EAAM7J,GAC7B,OAAO6F,EAAOwO,IAAKnN,EAAK2C,EAAM7J,EAAU,OAC1C,EAECk/C,UAAW,SAAUh4C,EAAKlH,GACzB,OAAO6F,EAAOwO,IAAKnN,OAAKqI,EAAWvP,EAAU,SAC/C,IAGA6F,EAAOG,KAAM,CAAE,MAAO,QAAU,SAAUyjB,EAAIyP,GAC7CrzB,EAAQqzB,GAAW,SAAUhyB,EAAK2C,EAAM7J,EAAUsB,GAUjD,OAPKilB,EAAY1c,KAChBvI,EAAOA,GAAQtB,EACfA,EAAW6J,EACXA,OAAO0F,GAID1J,EAAOs2C,KAAMt2C,EAAO+B,OAAQ,CAClCV,IAAKA,EACL5F,KAAM43B,EACNuhB,SAAUn5C,EACVuI,KAAMA,EACNm0C,QAASh+C,GACP6F,EAAO4J,cAAevI,IAASA,GACpC,CACA,GAEArB,EAAOo2C,cAAe,SAAUzC,GAC/B,IAAIz4C,EACJ,IAAMA,KAAKy4C,EAAEsE,QACa,iBAApB/8C,EAAEmK,gBACNsuC,EAAEmC,YAAcnC,EAAEsE,QAAS/8C,IAAO,GAGrC,GAGA8E,EAAOikC,SAAW,SAAU5iC,EAAKlC,EAAS8hB,GACzC,OAAOjhB,EAAOs2C,KAAM,CACnBj1C,IAAKA,EAGL5F,KAAM,MACNm5C,SAAU,SACV76C,OAAO,EACP0H,OAAO,EACP0e,QAAQ,EAKR+1B,WAAY,CACX,cAAe,WAAW,GAE3B+C,WAAY,SAAUT,GACrBx4C,EAAO0iB,WAAY81B,EAAUr5C,EAAS8hB,EACzC,GAEA,EAGAjhB,EAAOC,GAAG8B,OAAQ,CACjBu3C,QAAS,SAAU/mC,GAClB,IAAIyqB,EAyBJ,OAvBK3iC,KAAM,KACLqmB,EAAYnO,KAChBA,EAAOA,EAAKjM,KAAMjM,KAAM,KAIzB2iC,EAAOh9B,EAAQuS,EAAMlY,KAAM,GAAI8oB,eAAgBrB,GAAI,GAAIjb,OAAO,GAEzDxM,KAAM,GAAIuX,YACdorB,EAAK2H,aAActqC,KAAM,IAG1B2iC,EAAKpoB,IAAK,WAGT,IAFA,IAAIjM,EAAOtO,KAEHsO,EAAK4wC,mBACZ5wC,EAAOA,EAAK4wC,kBAGb,OAAO5wC,CACX,GAAOiD,OAAQvR,OAGNA,IACT,EAECm/C,UAAW,SAAUjnC,GACpB,OAAKmO,EAAYnO,GACTlY,KAAK8F,KAAM,SAAUjF,GAC3B8E,EAAQ3F,MAAOm/C,UAAWjnC,EAAKjM,KAAMjM,KAAMa,GAC/C,GAGSb,KAAK8F,KAAM,WACjB,IAAIoxB,EAAOvxB,EAAQ3F,MAClBw3B,EAAWN,EAAKM,WAEZA,EAAS52B,OACb42B,EAASynB,QAAS/mC,GAGlBgf,EAAK3lB,OAAQ2G,EAEjB,EACA,EAECyqB,KAAM,SAAUzqB,GACf,IAAIknC,EAAiB/4B,EAAYnO,GAEjC,OAAOlY,KAAK8F,KAAM,SAAUjF,GAC3B8E,EAAQ3F,MAAOi/C,QAASG,EAAiBlnC,EAAKjM,KAAMjM,KAAMa,GAAMqX,EACnE,EACA,EAECmnC,OAAQ,SAAUhxC,GAIjB,OAHArO,KAAKoxB,OAAQ/iB,GAAWujB,IAAK,QAAS9rB,KAAM,WAC3CH,EAAQ3F,MAAOuqC,YAAavqC,KAAKmtB,WACpC,GACSntB,IACT,IAIA2F,EAAO+pB,KAAKrE,QAAQynB,OAAS,SAAUxkC,GACtC,OAAQ3I,EAAO+pB,KAAKrE,QAAQi0B,QAAShxC,EACtC,EACA3I,EAAO+pB,KAAKrE,QAAQi0B,QAAU,SAAUhxC,GACvC,SAAWA,EAAK6D,aAAe7D,EAAK+D,cAAgB/D,EAAK8gC,iBAAiBxuC,OAC3E,EAKA+E,EAAOu1C,aAAaqE,IAAM,WACzB,IACC,OAAO,IAAIngD,EAAOogD,cACpB,CAAG,MAAQv7C,GAAI,CACf,EAEA,IAAIw7C,GAAmB,CAGrB,EAAG,IAIH,KAAM,KAEPC,GAAe/5C,EAAOu1C,aAAaqE,MAEpCn5B,EAAQu5B,OAASD,IAAkB,oBAAqBA,GACxDt5B,EAAQ61B,KAAOyD,KAAiBA,GAEhC/5C,EAAOq2C,cAAe,SAAUl3C,GAC/B,IAAIhF,EAAU8/C,EAGd,GAAKx5B,EAAQu5B,MAAQD,KAAiB56C,EAAQ24C,YAC7C,MAAO,CACNM,KAAM,SAAUH,EAASt0C,GACxB,IAAIzI,EACH0+C,EAAMz6C,EAAQy6C,MAWf,GATAA,EAAIljC,KACHvX,EAAQ1D,KACR0D,EAAQkC,IACRlC,EAAQsC,MACRtC,EAAQ+6C,SACR/6C,EAAQsuB,UAIJtuB,EAAQg7C,UACZ,IAAMj/C,KAAKiE,EAAQg7C,UAClBP,EAAK1+C,GAAMiE,EAAQg7C,UAAWj/C,GAmBhC,IAAMA,KAdDiE,EAAQu4C,UAAYkC,EAAInC,kBAC5BmC,EAAInC,iBAAkBt4C,EAAQu4C,UAQzBv4C,EAAQ24C,aAAgBG,EAAS,sBACtCA,EAAS,oBAAuB,kBAItBA,EACV2B,EAAIpC,iBAAkBt8C,EAAG+8C,EAAS/8C,IAInCf,EAAW,SAAUsB,GACpB,OAAO,WACDtB,IACJA,EAAW8/C,EAAgBL,EAAIh2C,OAC9Bg2C,EAAI/1C,QAAU+1C,EAAIQ,QAAUR,EAAIS,UAC/BT,EAAIU,mBAAqB,KAEb,UAAT7+C,EACJm+C,EAAIjC,QACgB,UAATl8C,EAKgB,iBAAfm+C,EAAI3/C,OACf0J,EAAU,EAAG,SAEbA,EAGCi2C,EAAI3/C,OACJ2/C,EAAIhC,YAINj0C,EACCm2C,GAAkBF,EAAI3/C,SAAY2/C,EAAI3/C,OACtC2/C,EAAIhC,WAK+B,UAAjCgC,EAAIW,cAAgB,SACM,iBAArBX,EAAIY,aACV,CAAEC,OAAQb,EAAIpB,UACd,CAAEjtC,KAAMquC,EAAIY,cACbZ,EAAIrC,yBAIb,CACA,EAGIqC,EAAIh2C,OAASzJ,IACb8/C,EAAgBL,EAAI/1C,QAAU+1C,EAAIS,UAAYlgD,EAAU,cAKnCuP,IAAhBkwC,EAAIQ,QACRR,EAAIQ,QAAUH,EAEdL,EAAIU,mBAAqB,WAGA,IAAnBV,EAAIz+C,YAMR1B,EAAOwH,WAAY,WACb9G,GACJ8/C,GAET,EAEA,EAII9/C,EAAWA,EAAU,SAErB,IAGCy/C,EAAIxB,KAAMj5C,EAAQ44C,YAAc54C,EAAQ6E,MAAQ,KACrD,CAAM,MAAQ1F,GAGT,GAAKnE,EACJ,MAAMmE,CAEZ,CACA,EAEGq5C,MAAO,WACDx9C,GACJA,GAEL,EAGA,GAMA6F,EAAOo2C,cAAe,SAAUzC,GAC1BA,EAAEmE,cACNnE,EAAE9hB,SAAS3Q,QAAS,EAEtB,GAGAlhB,EAAOm2C,UAAW,CACjBJ,QAAS,CACR70B,OAAQ,6FAGT2Q,SAAU,CACT3Q,OAAQ,2BAETg1B,WAAY,CACX,cAAe,SAAU3qC,GAExB,OADAvL,EAAO0iB,WAAYnX,GACZA,CACV,KAKAvL,EAAOo2C,cAAe,SAAU,SAAUzC,QACxBjqC,IAAZiqC,EAAE55C,QACN45C,EAAE55C,OAAQ,GAEN45C,EAAEmE,cACNnE,EAAEl4C,KAAO,MAEX,GAGAuE,EAAOq2C,cAAe,SAAU,SAAU1C,GAIxC,IAAIzyB,EAAQ/mB,EADb,GAAKw5C,EAAEmE,aAAenE,EAAE+G,YAEvB,MAAO,CACNtC,KAAM,SAAUx1C,EAAGe,GAClBud,EAASlhB,EAAQ,YACfsK,KAAMqpC,EAAE+G,aAAe,CAAA,GACvBroC,KAAM,CAAE3Q,QAASiyC,EAAEgH,cAAe9/C,IAAK84C,EAAEtyC,MACzCnB,GAAI,aAAc/F,EAAW,SAAUygD,GACvC15B,EAAOrc,SACP1K,EAAW,KACNygD,GACJj3C,EAAuB,UAAbi3C,EAAIn/C,KAAmB,IAAM,IAAKm/C,EAAIn/C,KAEvD,GAGIjC,EAAS+H,KAAKM,YAAaqf,EAAQ,GACvC,EACGy2B,MAAO,WACDx9C,GACJA,GAEL,EAGA,GAKA,IAqGKsQ,GArGDowC,GAAe,GAClBC,GAAS,oBAGV96C,EAAOm2C,UAAW,CACjB4E,MAAO,WACPC,cAAe,WACd,IAAI7gD,EAAW0gD,GAAa1xC,OAAWnJ,EAAOqiB,QAAU,IAAQvB,GAAM2C,OAEtE,OADAppB,KAAMF,IAAa,EACZA,CACT,IAIA6F,EAAOo2C,cAAe,aAAc,SAAUzC,EAAGsH,EAAkBlG,GAElE,IAAImG,EAAcC,EAAaC,EAC9BC,GAAuB,IAAZ1H,EAAEoH,QAAqBD,GAAOp/C,KAAMi4C,EAAEtyC,KAChD,MACkB,iBAAXsyC,EAAE3vC,MAE6C,KADnD2vC,EAAEmC,aAAe,IACjB/2C,QAAS,sCACX+7C,GAAOp/C,KAAMi4C,EAAE3vC,OAAU,QAI5B,GAAKq3C,GAAiC,UAArB1H,EAAEkB,UAAW,GA8D7B,OA3DAqG,EAAevH,EAAEqH,cAAgBt6B,EAAYizB,EAAEqH,eAC9CrH,EAAEqH,gBACFrH,EAAEqH,cAGEK,EACJ1H,EAAG0H,GAAa1H,EAAG0H,GAAW/5C,QAASw5C,GAAQ,KAAOI,IAC/B,IAAZvH,EAAEoH,QACbpH,EAAEtyC,MAASkxC,GAAO72C,KAAMi4C,EAAEtyC,KAAQ,IAAM,KAAQsyC,EAAEoH,MAAQ,IAAMG,GAIjEvH,EAAEuC,WAAY,eAAkB,WAI/B,OAHMkF,GACLp7C,EAAOzE,MAAO2/C,EAAe,mBAEvBE,EAAmB,EAC7B,EAGEzH,EAAEkB,UAAW,GAAM,OAGnBsG,EAAc1hD,EAAQyhD,GACtBzhD,EAAQyhD,GAAiB,WACxBE,EAAoB9yC,SACvB,EAGEysC,EAAMpgB,OAAQ,gBAGQjrB,IAAhByxC,EACJn7C,EAAQvG,GAASg4C,WAAYyJ,GAI7BzhD,EAAQyhD,GAAiBC,EAIrBxH,EAAGuH,KAGPvH,EAAEqH,cAAgBC,EAAiBD,cAGnCH,GAAal6C,KAAMu6C,IAIfE,GAAqB16B,EAAYy6B,IACrCA,EAAaC,EAAmB,IAGjCA,EAAoBD,OAAczxC,CACrC,GAGS,QAET,GAUA+W,EAAQ66B,qBACH7wC,GAAOjR,EAAS+hD,eAAeD,mBAAoB,IAAK7wC,MACvDgB,UAAY,6BACiB,IAA3BhB,GAAK+c,WAAWvsB,QAQxB+E,EAAOyxB,UAAY,SAAUztB,EAAMoE,EAASozC,GAC3C,MAAqB,iBAATx3C,EACJ,IAEgB,kBAAZoE,IACXozC,EAAcpzC,EACdA,GAAU,GAKLA,IAIAqY,EAAQ66B,qBAMZl6C,GALAgH,EAAU5O,EAAS+hD,eAAeD,mBAAoB,KAKvC95C,cAAe,SACzBuB,KAAOvJ,EAASE,SAASqJ,KAC9BqF,EAAQ7G,KAAKM,YAAaT,IAE1BgH,EAAU5O,GAKZqjC,GAAW2e,GAAe,IAD1BC,EAASrqB,EAAWpJ,KAAMhkB,IAKlB,CAAEoE,EAAQ5G,cAAei6C,EAAQ,MAGzCA,EAAS7e,GAAe,CAAE54B,GAAQoE,EAASy0B,GAEtCA,GAAWA,EAAQ5hC,QACvB+E,EAAQ68B,GAAUh4B,SAGZ7E,EAAO4hB,MAAO,GAAI65B,EAAOj0B,cAlChC,IAAIpmB,EAAMq6C,EAAQ5e,CAmCnB,EAMA78B,EAAOC,GAAGkgC,KAAO,SAAU9+B,EAAKuG,EAAQzN,GACvC,IAAIuO,EAAUjN,EAAM+8C,EACnBjnB,EAAOl3B,KACP2N,EAAM3G,EAAItC,QAAS,KAsDpB,OApDKiJ,GAAM,IACVU,EAAW4oC,GAAkBjwC,EAAIT,MAAOoH,IACxC3G,EAAMA,EAAIT,MAAO,EAAGoH,IAIhB0Y,EAAY9Y,IAGhBzN,EAAWyN,EACXA,OAAS8B,GAGE9B,GAA4B,iBAAXA,IAC5BnM,EAAO,QAIH81B,EAAKt2B,OAAS,GAClB+E,EAAOs2C,KAAM,CACZj1C,IAAKA,EAKL5F,KAAMA,GAAQ,MACdm5C,SAAU,OACV5wC,KAAM4D,IACHxJ,KAAM,SAAUo8C,GAGnBhC,EAAWlwC,UAEXipB,EAAKhf,KAAM7J,EAIV1I,EAAQ,SAAU4L,OAAQ5L,EAAOyxB,UAAW+oB,IAAiB7uC,KAAMjD,GAGnE8xC,EAKJ,GAAM7lB,OAAQx6B,GAAY,SAAU46C,EAAO96C,GACxCs3B,EAAKpxB,KAAM,WACVhG,EAAS0G,MAAOxG,KAAMm+C,GAAY,CAAEzD,EAAMyF,aAAcvgD,EAAQ86C,GACpE,EACA,GAGQ16C,IACR,EAKA2F,EAAO+pB,KAAKrE,QAAQg2B,SAAW,SAAU/yC,GACxC,OAAO3I,EAAOgiB,KAAMhiB,EAAOgwC,OAAQ,SAAU/vC,GAC5C,OAAO0I,IAAS1I,EAAG0I,IACrB,GAAK1N,MACL,EAKA+E,EAAOiN,OAAS,CACf0uC,UAAW,SAAUhzC,EAAMxJ,EAASjE,GACnC,IAAI0gD,EAAaC,EAASC,EAAWC,EAAQC,EAAWC,EACvDpwC,EAAW7L,EAAOwV,IAAK7M,EAAM,YAC7BuzC,EAAUl8C,EAAQ2I,GAClB63B,EAAQ,CAAA,EAGS,WAAb30B,IACJlD,EAAKpG,MAAMsJ,SAAW,YAGvBmwC,EAAYE,EAAQjvC,SACpB6uC,EAAY97C,EAAOwV,IAAK7M,EAAM,OAC9BszC,EAAaj8C,EAAOwV,IAAK7M,EAAM,SACI,aAAbkD,GAAwC,UAAbA,KAC9CiwC,EAAYG,GAAal9C,QAAS,SAAW,GAM/Cg9C,GADAH,EAAcM,EAAQrwC,YACDK,IACrB2vC,EAAUD,EAAY5vC,OAGtB+vC,EAAS/U,WAAY8U,IAAe,EACpCD,EAAU7U,WAAYiV,IAAgB,GAGlCv7B,EAAYvhB,KAGhBA,EAAUA,EAAQmH,KAAMqC,EAAMzN,EAAG8E,EAAO+B,OAAQ,GAAIi6C,KAGjC,MAAf78C,EAAQ+M,MACZs0B,EAAMt0B,IAAQ/M,EAAQ+M,IAAM8vC,EAAU9vC,IAAQ6vC,GAE1B,MAAhB58C,EAAQ6M,OACZw0B,EAAMx0B,KAAS7M,EAAQ6M,KAAOgwC,EAAUhwC,KAAS6vC,GAG7C,UAAW18C,EACfA,EAAQg9C,MAAM71C,KAAMqC,EAAM63B,GAG1B0b,EAAQ1mC,IAAKgrB,EAEhB,GAGAxgC,EAAOC,GAAG8B,OAAQ,CAGjBkL,OAAQ,SAAU9N,GAGjB,GAAKmJ,UAAUrN,OACd,YAAmByO,IAAZvK,EACN9E,KACAA,KAAK8F,KAAM,SAAUjF,GACpB8E,EAAOiN,OAAO0uC,UAAWthD,KAAM8E,EAASjE,EAC7C,GAGE,IAAI6Q,EAAMqwC,EACTzzC,EAAOtO,KAAM,GAEd,OAAMsO,EAQAA,EAAK8gC,iBAAiBxuC,QAK5B8Q,EAAOpD,EAAK2D,wBACZ8vC,EAAMzzC,EAAKwa,cAAckG,YAClB,CACNnd,IAAKH,EAAKG,IAAMkwC,EAAIC,YACpBrwC,KAAMD,EAAKC,KAAOowC,EAAIE,cARf,CAAEpwC,IAAK,EAAGF,KAAM,QATxB,CAmBF,EAICH,SAAU,WACT,GAAMxR,KAAM,GAAZ,CAIA,IAAIkiD,EAActvC,EAAQgU,EACzBtY,EAAOtO,KAAM,GACbmiD,EAAe,CAAEtwC,IAAK,EAAGF,KAAM,GAGhC,GAAwC,UAAnChM,EAAOwV,IAAK7M,EAAM,YAGtBsE,EAAStE,EAAK2D,4BAER,CAON,IANAW,EAAS5S,KAAK4S,SAIdgU,EAAMtY,EAAKwa,cACXo5B,EAAe5zC,EAAK4zC,cAAgBt7B,EAAIrW,gBAChC2xC,IACLA,IAAiBt7B,EAAIxW,MAAQ8xC,IAAiBt7B,EAAIrW,kBACT,WAA3C5K,EAAOwV,IAAK+mC,EAAc,aAE1BA,EAAeA,EAAa3qC,WAExB2qC,GAAgBA,IAAiB5zC,GAAkC,IAA1B4zC,EAAa57B,YAG1D67B,EAAex8C,EAAQu8C,GAAetvC,UACzBf,KAAOlM,EAAOwV,IAAK+mC,EAAc,kBAAkB,GAChEC,EAAaxwC,MAAQhM,EAAOwV,IAAK+mC,EAAc,mBAAmB,GAEtE,CAGE,MAAO,CACNrwC,IAAKe,EAAOf,IAAMswC,EAAatwC,IAAMlM,EAAOwV,IAAK7M,EAAM,aAAa,GACpEqD,KAAMiB,EAAOjB,KAAOwwC,EAAaxwC,KAAOhM,EAAOwV,IAAK7M,EAAM,cAAc,GArC3E,CAuCA,EAYC4zC,aAAc,WACb,OAAOliD,KAAKua,IAAK,WAGhB,IAFA,IAAI2nC,EAAeliD,KAAKkiD,aAEhBA,GAA2D,WAA3Cv8C,EAAOwV,IAAK+mC,EAAc,aACjDA,EAAeA,EAAaA,aAG7B,OAAOA,GAAgB3xC,EAC1B,EACA,IAIA5K,EAAOG,KAAM,CAAEqsC,WAAY,cAAeD,UAAW,eAAiB,SAAUlZ,EAAQhhB,GACvF,IAAInG,EAAM,gBAAkBmG,EAE5BrS,EAAOC,GAAIozB,GAAW,SAAUtd,GAC/B,OAAOmhB,EAAQ78B,KAAM,SAAUsO,EAAM0qB,EAAQtd,GAG5C,IAAIqmC,EAOJ,GANKx7B,EAAUjY,GACdyzC,EAAMzzC,EACuB,IAAlBA,EAAKgY,WAChBy7B,EAAMzzC,EAAK0gB,kBAGC3f,IAARqM,EACJ,OAAOqmC,EAAMA,EAAK/pC,GAAS1J,EAAM0qB,GAG7B+oB,EACJA,EAAIK,SACFvwC,EAAYkwC,EAAIE,YAAVvmC,EACP7J,EAAM6J,EAAMqmC,EAAIC,aAIjB1zC,EAAM0qB,GAAWtd,CAErB,EAAKsd,EAAQtd,EAAKzN,UAAUrN,OAC5B,CACA,GAQA+E,EAAOG,KAAM,CAAE,MAAO,QAAU,SAAUyjB,EAAIvR,GAC7CrS,EAAO4pC,SAAUv3B,GAAS4zB,GAAcxlB,EAAQ4mB,cAC/C,SAAU1+B,EAAMi9B,GACf,GAAKA,EAIJ,OAHAA,EAAWD,GAAQh9B,EAAM0J,GAGlB+yB,GAAU1pC,KAAMkqC,GACtB5lC,EAAQ2I,GAAOkD,WAAYwG,GAAS,KACpCuzB,CAEL,EAEA,GAIA5lC,EAAOG,KAAM,CAAEu8C,OAAQ,SAAUC,MAAO,SAAW,SAAUr6C,EAAM7G,GAClEuE,EAAOG,KAAM,CACZsrC,QAAS,QAAUnpC,EACnBswB,QAASn3B,EACT,GAAI,QAAU6G,GACZ,SAAUs6C,EAAcC,GAG1B78C,EAAOC,GAAI48C,GAAa,SAAUhwC,EAAQ1J,GACzC,IAAIg0B,EAAY7uB,UAAUrN,SAAY2hD,GAAkC,kBAAX/vC,GAC5Dq8B,EAAQ0T,KAA6B,IAAX/vC,IAA6B,IAAV1J,EAAiB,SAAW,UAE1E,OAAO+zB,EAAQ78B,KAAM,SAAUsO,EAAMlN,EAAM0H,GAC1C,IAAI8d,EAEJ,OAAKL,EAAUjY,GAGyB,IAAhCk0C,EAAS99C,QAAS,SACxB4J,EAAM,QAAUrG,GAChBqG,EAAKnP,SAASoR,gBAAiB,SAAWtI,GAIrB,IAAlBqG,EAAKgY,UACTM,EAAMtY,EAAKiC,gBAIJT,KAAKkP,IACX1Q,EAAK8B,KAAM,SAAWnI,GAAQ2e,EAAK,SAAW3e,GAC9CqG,EAAK8B,KAAM,SAAWnI,GAAQ2e,EAAK,SAAW3e,GAC9C2e,EAAK,SAAW3e,UAIDoH,IAAVvG,EAGNnD,EAAOwV,IAAK7M,EAAMlN,EAAMytC,GAGxBlpC,EAAOuC,MAAOoG,EAAMlN,EAAM0H,EAAO+lC,EACtC,EAAMztC,EAAM07B,EAAYtqB,OAASnD,EAAWytB,EAC5C,CACA,EACA,GAGAn3B,EAAOG,KAAM,CACZ,YACA,WACA,eACA,YACA,cACA,YACE,SAAUyjB,EAAInoB,GAChBuE,EAAOC,GAAIxE,GAAS,SAAUwE,GAC7B,OAAO5F,KAAK6F,GAAIzE,EAAMwE,EACxB,CACA,GAKAD,EAAOC,GAAG8B,OAAQ,CAEjBysC,KAAM,SAAUhR,EAAOx5B,EAAM/D,GAC5B,OAAO5F,KAAK6F,GAAIs9B,EAAO,KAAMx5B,EAAM/D,EACrC,EACC68C,OAAQ,SAAUtf,EAAOv9B,GACxB,OAAO5F,KAAK2N,IAAKw1B,EAAO,KAAMv9B,EAChC,EAEC88C,SAAU,SAAUr0C,EAAU80B,EAAOx5B,EAAM/D,GAC1C,OAAO5F,KAAK6F,GAAIs9B,EAAO90B,EAAU1E,EAAM/D,EACzC,EACC+8C,WAAY,SAAUt0C,EAAU80B,EAAOv9B,GAGtC,OAA4B,IAArBqI,UAAUrN,OAChBZ,KAAK2N,IAAKU,EAAU,MACpBrO,KAAK2N,IAAKw1B,EAAO90B,GAAY,KAAMzI,EACtC,EAECg9C,MAAO,SAAUC,EAAQC,GACxB,OAAO9iD,KACL6F,GAAI,aAAcg9C,GAClBh9C,GAAI,aAAci9C,GAASD,EAC/B,IAGAl9C,EAAOG,KACN,wLAE4DiE,MAAO,KACnE,SAAUwf,EAAIthB,GAGbtC,EAAOC,GAAIqC,GAAS,SAAU0B,EAAM/D,GACnC,OAAOqI,UAAUrN,OAAS,EACzBZ,KAAK6F,GAAIoC,EAAM,KAAM0B,EAAM/D,GAC3B5F,KAAK2jC,QAAS17B,EAClB,CACA,GAUA,IAAI86C,GAAQ,sDAMZp9C,EAAOq9C,MAAQ,SAAUp9C,EAAImI,GAC5B,IAAIkxB,EAAKjxB,EAAMg1C,EAUf,GARwB,iBAAZj1C,IACXkxB,EAAMr5B,EAAImI,GACVA,EAAUnI,EACVA,EAAKq5B,GAKA5Y,EAAYzgB,GAalB,OARAoI,EAAOzH,EAAM0F,KAAMgC,UAAW,GAC9B+0C,EAAQ,WACP,OAAOp9C,EAAGY,MAAOuH,GAAW/N,KAAMgO,EAAKoJ,OAAQ7Q,EAAM0F,KAAMgC,YAC7D,EAGC+0C,EAAM55B,KAAOxjB,EAAGwjB,KAAOxjB,EAAGwjB,MAAQzjB,EAAOyjB,OAElC45B,CACR,EAEAr9C,EAAOs9C,UAAY,SAAUC,GACvBA,EACJv9C,EAAOg3B,YAEPh3B,EAAO0xB,OAAO,EAEhB,EACA1xB,EAAOoC,QAAUuH,MAAMvH,QACvBpC,EAAOw9C,UAAY74C,KAAKC,MACxB5E,EAAOuhB,SAAWA,EAClBvhB,EAAO0gB,WAAaA,EACpB1gB,EAAO4gB,SAAWA,EAClB5gB,EAAO63B,UAAYA,GACnB73B,EAAOvE,KAAO0lB,EAEdnhB,EAAOyP,IAAM9N,KAAK8N,IAElBzP,EAAOy9C,UAAY,SAAUp5C,GAK5B,IAAI5I,EAAOuE,EAAOvE,KAAM4I,GACxB,OAAkB,WAAT5I,GAA8B,WAATA,KAK5ByL,MAAO7C,EAAM2iC,WAAY3iC,GAC5B,EAEArE,EAAOrE,KAAO,SAAU4P,GACvB,OAAe,MAARA,EACN,IACEA,EAAO,IAAKjK,QAAS87C,GAAO,KAChC,EA0BA,IAGCM,GAAUjkD,EAAOuG,OAGjB29C,GAAKlkD,EAAO8G,EAwBb,OAtBAP,EAAO49C,WAAa,SAAUx7B,GAS7B,OARK3oB,EAAO8G,IAAMP,IACjBvG,EAAO8G,EAAIo9C,IAGPv7B,GAAQ3oB,EAAOuG,SAAWA,IAC9BvG,EAAOuG,OAAS09C,IAGV19C,CACR,OAKyB,IAAbogB,IACX3mB,EAAOuG,OAASvG,EAAO8G,EAAIP,GAMrBA,CACP,IAp8UEP,QAAiB0gB,EAAO3mB,SACvBgK,EAAS2c,GAAQ,GACjB,SAAU09B,GACT,IAAMA,EAAErkD,SACP,MAAM,IAAI+oB,MAAO,4CAElB,OAAO/e,EAASq6C,EACpB,qBCpBO,SAAS9/C,EAAUiE,GAWxB,IAAI87C,GATJ97C,EAAWzB,EAAEwB,QACX,EACA,CACEg8C,cAAc,GAEhB/7C,IAIsBM,KACpB07C,EAAS,OAASF,EAAW,MAG7B//C,EAAY,CACdpE,OAAQ,CAAA,EAGRskD,MAAO19C,EAAEwB,QACP,EACA,CACE+7C,SAAUA,EACVE,OAAQA,EAERE,WAAY,aACZC,WAAY,aACZC,WAAY,aACZC,YAAa,eACbC,eAAgB,iBAChBC,WAAY,cAEdv8C,EAASi8C,OAIXtkC,IAAK,SAAUxa,GAGb,OADAoB,EAAEwB,QAAO,EADE1H,KACSV,OAAQwF,GADjB9E,IAGb,EAGA6F,GAAI,SAAUyH,EAAQxN,GACpB,OAAOuF,EAAMgI,QAAQpB,KAAKjM,KAAMyjD,EAAUn2C,EAAQxN,EACpD,GAIEqkD,EAAW,WACb,IAAI3+C,EAAOxF,KACP8E,EAAUU,EAAKlG,OAIf6f,EAAO,CACT7f,OAAQwF,EACR6D,GALO7D,EAAQ6D,GAMf5C,MAAOP,EAAKO,MAGZq+C,OAAQ,SAAUt/C,GAChBU,EAAK4+C,OAAOn4C,KAAKzG,EAAMV,EACzB,GASF,MALwC,mBAA7B6C,EAAS08C,iBAClBn+C,EAAEwB,QAAO,EAAMyX,EAAMxX,EAAS08C,gBAAgBp4C,KAAKzG,IAI9C2Z,CACT,EAGIpf,EAAQ,SAAU+E,GACpB,IAAIU,EAAOxF,KACXwF,EAAKO,MAAQrC,EAAUqC,MAAQhE,EAAI0O,gBAAgBgzC,GAGnDj+C,EAAKlG,OAAS4G,EAAEwB,QAAO,EAAM,GAAIlC,EAAKlG,OAAQoE,EAAUpE,OAAQwF,GAG7B,mBAAxB6C,EAAS28C,YAClB38C,EAAS28C,WAAWr4C,KAAKzG,EAAMA,EAAKlG,QAItCkG,EAAKwhB,MACP,EAqKA,OAlKAjnB,EAAM6E,UAAUtF,OAASqI,EAASrI,OAGlCS,EAAM6E,UAAUw/C,OAAS,SAAUt/C,EAAS1D,GAC1C,IAAIoE,EAAOxF,KACXwF,EAAKlG,OAAS4G,EAAEwB,OAAOC,EAAS+7C,aAAc,GAAIl+C,EAAKlG,OAAQwF,GAC/DU,EAAKwhB,MAAK,EAAM5lB,EAClB,EAGArB,EAAM6E,UAAUoiB,KAAO,SAAUu9B,EAAUnjD,GACzC,IAAIoE,EAAOxF,KACP8E,EAAUU,EAAKlG,OACfgP,EAAOpI,EAAEpB,EAAQwJ,MAGrB,GAAIA,EAAK1N,OAAS,EAQhB,OAPAyE,EAAMS,KAAKwI,EAAM,WACf5K,EAAUkY,OACR1V,EAAEwB,OAAO,CAAA,EAAI5C,EAAS,CACpBwJ,KAAMtO,OAGZ,GACOwF,EAIT,IAAIg/C,EAAaziD,EAAI+C,QAAQwJ,EAAK,IASlC,GARIi2C,EAEFz/C,EAAUU,EAAKlG,OAAS4G,EAAEwB,OAAO88C,EAAY1/C,GAE7CoB,EAAEwB,OAAO5C,EAAS0/C,IAIfD,GAAYj2C,EAAK2B,KAAK0zC,GAAS,CAClC,IAAIc,EAAU/gD,EAAUghD,QAAQp2C,EAAK2B,KAAK0zC,IAC1C,IAAKc,EAAS,OACd,OAAOA,EAAQL,OAAOt/C,EAAS1D,EACjC,CAEA0D,EAAQwJ,KAAOpI,EAAEpB,EAAQwJ,MAGzBxJ,EAAQ6D,GAAK5G,EAAIgW,OAAOjT,EAAS,MAC7BA,EAAQ6D,GACR2F,EAAK2B,KAAK,OAASzK,EAAKO,MAG5Bo+C,EAAS3+C,KAAKV,EAAQ6D,IAAMnD,EAGS,mBAA1BmC,EAASg9C,cAClBh9C,EAASg9C,aAAa14C,KAAKzG,EAAMV,GAIR,mBAAhBU,EAAKoW,SACdlY,EAAUhE,MAAMiJ,GAAG7D,EAAQ6D,IAAM,KACjC2F,EAAK2B,KAAK0zC,EAAQ7+C,EAAQ6D,IAC1BnD,EAAKoW,OAAO2oC,IAIS,mBAAhB/+C,EAAK8H,QAAyB9H,EAAK8H,QAC5C,EAGAvN,EAAM6E,UAAUgX,OAASjU,EAASiU,OAClC7b,EAAM6E,UAAU0I,OAAS3F,EAAS2F,OASlCvN,EAAM6E,UAAUlF,MAAQ,SAAUwK,EAAKpB,EAAO0B,GAC5C,IAEI8D,EAFOtO,KACQV,OACAgP,KACfs2C,EAAiBjB,EAAS,SAC9B,GAAKr1C,EAAL,CAEA,IAAI5O,EAAQ4O,EAAK3E,KAAKi7C,IAAmB,CAAA,EAGzC,QAAcv1C,IAAVvG,EACF,OAAOpJ,EAAMwK,GAGXM,SACK9K,EAAMwK,GAEbxK,EAAMwK,GAAOpB,EAGfwF,EAAK3E,KAAKi7C,EAAgBllD,EAff,CAgBb,EAGAK,EAAM6E,UAAUigD,YAAc,SAAU36C,GACtClK,KAAKN,MAAMwK,EAAK,MAAM,EACxB,EAGAi6C,EAAS3+C,KAAO,CAAA,EAGhB9B,EAAUghD,QAAUhhD,EAAUohD,QAAU,SAAUn8C,GAChD,QAAW0G,IAAP1G,EACF,MAAM,IAAIuf,MAAM,wBAElB,OAAOi8B,EAAS3+C,KAAKmD,EACvB,EAGAjF,EAAUqhD,WAAa,WACrB,OAAOZ,EAAS3+C,IAClB,EAGA9B,EAAUshD,WAAa,SAAUr8C,UACxBw7C,EAAS3+C,KAAKmD,UACdjF,EAAUhE,MAAMiJ,GAAGA,EAC5B,EAGAjF,EAAUhE,MAAQ,CAChBiJ,GAAI,CAAA,GAINjF,EAAU3D,MAAQA,EAQlB2D,EAAU0gD,OAAS,SAAUz7C,EAAI7D,GAC/B,IAAIU,EAAO9B,EAAUghD,QAAQ/7C,GAC7B,GAAKnD,EAGL,OADAA,EAAK4+C,OAAOt/C,GACLq/C,EAASl4C,KAAKzG,EACvB,EAOA9B,EAAUkY,OAAS,SAAU9W,GAC3B,IAAIqa,EAAO,IAAIpf,EAAM+E,GACrB,OAAOq/C,EAASl4C,KAAKkT,EACvB,EAEOzb,CACT,CClQA,IAAIkjB,EAAMznB,SACNwJ,EAAK,iBACL+U,EAAM,uBAINunC,EAAW,iBAGXllD,EAAQ,SAAU+E,GACpB,IAAIU,EAAOxF,KACXwF,EAAKlG,OAASwF,GAAW,CAAA,EACzBU,EAAKlG,OAAOyG,MAAQ7D,EAAQ6D,MAAQhE,EAAI0O,gBAAgB,WACxDjL,EAAKoW,QAAO,EACd,EAGA7b,EAAM6E,UAAUxD,KAAO,WACrB,IAAI9B,EAASU,KAAKV,OAClB,GAA2B,iBAAhBA,EAAOgP,KAChB,YAA8Be,IAAvB/P,EAAOgP,KAAK1N,OAAuB,EAAI,CAElD,EAGAb,EAAM6E,UAAUwiC,KAAO,WACrB,IACI9nC,EADOU,KACOV,OAGdkuB,EAAUluB,EAAOkuB,OACnB,WAAYluB,EAAS4lD,OAAO5lD,EAAOkuB,SAAW,EAAI,EAGpDluB,EAAO6lD,OACoB,iBAAlB7lD,EAAO6lD,OACV7lD,EAAO6lD,OACP,CAAC,OAAQ,OAAQ,QAEvB7lD,EAAO4/B,MAAQgmB,OAAO5lD,EAAO4/B,QAAU,EACvC5/B,EAAO8lD,KAAOF,OAAO5lD,EAAO8lD,OAAS,EAGrC9lD,EAAO+lD,OACoB,iBAAlB/lD,EAAO+lD,OAAsB/lD,EAAO+lD,OAAS,CAAC,GAAI,GAAI,GAAI,GAAI,IAGvE/lD,EAAOgmD,MAAQJ,OAAO5lD,EAAOgmD,QAAU,GAGvChmD,EAAOimD,MAAQz1C,KAAKk/B,KAAK1vC,EAAO4/B,MAAQ5/B,EAAOgmD,QAAU,EAGrDhmD,EAAO8lD,KAAO9lD,EAAOimD,MACvBjmD,EAAO8lD,KAAO9lD,EAAOimD,MACZjmD,EAAO8lD,KAAO,IAEvB9lD,EAAO8lD,KAAO,GAIZ53B,EAAS,EACXA,EAAS,EACAA,EAASluB,EAAOimD,QACzB/3B,EAASluB,EAAOimD,OAGlBjmD,EAAOgjB,KAAO,SAAUhjB,EAASA,EAAOgjB,KAAO3e,EAAKkiB,GAAG,gBACvDvmB,EAAOijB,KAAO,SAAUjjB,EAASA,EAAOijB,KAAO5e,EAAKkiB,GAAG,gBAGvD,IAoKQ2/B,EAjCAC,EAkEAC,EArMJ3/C,EACFzG,EAAOimD,MAAQ/3B,EACX1d,KAAKk/B,MACF1vC,EAAO8lD,MAAQ53B,EAAS,EAAI,EAAI,KAAOA,EAAS,EAAIA,EAAS,IAEhE,EAGFm4B,EAAQ,CAEVrjC,KACShjB,EAAOgjB,KACV,gCACkB,GAAfhjB,EAAO8lD,KAAY,IAAMH,EAAW,IACrC,iBACC3lD,EAAO8lD,KAAO,GACf,KACA9lD,EAAOgjB,KACP,OACF,GAINM,KAAO,WACL,IAAIgjC,EAAQ,GAGZ,GAAItmD,EAAO4/B,MAAQ,EACjB,MAAO,GAILn5B,EAAQ,IAAsB,IAAjBzG,EAAOkjB,OAA8B,IAAXgL,GACzCo4B,EAAMt/C,KACJ,wDACE3C,EAAKkiB,GAAG,iBACR,MACCvmB,EAAOkjB,OAAS,GACjB,QAKN,IAKYxD,EALR6mC,EAAQ/1C,KAAK2I,OAAO+U,EAAS,GAAK,GAClCzO,EAAQhZ,EAAQ,EAAIzG,EAAO8lD,KAAOS,EAAQ,EAC1C5mC,EACFlZ,EAAQ,GAEEiZ,EAAM1f,EAAO8lD,MAAQ53B,EAASq4B,EAAQ,IAC7BvmD,EAAOimD,MAAQjmD,EAAOimD,MAAQvmC,EAE7CwO,EAaN,IAVIvO,EAAMF,EAAQyO,EAAS,IACzBzO,EAAQE,EAAMuO,EAAS,IAIJ,IAAjBluB,EAAOkjB,OAAmBzD,EAAQ,GACpC6mC,EAAMt/C,KAAK,8CAINyY,GAASE,EAAKF,IACfA,IAAUzf,EAAO8lD,KAEnBQ,EAAMt/C,KACJ,kEACG,KAAKjF,KAAK/B,EAAOwmD,OACd,2BAA6BxmD,EAAOwmD,MAAQ,KAC5C,IACJ,aACA/mC,EACA,gBAGJ6mC,EAAMt/C,KAAK,iBAAmByY,EAAQ,KAAOA,EAAQ,QA0BzD,OApBEzf,EAAOimD,MAAQ/3B,GACfluB,EAAOimD,MAAQtmC,IACC,IAAhB3f,EAAOqB,OAEHse,EAAM,EAAI3f,EAAOimD,OACnBK,EAAMt/C,KAAK,8CAEE,IAAXknB,GACFo4B,EAAMt/C,KACJ,wCACE3C,EAAKkiB,GAAG,gBACR,iBACAvmB,EAAOimD,MACP,MACCjmD,EAAOqB,MAAQrB,EAAOimD,OACvB,SAKDK,EAAMvyC,KAAK,GACpB,CAjFO,GAoFPkP,KACSjjB,EAAOijB,KACV,gCACGjjB,EAAO8lD,MAAQ9lD,EAAOimD,MAAQ,IAAMN,EAAW,IAChD,iBACC3lD,EAAO8lD,KAAO,GACf,KACA9lD,EAAOijB,KACP,OACF,GAIN2c,MAMS,sCAJuB,iBAArB5/B,EAAOymD,UACVzmD,EAAOymD,UAAU,GAAKzmD,EAAO4/B,MAAQ5/B,EAAOymD,UAAU,GACtDpiD,EAAKkiB,GAAG,gBAAiB,CAAEpD,MAAOnjB,EAAO4/B,SAEW,UAI5DomB,OACMG,EAAU,CAAC,0DASfpgD,EAAMS,KAAKxG,EAAO+lD,OAAQ,SAAUt/C,EAAOC,GACzCy/C,EAAQn/C,KACN,kBACEN,EACA,KACCA,IAAS1G,EAAOgmD,MAAQ,YAAc,IACvC,IAdS,SAAUt/C,GACvB,IAAIggD,EAAMhgD,EAAO,IAAMrC,EAAKkiB,GAAG,oBAC/B,MAAsC,mBAAxBvmB,EAAO2mD,cACjB3mD,EAAO2mD,aAAajgD,IACpBggD,CACN,CAUMlqC,CAAS9V,GACT,YAEN,GAEOy/C,EAAQpyC,KAAK,IAAM,oBAI5B6yC,QAAS,CACP,iBAAmB5mD,EAAO8lD,KAAO,mCACjC,gDACA,QACA/xC,KAAK,IAGPugB,MACM4xB,EACyB,iBAApBlmD,EAAOkmD,SACVlmD,EAAOkmD,SACP,CACE7hD,EAAKkiB,GAAG,gBACRliB,EAAKkiB,GAAG,gBACRliB,EAAKkiB,GAAG,oBAET,CACL,oCAAsC2/B,EAAS,GAC/C,qCACElmD,EAAO8lD,KACP,yBACFI,EAAS,GACP,mDACAA,EAAS,GACT,YACF,WACAnyC,KAAK,MAIX,MAAO,CACL,qEACG/T,EAAOwmD,MACJ,KAAKzkD,KAAK/B,EAAOwmD,OACf,OACAxmD,EAAOwmD,MACT,WACJ,uBACAxmD,EAAOyG,MACP,MAEI2/C,EAAQ,GACZrgD,EAAMS,KAAKxG,EAAO6lD,OAAQ,SAAUp/C,EAAOC,GACrC2/C,EAAM3/C,IACR0/C,EAAMp/C,KAAKq/C,EAAM3/C,GAErB,GACO0/C,EAAMryC,KAAK,KAEpB,UACAA,KAAK,GACT,EAGAtT,EAAM6E,UAAUuhD,KAAO,SAAU73C,EAAM83C,GACrC,GAAK93C,EAAL,CAEA,IAAI9I,EAAOxF,KACPV,EAASkG,EAAKlG,OACd+mD,EAAS/3C,EAAK+L,SACdisC,EAAMh4C,EAAKoP,GAAK,UAAU,GAC1B6R,EAAQjhB,EAAKoP,GAAK,SAAS,GAC3B7J,EAASvF,EAAKoP,GAAK,UAAU,GAC7BkW,EAAO,WACT,IAAIwxB,EAAOF,OAAO31B,EAAMzmB,MAAM7B,QAAQ,SAAU,KAC5Cm+C,IACF9lD,EAAO8lD,KAAOA,EACd5/C,EAAKoW,SAET,EAEA,GAAIwqC,EAAQ,OAAOxyB,IAGnB,IAAK,IAAI/yB,EAAI,EAAGsL,EAAMk6C,EAAOzlD,OAAQC,EAAIsL,EAAKtL,IACH,MAArCwlD,EAAOxlD,GAAGqmB,SAASlc,eACrB9I,EAAQ2D,GAAGwgD,EAAOxlD,GAAI,QAAS,WAC7B,IAAIukD,EAAOF,OAAOllD,KAAKsI,aAAa,cAChC88C,EAAO,GAAKA,EAAO9lD,EAAOimD,QAC9BjmD,EAAO8lD,KAAOA,EACd5/C,EAAKoW,SACP,GAKA/H,GACF3R,EAAQ2D,GAAGgO,EAAQ,SAAU,WAC3B,IAAI/K,EAAQ9I,KAAK8I,MACbxJ,EAAO8lD,KAAOt8C,EAAQxJ,EAAO4/B,QAC/B5/B,EAAO8lD,KAAOt1C,KAAKk/B,KAAK1vC,EAAO4/B,MAAQp2B,IAEzCxJ,EAAOgmD,MAAQx8C,EACftD,EAAKoW,QACP,GAIE0qC,GACFpkD,EAAQ2D,GAAGygD,EAAK,QAAS,WACvB1yB,GACF,EA9CS,CAgDb,EAGA7zB,EAAM6E,UAAUgvB,KAAO,SAAUtlB,GAC/B,GAAKA,EAAL,CAEA,IAAI9I,EAAOxF,KACPuvB,EAAQjhB,EAAKoP,GAAK,SAAS,GAE1B6R,GAGLrtB,EAAQ2D,GAAG0pB,EAAO,QAAS,SAAUtrB,GACnC,IAAI6E,EAAQ9I,KAAK8I,MACby+B,EAAUtjC,EAAEsjC,QAEZ,kBAAkBlmC,KAAKkmC,KAEvB,KAAKlmC,KAAKyH,KACZ9I,KAAK8I,MAAQA,EAAM7B,QAAQ,KAAM,KAEnB,KAAZsgC,GACF/hC,EAAK2gD,KAAK73C,GAAM,GAEpB,EApBW,CAqBb,EAGAvO,EAAM6E,UAAUgX,OAAS,SAAUkqB,GACjC,IAAItgC,EAAOxF,KACPV,EAASkG,EAAKlG,OACd8B,EAAOoE,EAAKpE,OACZgmC,EAAO5hC,EAAK4hC,OAEH,IAAThmC,EACF9B,EAAOgP,OAAShP,EAAOgP,KAAK8C,UAAYg2B,GACtB,IAAThmC,EACT9B,EAAOgP,KAAK4J,KAAKkvB,GAEbxgB,EAAIje,GAAIrJ,EAAOgP,QACjBsY,EAAIje,GAAIrJ,EAAOgP,MAAM8C,UAAYg2B,GAIrC9nC,EAAO6mD,MAAQ7mD,EAAO6mD,KAAK7mD,EAAQwmC,GAEnC,IAAIx3B,EAAOsY,EAAIje,GAAI,iBAAmBrJ,EAAOyG,OAC7CP,EAAK2gD,KAAK73C,GAENhP,EAAOoK,OAASo8B,IAClBzmC,SAASqK,KAAO,IAAMpK,EAAOoK,KAAO,IAAMpK,EAAO8lD,MAGnD5/C,EAAKouB,KAAKtlB,EACZ,EAGA,IAAIpM,EAAU,CAEZ0Z,OAAQ,SAAU9W,GAEhB,OADQ,IAAI/E,EAAM+E,GACTiB,KACX,EACAF,GAAI,SAAUyI,EAAMoZ,EAAM9hB,GAQxB,OAPA0I,EAAK9J,YACD8J,EAAK9J,YAAY,KAAOkjB,EAAM,SAAUzjB,GAEtCA,EAAE+K,OAAS/K,EAAEE,WACbyB,EAAGqG,KAAKqC,EAAMrK,EAChB,GACAqK,EAAK3J,iBAAiB+iB,EAAM9hB,GAAI,GAC7B5F,IACT,GChZEyjD,EAAW,UACXE,GAAS,OAASF,EAAW,MAC7B8C,GAAO,QACPC,GAAwB,CAC1B,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SAGF,SAASC,GAAqB52C,GAC5B,GAAmB,iBAARA,GAAoBA,EAAIjP,QAAU,EAC3C,OAAOiP,EAIT,IADA,IAAIxE,EAAS,GACJxK,EAAI,EAAGA,EAAIgP,EAAIjP,OAAS,EAAGC,IAAK,CACvC,IAAIwmC,EAAOx3B,EAAIhP,GACX6lD,EAAW72C,EAAIhP,EAAI,GACvBwK,GAAUg8B,EAGV,IAAIsf,EAAcC,GAAQvf,GACtBwf,EAAkBD,GAAQF,IAI3BC,IAAgBE,GAAgC,MAAbH,GAC1B,MAATrf,IAAiBsf,GAAeE,KAEjCx7C,GAAU,IAEd,CAEA,OADAA,EAAUwE,EAAIA,EAAIjP,OAAS,EAE7B,CAEA,SAASgmD,GAAQvf,GACf,IAAI7jC,EAAO6jC,EAAKprB,WAAW,GAC3B,OAAOzY,GAAQ,IAAMA,GAAQ,EAC/B,CAGA,IClDIu+C,GDkDA9/C,GAAU,CACZhC,EAAG,QACHX,OAAQ,CACNwnD,UAAW,GAIbxnC,IAAK,SAAUxa,GACb,IAAIU,EAAOxF,KAEX,OADAwF,EAAKlG,OAASyC,EAAI2F,OAAO,CAAA,EAAIlC,EAAKlG,OAAQwF,GACnCU,CACT,EAGA6xB,MAAO,SAAUv3B,GACf,IACI8J,EAAO,yBAA2B3H,GAAQhC,EAS9C,OANIoF,EAAM,aACY,mBAAbvF,GAA2BA,IAElCuF,EAAM6D,OAAOU,EAAM9J,EAPP,WAUPE,IACT,GAIE2b,GAAa,WACf,IAAInW,EAAOxF,KAEP2I,EADUnD,EAAKlG,OACFqJ,GAIjB,OAFAgT,GAAWnW,KAAKmD,GAAMnD,EAEdA,EAAK2Z,KAAO,CAElBtT,KAAM,SAAU0sB,GACd/yB,EAAKqG,KAAKI,KAAKzG,EAAM+yB,EACvB,EAEA6rB,OAAQ,SAAUt/C,GAChBU,EAAK4+C,OAAOn4C,KAAKzG,EAAMV,EACzB,EACAxF,OAAQkG,EAAKlG,OAEjB,EAIIynD,GAAO,aAGP9B,GAAW,mBACX+B,GAAa,CAAC,IAAK,KAEnBC,GAAc,uBACdC,GAAY,qBACZC,GAAgB,mBAChBC,GAAY,qBAEZC,GAAY,mBACZC,GAAY,mBAIZC,GAAe,wBACfC,GAAiB,oBACjBC,GAAgB,oBAChBC,GAAe,wBAEfC,GAAa,sBAGb5nD,GAAQ,SAAU+E,GACpB,IAAIU,EAAOxF,KACXwF,EAAKO,MAAQ9D,GAAQ8D,MAAQhE,EAAI0O,gBAAgB,WACjDjL,EAAKlG,OAASyC,EAAI2F,OAAO,CAAA,EAAIlC,EAAKlG,OAAQ2C,GAAQ3C,OAAQwF,GAG1D,IAAIwJ,EAAOvM,EAAI+C,EAAQwJ,MAAQ9I,EAAKlG,OAAOgP,MAC3C,GAAIA,EAAK1N,OAAS,EAQhB,OAPAmB,EAAI+D,KAAKwI,EAAM,WACbrM,GAAQ2Z,OACN7Z,EAAI2F,OAAO,CAAA,EAAIlC,EAAKlG,OAAQ,CAC1BgP,KAAMtO,OAGZ,GACOwF,EAWT,GAPAV,EAAU/C,EAAI2F,OAAOlC,EAAKlG,OAAQyC,EAAI+C,QAAQwJ,EAAK,KAGnD9I,EAAKggB,aAAehgB,EAAKoiD,kBAIwB,kBAAtCpiD,EAAKggB,aAAaqiC,gBAC3B,GAAKzoD,OAAO0oD,KAIL,CACL,IAIIrW,EAJY,IAAIqW,KAAKC,eAAejjD,EAAQitB,KAAM,CACpD9Q,KAAM,UACN+mC,MAAO,UAEaC,cAAc,IAAI3gD,KAAK,KAAM,IAC/CgpC,EAAQ,GACZmB,EAAMl3B,IAAI,SAAU2tC,GACA,SAAdA,EAAK9mD,MAAiC,UAAd8mD,EAAK9mD,MAC/BkvC,EAAMhqC,KAAK4hD,EAAK9mD,KAEpB,GACAoE,EAAKggB,aAAaqiC,gBAA+B,UAAbvX,EAAM,EAC5C,MAhBE9qC,EAAKggB,aAAaqiC,kBAChBrB,GAAsB9hD,QAAQI,EAAQitB,UAmB5C,GAAIzjB,EAAK,IAAMA,EAAK2B,KAAK0zC,IAAS,CAChC,IAAIc,EAAU9oC,GAAWmpC,QAAQx2C,EAAK2B,KAAK0zC,KAC3C,IAAKc,EAAS,OACd,OAAOA,EAAQL,OAAOt/C,EACxB,CAGAA,EAAQ6D,GAAK,OAAQ7D,EAAUA,EAAQ6D,GAAK2F,EAAK2B,KAAK,OAASzK,EAAKO,MAGpEjB,EAAQiB,MAAQP,EAAKO,MAGrB9D,GAAQo1B,MAAM,WACZ7xB,EAAKwhB,MACP,EACF,EAGImhC,GAAW,kCAGfxsC,GAAWysC,UAAY,SAAUC,GAC/B,OAAQA,GAAU,IAAI3iD,MAAM,IAAI0F,OAAO+8C,GAAW,KAAM,OAAS,EACnE,EAOApoD,GAAMuoD,WAAa,SAAUrnC,GAC3B,OAAQA,EAAO,GAAM,GAAKA,EAAO,KAAQ,GAAMA,EAAO,KAAQ,CAChE,EAGAlhB,GAAM6E,UAAUtF,OAAS,CACvB8B,KAAM,OACNmnD,OAAO,EACPF,OAAQ,aACRv/C,MAAO,KACP0/C,aAAa,EACbtpC,IAAK,WACLF,IAAK,aACL2kB,QAAS,QACTjD,MAAM,EACN+nB,YAAY,EACZC,WAAW,EACXC,KAAM,CAAC,QAAS,MAAO,WAEvB52B,KAAM,GACN+zB,MAAO,UACPt0C,SAAU,KACVo3C,UAAU,EACVC,KAAM,CAAA,EACNC,SAAU,KACVrY,OAAQ,KACR1sC,KAAM,KACNglD,OAAQ,KACRC,aAAa,EACbC,MAAO,GAGTlpD,GAAM6E,UAAUgjD,gBAAkB,WAChC,IACI9iD,EADO9E,KACQV,OACfigB,EAAS5b,EAAKrE,OAAOigB,OAUzB,MAPqB,OAAjBza,EAAQitB,KACVjtB,EAAQitB,KAAOw0B,GACLzhD,EAAQitB,OAClBjtB,EAAQitB,KAAOpuB,EAAKrE,OAAOigB,QAE7BA,EAASza,EAAQitB,KAEV,CACLlR,OAAQld,EAAKkiB,GAAG,iBAAkB,KAAM,CACtCtG,OAAQA,EACRoG,QAAS,CACP,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,SAGJ7E,MAAOnd,EAAKkiB,GAAG,gBAAiB,KAAM,CACpCtG,OAAQA,EACRoG,QAAS,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,QAEhD5E,KAAMpd,EAAKkiB,GAAG,eAAgB,KAAM,CAClCtG,OAAQA,EACRoG,QAAS,CAAC,OAAQ,SAAU,YAE9B3E,QAAS,CACPC,KAAMtd,EAAKkiB,GAAG,uBAAwB,KAAM,CAC1CtG,OAAQA,EACRoG,QAAS,MAGbkiC,gBAAiBlkD,EAAKkiB,GAAG,0BAA2B,KAAM,CACxDtG,OAAQA,EACRoG,QAAS,OAEXzE,WAAYvd,EAAKkiB,GAAG,qBAAsB,KAAM,CAC9CtG,OAAQA,EACRoG,QAAS,gBAEXxE,WAAYxd,EAAKkiB,GAAG,qBAAsB,KAAM,CAC9CtG,OAAQA,EACRoG,QAAS,gBAEXvE,UAAWzd,EAAKkiB,GAAG,oBAAqB,KAAM,CAC5CtG,OAAQA,EACRoG,QAAS,eAEXtE,QAAS1d,EAAKkiB,GAAG,kBAAmB,KAAM,CACxCtG,OAAQA,EACRoG,QAAS,aAEXzJ,MAAO,CACL6D,QAASpc,EAAKkiB,GAAG,wBAAyB,KAAM,CAC9CtG,OAAQA,EACRoG,QAAS,YAEXrI,MAAO3Z,EAAKkiB,GAAG,sBAAuB,KAAM,CAC1CtG,OAAQA,EACRoG,QAAS,UAEXvQ,IAAKzR,EAAKkiB,GAAG,oBAAqB,KAAM,CACtCtG,OAAQA,EACRoG,QAAS,QAEXrE,MAAO3d,EAAKkiB,GAAG,sBAAuB,KAAM,CAC1CtG,OAAQA,EACRoG,QAAS,WAGbpE,iBAAkB5d,EAAKkiB,GAAG,2BAA4B,KAAM,CAC1DtG,OAAQA,EACRoG,QAAS,8DAEXnE,kBAAmB7d,EAAKkiB,GAAG,4BAA6B,KAAM,CAC5DtG,OAAQA,EACRoG,QAAS,mBAEXlE,kBAAmB,SAAU4mC,GAC3B,OAAO1kD,EAAKkiB,GACV,4BACA,CAAEwiC,OAAQA,GACV,CACE9oC,OAAQA,EACRoG,QACE,+DAGR,EACAjE,gBAAiB/d,EAAKkiB,GAAG,0BAA2B,KAAM,CACxDtG,OAAQA,EACRoG,QAAS,sBAEX7F,QAASnc,EAAKkiB,GAAG,kBAAmB,KAAM,CACxCtG,OAAQA,EACRoG,QAAS,wBAGf,EAGA5lB,GAAM6E,UAAUskD,yBAA2B,CACzC,QAAS,eACT,SAAU,eACV,QAAS,eACT,SAAU,eACV,QAAS,eACT,QAAS,eACT,QAAS,eACT,QAAS,eACT,SAAU,eACV,SAAU,eACV,UAAW,gBAIbnpD,GAAM6E,UAAUw/C,OAAS,SAAUt/C,GACjC,IAAIU,EAAOxF,KACXwF,EAAKlG,OAASyC,EAAI2F,OAAO,CAAA,EAAIlC,EAAKlG,OAAQwF,GAC1CU,EAAKwhB,MACP,EAGAjnB,GAAM6E,UAAUoiB,KAAO,WACrB,IAAIxhB,EAAOxF,KACT8E,EAAUU,EAAKlG,OACf6pD,EAAgC,WAArBrkD,EAAQ0M,SACnB62C,EAAS,CACPpnC,KAAM,OACN+mC,MAAO,UACPtnC,KAAM,aACNK,KAAM,WACNqoC,SAAU,uBAMd,GAHAtkD,EAAQwJ,KAAOvM,EAAI+C,EAAQwJ,MAC3BxJ,EAAQukD,UAAYtnD,EAAI+C,EAAQukD,WAE3BvkD,EAAQwJ,KAAK,GAAlB,CAuEA,GArE8B,UAA9BjJ,EAAMjE,KAAK0D,EAAQghD,SAAuBhhD,EAAQghD,MAAQ,CAAChhD,EAAQghD,QAE/DhhD,EAAQwkD,YACW,aAAjBxkD,EAAQ1D,MAAuB0D,EAAQyjD,eAElCzjD,EAAQwkD,UAKnB9jD,EAAK+jD,SAAWzkD,EAAQyjD,MACK,iBAAlBzjD,EAAQyjD,MACbzjD,EAAQyjD,MACR,IACF,GAGJ/iD,EAAKgkD,eACH1kD,EAAQyjD,QACRzjD,EAAQ0kD,aACU,SAAjB1kD,EAAQ1D,MAAoC,aAAjB0D,EAAQ1D,MAItCoE,EAAKikD,kBAAoB,WACvB,IAAIj1C,EAAQhP,EAAKgkD,YAajB,OAZAhkD,EAAKgkD,YACH1kD,EAAQyjD,QACU,SAAjBzjD,EAAQ1D,MAAoC,aAAjB0D,EAAQ1D,SAClCoE,EAAKkkD,YACJlkD,EAAKmkD,SACLnkD,EAAKkkD,WACJlkD,EAAKmkD,SACLnkD,EAAKkkD,UAAUzoC,OAASzb,EAAKmkD,QAAQ1oC,MACrCzb,EAAKkkD,UAAU1B,QAAUxiD,EAAKmkD,QAAQ3B,OAC5CjmD,EAAIyD,EAAK8I,MAAM9I,EAAKgkD,YAAc,WAAa,eAC7C,yBAEKhkD,EAAKgkD,aAAeh1C,CAC7B,EAGAhP,EAAKikD,kBAAkBG,KACrBpkD,EAAKgkD,aAAuC,SAAxB1kD,EAAQ0kD,YAGI,UAA9BnkD,EAAMjE,KAAK0D,EAAQyjD,SACrB/iD,EAAKqkD,UAAY,CAAC9nD,EAAI+C,EAAQyjD,MAAM,IAAKxmD,EAAI+C,EAAQyjD,MAAM,MAIxDF,EAAOvjD,EAAQ1D,QAClBhC,OAAOmC,SACLA,QAAQL,OACRK,QAAQL,MACN,uBAAyB4D,EAAQ1D,KAAO,sBAE5C0D,EAAQ1D,KAAO,QAIb0D,EAAQujD,SAAWA,EAAO3nC,OAC5B5b,EAAQujD,OAASA,EAAOvjD,EAAQ1D,OAASinD,EAAO3nC,MAIlDlb,EAAK6iD,OAAS1sC,GAAWysC,UAAUtjD,EAAQujD,QAGvCvjD,EAAQgiD,YACL,UAAUzlD,KAAKyD,EAAQgiD,WAAY,CACtC,IAAI/0B,EAAOvsB,EAAKggB,aAChB1gB,EAAQgiD,UAAY/0B,EAAKjR,MAAMpc,QAAQI,EAAQgiD,YACrB,IAAtBhiD,EAAQgiD,YAAkBhiD,EAAQgiD,UAAY,EACpD,CAyGF,GArGAthD,EAAKskD,OAAS,GACdtkD,EAAKukD,UAAY,GACjBhoD,EAAI+D,KAAKN,EAAK6iD,OAAQ,SAAUxnD,EAAGmF,GACjC,IAAIgkD,EAAM,IAAI5+C,OAAO+8C,IAAU9mD,KAAK2E,GAChC,QAGI,IAAIoF,OAAO+8C,IAAU9mD,KACnBmE,EAAK6iD,OAAa,IAANxnD,EAAUA,EAAI,EAAIA,EAAI,IAAM,IAGtC,WAAWQ,KAAK2E,GAAc,EAC3BA,EAAKpF,OAEV,SAASS,KAAK2E,GAAc,MAC5B,MAAM3E,KAAK2E,GAAc,QACtB,OAET,IACA,KAAOA,EACXR,EAAKskD,OAAStkD,EAAKskD,OAASE,EAC5BxkD,EAAKukD,UAAYvkD,EAAKukD,UAAY,IAAMC,EAAM,GAChD,GAEAxkD,EAAKykD,WAAa,IAAI7+C,OAAO,IAAM5F,EAAKskD,OAAS,KACjDtkD,EAAKskD,OAAS,IAAI1+C,OAChB,KACGtG,EAAQyjD,MACL/iD,EAAKskD,OAAS,QAAUtkD,EAAK+jD,SAAW,MAAQ/jD,EAAKskD,OACrDtkD,EAAKskD,QACT,KAEJtkD,EAAKukD,UAAY,IAAI3+C,OAAO,IAAM5F,EAAKukD,UAAY,IAAK,IAGnDvkD,EAAK0kD,QAAQplD,EAAQwJ,KAAK,KACL,UAApBxJ,EAAQ6+B,UACV7+B,EAAQ6+B,QAAU,SAKtB7+B,EAAQwJ,KAAK2B,KAAK,UAAWzK,EAAKO,OAClCjB,EAAQukD,UAAUp5C,KAAK,UAAWzK,EAAKO,OACvCjB,EAAQwJ,KAAK2B,KAAK0zC,GAAQ7+C,EAAQ6D,IAGlC5G,EAAI+D,KAAK,CAAC,MAAO,OAAQ,SAAUjF,EAAGmF,GACpC,IAAImkD,EAAM,GACNC,EAAM,GACV,GAA6B,iBAAlBtlD,EAAQkB,GAAoB,CAErC,IAAIqkD,EAAMvlD,EAAQkB,GAChBskD,EAAQ,IAAIhjD,KACZyZ,EAAOvb,EACJ+kD,QAAQ,CAEPtpC,KAAMqpC,EAAME,cACZxC,MAAOsC,EAAMG,WACb/pC,KAAM4pC,EAAMI,UACZrmC,MAAOxjB,EAAI,GAAK,EAChByjB,QAASzjB,EAAI,GAAK,EAClB8pD,QAAS9pD,EAAI,GAAK,IAEnB0G,UACHqjD,EAAQ,MACRC,EAAW,IAAIvjD,KACb+iD,EACIA,EAAMO,EACJ7pC,EAAOspC,EAAMO,EACbP,EACFtpC,GAERopC,EAAM,CACJU,EAASL,cACTK,EAASJ,WAAa,EACtBI,EAASH,WAEXN,EAAM,CAACS,EAASC,WAAYD,EAASE,aAAcF,EAASG,aAC9D,MAAO,GAA6B,iBAAlBlmD,EAAQkB,GACxBmkD,GAAOrlD,EAAQkB,GAAMN,MAAM,gBAAkB,CAAC,KAAK,GAAGqE,MAAM,KAC5DqgD,GAAOtlD,EAAQkB,GAAMN,MAAM,gBAAkB,CAAC,KAAK,GAAGqE,MAAM,UACvD,GAA6B,iBAAlBjF,EAAQkB,GACxB,OAAOlB,EAAQkB,GAEjBlB,EAAQkB,GAAQ,CACdib,KAAe,EAATkpC,EAAI,KAAU,IAAI7iD,MAAOkjD,cAC/BxC,MAAOmC,EAAI,IAAe,EAATA,EAAI,IAAU,GAAI,IAAI7iD,MAAOmjD,WAC9C/pC,KAAe,EAATypC,EAAI,KAAU,IAAI7iD,MAAOojD,UAC/BrmC,MAAgB,EAAT+lC,EAAI,GACX9lC,QAAkB,EAAT8lC,EAAI,GACbO,QAAkB,EAATP,EAAI,GAEjB,GAEA5kD,EAAKylD,OAAS,gBAAkBnmD,EAAQwJ,KAAK2B,KAAK,YAE9CnL,EAAQ47B,MAAQyoB,IAAU3jD,EAAKoW,SACnCutC,GAAY3jD,EAAK8H,SAGsB,mBAA5BxI,EAAQomD,gBACjB,GAAI1lD,EAAK0kD,QAAQplD,EAAQwJ,KAAK,IAC5B9I,EAAK0lD,gBAAgBpmD,EAAQwJ,KAAK,GAAIxJ,EAAQomD,qBACzC,CACL,IAAIrB,EAAYrkD,EAAKqkD,UACjBA,IACFrkD,EAAK0lD,gBAAgBrB,EAAU,GAAG,GAAI/kD,EAAQomD,iBAC9C1lD,EAAK0lD,gBAAgBrB,EAAU,GAAG,GAAI/kD,EAAQomD,iBAElD,CAIEpmD,EAAQgE,OAAShE,EAAQ0jD,cACO,SAA9BnjD,EAAMjE,KAAK0D,EAAQgE,OACrBtD,EAAK2lD,SAAS3lD,EAAK+E,MAAM,EAAG/E,EAAK4lD,WAAWtmD,EAAQgE,SAEpDtD,EAAK2lD,SAASrmD,EAAQgE,OAtMJ,CAyMxB,EAGA/I,GAAM6E,UAAUgX,OAAS,WACvB,IAeYyvC,EA6HJnzC,EACFywC,EAkDM2C,EA/LR9lD,EAAOxF,KACT8E,EAAUU,EAAKlG,OACfyyB,EAAOvsB,EAAKggB,aACZ2jC,EAAgC,WAArBrkD,EAAQ0M,SAEnBlD,EAAQ9I,EAAK8I,KAAOvM,EAAIuM,KAAK,MAAO,CAClC3F,GAAInD,EAAKylD,OACTzT,MAAO,CACL,gBACA1yC,EAAQyjD,MAAQ,uBAAyB,GACzC/iD,EAAKgkD,YAAc,yBAA2B,GAC9CL,EAAW,IAAMlC,GAAc,GAC/BniD,EAAQwkD,UAAY,2BAA6B,IAG3C+B,EAAW,GACftpD,EAAI+D,KAAKhB,EAAQghD,MAAO,SAAU//C,EAAO+/C,GACzB,YAAVA,GAAwB,KAAKzkD,KAAKykD,KACpCuF,GAAY,kBAAoBvF,EAEpC,GACOuF,IAETh4C,KAAK,MAGTk4C,EAAY/lD,EAAK+lD,SAAW,GAC5BC,EAAchmD,EAAKgmD,WAAa,GAChCC,EAAYjmD,EAAKimD,SAAW,GAC5BC,EAAalmD,EAAK/C,MAAQ,GAE1BkpD,EAAanmD,EAAKomD,OAAS7pD,EAAIuM,KAAK,MAAO,CACzCkpC,MA9fY,yBAigBdqU,EAAermD,EAAKsmD,SAAW/pD,EAAIuM,KAAK,KAAM,CAC5CkpC,MAjgBc,2BAogBd1yC,EAAQ2rC,SAAQniC,EAAKpG,MAAMuoC,OAAS3rC,EAAQ2rC,QAGhD1uC,EAAI+D,KAAK,IAAIwJ,MAAM,GAAI,SAAUzO,GAC/B,IAAKiE,EAAQyjD,OAAS1nD,EAAI,EACxB,OAAO,EAIT,IAAIkrD,EAAYhqD,EAAIuM,KAAK,MAAO,CAC5BkpC,MAAO,yBAGTwU,EAAc,CACX,WAEC,IAAI19C,EAAOvM,EAAIuM,KAAK,IAAK,CACvBkpC,MAAO,2CAGT,OADAlpC,EAAK8C,UAAY,WACV9C,CACT,CAPC,GAQA,WAEC,IAAIA,EAAOvM,EAAIuM,KAAK,IAAK,CACvBkpC,MAAO,2CAGT,OADAlpC,EAAK8C,UAAY,WACV9C,CACT,CAPC,GAQA,WAEC,IAAIA,EAAOvM,EAAIuM,KAAK,MAAO,CACzBkpC,MAAO,mBAIT,OAFAlpC,EAAK9G,YAAYzF,EAAIuM,KAAK,SAC1BA,EAAK9G,YAAYzF,EAAIuM,KAAK,SACnBA,CACT,CARC,GASA,WAEC,IAAIA,EAAOvM,EAAIuM,KAAK,IAAK,CACvBkpC,MAAO,2CAGT,OADAlpC,EAAK8C,UAAY,WACV9C,CACT,CAPC,GAQA,WAEC,IAAIA,EAAOvM,EAAIuM,KAAK,IAAK,CACvBkpC,MAAO,2CAGT,OADAlpC,EAAK8C,UAAY,WACV9C,CACT,CAPC,IAUH29C,EAAalqD,EAAIuM,KAAK,MAAO,CAC3BkpC,MAAO,0BAET/0C,EAAQV,EAAIuM,KAAK,SACjBkzB,EAAQz/B,EAAIuM,KAAK,SACjB49C,EAAUnqD,EAAIuM,KAAK,MAGrBvM,EAAI+D,KAAKkmD,EAAa,SAAUnrD,EAAGmF,GACjC+lD,EAAUvkD,YAAYxB,EACxB,GAGAw7B,EAAMh6B,YAAY0kD,GAClBnqD,EAAI+D,KAAK,IAAIwJ,MAAM,GAAI,SAAUzO,GAE/B,IAAI6gC,EAAKj/B,EAAM0pD,UAAU,GACzBpqD,EAAI+D,KAAK,IAAIwJ,MAAM,GAAI,SAAUoI,GAC/B,GAAU,IAAN7W,EAAS,CACX,IAAIuhC,EAAKrgC,EAAIuM,KAAK,MAClB8zB,EAAGhxB,UAAY2gB,EAAKjR,OAAOpJ,EAAI5S,EAAQgiD,WAAa,GACpDoF,EAAQ1kD,YAAY46B,EACtB,CACAV,EAAG0qB,WAAW10C,EAChB,EACF,GACAjV,EAAM6nC,aAAa9I,EAAO/+B,EAAM4X,SAAS,IACzC4xC,EAAWzkD,YAAY/E,GAEvB8oD,EAAS1qD,GAAKkB,EAAIuM,KAAK,MAAO,CAC5BkpC,MAAO6U,wCAAoCxrD,IAG7C0qD,EAAS1qD,GAAG2G,YAAYukD,GACxBR,EAAS1qD,GAAG2G,YAAYykD,GAExBT,EAAWllD,KAAK0lD,GAChBP,EAASnlD,KAAK2lD,GACdP,EAAUplD,KAAK7D,EACjB,GAGAV,EAAI4pD,GAAWzzC,MAEPA,EAAO,GACTywC,EAAO,GACY,aAAjB7jD,EAAQ1D,MACV8W,EAAK5R,KACH,oCACEmhD,GACA,KACA11B,EAAK5Q,WACL,YAIDrc,EAAQyjD,OAA0B,aAAjBzjD,EAAQ1D,MAC5B0D,EAAQwkD,YAERpxC,EAAK5R,KACH,gBACEohD,GACA,YACA31B,EAAKjS,QACL,aAIN/d,EAAI+D,KAAKhB,EAAQ6jD,KAAM,SAAU9nD,EAAGmF,GAClC,IAAI8c,EAAQiP,EAAK7V,MAAMlW,IAAS,MAC5BlB,EAAQyjD,OAAkB,QAATviD,IACjBmjD,GAAqB,UAATnjD,IACd8c,EAAQiP,EAAK7V,MAAMoF,OAErBqnC,EAAKriD,KACH,mBACEN,EACA,yBACAA,EACA,KACA8c,EACA,WAEN,GACA5K,EAAK5R,KAAK,oCAAsCqiD,EAAKt1C,KAAK,IAAM,UACzD6E,EAAK7E,KAAK,MAKjBvO,EAAQwnD,YACVh+C,EAAK9G,YAAYqkD,GACjB9pD,EAAI8pD,GACD3zC,MAEOozC,EAAe,GACnBvpD,EAAI+D,KAAKhB,EAAQwnD,UAAW,SAAUzrD,EAAGmF,GACvCslD,EAAahlD,KACX,mBAAqBzF,EAAI,KAAOmF,EAAKkL,KAAO,QAEhD,GACOo6C,EAAaj4C,KAAK,MAG5B/B,KAAK,MACLzL,GAAG,QAAS,SAAUhG,GACrB,IAAI0sD,EAAaznD,EAAQwnD,UAAUtsD,KAAKwsD,QAAe,QAAM,CAAA,EACzD1jD,GAC2B,mBAArByjD,EAAWzjD,MACfyjD,EAAWzjD,QACXyjD,EAAWzjD,QAAU,GACtBzD,EAAM0C,QAAQe,KACjBA,EAAQ,CAACA,IAEX,IAAI1H,EAAO0D,EAAQ1D,KACnBW,EAAI+D,KAAKgD,EAAO,SAAUjI,EAAGmF,GAC3B,IAAIymD,EAAW,CAAC3nD,EAAQ2nD,SAAUjnD,EAAKmkD,SAAS9oD,GACnC,SAATO,GAAwC,SAArBiE,EAAMjE,KAAK4E,GAC5BR,EAAKskD,OAAOzoD,KAAK2E,KACnBA,GAAQA,EAAKN,MAAMF,EAAKukD,YAAc,IAAIxjD,MAAM,GAChDxE,EAAI2F,OAAO+kD,EAAU,CACnBpoC,MAAiB,EAAVre,EAAK,GACZse,QAAmB,EAAVte,EAAK,GACd2kD,QAAmB,EAAV3kD,EAAK,MAIlBjE,EAAI2F,OACF+kD,EACAjnD,EAAK4lD,WACkB,SAArB/lD,EAAMjE,KAAK4E,GAAmBA,EAAO,IAAIsB,KAAKtB,KAKvC,SAAT5E,GAA4B,aAATA,IACrBoE,EAAK,CAAC,YAAa,WAAW3E,IAAM,CAClCwjB,MAAOooC,EAASpoC,MAChBC,QAASmoC,EAASnoC,QAClBqmC,QAAS8B,EAAS9B,UAGZ,IAAN9pD,EAEF2E,EAAKkkD,UAAY3nD,EAAI2F,OAAO,CAAA,EAAI+kD,GAEhCjnD,EAAKknD,UAAW,EAEL,SAATtrD,GAA4B,UAATA,GAA6B,SAATA,EACzCoE,EAAKmnD,OAAO9rD,GAAK,CAAC4rD,EAASxrC,KAAMwrC,EAASzE,MAAQ,GACzCnnD,GACT2E,EAAKikD,kBAAkBG,MAAQpkD,EAAKikD,mBAExC,GACAjkD,EAAKonD,UAAU,SAAShE,SAAS,KAAM,KAAM,QAE7C,IAAIiE,EAAU9qD,EAAIyD,EAAKomD,QACpBt6C,KAAK,IAAMm2C,IACXzsC,YAAYiqC,IACf4H,GAAwC,SAA7BA,EAAQ58C,KAAK,aAA0B48C,EAAQ,GAAG7mB,QAC7DxgC,EAAKzB,KAAK,KAAM,UAEhBhC,EAAI/B,MAAM8a,SAASisC,IAGM,WAArBjiD,EAAQ0M,UACVhM,EAAK2lD,SAAS3lD,EAAK+E,SAASxG,OAAOyG,QAavC,IAIJzI,EAAI+D,KAAKylD,EAAU,SAAU1qD,EAAGisD,GAC9Bx+C,EAAK9G,YAAYslD,EACnB,GACAhoD,EAAQ2jD,YAAcn6C,EAAK9G,YAAYmkD,GAGvC,IAEIoB,EAFA7kD,EAAQnG,EAAIuM,KAAK,SACjB2C,EAAY,GAEZ+7C,GAAiB,EACrBjrD,EAAI+D,KAAKhB,EAAQghD,MAAO,SAAU//C,EAAO+/C,GAEvC,GAAIkH,GAAkB,KAAK3rD,KAAKykD,GAiB9B,OAhBAiH,GAAa,EACbC,GAAiB,OACjB/7C,EAAU3K,KACR,CACE,6DACA,2FACoC,IAApCxB,EAAQghD,MAAMphD,QAAQ,UAClB,GACA,8DACJ,wDACA,sEAEC2O,KAAK,IACLpM,QAAQ,UAAWzB,EAAKylD,QACxBhkD,QAAQ,aAAc6+C,KAKxBkH,GAAkB,KAAK3rD,KAAKykD,IAC/B70C,EAAU3K,KACR,CACE,wEACA,+EAEC+M,KAAK,IACLpM,QAAQ,UAAWzB,EAAKylD,QACxBhkD,QAAQ,aAAc6+C,GAG/B,GAEIhhD,EAAQwnD,WAAaxnD,EAAQyjD,OAC/Bt3C,EAAU3K,KACR,6CAA6CW,QAC3C,UACAzB,EAAKylD,SAIPh6C,EAAUrQ,SACZqQ,EAAYA,EAAUoC,KAAK,IACvB,eAAgBnL,GAClBA,EAAMgI,aAAa,OAAQ,YAC3BhI,EAAM4I,WAAWK,QAAUF,GAE3B/I,EAAMkJ,UAAYH,EAGpB87C,GAAchrD,EAAIuM,GAAMwM,SAAS,sBACjCxM,EAAK9G,YAAYU,IAInB1C,EAAKgF,OAAOzK,GAAMktD,cAGlBhrD,GAAQirD,OAASpoD,EAAQ6D,GAGzBwgD,EACIrkD,EAAQwJ,KAAKiD,OAAOjD,IACnBnP,SAASiR,KAAK5I,YAAY8G,GAAO9I,EAAKgM,YAE3C,IAAIy3C,EAAQnkD,EAAQmkD,MAChB,eACAtB,GADA,qBAIG7oC,SAASzZ,EAAM2C,SAASsG,EAAM,YAAc,GAC7C,wBACCxJ,EAAQmkD,MAAM,IAAM,QACrB,eACCnkD,EAAQmkD,MAAM,IAAMnkD,EAAQmkD,OAC/B,WACA,GACJ36C,EAAK6+C,mBAAmB,cAAelE,GAEvCzjD,EAAKonD,YAAYhE,SAAS,KAAM,EAAG,QACnCpjD,EAAK4nD,cAELrtD,GAAMktD,aAAeznD,EAAKylD,OAE1BzlD,EAAK6nD,mBACoB,mBAAlBvoD,EAAQuyB,OACbvyB,EAAQuyB,MACNt1B,EAAI2F,OAAO,CAAA,EAAI5C,EAAQ2nD,SAAU,CAC/BzE,MAAOljD,EAAQ2nD,SAASzE,MAAQ,KAItCxiD,EAAKsa,SACP,EAGA/f,GAAM6E,UAAU4F,OAAS,SAAU8X,GACjC,IAAI9c,EAAOxF,KACT8E,EAAUU,EAAKlG,OACfgP,EAAOvM,EAAI,KAAOugB,GAAQ9c,EAAKylD,SACjC,OAAK38C,EAAK,IAELA,EAAK2M,SAASgsC,KACjBzhD,EAAKonD,UAAU,WACbt+C,EAAK9D,gBAEEhF,EAAKkkD,iBACLlkD,EAAKmkD,eACLnkD,EAAKknD,gBACLlnD,EAAK4b,iBACL5b,EAAK6b,eACLpf,GAAQirD,OACU,mBAAlBpoD,EAAQwX,OAAwBxX,EAAQwX,MAAM9W,EACvD,GAEFzD,EAAI,IAAM4lD,IAAYn9C,SACfhF,GAhBcA,CAiBvB,EAGAzF,GAAM6E,UAAU4M,SAAW,WACzB,IAAIhM,EAAOxF,KACT8E,EAAUU,EAAKlG,OAIjB,OAHAyC,EAAIyP,SAAS1M,EAAQwJ,KAAK,GAAI9I,EAAK8I,KAAM,CACvCkD,SAAU1M,EAAQ0M,WAEbhM,CACT,EAGAzF,GAAM6E,UAAUiH,KAAO,SAAU6E,GAC/B,IAAIlL,EAAOxF,KACGwF,EAAKlG,OACnB,IAAIwhC,EAAM/+B,EAAIuM,KAAK,MAAO,CACxBkpC,MAAO4P,KAGJ5hD,EAAK8I,OAIRoC,EADkB,iBAATA,EACFA,GAAQ,CAAA,EAER,CACL6nB,QAAS7nB,GAIbowB,EAAI1vB,UAAYV,EAAK6nB,SAAW,GAChCx2B,EAAIyD,EAAK8I,MACNgD,KAAK,IAAM81C,IACX58C,SACHhF,EAAK8I,KAAK9G,YAAYs5B,GAEtB5yB,aAAa1I,EAAK8nD,UAClB9nD,EAAK8nD,SAAW1mD,WACd,WACE7E,EAAIyD,EAAK8I,MACNgD,KAAK,IAAM81C,IACX58C,QACL,EACA,OAAQkG,EAAOA,EAAK68C,GAAK,KAE7B,EAGAxtD,GAAM6E,UAAU4oD,QAAU,SAAUC,EAAGC,EAAGtsD,GAUxC,OATAA,EAAOssD,IAAMA,IACTA,EAAI,IACNA,EAAI,GACJD,KAEEC,EAAI,KACNA,EAAI,EACJD,KAEK,CAACA,EAAGC,EACb,EAGA3tD,GAAM6E,UAAUwmD,WAAa,SAAUb,GACrC,IAAIM,EAAWN,GAAW,IAAIjjD,KAC9B,MAAO,CACL2Z,KAAM4pC,EAASL,cACfxC,MAAO6C,EAASJ,WAChB/pC,KAAMmqC,EAASH,UACfrmC,MAAOkmC,EAAUA,EAAQO,WAAa,EACtCxmC,QAASimC,EAAUA,EAAQQ,aAAe,EAC1CJ,QAASJ,EAAUA,EAAQS,aAAe,EAE9C,EAGAjrD,GAAM6E,UAAUgoD,UAAY,SAAUhnD,GACpC,IAKE+nD,EACAzsD,EANEsE,EAAOxF,KAET8E,EAAUU,EAAKlG,OACfyyB,EAAOvsB,EAAKggB,aACZinC,EAAY3nD,EAAQ2nD,SAAW3nD,EAAQ2nD,UAAYjnD,EAAK4lD,aAGxD98C,EAAOxJ,EAAQwJ,KAAK,GACV9I,EAAK0kD,QAAQ57C,GACvBxF,IAAAA,EAAS,WAEP,GAAItD,EAAKqkD,UAAW,CAClB,IAAI+D,EAAO,CAACpoD,EAAKqkD,UAAU,GAAGnuC,MAAOlW,EAAKqkD,UAAU,GAAGnuC,OAEvD,GAAIkyC,EAAK,IAAMA,EAAK,GAClB,OAAOA,EAAKv6C,KAAK,IAAM7N,EAAK+jD,SAAW,IAE3C,CACA,OAAO/jD,EAAK0kD,QAAQ57C,GAChBA,EAAKxF,MACgB,WAArBhE,EAAQ0M,SACN,GACAzP,EAAIuM,GAAM2B,KAAK,WACvB,CAdS,GAgBT49C,EAAa,SAAUpB,GAChBA,IAGDA,EAASxrC,KAAO+lC,GAAW,KAC3ByF,EAASxrC,KAAO+lC,GAAW,GAAM9lD,GAAQ,GACzCurD,EAASzE,MAAQ,KAAMyE,EAASzE,MAAQ,GAAM9mD,GAAQ,GACtDurD,EAAS9B,QAAU,KACnB8B,EAAS9B,QAAU,EAAI8B,EAASnoC,UAAYpjB,GAAQ,GACpDurD,EAASnoC,QAAU,KACnBmoC,EAASnoC,QAAU,EAAImoC,EAASpoC,QAAUnjB,GAAQ,GAClDurD,EAASpoC,MAAQ,KAAMooC,EAASpoC,MAAQ,EAAKnjB,GAAQ,GAGzDysD,EAAc1rD,GAAQ6rD,WAAWrB,EAASzE,MAAQ,EAAGyE,EAASxrC,MAC1DwrC,EAAS/rC,KAAOitC,IAChBlB,EAAS/rC,KAAOitC,EAAezsD,GAAQ,GAC7C,EAEA6sD,EAAW,SAAUtB,EAAU3jD,EAAO/C,GACpC,IAAIioD,EAAW,CAAC,YAAa,WAC7BllD,GAASA,EAAMpD,MAAMF,EAAKukD,YAAc,IAAIxjD,MAAM,GAClDR,EAAQA,GAAS,EAEbjB,EAAQyjD,QACV/iD,EAAKwoD,EAASjoD,IAAUP,EAAKwoD,EAASjoD,KAAW,CAAA,GAEnDhE,EAAI+D,KAAKN,EAAK6iD,OAAQ,SAAUxnD,EAAGmF,GACjC,IAAIioD,EAAQthB,WAAW7jC,EAAMjI,IACzBiI,EAAMjI,GAAGD,OAASoF,EAAKpF,SAAQM,GAAQ,GACvC,SAASG,KAAK2E,IAEZioD,EAAQjH,GAAW,KAAMiH,EAAQjH,GAAW,GAAM9lD,GAAQ,GAC9DurD,EAASxrC,KAAOgtC,GACP,OAAO5sD,KAAK2E,IAEjBioD,EAAQ,IAAKA,EAAQ,EAAK/sD,GAAQ,GACtCurD,EAASzE,MAAQiG,EAAQ,GAChB,OAAO5sD,KAAK2E,IAEjBioD,EAAQ,IAAKA,EAAQ,EAAK/sD,GAAQ,GACtCurD,EAAS/rC,KAAOutC,GACP,OAAO5sD,KAAK2E,IAEjBioD,EAAQ,IAAKA,EAAQ,EAAK/sD,GAAQ,GAClC+sD,EAAQ,KAAMA,EAAQ,GAAM/sD,GAAQ,GACxCurD,EAASpoC,MAAQ4pC,EACjBnpD,EAAQyjD,QAAU/iD,EAAKwoD,EAASjoD,IAAQse,MAAQ4pC,IACvC,OAAO5sD,KAAK2E,IAEjBioD,EAAQ,IAAKA,EAAQ,EAAK/sD,GAAQ,GAClC+sD,EAAQ,KAAMA,EAAQ,GAAM/sD,GAAQ,GACxCurD,EAASnoC,QAAU2pC,EACnBnpD,EAAQyjD,QAAU/iD,EAAKwoD,EAASjoD,IAAQue,QAAU2pC,IACzC,OAAO5sD,KAAK2E,KAEjBioD,EAAQ,IAAKA,EAAQ,EAAK/sD,GAAQ,GAClC+sD,EAAQ,KAAMA,EAAQ,GAAM/sD,GAAQ,GACxCurD,EAAS9B,QAAUsD,EACnBnpD,EAAQyjD,QAAU/iD,EAAKwoD,EAASjoD,IAAQ4kD,QAAUsD,GAEtD,GACAJ,EAAWpB,EACb,EAEF,GAAW,UAAP7mD,EAOF,OANId,EAAQyjD,OACVsF,EAAWroD,EAAKgkD,YAAchkD,EAAKkkD,UAAY+C,GAC/CjnD,EAAKmkD,SAAWkE,EAAWroD,EAAKmkD,UAEhCkE,EAAWpB,GAENjnD,EAIY,iBADrBsD,EAAQA,GAAShE,EAAQgE,SAEvBA,EAAQA,EAAM7B,QAAQ,OAAQ,KAAKA,QAAQ,WAAY,KAIzD,IAgGIinD,EAhGAJ,EAAa,WACXhpD,EAAQyjD,QACV/iD,EAAKmkD,QACHnkD,EAAKmkD,SACL5nD,EAAI2F,OACF,CAAA,EACA5C,EAAQ2nD,SACP,WACC,IAAIziD,EAAM,CAAA,EACRyiD,EAAW3nD,EAAQ2nD,SACnB0B,EAAM3oD,EAAKgoD,QAAQf,EAASxrC,KAAMwrC,EAASzE,OAgB7C,MAbqB,SAAjBljD,EAAQ1D,KACV4I,EAAIiX,KAAOwrC,EAASxrC,KAAO,EACD,SAAjBnc,EAAQ1D,OACjB4I,EAAIiX,KAAOktC,EAAI,GACfnkD,EAAIg+C,MAAQmG,EAAI,IAIG,aAAjBrpD,EAAQ1D,MAAwC,SAAjB0D,EAAQ1D,OACzC4I,EAAIqa,MAAQ,GACZra,EAAIsa,QAAUta,EAAI2gD,QAAU,IAGvB3gD,CACT,CApBC,IAuBT,EAsHA,OArHA8jD,IAEqB,iBAAVhlD,GAAsBA,EAC3BtD,EAAKskD,OAAOzoD,KAAKyH,GAEfhE,EAAQyjD,OACVz/C,EAAQA,EAAMiB,MAAM,IAAMvE,EAAK+jD,SAAW,KAC1CxnD,EAAI+D,KAAK,CAAChB,EAAQ2nD,SAAUjnD,EAAKmkD,SAAU,SAAU9oD,EAAGmF,GACtD+nD,EAAS/nD,EAAM8C,EAAMjI,GAAIA,EAC3B,IAEAktD,EAAStB,EAAU3jD,IAIrBtD,EAAKqG,KACHkmB,EAAKtQ,kBACH3c,EAAQyjD,MACJzjD,EAAQujD,OAAS,IAAM7iD,EAAK+jD,SAAW,IAAMzkD,EAAQujD,OACrDvjD,EAAQujD,QACVt2B,EAAKrQ,iBAEXxgB,GAAQ,GAED4H,GAA+B,SAAtBzD,EAAMjE,KAAK0H,GAE7BhE,EAAQ2nD,SAAWjnD,EAAK4lD,WAAWtiD,IAGnChE,EAAQ2nD,SAAWjnD,EAAK4lD,oBACjB5lD,EAAK4b,iBAGL5b,EAAKmkD,QACZmE,WACOtoD,EAAK6b,SAId,WACE,GAAI7b,EAAKqkD,UAAW,CAClB,IAAI+D,EAAO,CAACpoD,EAAKqkD,UAAU,GAAGnuC,MAAOlW,EAAKqkD,UAAU,GAAGnuC,OACrD0yC,EAAU,CAACtpD,EAAQ2nD,SAAUjnD,EAAKmkD,SACpC5nD,EAAI+D,KAAK8nD,EAAM,SAAUrkC,EAAI8kC,GACvB7oD,EAAKykD,WAAW5oD,KAAKgtD,IAEvBN,EAASK,EAAQ7kC,GAAK8kC,EAAI9kC,EAE9B,EACF,CACD,CAXD,GAcAskC,EAAWpB,GACP3nD,EAAQyjD,OAAOsF,EAAWroD,EAAKmkD,SAG/BzoD,GAAS4H,GACXtD,EAAK2lD,SACHrmD,EAAQyjD,MAAS/iD,EAAKmkD,QAAUnkD,EAAK+E,QAAU,GAAM/E,EAAK+E,SAO1D/E,EAAK8oD,YAAY7B,GAAYjnD,EAAK8oD,YAAYxpD,EAAQka,MAExDytC,EAAW3nD,EAAQ2nD,SAAW1qD,EAAI2F,OAAO,CAAA,EAAI5C,EAAQka,KACrDkvC,GAAc,GACL1oD,EAAK8oD,YAAY7B,GAAYjnD,EAAK8oD,YAAYxpD,EAAQoa,OAE/DutC,EAAW3nD,EAAQ2nD,SAAW1qD,EAAI2F,OAAO,CAAA,EAAI5C,EAAQoa,KACrDgvC,GAAc,GAIZppD,EAAQyjD,SAER/iD,EAAK8oD,YAAY9oD,EAAKmkD,SAAWnkD,EAAK8oD,YAAYxpD,EAAQoa,MAC1D1Z,EAAK8oD,YAAY9oD,EAAKmkD,SAAWnkD,EAAK8oD,YAAYxpD,EAAQka,QAE1DxZ,EAAKmkD,QAAU5nD,EAAI2F,OAAO,CAAA,EAAI5C,EAAQka,KACtCkvC,GAAc,GAGhB1oD,EAAK4b,UAAY,CACfiD,MAAOvf,EAAQ2nD,SAASpoC,MACxBC,QAASxf,EAAQ2nD,SAASnoC,QAC1BqmC,QAAS7lD,EAAQ2nD,SAAS9B,SAE5BnlD,EAAK6b,QAAU,CACbgD,MAAO7e,EAAKmkD,QAAQtlC,MACpBC,QAAS9e,EAAKmkD,QAAQrlC,QACtBqmC,QAASnlD,EAAKmkD,QAAQgB,SAGH,UAAjB7lD,EAAQ1D,OACV0D,EAAQ2nD,SAAS/rC,KAAO,EACxBlb,EAAKmkD,QAAQjpC,KAAO,IAKpBwtC,GAAeplD,IACjBtD,EAAK2lD,SAAS3lD,EAAK+E,SACnB/E,EAAKqG,KAAK,SAAWkmB,EAAKvQ,kBAAoBuQ,EAAKrQ,kBAIrDlc,EAAKkkD,UACHlkD,EAAKkkD,WAAc5gD,GAAS/G,EAAI2F,OAAO,CAAA,EAAI5C,EAAQ2nD,UACrDjnD,EAAKikD,kBAAkBG,MAAQpkD,EAAKikD,oBACpCjkD,EAAKknD,UACF5nD,EAAQyjD,QAAU/iD,EAAKgkD,gBAAkBhkD,EAAKkkD,YAAalkD,EAAKmkD,SAEnE/jD,GAAMA,IACCJ,CACT,EAQAzF,GAAM6E,UAAU2pD,WAAa,SAAUC,EAAQC,EAAKC,GAClD,IAAIC,EAEmB,iBAAZD,EACT3sD,EAAI+D,KAAK4oD,GAAW,CAAA,EAAI,SAAUxkD,EAAK4Y,GACrC,IAAImL,EAAO/jB,EAAIH,MAAM,KAElBkkB,EAAK,IAAMwgC,EAAI,IAAiB,GAAXxgC,EAAK,IAC1BA,EAAK,IAAMwgC,EAAI,IAAiB,GAAXxgC,EAAK,IAC3BA,EAAK,IAAMwgC,EAAI,KAGfE,EAAW7rC,GAAS2rC,EAAI,GAE5B,GAC4B,iBAAZC,IAChBC,EAAWD,GAAWD,EAAI,IAG5BE,GACEH,EACGl9C,KAAK,OACL4G,KAAK,kCAAoCy2C,EAAW,UAC3D,EAQA5uD,GAAM6E,UAAUikD,KAAO,SAAUlnB,EAAI8sB,GACnC,IAAIjpD,EAAOxF,KACP8E,EAAUU,EAAKlG,OAEfsc,EAAS,SAAU8yC,GACrBlpD,EAAK+oD,WAAW5sB,EAAI8sB,EAAKC,EAC3B,EAeA,OAZI5pD,EAAQ8jD,UACN9jD,EAAQitB,OAASw0B,IACnB3qC,EAAOpW,EAAK0jD,0BAIY,mBAAjBpkD,EAAQ+jD,KACjB/jD,EAAQ+jD,KAAK,CAAE5nC,KAAMwtC,EAAI,GAAIzG,MAAOyG,EAAI,GAAI/tC,KAAM+tC,EAAI,IAAM7yC,GAC3B,iBAAjB9W,EAAQ+jD,MACxBjtC,EAAO9W,EAAQ+jD,MAGVrjD,CACT,EAQAzF,GAAM6E,UAAUgqD,eAAiB,SAAUJ,EAAQC,EAAKC,GACtD,IAAIttD,EAAO,CAAC,WAAY,YAgBpBytD,EAAa,SAAU73C,EAAI5V,EAAM8P,GACnC8F,EAAG1F,KAAK,OAAO4G,KACb,CACE,QACA,gCACA,UAAY9W,EAAO,IACnB,IACA8P,EACA,WACAmC,KAAK,IAEX,EAE4B,UAAxBhO,EAAMjE,KAAKstD,GACb3sD,EAAI+D,KAAK4oD,EAAS,SAAU/8B,EAAK3rB,GAC/BjE,EAAI+D,KAAKE,EAAM,SAAUnF,EAAGiuD,GA7BjB,IAAUC,EAASC,EAC5BC,EACAC,EAFmBH,EA8BND,EA9BeE,EA8BPR,EAAOv+C,KAAK,WA7BjCg/C,EAAOF,EAAQhlD,MAAM,KACrBmlD,EAAOF,EAAQjlD,MAAM,KAEzBhI,EAAI+D,KAAKmpD,EAAM,SAAUpuD,EAAGZ,GAC1BgvD,EAAKpuD,GAAKie,SAAS7e,EAAG,GACxB,GACA8B,EAAI+D,KAAKopD,EAAM,SAAUruD,EAAGZ,GAC1BivD,EAAKruD,GAAKie,SAAS7e,EAAG,GACxB,GAEOgvD,EAAK57C,KAAK,OAAS67C,EAAK77C,KAAK,MAoB9Bw7C,EAAWL,EAAQptD,EAAKuwB,GAAM88B,EAAI,GAEtC,EACF,GAC4B,iBAAZC,IACc,IAA1BttD,EAAKsD,QAAQgqD,IACfG,EAAWL,EAAQE,EAASD,EAAI,GAGtC,EAQA1uD,GAAM6E,UAAUkkD,SAAW,SAAUnnB,EAAI8sB,GACvC,IAAIjpD,EAAOxF,KACP8E,EAAUU,EAAKlG,OAEfsc,EAAS,SAAU8yC,GACrBlpD,EAAKopD,eAAejtB,EAAI8sB,EAAKC,EAC/B,EAQA,MANgC,mBAArB5pD,EAAQgkD,SACjBhkD,EAAQgkD,SAAS,CAAE7nC,KAAMwtC,EAAI,GAAIzG,MAAOyG,EAAI,GAAI/tC,KAAM+tC,EAAI,IAAM7yC,GACtB,UAAjCvW,EAAMjE,KAAK0D,EAAQgkD,WAC5BltC,EAAO9W,EAAQgkD,UAGVtjD,CACT,EASAzF,GAAM6E,UAAUuqD,WAAa,SAAUn4C,EAAIo4C,EAASC,GAClD,IACIvqD,EADO9E,KACQV,OAanB,MAXkC,mBAAvBwF,EAAQqqD,YAQjBrqD,EAAQqqD,WAAWC,EAPN,SAAU72B,GACE,iBAAZA,EACTx2B,EAAIiV,GAAIkB,KAAKqgB,GACe,iBAAZA,GAChBx2B,EAAIiV,GAAIkB,KAAK,IAAI3G,OAAOxP,EAAIw2B,GAAS,GAEzC,EACoC,CAAE+2B,WAAYt4C,EAAI5V,KAAMiuD,IAXnDrvD,IAeb,EAMAD,GAAM6E,UAAU2qD,YAAc,SAAU7uC,GACtC,IAAI6pC,EAAU,IAAIjjD,KAAKoZ,GAGvB,OAFA6pC,EAAQiF,YAAYjF,EAAQC,cAAe,EAAG,GAC9CD,EAAQkF,SAAS,EAAG,EAAG,EAAG,GACnBlF,CACT,EAMAxqD,GAAM6E,UAAU8qD,UAAY,SAAUhvC,GACpC,IAAI6pC,EAAU,IAAIjjD,KAAKoZ,GACnBO,EAAOspC,EAAQC,cAGnB,OAFAD,EAAQiF,YAAYvuC,EAAO,EAAG,EAAG,GACjCspC,EAAQkF,SAAS,GAAI,GAAI,GAAI,KACtBlF,CACT,EAMAxqD,GAAM6E,UAAU+qD,aAAe,SAAUjvC,GACvC,IAAI6pC,EAAU,IAAIjjD,KAAKoZ,GAGvB,OAFA6pC,EAAQqF,QAAQ,GAChBrF,EAAQkF,SAAS,EAAG,EAAG,EAAG,GACnBlF,CACT,EAMAxqD,GAAM6E,UAAUirD,WAAa,SAAUnvC,GACrC,IAAI6pC,EAAU,IAAIjjD,KAAKoZ,GACnBsnC,EAAQuC,EAAQE,WAGpB,OAFAF,EAAQiF,YAAYjF,EAAQC,cAAexC,EAAQ,EAAG,GACtDuC,EAAQkF,SAAS,GAAI,GAAI,GAAI,KACtBlF,CACT,EAOAxqD,GAAM6E,UAAUkrD,QAAU,SAAUpvC,EAAMqvC,GACxC,IAAIxF,EAAU,IAAIjjD,KAAKoZ,GACvB,OAAKqvC,GACLxF,EAAQqF,QAAQrF,EAAQG,UAAYqF,GAC7BxF,GAFaA,CAGtB,EAQAxqD,GAAM6E,UAAUorD,sBAAwB,SAAUtvC,EAAMtf,EAAMoQ,GAY5D,IAXA,IAAIhM,EAAOxF,KACP8E,EAAUU,EAAKlG,OAGf2wD,EACO,SAAT7uD,EAAkBoE,EAAK+pD,YAAY7uC,GAAQlb,EAAKmqD,aAAajvC,GAC3DwvC,EAAkB,SAAT9uD,EAAkBoE,EAAKkqD,UAAUhvC,GAAQlb,EAAKqqD,WAAWnvC,GAClEyvC,EACFrgD,KAAK2I,OAAOy3C,EAAO3oD,UAAY0oD,EAAS1oD,WANlB,OAMoD,EACxE6oD,EAAgB,EAEXvvD,EAAI,EAAGA,EAAIsvD,EAAWtvD,IAAK,CAClC,IAAIwpD,EAAM7kD,EAAKsqD,QAAQG,EAAUpvD,GAC7BiE,EAAQurD,aAAapkD,KAAKnH,EAASulD,EAAK74C,IAC1C4+C,GAEJ,CAEA,OAAOA,IAAkBD,CAC3B,EAkBApwD,GAAM6E,UAAU0rD,eAAiB,SAAU5vC,EAAMhQ,GAC/CA,EAAOA,GAAQ,CAAA,EAEf,IACI5L,EADO9E,KACQV,OACfkS,EAAW1M,EAAQyjD,MACA,IAAnB73C,EAAK6/C,UACH,QACA,MACF,QAEJ,IAAKzrD,EAAQurD,aAAc,OAAO,EAClC,GAAqB,SAAjBvrD,EAAQ1D,KAAiB,OAAO,EACpC,GAA4B,SAAtBsP,EAAK8/C,cAAiD,aAAtB9/C,EAAK8/C,aACzC,OAAO,EAGT,IAAIC,EAAiB,IAAInpD,KAAKoZ,GAG9B,OAFA+vC,EAAehB,SAAS,EAAG,EAAG,EAAG,GAEZ,SAAd/+C,EAAKtP,MAAiC,UAAdsP,EAAKtP,KAjBzBpB,KAkBFgwD,sBAAsBS,EAAgB//C,EAAKtP,KAAMoQ,GACtD1M,EAAQurD,aAAapkD,KAAKnH,EAAS2rD,EAAgBj/C,EACzD,EAQAzR,GAAM6E,UAAU8rD,eAAiB,SAAUhwC,EAAMhQ,GAC/CA,EAAOA,GAAQ,CAAA,EAEf,IAAIlL,EAAOxF,KACP8E,EAAUU,EAAKlG,OACfkS,EAAW1M,EAAQyjD,MACA,IAAnB73C,EAAK6/C,UACH,QACA,MACF,QAEJ,IAAKzrD,EAAQ6rD,aAAc,OAAO,EAClC,GAAuB,SAAjB7rD,EAAQ1D,MAAoC,aAAjB0D,EAAQ1D,KAAsB,OAAO,EACtE,GAA4B,SAAtBsP,EAAK8/C,cAAiD,aAAtB9/C,EAAK8/C,aACzC,OAAO,EAET,IAAII,EAAiB,SAAUC,EAAYC,EAASC,GAClD,OAAO,WACL,OAK4B,KAHJ,mBAAZD,GACNA,EAAQtqD,MAAM1B,EAASisD,IACzB,IACArsD,QAAQmsD,EAEd,CACF,EAEIzB,EAAU5pD,EAAK4lD,WAAW,IAAI9jD,KAAKoZ,IACnCiwC,EACF7rD,EAAQ6rD,aAAa1kD,KAAKnH,EAASU,EAAK+kD,QAAQ6E,GAAU59C,IAAa,CAAA,EAIzE,MAA6B,aAAtBd,EAAK8/C,aACRI,EAAexB,EAAQ/qC,MAAOssC,EAAatsC,MAA3CusC,IACEA,EAAexB,EAAQ9qC,QAASqsC,EAAarsC,QAAS,CACpD8qC,EAAQ/qC,OADVusC,IAGAA,EAAexB,EAAQzE,QAASgG,EAAahG,QAAS,CACpDyE,EAAQ/qC,MACR+qC,EAAQ9qC,SAFVssC,GAIF,CACEA,EAAexB,EAAQ/qC,MAAOssC,EAAatsC,OAC3CusC,EAAexB,EAAQ9qC,QAASqsC,EAAarsC,QAAS,CAAC8qC,EAAQ/qC,QAC/DusC,EAAexB,EAAQzE,QAASgG,EAAahG,QAAS,CACpDyE,EAAQ/qC,MACR+qC,EAAQ9qC,WAEV5T,EAAKqQ,KAAKngB,OAAS,IAC3B,EAQAb,GAAM6E,UAAUosD,mBAAqB,SAAUx4C,EAAW9H,GACxDA,EAAOA,GAAQ,CAAA,EAEf,IAAIlL,EAAOxF,KAGX,OAFcwF,EAAKlG,OAGjBkG,EAAK8qD,eAAe93C,EAAW9H,IAASlL,EAAKkrD,eAAel4C,EAAW9H,EAE3E,EAOA3Q,GAAM6E,UAAU0gD,MAAQ,SAAU50C,GAChCA,EAAOA,GAAQ,CAAA,EAEf,IAKIugD,EALAzrD,EAAOxF,KACP8E,EAAUU,EAAKlG,OACfkZ,EAAY,CAAA,EACZi0C,EACF/7C,EAAK3K,OAAS2K,EAAKqQ,KAAO,EAAI,IAAMvb,EAAKmkD,QAAU7kD,EAAQ2nD,SAsC7D,OAnCA1qD,EAAI+D,KACF,CACEsP,IAAKrT,EAAI2F,OAAO,CAAA,EAAI+kD,EAAU/7C,EAAKgQ,MAAQ,IAC3CxB,IAAKpa,EAAQoa,IACbF,IAAKla,EAAQka,KAEf,SAAU9U,EAAKlE,GAUN,IACKokD,EAVZ5xC,EAAUtO,GAAO1E,EACd+kD,QACCxoD,EAAI2F,OACF,CACEuZ,KAAMjb,EAAKib,KACX+mC,MAAqB,SAAdt3C,EAAKtP,KAAkB,EAAI4E,EAAKgiD,MACvCtnC,KACgB,SAAdhQ,EAAKtP,MAAiC,UAAdsP,EAAKtP,KAAmB,EAAI4E,EAAK0a,OAGvD0pC,EAAM,CAAA,EACVroD,EAAI+D,KAAK4K,EAAKqQ,KAAM,SAAUlgB,EAAGotB,GAC/Bm8B,EAAIn8B,GAAQjoB,EAAKioB,EACnB,GACOm8B,KAIZ7iD,SACL,GAGF0pD,EACEz4C,EAAUpD,IAAMoD,EAAU0G,KAC1B1G,EAAUpD,IAAMoD,EAAUwG,KAC1BxZ,EAAKwrD,mBAAmBx4C,EAAUpD,IAAK1E,GACzCA,EAAKpC,MAAQoC,EAAKpC,KAAK2iD,EAAQ,WAAa,eAAehM,IAEpDgM,CACT,EAGAlxD,GAAM6E,UAAUssD,aAAe,SAAUnrD,GACvC,IACEjB,EADS9E,KACMV,OACjB,OAAOyG,EAFI/F,KAES2pD,QAAU7kD,EAAQ2nD,QACxC,EAGA1sD,GAAM6E,UAAUgkD,SAAW,SAAU9/C,EAAO/C,EAAO3E,GACjD2E,EAAQA,EAAQ,EAAI,EACpB,IAIEorD,EACAC,EACAzD,EANEnoD,EAAOxF,KACT8E,EAAUU,EAAKlG,OACfmtD,EAAW3jD,GAAStD,EAAK0rD,aAAanrD,GACtC8kD,EAAW,IAAIvjD,KAIfyqB,EAAOvsB,EAAKggB,aACZ6rC,EAA2B,SAAjBvsD,EAAQ1D,MAAoC,aAAjB0D,EAAQ1D,KAC7CkwD,EAAMvvD,EAAIyD,EAAK/C,MAAMsD,IAAQuL,KAAK,MAClCigD,EAASxvD,EAAIyD,EAAKgmD,WAAWzlD,GAAO,IAAIuL,KAAK,QAE3Cm7C,EAASxrC,KAAO+lC,GAAW,KAC3ByF,EAASxrC,KAAO+lC,GAAW,GAAKxhD,EAAKqG,KAAKkmB,EAAKvQ,oBAC/CirC,EAASxrC,KAAO+lC,GAAW,KAC3ByF,EAASxrC,KAAO+lC,GAAW,GAAKxhD,EAAKqG,KAAKkmB,EAAKvQ,oBAG9Chc,EAAKgsD,YACRhsD,EAAKgsD,UAAYzvD,EAAI2F,OAAO,CAAA,EAAI+kD,IAIlC5B,EAAS2E,YAAY/C,EAASxrC,KAAMwrC,EAASzE,MAAO,GACpDmJ,GAAatG,EAAS4G,UAAY,EAAI3sD,EAAQgiD,YAAc,EAE5DsK,EAAcnvD,GAAQ6rD,WAAWrB,EAASzE,OAAS,GAAIyE,EAASxrC,MAChE0sC,EAAc1rD,GAAQ6rD,WAAWrB,EAASzE,MAAQ,EAAGyE,EAASxrC,MAG9Dlf,EAAI+D,KAAKwrD,EAAK,SAAUI,EAAQ1rD,GAC9B,IACE2rD,EADElD,EAAM,CAAChC,EAASxrC,KAAMwrC,EAASzE,QAEnChiD,EAAOjE,EAAIiE,IACNyV,WAAW,SACZi2C,EAASP,GACXQ,EAAKP,EAAcD,EAAYO,EAC/B1rD,EAAK8U,SAAS,oBACd2zC,EAAMjpD,EAAKgoD,QAAQf,EAASxrC,KAAMwrC,EAASzE,MAAO,QACzC0J,GAAUP,GAAaO,EAAS/D,EAAcwD,GACvDQ,EAAKD,EAASP,EACT3rD,EAAKgkD,aACRmI,EAAK,IAAMlF,EAAS/rC,MAAQ1a,EAAK8U,SAASisC,MAG5C4K,EAAKD,EAAS/D,EAAcwD,EAC5BnrD,EAAK8U,SAAS,oBACd2zC,EAAMjpD,EAAKgoD,QAAQf,EAASxrC,KAAMwrC,EAASzE,QAE7CyG,EAAI,KACJA,EAAI,GAAKkD,EAAK,EACd3rD,EAAKiK,KAAK,UAAWw+C,EAAIp7C,KAAK,MAAM6E,KAAK,QAAUu2C,EAAI,GAAK,UAC5DjpD,EACGqjD,KAAK7iD,EAAMyoD,GACX3F,SAAS9iD,EAAMyoD,GACfnJ,MAAM,CACLh3C,KAAMtI,EACN0a,KAAM,CACJO,KAAMwtC,EAAI,GACVzG,MAAOyG,EAAI,GAAK,EAChB/tC,KAAM+tC,EAAI,IAEZ1oD,MAAO2rD,EACPnB,UAAWxqD,EACXyqD,aAAc,SAElBhrD,EAAK2pD,WACHnpD,EACA,CAAEib,KAAMwtC,EAAI,GAAIzG,MAAOyG,EAAI,GAAI/tC,KAAM+tC,EAAI,IACzC,OAEJ,GAGA1sD,EAAIwvD,EAAO,IAAIthD,KAAK,SAAUw8C,EAASxrC,KAAO,KAAOwrC,EAASzE,MAAQ,IACtEjmD,EAAIwvD,EAAO,IAAIthD,KAAK,SAAUw8C,EAASxrC,KAAO,KAAOwrC,EAASzE,MAAQ,IACjExiD,EAAKosD,UAASpsD,EAAKosD,QAAU,CAAA,GAClCpsD,EAAKosD,QAAQ7rD,GAAS,CAAEkb,KAAMwrC,EAASxrC,KAAM+mC,MAAOyE,EAASzE,OAE7D,IAAI6J,EAAoBpL,GACtBgG,EAASxrC,KAAO8Q,EAAK/Q,QAAQC,MAE3B6wC,EAAqBrL,GAAqB10B,EAAKlR,OAAO4rC,EAASzE,QAwCnE,GAvCKj2B,EAAK81B,iBAIR9lD,EAAIwvD,EAAO,IAAIthD,KAAK,WAAY,SAASiI,KAAK45C,GAC9C/vD,EAAIwvD,EAAO,IAAIthD,KAAK,WAAY,QAAQiI,KAAK25C,KAJ7C9vD,EAAIwvD,EAAO,IAAIthD,KAAK,WAAY,QAAQiI,KAAK25C,GAC7C9vD,EAAIwvD,EAAO,IAAIthD,KAAK,WAAY,SAASiI,KAAK45C,IAO5CT,IAEEvsD,EAAQyjD,OACNz/C,GAAkB,SAAT1H,KAEXoE,EAAKmnD,OAAS,CACZ,EACGnnD,EAAKkkD,WAAa5kD,EAAQ2nD,UAAUxrC,MACpCzb,EAAKkkD,WAAa5kD,EAAQ2nD,UAAUzE,MAAQ,GAE/C,CAACxiD,EAAKmkD,QAAQ1oC,KAAMzb,EAAKmkD,QAAQ3B,MAAQ,IAE3CxiD,EAAKm0B,KAAK70B,EAAQ1D,KAAM,GAAGu4B,KAAK70B,EAAQ1D,KAAM,GAG7B,SAAjB0D,EAAQ1D,KACJoE,EAAKusD,cACH,EACAhwD,EAAI2F,OAAO,CAAA,EAAIlC,EAAK4lD,aAAc5lD,EAAK4b,WACvCrf,EAAI2F,OAAO,CAAA,EAAIlC,EAAK4lD,aAAc5lD,EAAK6b,UAEzC7b,EAAKusD,cAAa,KAGxBvsD,EAAKmnD,OAAS,CAAC,CAACF,EAASxrC,KAAMwrC,EAASzE,MAAQ,IAChDxiD,EAAKm0B,KAAK70B,EAAQ1D,KAAM,KAKxB0D,EAAQyjD,OAAkB,SAATnnD,EAEnB,GAAIoE,EAAKgkD,YAAa,CACpB,IAAI2E,EAAM3oD,EAAKgoD,QACbf,EAASxrC,KACTwrC,EAASzE,MACTjiD,EAAQ,MAAQ,MAElBP,EAAKojD,SACH7mD,EAAI2F,OAAO,CAAA,EAAI+kD,EAAU,CACvBxrC,KAAMktC,EAAI,GACVnG,MAAOmG,EAAI,KAEb,EAAIpoD,EAER,MACEP,EAAKojD,SAAS,KAAM,EAAI7iD,GAK5B,IAAKjB,EAAQyjD,MAAO,CAClB,IAAIyJ,EAAa,CAAC,QAAS,UAAW,WAGtCxsD,EAAK8/C,MAAM,CACTh3C,KAAMvM,EAAIyD,EAAKomD,QAAQt6C,KAhwDd,qBAiwDToP,KAAMlb,EAAK4lD,WACT,oBAAoB/pD,KAAKyD,EAAQ1D,MAAQ,IAAIkG,KAAS,MAExDvB,MAAO,EACPgb,KAAMixC,EACNxB,aAAc,aAGhBhrD,EAAK8/C,MAAM,CACTh3C,KAAMvM,EAAIyD,EAAKomD,QAAQt6C,KAAKi2C,IAC5BxhD,MAAO,EACPgb,KAAMixC,EACNxB,aAAc,YAElB,CAaA,OAVAhrD,EAAKusD,eAGLhwD,EAAIyD,EAAKsmD,UACNx6C,KAAK,MAAQy1C,IACb/rC,YAAY+rC,IAGXjiD,EAAQyjD,QAAU8I,GAAoB,SAATjwD,GAAiBoE,EAAKysD,aAEhDzsD,CACT,EAGAzF,GAAM6E,UAAU+0B,KAAO,SAAUv4B,EAAM2E,GACrC,IAqKQmsD,EACAC,EACAC,EACAC,EACAC,EAzKJ9sD,EAAOxF,KACT8E,EAAUU,EAAKlG,OACfmtD,EAAWjnD,EAAKgkD,YACZ1kD,EAAQ2nD,SACR,CAAC3nD,EAAQ2nD,SAAUjnD,EAAKmkD,SAAS5jD,GACrCgsB,EAAOvsB,EAAKggB,aACZ6rC,EACEvsD,EAAQyjD,OAA0B,SAAjBzjD,EAAQ1D,MAAoC,aAAjB0D,EAAQ1D,KACtDmxD,EAAKxwD,EAAIuM,KAAK,KAAM,CAClBkpC,MACE0P,GACA,IACA,CACEjmC,KAAM,oBACN+mC,MAAO,qBACPjnC,KAAM,qBACN3f,KAENoqD,EAAahmD,EAAKgmD,WAAWzlD,GAC7BwrD,EAASxvD,EAAIypD,EAAW,IAAIl6C,KAAK,QACjCm6C,EAAWjmD,EAAKimD,SAAS1lD,GAAS,GAClCysD,EAAWzwD,EAAI0pD,GAAUn6C,KAAK,IAAM41C,IAAW,GAC/CuL,EAAoB1gC,EAAK81B,gBACzB32C,EAAO6gB,EAAK/Q,QAAQC,KACpB0rC,EAASnnD,EAAKmnD,OAAO5mD,IAAU,CAAA,EAC/BqkD,EAAM,CAAC,QAAS,UAAW,WAC3B4D,EAAW,CAAC,YAAa,WAAWjoD,GAKtC,GAHI4mD,EAAO,GAAK,IAAGA,EAAO,GAAK,GAGlB,SAATvrD,EAAiB,CACnB,IAAIsxD,EACFC,EAAUD,EAAU/F,EAAO,GAAK,EAC9BgG,EAAS,IAAGA,EAASD,EAAU,GACnC3wD,EAAI+D,KAAK,IAAIwJ,MAAM,IAAK,SAAUzO,GAChC,IAAI+xD,EAAK7wD,EAAIuM,KAAK,KAAM,CACpB,SAAUokD,IAEZvI,EAAM,CACJlpC,KAAMyxC,EACN1K,MAAO,EACPtnC,KAAM,GAGVgyC,GAAW/F,EAAO,IAAM5qD,EAAI6wD,GAAI93C,SAASisC,IACzC6L,EAAGxhD,UAAYshD,EAAUxhD,EACzBqhD,EAAG/qD,YAAYorD,GAYfptD,EAAK8/C,MAAM,CACTh3C,KAAMvM,EAAI6wD,GACVlyC,KAAMypC,EACNpkD,MAAOA,EACP3E,KAAMA,EACNmvD,UAAWxqD,EACXyqD,aAAc,SAEhBhrD,EAAK2pD,WAAWyD,EAAI,CAAE3xC,KAAMyxC,EAAS1K,MAAO,EAAGtnC,KAAM,GAAK,QAC1DgyC,GACF,GAEA3wD,EAAIwvD,EAAQkB,EAAwB,EAAJ,IAC7BxiD,KAAK,SAAUyiD,EAAU,EAAI,IAAM/F,EAAO,IAC1Cz0C,KAAKy6C,EAASzhD,EAAO,OAASwhD,EAAU,EAAIxhD,GACjD,MAGK,GAAa,UAAT9P,EACPW,EAAI+D,KAAK,IAAIwJ,MAAM,IAAK,SAAUzO,GAChC,IAAI+xD,EAAK7wD,EAAIuM,KAAK,KAAM,CACpB,SAAUzN,IAEZspD,EAAM,CACJlpC,KAAM0rC,EAAO,GACb3E,MAAOnnD,EACP6f,KAAM,GAGV7f,EAAI,GAAK8rD,EAAO,IAAM5qD,EAAI6wD,GAAI93C,SAASisC,IACvC6L,EAAGxhD,UAAY2gB,EAAKlR,OAAOhgB,GAC3B0xD,EAAG/qD,YAAYorD,GAUfptD,EAAK8/C,MAAM,CACTh3C,KAAMvM,EAAI6wD,GACVlyC,KAAMypC,EACNpkD,MAAOA,EACP3E,KAAMA,EACNmvD,UAAWxqD,EACXyqD,aAAc,SAEhBhrD,EAAK2pD,WAAWyD,EAAI,CAAE3xC,KAAM0rC,EAAO,GAAI3E,MAAOnnD,EAAI,EAAG6f,KAAM,GAAK,QAClE,GAEA3e,EAAIwvD,EAAQkB,EAAwB,EAAJ,IAC7BxiD,KAAK,SAAU08C,EAAO,GAAK,IAAMA,EAAO,IACxCz0C,KAAKy0C,EAAO,GAAKz7C,QAIjB,GAAa,SAAT9P,EAAiB,CAExB,IAAIyxD,EAAgB,WAClB9wD,EAAIwwD,GACDjhD,KAAK,MACLxL,KAAK,SAAUjF,EAAGiyD,GACjB/wD,EAAI+wD,GACDxhD,KAAK,MACLxL,KAAK,SAAU4U,EAAIk4C,GAClBptD,EAAK8/C,MAAM,CACTh3C,KAAMvM,EAAI6wD,GACVlyC,KAAM,CACJ,CACE2D,MAAO3J,GAET,CACE2J,MAAO7e,EAAKwoD,GAAU3pC,MACtBC,QAAS5J,GAEX,CACE2J,MAAO7e,EAAKwoD,GAAU3pC,MACtBC,QAAS9e,EAAKwoD,GAAU1pC,QACxBqmC,QAASjwC,IAEX7Z,GACFkF,MAAOA,EACPwqD,UAAWxqD,EACXyqD,aAAc,OACdzvC,KAAM,CACJ,CAAC,SACD,CAAC,QAAS,WACV,CAAC,QAAS,UAAW,YACrBlgB,IAEN,EACJ,GACGiE,EAAQyjD,OACX/iD,EAAK8/C,MAAM,CACTh3C,KAAMvM,EAAIyD,EAAKomD,QAAQt6C,KAAKi2C,IAC5B7mC,KAAMlb,EAAKwoD,GACXjoD,MAAO,EACPgb,KAAM,CAAC,QAAS,UAAW,WAC3ByvC,aAAc,YAGpB,EAmBI1rD,EAAQyjD,MACL/iD,EAAKwoD,KACRxoD,EAAKwoD,GAAyB,cAAbA,EAA2BvB,EAAWjnD,EAAKmkD,SAG9DnkD,EAAKwoD,GAAYvB,EAInB1qD,EAAI+D,KAAK,CAAC,GAAI,GAAI,IAAK,SAAUjF,EAAGmF,GAClC,IAAI4sD,EAAK7wD,EAAIuM,KAAK,MAChBykD,EAAU,CAAC,MAAQhhC,EAAKhR,KAAKlgB,GAAK,YACpCkB,EAAI+D,KAAK,IAAIwJ,MAAMtJ,GAAO,SAAU0U,GAClCq4C,EAAQzsD,KACN,OACGd,EAAKwoD,GAAU5D,EAAIvpD,MAAQ6Z,EAAK,WAAaqsC,GAAO,IAAM,IAC3D,IACAhlD,EAAI4N,MAAM+K,EAAI,GACd,QAEN,GACAk4C,EAAGxhD,UAAY2hD,EAAQ1/C,KAAK,IAAM,QAClCk/C,EAAG/qD,YAAYorD,EACjB,GACAC,IAxCMX,GAA2C,IAAhCptD,EAAQujD,OAAO3jD,QAAQ,KAClCytD,GAA6C,IAAhCrtD,EAAQujD,OAAO3jD,QAAQ,KACpC0tD,GAA6C,IAAhCttD,EAAQujD,OAAO3jD,QAAQ,KACpC2tD,EAASE,EAAGl4C,SACZi4C,EAAY,EAEhBvwD,EAAI+D,KAAK,CAACosD,EAAUC,EAAYC,GAAa,SAAUvxD,EAAGmyD,GACnDA,IACHX,EAAOxxD,GAAGka,WAAa,cACvBu3C,IAEJ,GACAC,EAAGx3C,WAAa,2BAA6Bu3C,CA8BjD,CAOA,GAJIE,GAAU/G,EAAShkD,YAAY+qD,GACnC/G,EAASjkD,YAAY+qD,GAGR,SAATnxD,GAA4B,UAATA,EAErBW,EAAIyD,EAAK+lD,SAASxlD,IAAQ+U,SAAS,mBAGnC/Y,EAAIwwD,GACDjhD,KAAK,MACLzL,GAAG,QAAS,WACX,IAAIotD,EAAgC,EAA3BlxD,EAAI/B,MAAMiQ,KAAK,UACxB,IAAIlO,EAAI/B,MAAMib,SAASgqC,IAAvB,CACIz/C,EAAKgkD,YACPznD,EAAI2F,OAAO+kD,EAAU,CACnBxrC,KAAe,SAAT7f,EAAkB6xD,EAAKtG,EAAO,GACpC3E,MAAgB,SAAT5mD,EAAkBurD,EAAO,GAAK,EAAIsG,IAG3CxG,EAASrrD,GAAQ6xD,EAInB,IAAIC,GAA4D,IAA5C,CAAC,OAAQ,SAASxuD,QAAQI,EAAQ1D,MAClD+xD,EACO,SAAT/xD,IAAkE,IAA/C,CAAC,OAAQ,YAAYsD,QAAQI,EAAQ1D,MACtD8xD,GAAiBC,GACnBpxD,EAAIwwD,GACDjhD,KAAK,IAAMy1C,IACX/rC,YAAY+rC,IACfhlD,EAAI/B,MAAM8a,SAASisC,KAGG,UAAjBjiD,EAAQ1D,MAA6B,SAATA,GAAoB+xD,KACnD3tD,EAAKmnD,OAAO5mD,GAAO,GAAKktD,EACxB5B,KAAatrD,EAAQP,EAAKmkD,QAAU8C,GAAUxrC,KAAOgyC,GACrDztD,EAAKm0B,KAAK,QAAS5zB,MAGrBP,EAAKonD,UAAU,SAAShE,SAAS6D,EAAU1mD,EAAO,QAClDP,EAAK4tD,aAGFtuD,EAAQyjD,OACX/iD,EAAK8/C,MAAM,CACTlkD,KAAMA,EACNkN,KAAMvM,EAAIyD,EAAKomD,QAAQt6C,KAAKi2C,IAC5B7mC,KAAM+rC,EACN+D,aAAc,aAIlBhrD,EAAKusD,gBAKAjtD,EAAQyjD,OAASzjD,EAAQkkD,cAER,UAAjBlkD,EAAQ1D,MAA6B,UAATA,GACX,SAAjB0D,EAAQ1D,MAA4B,SAATA,IAE5BoE,EAAK2lD,SAAS3lD,EAAK+E,SAASxG,OAAOyG,SAIvChF,EAAKikD,kBAAkBG,OAASpkD,EAAKgkD,YACjChkD,EAAK6tD,OAAOtxD,EAAI0pD,GAAUn6C,KAAK,iBAAkBvL,GACjDP,EAAKknD,UAAYlnD,EAAKzB,KAAK,KAAM,UACrChC,EAAIyD,EAAKomD,QACNt6C,KAAK,IAAMm2C,IACXzsC,YAAYiqC,GA3DmB,CA4DpC,OACG,CAEL,IAAIqO,EAAOvxD,EAAIuM,KAAK,OAAQ,CACxBkpC,MAAOgQ,KAGT+L,EAAS,WACPxxD,EAAIwwD,GACDjhD,KAAK,MACLxL,KAAK,SAAUjF,GACd,IAAIiyD,EAAK9yD,KACP4yD,EAAK7wD,EAAI+wD,GAAIxhD,KAAK,MACpBwhD,EAAG5gB,UAAY,IAAM1sC,EAAKwoD,GAAU5D,EAAIvpD,IAAM,GAC1CiyD,EAAG5gB,WAAa,GAClB0gB,EAAG9sD,KAAK,SAAU4U,EAAI1U,GACpB,IAAKjE,EAAI/B,MAAMib,SAASgqC,IAEtB,OADA6N,EAAG5gB,UAAY,IAAMx3B,EAAK,IACnB,CAEX,EAEJ,EACJ,EACA84C,EAAWzxD,EAAIypD,EAAW,IAAIl6C,KAAK,IAAMk2C,IAE3C+L,IACAD,EAAKliD,UAAYtM,EAAQyjD,MACrB,CAACx2B,EAAK3Q,UAAW2Q,EAAK1Q,SAAStb,GAC/BgsB,EAAK5Q,WACTpf,EAAIyD,EAAK+lD,SAASxlD,IAAQ+U,SAAS,qBAE/B04C,EAAS,IAAIA,EAAShpD,SAC1BghD,EAAW,GAAGhkD,YAAY8rD,GAE1B,IAAIG,EAAS1xD,EAAIwwD,GAAIjhD,KAAK,MAC1BmiD,EAAO3tD,KAAK,SAAUjF,GACpB,IAAIiyD,EAAK9yD,KAET+B,EAAI+wD,GACDxhD,KAAK,MACLzL,GAAG,QAAS,WACX,IAAIiD,EAAyB,EAAjB9I,KAAKoR,UACbrP,EAAI/B,MAAMib,SAASgqC,MAEnBngD,EAAQyjD,MACV/iD,EAAKwoD,GAAU5D,EAAIvpD,IAAMiI,EAEzB2jD,EAASrC,EAAIvpD,IAAMiI,EAErB/G,EAAI+wD,GACDxhD,KAAK,IAAMy1C,IACX/rC,YAAY+rC,IACfhlD,EAAI/B,MAAM8a,SAASisC,IAEnB8L,IACAU,KACC/tD,EAAKmkD,SACa,SAAjB7kD,EAAQ1D,MACS,aAAjB0D,EAAQ1D,OACRoE,EAAKzB,KAAK,KAAM,UAGlByB,EAAKusD,eACP,EACJ,GAEI1sD,EAAMuF,SAASgB,QACjB6nD,EAAOt4C,IAAI,CACT45B,UAAW,OACX2e,YAAa,SAGnB,CAEA,OAAOluD,CACT,EAGAzF,GAAM6E,UAAU+nD,OAAS,GAGzB5sD,GAAM6E,UAAUwuD,UAAY,WAC1B,IAAI5tD,EAAOxF,KACCwF,EAAKlG,OAEjByC,EAAI+D,KAAKN,EAAKimD,SAAU,SAAU1lD,EAAOC,GACvCjE,EAAI/B,MACDsR,KAAK,IAAM41C,IACX18C,SACHzI,EAAIyD,EAAK+lD,SAASxlD,IAAQiV,YAAY,oCACxC,GACAjZ,EAAIyD,EAAK8I,MACNgD,KAAK,IAAMk2C,IACXh9C,QACL,EAGAzK,GAAM6E,UAAUmtD,aAAe,SAAU4B,EAAM50C,EAAOE,GACpD,IAGEgyC,EAHEzrD,EAAOxF,KACT8E,EAAUU,EAAKlG,OACfyyB,EAAOvsB,EAAKggB,aAEZouC,EAAU7xD,EAAIyD,EAAKomD,QAAQt6C,KAAKi2C,IAChCyK,EACmB,aAAjBltD,EAAQ1D,MAAwC,SAAjB0D,EAAQ1D,KACnC,CAAC,QAAS,UAAW,gBACrBiO,EACJvK,EAAQyjD,QACVxpC,EAAQA,IAAUvZ,EAAKgkD,YAAchkD,EAAKkkD,UAAY5kD,EAAQ2nD,UAC9DxtC,EAAMA,GAAOzZ,EAAKmkD,QAClBsH,GACGzrD,EAAKknD,UACNlnD,EAAK+kD,QAAQxrC,GAAOxX,UAAY/B,EAAK+kD,QAAQtrC,GAAK1X,UAGpD/B,EAAK8/C,MAAM,CACT5kC,KAAM3B,EACNyxC,aAAc,WACdzvC,KAAMixC,EACNzB,UAAW,KAEb/qD,EAAK8/C,MAAM,CACT5kC,KAAMzB,EACNuxC,aAAc,WACdzvC,KAAMixC,EACNzB,UAAW,IAETqD,EAAQ94C,SAASmqC,IACjB2O,EAAQ3C,EAAQ,WAAa,eAAehM,IAG5C0O,GAAQ1C,GACVzrD,EAAKqG,KAAKkmB,EAAKxQ,kBAGrB,EAGAxhB,GAAM6E,UAAU2F,MAAQ,SAAUiK,EAAOkM,GACvC,IAAIlb,EAAOxF,KACP8E,EAAUU,EAAKlG,OACfoqD,EAAYlkD,EAAKgkD,YAAchkD,EAAKkkD,UAAY5kD,EAAQ2nD,SACxDA,EACF/rC,IACU,OAATlM,EACGzS,EAAI2F,OAAO,CAAA,EAAIlC,EAAKmkD,QAASnkD,EAAK6b,SAClCvc,EAAQyjD,MACNxmD,EAAI2F,OAAO,CAAA,EAAIgiD,GAAa5kD,EAAQ2nD,SAAUjnD,EAAK4b,WACnDtc,EAAQ2nD,UACZpE,EAASpmD,GAAQsI,MAAMkiD,EAAUjnD,EAAK6iD,OAAQ,GAGlD,OAAIvjD,EAAQyjD,YAAmBl5C,IAAVmF,EACZ6zC,EAAS,IAAM7iD,EAAK+jD,SAAW,IAAM/jD,EAAK+E,MAAM,OAGlD89C,CACT,EAGAtoD,GAAM6E,UAAU2lD,QAAU,SAAUkC,GAElC,OADAA,EAAWA,GAAY,CAAA,EAChB,IAAInlD,KACTmlD,EAASxrC,MAAQ,EACjBwrC,EAASzE,OAAS,EAClByE,EAAS/rC,MAAQ,EACjB+rC,EAASpoC,OAAS,EAClBooC,EAASnoC,SAAW,EACpBmoC,EAAS9B,SAAW,EAExB,EAGA5qD,GAAM6E,UAAU0pD,YAAc,SAAUtkD,GACtC,OAAOhK,KAAKuqD,QAAQvgD,GAAKzC,SAC3B,EAOAxH,GAAM6E,UAAUsmD,gBAAkB,SAAU58C,EAAMulD,GAChD,IAAIruD,EAAOxF,KACPmmC,EAAQ1kC,OAAOqyD,yBACjBC,iBAAiBnvD,UACjB,SAGFnD,OAAOyS,eACL5F,EACA,QACAvM,EAAI2F,OAAO,CAAA,EAAIy+B,EAAO,CACpBhyB,IAAK,WACH,OAAOnU,KAAKsI,aAAa,WAC3B,EACAgX,IAAK,SAAUxW,GACbq9B,EAAM7mB,IAAIrT,KAAKjM,KAAM6zD,EAAqB5nD,KAAKzG,EAAMsD,IACrD9I,KAAKkQ,aAAa,WAAYpH,EAChC,IAGN,EAGA/I,GAAM6E,UAAUumD,SAAW,SAAUriD,GACnC,IAAItD,EAAOxF,KACT8E,EAAUU,EAAKlG,OACfgP,EAAOxJ,EAAQwJ,KAAK,GAGtB,GAAyB,WAArBxJ,EAAQ0M,SAAuB,OAAOhM,EAK1C,GAHAsD,EAAQA,GAAS,GAGbtD,EAAK0kD,QAAQ57C,GACfvM,EAAIuM,GAAMoN,IAAI5S,OACT,CAEL,IAAI+gD,EAAYrkD,EAAKqkD,UACrB,GAAIA,EACwB,UAAtBxkD,EAAMjE,KAAK0H,KACbA,EAAQA,EAAMiB,MAAM,IAAMvE,EAAK+jD,SAAW,MAE5CM,EAAU,GAAGnuC,IAAI5S,EAAM,IAAM,IAC7B+gD,EAAU,GAAGnuC,IAAI5S,EAAM,IAAM,QACxB,CACL,GAAmC,IAA/B/G,EAAIuM,GAAMgD,KAAK,KAAK1Q,OAAc,CACpC,IAAIozD,EACiC,mBAA5BlvD,EAAQomD,gBACXpmD,EAAQomD,gBAAgBpiD,GACxBA,EACN/G,EAAIuM,GAAM4J,KAAK87C,EACjB,CACAjyD,EAAIuM,GAAM2B,KAAK,WAAYnH,EAC7B,CACF,CAEA,OAAOtD,CACT,EAGAzF,GAAM6E,UAAUkb,QAAU,WACxB,IAAIta,EAAOxF,KACT8E,EAAUU,EAAKlG,OAEjB,GAAKwF,EAAQ4jD,UAAb,CAEA,IAAIuL,EAAclyD,EAAIyD,EAAK8I,MAAMgD,KAAK,IAAMo2C,IAC1C5+C,EAAQhE,EAAQyjD,OACX/iD,EAAKgkD,YAAchkD,EAAKknD,SAAWlnD,EAAKmkD,SACvCnkD,EAAK+E,QACL,GACF/E,EAAK+E,QAOX,GAJA0pD,EAAY/7C,KAAKpP,GAGFmrD,EAAY/7C,OACb,CACZ,IAAIg8C,EAC4B,UAA9B7uD,EAAMjE,KAAK0D,EAAQghD,OAAqBhhD,EAAQghD,MAAM,GAAKhhD,EAAQghD,MACrEmO,EAAY94C,IAAI,CACd+4C,MAAO,KAAK7yD,KAAK2K,OAAOkoD,IAAUA,EAAQ,YAG5CttD,WAAW,WACTqtD,EAAY94C,IAAI,CACd+4C,MAAO,QAEX,EAAG,IACL,CA1BwB,CA2B1B,EAGAn0D,GAAM6E,UAAUyoD,iBAAmB,WACtBrtD,KACQV,OAGPgqD,WAJDtpD,KAKJ25B,KAAK,OAAQ,EAEtB,EAGA55B,GAAM6E,UAAUqtD,WAAa,WAC3B,IAGE5wC,EAHE7b,EAAOxF,KACT8E,EAAUU,EAAKlG,OACf8hB,EAAY5b,EAAKgkD,YAAchkD,EAAKkkD,UAAY5kD,EAAQ2nD,SAExD6E,EAAMvvD,EAAIyD,EAAK8I,MAAMgD,KAAK,MAExBxM,EAAQyjD,QAAU/iD,EAAKknD,UACzB3qD,EAAIyD,EAAKomD,QAAQt6C,KAAKi2C,IAAczsC,SAASmqC,IAG/C7jC,EACEA,GACA5b,EACG+kD,QAAQ,CACPtpC,KAAMG,EAAUH,KAChB+mC,MAAO5mC,EAAU4mC,MACjBtnC,KAAMU,EAAUV,OAEjBnZ,UAEL8Z,EACE7b,EAAKknD,UACLlnD,EAAKmkD,SACLnkD,EACG+kD,QAAQ,CACPtpC,KAAMzb,EAAKmkD,QAAQ1oC,KACnB+mC,MAAOxiD,EAAKmkD,QAAQ3B,MACpBtnC,KAAMlb,EAAKmkD,QAAQjpC,OAEpBnZ,UAILxF,EAAI+D,KAAKwrD,EAAK,SAAUzwD,EAAGmF,GACzB,IAAImkD,EAAMpoD,EAAIiE,GAAMiK,KAAK,WAAWlG,MAAM,KACtCoqD,EAAW3uD,EACZ+kD,QAAQ,CACPtpC,KAAMkpC,EAAI,GACVnC,MAAOmC,EAAI,GAAK,EAChBzpC,KAAMypC,EAAI,KAEX5iD,UAGCzC,EAAQ0kD,cAAgBhkD,EAAKkkD,WAC3ByK,IAAa3uD,EAAK+kD,QAAQ/kD,EAAK4lD,cAAc7jD,WAC/CxF,EAAIiE,GAAM8U,SACR/Y,EAAIiE,GAAMiV,SAASosC,KAActlD,EAAIiE,GAAMiV,SAASqsC,IAChD,GAn5EK,mBA65EfvlD,EAAIiE,GAAMgV,YAAYmsC,GAAgB,IAAMJ,IAExCoN,IAAa/yC,GAAa+yC,IAAa9yC,IACxC7b,EAAKgkD,cACFhkD,EAAKgkD,cACJ3oD,EAAI,GAAKszD,IAAa/yC,EAAY+yC,IAAa9yC,KAClDtf,EAAIiE,GAAM8U,SACR/Y,EAAIiE,GAAMiV,SAASosC,KAActlD,EAAIiE,GAAMiV,SAASqsC,IAChDH,GACAJ,IAGNoN,EAAW/yC,GAAa+yC,EAAW9yC,GACrCtf,EAAIiE,GAAM8U,SAASqsC,GAEvB,EACF,EAGApnD,GAAM6E,UAAUb,KAAO,SAAUs1C,EAAOj4C,GACtC,IAAIoE,EAAOxF,KACP8E,EAAUU,EAAKlG,OACfyf,EAAQhd,EAAI2F,OACd,CAAA,EACA3F,EAAI2F,OACFlC,EAAKgkD,YAAchkD,EAAKkkD,UAAY5kD,EAAQ2nD,SAC5CjnD,EAAK4b,YAGLnC,EAAMld,EAAI2F,OAAO,GAAI3F,EAAI2F,OAAOlC,EAAKmkD,QAASnkD,EAAK6b,UAgBvD,OAdAtf,EAAI+D,KAAK,CAACiZ,EAAOE,GAAM,SAAUpe,EAAGmF,GAC5B,UAAWA,GACjBjE,EAAI2F,OAAO1B,EAAM,CACfgiD,MAAOhiD,EAAKgiD,MAAQ,GAExB,GAEAxiD,EAAKsa,UAELu5B,EAAQA,GAAS,CAAC7zC,EAAK+E,QAASwU,EAAOE,GAC9B,WAAT7d,GAAqBoE,EAAK6nD,mBACS,mBAA5BvoD,EAAQ1D,GAAQ,SACrB0D,EAAQ1D,GAAQ,QAAQoF,MAAM1B,EAASu0C,GAElC7zC,CACT,EAQAzF,GAAM6E,UAAUwvD,eAAiB,SAAUhL,EAAUrjD,GACnD,IAAIP,EAAOxF,KACP8E,EAAUU,EAAKlG,OAEnB,GAAqB,SAAjBwF,EAAQ1D,MAAoC,aAAjB0D,EAAQ1D,KAAvC,CAEA,IAAIizD,EAAuB,IAAVtuD,EACbiiD,EAAQoB,EAASpB,MAAQ,EACzBsM,EAAa9uD,EAAKosD,QAAQ7rD,GAAOiiD,MAAQ,EAoB7C,MAAO,CACLuM,eAAgBvM,IAAUsM,EAC1BvuD,MAnBqBP,EAAKknD,WAMd2H,GAAcrM,EAAQsM,IAC1BD,GAAcrM,EAAQsM,GACtB,EAAIvuD,EAMVA,EArBwD,CA4B9D,EAGAhG,GAAM6E,UAAUyuD,OAAS,SAAU1xB,EAAI57B,GACrC,IAAI47B,EAAG1mB,SAASgqC,IAAhB,CAEA,IAAIz/C,EAAOxF,KACT8E,EAAUU,EAAKlG,OACfk1D,EAAazuD,EAEXP,EAAKgkD,cACHhkD,EAAKknD,WAAalnD,EAAKkkD,WAEzB3jD,EAAQ,EACRP,EAAKknD,UAAW,IAEhB3mD,EAAQ,EACRP,EAAKknD,UAAW,IAIpB,IAAID,EAAWjnD,EAAK0rD,aAAanrD,GACzBhE,EAAIyD,EAAK8I,MAAMgD,KAAK,UAC1Bm9C,EAAM9sB,EAAG1xB,KAAK,WAAWlG,MAAM,KAWjC,GATA0kD,EAAM,CACJxtC,KAAe,EAATwtC,EAAI,GACVzG,OAAiB,EAATyG,EAAI,IAAU,EACtB/tC,KAAe,EAAT+tC,EAAI,IAGZ1sD,EAAI2F,OAAO+kD,EAAUgC,GAGjB3pD,EAAQyjD,MAAO,CA8Cf,IAAIkM,EAaE/K,EArBR,GApCA3nD,EAAI+D,KAAK,CAAC,YAAa,WAAY,SAAUjF,EAAGmF,GAC9CR,EAAKQ,GAAQR,EAAKQ,IAAS,CACzBqe,MAAOxjB,EAAI,GAAK,EAChByjB,QAASzjB,EAAI,GAAK,EAClB8pD,QAAS9pD,EAAI,GAAK,GAEhBkF,IAAUlF,IAGV2E,EAAK8oD,YAAYvsD,EAAI2F,OAAO,CAAA,EAAI+kD,EAAUjnD,EAAKQ,KAC/CR,EAAK8oD,YAAYxpD,EAAQoa,MAEzB1Z,EAAKQ,GAAQ,CACXqe,MAAOvf,EAAQoa,IAAImF,MACnBC,QAASxf,EAAQoa,IAAIoF,QACrBqmC,QAAS7lD,EAAQoa,IAAIyrC,SAEvB5oD,EAAI2F,OAAO+kD,EAAUjnD,EAAKQ,KAE1BR,EAAK8oD,YAAYvsD,EAAI2F,OAAO,CAAA,EAAI+kD,EAAUjnD,EAAKQ,KAC/CR,EAAK8oD,YAAYxpD,EAAQka,OAEzBxZ,EAAKQ,GAAQ,CACXqe,MAAOvf,EAAQka,IAAIqF,MACnBC,QAASxf,EAAQka,IAAIsF,QACrBqmC,QAAS7lD,EAAQka,IAAI2rC,SAEvB5oD,EAAI2F,OAAO+kD,EAAUjnD,EAAKQ,KAGhC,GACKD,IACHP,EAAKkkD,UAAY3nD,EAAI2F,OAAO,CAAA,EAAI+kD,IAKhCjnD,EAAKknD,WACJlnD,EAAK8/C,MAAM,CACV5kC,KAAMlb,EAAKgkD,YAAchkD,EAAKkkD,UAAYlkD,EAAK0rD,aAAa,EAAInrD,GAChEyqD,aAAc,SAKZhrD,EAAKknD,UAAYlnD,EAAKikD,kBAAkBG,OAC1C6K,EAAWjvD,EAAKikD,sBAIfgL,GAAajvD,EAAKgkD,aAAehkD,EAAKknD,WACvClnD,EAAK+kD,QAAQ/kD,EAAKkkD,WAAalkD,EAAK+kD,QAAQ/kD,EAAKmkD,WAG/CnkD,EAAKkkD,UAAUzoC,OAASzb,EAAKmkD,QAAQ1oC,MACrCzb,EAAKkkD,UAAU1B,QAAUxiD,EAAKmkD,QAAQ3B,OACtCxiD,EAAKkkD,UAAUhpC,OAASlb,EAAKmkD,QAAQjpC,OAIrCgpC,EAAYlkD,EAAK4b,UACjB5b,EAAK4b,UAAY5b,EAAK6b,QACtB7b,EAAK6b,QAAUqoC,GAGjBA,EAAYlkD,EAAKkkD,UACjBlkD,EAAKkkD,UAAY3nD,EAAI2F,OAAO,CAAA,EAAIlC,EAAKmkD,QAASnkD,EAAK4b,WACnDtc,EAAQ2nD,SAAW1qD,EAAI2F,OAAO,CAAA,EAAIlC,EAAKkkD,WACvClkD,EAAKmkD,QAAU5nD,EAAI2F,OAAO,CAAA,EAAIgiD,EAAWlkD,EAAK6b,UAEhDozC,IAAa3vD,EAAQ2nD,SAAW1qD,EAAI2F,OAAO,GAAIlC,EAAKkkD,YAEtD,GAAIlkD,EAAKgkD,YAAa,CAEpB,IAAIkL,EAAalvD,EAAK4uD,eAAe3H,EAAU+H,GAC3CG,EAAe5yD,EAAI2F,OAAO,CAAA,EAAI+kD,GAC9BmI,EACFH,GAAaC,GAAcA,EAAWH,eAAkB,OAAS,KAC/DM,EAAWH,EAAaA,EAAW3uD,MAAQyuD,EAC/ChvD,EAAKojD,SAAS+L,EAAcE,EAAUD,EACxC,MACEpvD,EAAKojD,SAAS,KAAM7iD,EAAO0uD,EAAW,OAAS,MAEjDjvD,EAAKknD,UAAYlnD,EAAKzB,KAAK,KAAM,SACnC,KAAgC,WAArBe,EAAQ0M,SAEjBhM,EAAKojD,WAAW7kD,OAAOA,KAAK,KAAM,UACR,SAAjBe,EAAQ1D,KACjB0D,EAAQkkD,YACJxjD,EAAK2lD,SAAS3lD,EAAK+E,SAASxG,OAAOyG,SACnChF,EAAKojD,WAAW7kD,KAAK,KAAM,UACL,aAAjBe,EAAQ1D,MACjBoE,EAAKojD,WAAW7kD,KAAK,KAAM,SA5HF,CA8H7B,EAGAhE,GAAM6E,UAAUkwD,KAAO,SAAUxO,EAAKllD,GACpC,IAAIoE,EAAOxF,KACT8E,EAAUU,EAAKlG,OACfyyB,EAAOvsB,EAAKggB,aACZinC,EAAW3nD,EAAQ2nD,SACnBtD,EAAgC,WAArBrkD,EAAQ0M,SACnB2pC,EAAS,CAEPiO,SAAU,WACJrnD,EAAIukD,GAAKrrC,SAASgqC,MACtBz/C,EAAKm0B,KAAK,OAAQ,GAClB70B,EAAQyjD,OAAS/iD,EAAKm0B,KAAK,OAAQ,GACnC53B,EAAIukD,GAAKr2C,KAAK,WAAY,QAAQiI,KAAK1S,EAAKggB,aAAatE,YAC3D,EAGAR,KAAM,WACJlb,EAAK4tD,YACLrxD,EAAIukD,GACDr2C,KAAK,WAAY,YACjBiI,KAAK1S,EAAKggB,aAAarE,WAC5B,EAGA7D,MAAO,WACL6rC,IAAapnD,EAAI2F,OAAO+kD,EAAUjnD,EAAKgsD,WAAYhsD,EAAKojD,YACxD9jD,EAAQyjD,eACEzjD,EAAQ2nD,gBACTjnD,EAAKmkD,eACLnkD,EAAK4b,iBACL5b,EAAK6b,SACd7b,EAAK2lD,SAAS,IACd3lD,EAAKzB,KAAK,KAAM,WAAWA,KAAK,CAAC,GAAI,CAAA,EAAI,KAAKyG,QAChD,EAGA4K,IAAK,WACH,IAAIy1C,EAAW,IAAIvjD,KAGnB,GAAIvF,EAAIukD,GAAKrrC,SAASgqC,IACpB,OAAOz/C,EAAKqG,KAAKkmB,EAAK7V,MAAM9G,IAAM,KAAO2c,EAAKvQ,mBAGhDzf,EAAI2F,OAAO+kD,EAAUjnD,EAAK4lD,aAAc,CACtC/mC,MAAOwmC,EAASC,WAChBxmC,QAASumC,EAASE,aAClBJ,QAASE,EAASG,eAGpBxlD,EAAK2lD,SAAS3lD,EAAK+E,SACnB4+C,GAAY3jD,EAAKojD,WACjBpjD,EAAKzB,KAAK,KAAM,SAASA,OAAOyG,QAClC,EAGAuV,QAAS,WACP,GAAIjb,EAAQyjD,OACV,GAAIxmD,EAAIukD,GAAKrrC,SAASgqC,IAAW,CAC/B,IAAI8P,EACe,SAAjBjwD,EAAQ1D,KACJoE,EAAK4b,WACL5b,EAAK6b,SACL7b,EAAK+kD,QAAQ/kD,EAAK4b,WAAa5b,EAAK+kD,QAAQ/kD,EAAK6b,SACjD7b,EAAKkkD,WACLlkD,EAAKmkD,SACLnkD,EAAK+kD,QACHxoD,EAAI2F,OAAO,CAAA,EAAIlC,EAAKkkD,UAAWlkD,EAAK4b,WAAa,KAEjD5b,EAAK+kD,QACHxoD,EAAI2F,OAAO,CAAA,EAAIlC,EAAKmkD,QAASnkD,EAAK6b,SAAW,CAAA,IAGvD,OAAO7b,EAAKqG,KACVkpD,EAAYhjC,EAAKxQ,iBAAmBwQ,EAAKvQ,kBAE7C,OAEA,GAAIzf,EAAIukD,GAAKrrC,SAASgqC,IACpB,OAAOz/C,EAAKqG,KAAKkmB,EAAKvQ,mBAG1Bhc,EAAK2lD,SAAS3lD,EAAK+E,SACnB/E,EAAKzB,KAAK,KAAM,aAAaA,OAAOyG,QACtC,GAEJ2wC,EAAO/5C,IAAS+5C,EAAO/5C,IACzB,EAGArB,GAAM6E,UAAUmkD,OAAS,SAAUhjD,GACjC,IAAIP,EAAOxF,KACT8E,EAAUU,EAAKlG,OACfmtD,EAAWjnD,EAAK0rD,aAAanrD,GAC7BsrD,EACEvsD,EAAQyjD,QAA2B,SAAjBzjD,EAAQ1D,MAAoC,UAAjB0D,EAAQ1D,MACvDqqD,EAAWjmD,EAAKimD,SAAS1lD,GAAS,GAClC4mD,EAASnnD,EAAKmnD,OAAO5mD,GACrBivD,EAAa,SAAU5zD,GACrB,IAAI6zD,EAASlzD,EAAI0pD,GAAUn6C,KAAK,sBAAsB,GACpD4jD,EAAUnzD,EAAI0pD,GAAUn6C,KAAK,uBAAuB,GAgCtD,OA7BI2jD,IACFtI,EAAO,GAAKvrD,EAAOurD,EAAO,GAAK,GAAKA,EAAO,GAAK,GAChDnnD,EAAKm0B,KAAK,OAAQ5zB,IAGhBmvD,IAEF9zD,EAAOurD,EAAO,KAAOA,EAAO,KAC5BnnD,EAAKm0B,KAAK,QAAS5zB,KAGjBkvD,GAAUC,KACZnzD,EAAI2F,OAAO+kD,EAAU,CACnBxrC,KAAM0rC,EAAO,KAEX0E,IAAS5E,EAASxrC,KAAO0rC,EAAO,IACpC7nD,EAAQyjD,OAAS/iD,EAAKzB,KAAK,KAAM,UACjCe,EAAQyjD,OACN/iD,EAAK8/C,MAAM,CACTh3C,KAAMvM,EAAIyD,EAAKomD,QAAQt6C,KAAKi2C,IAC5B7mC,KAAM,CACJO,KAAM0rC,EAAO,GACb3E,MAAOiN,EAAS,EAAItI,EAAO,GAAK,GAElC6D,aAAc,cAIpBhrD,EAAKusD,eACEkD,GAAUC,CACnB,EAEF,MAAO,CACLC,SAAU,WACJH,EAAW,SACXxvD,EAAKgkD,aACP1kD,EAAQ2nD,SAASxrC,OACjBzb,EAAKonD,UAAU,SAAShE,SAAS,KAAM,KAAM,UAE7C6D,EAASxrC,OACTzb,EAAKonD,UAAU,SAAShE,SAAS,KAAM7iD,GAEvCP,EAAKikD,kBAAkBG,KACnBpkD,EAAK6tD,OAAOtxD,EAAI0pD,GAAUn6C,KAAK,iBAAkBvL,GACjDP,EAAKzB,KAAK,KAAM,WAExB,EACAqxD,UAAW,WACT,IAAIC,EAEJ,GAAI7vD,EAAKgkD,YAAa,CACpB,IACImL,EADA/C,EAAUpsD,EAAKosD,QAAQ,GAE3ByD,EAAK7vD,EAAKgoD,QAAQoE,EAAQ3wC,KAAM2wC,EAAQ5J,MAAO,OAC/C2M,EAAe5yD,EAAI2F,OAAO,GAAI5C,EAAQ2nD,SAAUjnD,EAAKosD,QAAQ,GAAI,CAC/D3wC,KAAMo0C,EAAG,GACTrN,MAAOqN,EAAG,KAEZ7vD,EAAKonD,UAAU,SAAShE,SAAS+L,EAAc,KAAM,OACvD,MACEU,EAAK7vD,EAAKgoD,QAAQf,EAASxrC,KAAMwrC,EAASzE,MAAO,OACjDjmD,EAAI2F,OAAO+kD,EAAU,CACnBxrC,KAAMo0C,EAAG,GACTrN,MAAOqN,EAAG,KAGZ7vD,EAAKonD,UAAU,SAAShE,SAAS,KAAM,KAAM,QAC7CpjD,EAAKikD,kBAAkBG,KACnBpkD,EAAK6tD,OAAOtxD,EAAI0pD,GAAUn6C,KAAK,iBAAkBvL,GACjDP,EAAKzB,KAAK,KAAM,SAExB,EACAuxD,UAAW,WACT,IAAID,EAEJ,GAAI7vD,EAAKgkD,YAAa,CACpB,IAAIoI,EAAUpsD,EAAKosD,QAAQ,GAC3ByD,EAAK7vD,EAAKgoD,QAAQoE,EAAQ3wC,KAAM2wC,EAAQ5J,OACxC,IAAI2M,EAAe5yD,EAAI2F,OAAO,CAAA,EAAI5C,EAAQ2nD,SAAUjnD,EAAKosD,QAAQ,GAAI,CACnE3wC,KAAMo0C,EAAG,GACTrN,MAAOqN,EAAG,KAEZ7vD,EAAKonD,UAAU,SAAShE,SAAS+L,EAAc,KAAM,OACvD,MACEU,EAAK7vD,EAAKgoD,QAAQf,EAASxrC,KAAMwrC,EAASzE,OAE1CjmD,EAAI2F,OAAO+kD,EAAU,CACnBxrC,KAAMo0C,EAAG,GACTrN,MAAOqN,EAAG,KAGZ7vD,EAAKonD,UAAU,SAAShE,SAAS,KAAM,KAAM,QAC7CpjD,EAAKikD,kBAAkBG,KACnBpkD,EAAK6tD,OAAOtxD,EAAI0pD,GAAUn6C,KAAK,iBAAkBvL,GACjDP,EAAKzB,KAAK,KAAM,SAExB,EACAwxD,SAAU,WACJP,MACAxvD,EAAKgkD,aACP1kD,EAAQ2nD,SAASxrC,OACjBzb,EAAKonD,UAAU,SAAShE,SAAS,KAAM,EAAG,UAE1C6D,EAASxrC,OACTzb,EAAKonD,UAAU,SAAShE,SAAS,KAAM7iD,GACvCP,EAAKikD,kBAAkBG,KACnBpkD,EAAK6tD,OAAOtxD,EAAI0pD,GAAUn6C,KAAK,iBAAkBvL,GACjDP,EAAKzB,KAAK,KAAM,WAExB,EAEJ,EAGAhE,GAAM6E,UAAUwoD,YAAc,WAC5B,IAAI5nD,EAAOxF,KACCwF,EAAKlG,OAGjByC,EAAIyD,EAAK8I,MACNzI,GAAG,QAAS,SAAU5B,GACrBlC,EAAIiL,MAAM/I,EACZ,GACC4B,GAAG,YAAa,SAAU5B,GACzBlC,EAAIiL,MAAM/I,EACZ,GAGFlC,EAAI+D,KAAKN,EAAKgmD,WAAY,SAAU3qD,EAAG+xB,GAErC7wB,EAAI6wB,EAAO,IAAI/sB,GAAG,QAAS,WACzBL,EAAKujD,OAAOloD,GAAGs0D,UACjB,GAGApzD,EAAI6wB,EAAO,IAAI/sB,GAAG,QAAS,WACzBL,EAAKujD,OAAOloD,GAAGu0D,WACjB,GAGArzD,EAAI6wB,EAAO,IACRthB,KAAK,QACLzL,GAAG,QAAS,WACX,IAAImN,EAAQjR,EAAI/B,MACdw1D,EAAQxiD,EAAM/C,KAAK,UACnBwlD,EAAUziD,EAAM/C,KAAK,YAElBulD,IAELA,EAAQA,EAAMzrD,MAAM,KAEpBvE,EAAKmnD,OAAO9rD,GAAK,CAAY,EAAX20D,EAAM,GAAmB,EAAXA,EAAM,IACtChwD,EAAKm0B,KAAK87B,EAAS50D,GACnBkB,EAAIyD,EAAKomD,QACNt6C,KAAK,IAAMm2C,IACX3sC,SAASmqC,IACd,GAGFljD,EAAI6wB,EAAO,IAAI/sB,GAAG,QAAS,WACzBL,EAAKujD,OAAOloD,GAAGy0D,WACjB,GAGAvzD,EAAI6wB,EAAO,IAAI/sB,GAAG,QAAS,WACzBL,EAAKujD,OAAOloD,GAAG00D,UACjB,EACF,GAGAxzD,EAAI+D,KAAKN,EAAK/C,MAAO,SAAU5B,EAAG4B,GACtBV,EAAIU,GAAO6O,KAAK,MACtBzL,GAAG,QAAS,WACdL,EAAK6tD,OAAOtxD,EAAI/B,MAAOa,EACzB,EACF,GAGAkB,EAAIyD,EAAKomD,QACNt6C,KAAK,QACLzL,GAAG,QAAS,WACX,IAAIzE,EAAOW,EAAI/B,MAAMiQ,KAAK,YAC1BzK,EAAKsvD,KAAK90D,KAAMoB,EAClB,EACJ,EAGArB,GAAM6E,UAAUslD,QAAU,SAAU57C,GAClC,MACE,iBAAiBjN,KAAKiN,EAAKhO,QAAQo1D,sBACnC,iBAAiBr0D,KAAKiN,EAAKhO,QAE/B,EAGAP,GAAM6E,UAAU0I,OAAS,WACvB,IAAI9H,EAAOxF,KACP8E,EAAUU,EAAKlG,OAEnB,GAAKwF,EAAQwJ,KAAK,KAAMxJ,EAAQwJ,KAAK,GAAGqnD,aAAxC,CAEA,IAAIC,EAAY,WAEV3zD,GAAQirD,SAAWpoD,EAAQ6D,IAC/BnD,EAAKoW,QACP,EAGA9W,EAAQwJ,KAAKzI,GAAGf,EAAQ6+B,QAASiyB,GACjC9wD,EAAQwJ,KAAK,GAAGqnD,cAAe,EAC/B7wD,EAAQukD,UAAUxjD,GAAGf,EAAQ6+B,QAASiyB,GAGtCpwD,EAAKi9C,OAAS,WACZj9C,EAAKgF,SACL1F,EAAQwJ,KAAKX,IAAI7I,EAAQ6+B,QAASiyB,GAClC9wD,EAAQwJ,KAAKmN,WAAW,WACxB3W,EAAQwJ,KAAKmN,WAAWkoC,IACxB7+C,EAAQwJ,KAAK,GAAGqnD,cAAe,EAC/B7wD,EAAQukD,UAAU17C,IAAI7I,EAAQ6+B,QAASiyB,GACvC9wD,EAAQukD,UAAU5tC,WAAW,kBACtBE,GAAWnW,KAAKV,EAAQ6D,GACjC,CAvBsD,CAwBxD,EAGA5G,EAAI5C,UACD0G,GAAG,YAAa,SAAU5B,GACzB,GAAKhC,GAAQirD,OAAb,CACA,IAAI1nD,EAAOmW,GAAWmpC,QAAQ7iD,GAAQirD,QACtC,GAAK1nD,EAAL,CAEA,IAAIV,EAAUU,EAAKlG,OAGjB2E,EAAE+K,SAAWlK,EAAQwJ,KAAK,IAC1BrK,EAAE+K,SAAWlK,EAAQukD,UAAU,IAC/BplD,EAAE+K,SAAWjN,EAAI+C,EAAQ+wD,WAAW,IACnC/wD,EAAQwJ,KAAK,IAAMxJ,EAAQwJ,KAAK,GAAGwJ,SAAS7T,EAAE+K,SAIjDxJ,EAAKgF,QAZM,CAFU,CAevB,GACC3E,GAAG,UAAW,SAAU5B,GACvB,GAAKhC,GAAQirD,OAAb,CACA,IAAI1nD,EAAOmW,GAAWmpC,QAAQ7iD,GAAQirD,QACjC1nD,GAGwB,WAAzBA,EAAKlG,OAAOkS,UACE,KAAdvN,EAAEsjC,SACAxlC,EAAI,IAAMyD,EAAKylD,QAAQ,IAAMzlD,EAAKylD,SAAWlrD,GAAMktD,eACrDhpD,EAAEsQ,iBACFxS,EAAIyD,EAAKomD,QAAQt6C,KAAKi2C,IAAc,GAAGvhB,QATtB,CAYvB,GAGFjkC,EAAI3C,QAAQyG,GAAG,SAAU,WACvB,GAAK5D,GAAQirD,OAAb,CACA,IAAI1nD,EAAOmW,GAAWmpC,QAAQ7iD,GAAQirD,QACtC,GAAK1nD,EAEL,SAAKA,EAAK8I,OAASvM,EAn/FV,kBAm/FoB,UAI7ByD,EAAKgM,UARgB,CASvB,GAGAmK,GAAWnW,KAAO,CAAA,EAGlBmW,GAAWmpC,QAAU,SAAUn8C,GAC7B,IAAInD,EAAOmW,GAAWnW,KAAKmD,GAU3B,OATKnD,GACHH,EACGwG,OACA3K,MACCyH,EACI86C,EAAW,sBAAwB96C,EAAK,cACxC,wBAGHnD,CACT,EAGAvD,GAAQ2Z,OAAS,SAAU9W,GACzB,IAAIqa,EAAO,IAAIpf,GAAM+E,GACrB,OAAO6W,GAAW1P,KAAKkT,EACzB,EAGAld,GAAQmiD,OAAS,SAAUz7C,EAAI7D,GAC7B,IAAIU,EAAOmW,GAAWmpC,QAAQn8C,GAC9B,GAAKnD,EACL,OAAOA,EAAK4+C,OAAOt/C,EACrB,EAGA7C,GAAQyiD,QAAU,SAAU/7C,GAC1B,IAAInD,EAAOmW,GAAWmpC,QAAQn8C,GAC9B,GAAInD,EACF,OAAOA,EAAK2Z,IAEhB,EAGAld,GAAQ4J,KAAO,SAAUlD,EAAI+H,GAC3B,IAAIlL,EAAOmW,GAAWmpC,QAAQn8C,GAC9B,GAAKnD,EACL,OAAOA,EAAKqG,KAAK6E,EACnB,EAGAzO,GAAQwgD,OAAS,SAAU95C,GACzB,IAAInD,EAAOmW,GAAWmpC,QAAQn8C,GAC9B,GAAKnD,EACL,OAAOA,EAAKi9C,QACd,EAGAxgD,GAAQqa,MAAQ,SAAU3T,GACxB,IAAInD,EAAOmW,GAAWmpC,QAAQn8C,GAAM1G,GAAQirD,QAC5C,GAAK1nD,EACL,OAAOA,EAAKgF,QACd,EAGAvI,GAAQsI,MAAQ,SAAUkiD,EAAUpE,EAAQjlB,GAiC1C,OAhCAqpB,EAAWA,GAAY,CAAA,EAGD,iBAAXpE,IACTA,EAAS1sC,GAAWysC,UAAUC,IAGhCA,GAAUA,GAAU,IAAIjxC,SAGxBrV,EAAI+D,KAAKuiD,EAAQ,SAAUxnD,EAAGmF,GACxB,SAAS3E,KAAK2E,GAEhBqiD,EAAOxnD,GAAKkB,EAAI4N,MAAM88C,EAASxrC,KAAMjb,EAAKpF,QACjC,OAAOS,KAAK2E,GAErBqiD,EAAOxnD,GAAKkB,EAAI4N,MAAM88C,EAASzE,OAAS5kB,GAAO,GAAIp9B,EAAKpF,QAC/C,OAAOS,KAAK2E,GAErBqiD,EAAOxnD,GAAKkB,EAAI4N,MAAM88C,EAAS/rC,KAAM1a,EAAKpF,QACjC,OAAOS,KAAK2E,GAErBqiD,EAAOxnD,GAAKkB,EAAI4N,MAAM88C,EAASpoC,MAAOre,EAAKpF,QAClC,OAAOS,KAAK2E,GAErBqiD,EAAOxnD,GAAKkB,EAAI4N,MAAM88C,EAASnoC,QAASte,EAAKpF,QACpC,OAAOS,KAAK2E,KAErBqiD,EAAOxnD,GAAKkB,EAAI4N,MAAM88C,EAAS9B,QAAS3kD,EAAKpF,QAEjD,GAEOynD,EAAOh1C,KAAK,GACrB,EAGApR,GAAQ6rD,WAAa,SAAU9F,EAAO/mC,GACpC,IAAI4pC,EAAW,IAAIvjD,KAQnB,OANAujD,EAAS2E,YACPvuC,GAAQ4pC,EAASL,cACjBxC,GAAS6C,EAASJ,WAAa,EAC/B,GAGK,IAAInjD,KAAKujD,EAAStjD,UAAY,OAAqBmjD,SAC5D,EC1sGA,IAAIrzB,GAAQ,CACV/3B,OAAQ,CACNw2D,aAAa,GAEf72C,IAAK,CAAA,EACL82C,UAAW,CAAA,EACXzoD,OAAQ,CAAE0oD,OAAQ,CAAA,GAClBC,cAAe,EACfC,YAAa,GAEb90D,KAAM,CAAC,SAAU,OAAQ,SAAU,UAAW,QAG9C4G,SAAU,SAAUlE,EAAMmE,GACxB,IAAIC,EAAQpE,EAAKqE,aACbrE,EAAKqE,aACL/I,OAAOgJ,iBAAiBtE,EAAM,MAClC,OAAOoE,EAAMA,EAAMG,iBAAmB,mBAAqB,gBACzDJ,EAEJ,GAIEjG,GAAQ,CACV/B,EAAG,QACHsL,GAAK,WAEH,IAAIV,EAAQC,UAAUC,UAAUC,cAChC,SAAS5L,OAAOoM,iBAAiB,kBAAmBpM,YAC/CyL,EAAMnF,MAAM,gBAAkB,IAAI,IAAM,KAE/C,CANK,GAOLpG,OAAQ,SAAUwF,GAKhB,OAJAA,EAAUA,GAAW,CAAA,EACrB9C,GAAMtC,MAAQ23B,GAAM/3B,OAAS4G,EAAEwB,OAAO,GAAI2vB,GAAM/3B,OAAQwF,GAC9B,iBAAnBA,EAAQ4C,SAAwB5C,EAAQ4C,OAAS,CAAC5C,EAAQ4C,SAE1D1H,IACT,EAGAq3B,MAAO,SAAUv3B,GAEf,MADoB,mBAAbA,GAA2BA,IAC3BE,IACT,EAGAm2D,MAAO,SAAU59B,EAASzzB,EAASsxD,GACjC,IAAIh1D,EAA0B,mBAAZ0D,EAElB,OADI1D,IAAMg1D,EAAMtxD,GACT9C,GAAMqa,KACXnW,EAAEwB,OACA,CACE6wB,QAASA,EACT69B,IAAKA,GAEPh1D,EAAO,GAAK0D,GAGlB,EAEAib,QAAS,SAAUwY,EAASzzB,EAASsxD,EAAKz0C,GACxC,IAAIvgB,EAA0B,mBAAZ0D,EAKlB,OAJI1D,IACFugB,EAASy0C,EACTA,EAAMtxD,GAED9C,GAAMqa,KACXnW,EAAEwB,OACA,CACE6wB,QAASA,EACT+tB,IAAK,CAAC3iD,EAAKkiB,GAAG,iBAAkBliB,EAAKkiB,GAAG,iBACxCuwC,IAAKA,EACLC,KAAM10C,GAERvgB,EAAO,GAAK0D,GAGlB,EAEA3D,IAAK,SAAUo3B,EAASzzB,EAASma,GAE/B,IAAI7d,EAA0B,mBAAZ0D,EAChBwxD,EAAQj/B,GAAM/3B,OAAOi3D,KACnBA,GAAQD,EAAQA,EAAQ,IAAMA,EAAQ,OAAS,KAAO,kBACtDjiB,EAAOmiB,GAAKniB,KAAKzzC,OAAS,EAE9B,OADIQ,IAAM6d,EAAMna,GACT9C,GAAMqa,KACXnW,EAAEwB,OACA,CACE6wB,QAASA,EACTxX,KAAM,IACNkoC,OAAO,EACPsN,KAAMA,EACNzzC,OAAO,EACP2zC,UAAU,EACVnQ,KAAK,EACL0P,QAAQ,EACR/2C,IAAKA,EACL62C,aAAa,GAEf10D,IAASi2B,GAAM/3B,OAAOi3D,KAClB,CACEA,KAAMA,EAAO,mBACbliB,KAAMA,MAKa,KAFnBvvC,EAAUA,GAAW,CAAA,GAEX4xD,WACUrnD,IAAjBvK,EAAQ4xD,OAAuBr/B,GAAM/3B,OAAOi3D,QAE7CzxD,EAAQyxD,KAAOA,EAAO,KAAOzxD,EAAQyxD,MAAQ,oBAExCzxD,IAInB,EAEAghC,KAAM,SAAU4wB,EAAM5xD,GACpB,OAAO9C,GAAMqa,KACXnW,EAAEwB,OACA,CACEtG,KAAM,EACNs1D,KAAMA,GAAQ,EACdV,QAAQ,EACR/M,MAAO,IACP6M,aAAa,GAEfhxD,GAGN,EAEA6uD,KAAM,SAAUp7B,EAASo+B,EAAQ7xD,GAC/B,OAAO9C,GAAMqa,KACXnW,EAAEwB,OACA,CACEtG,KAAM,EACNm3B,QAAS,CAACA,EAASo+B,GACnBF,UAAU,EACV11C,KAAM,IACNkoC,OAAO,EACP+M,QAAQ,EACRY,OAAO,EACPnrB,SAAU,IACVqqB,aAAa,GAEfhxD,GAGN,GAGE/E,GAAQ,SAAU82D,GACpB,IAAIrxD,EAAOxF,KACT82D,EAAQ,WACNtxD,EAAKsxD,OACP,EAEFz/B,GAAM/3B,OAAOwjB,MAAQnf,EAAKkiB,GAAG,sBAC7BrgB,EAAKO,MAAQ/D,GAAM+D,MAAQhE,EAAI0O,gBAAgB,SAC/CjL,EAAKlG,OAAOmsC,SAAWvlC,EAAE67C,IAAKxmC,QAAU,GACxC/V,EAAKlG,OAAS4G,EAAEwB,OAAO,CAAA,EAAIlC,EAAKlG,OAAQ+3B,GAAM/3B,OAAQu3D,GACtD13D,SAASiR,KACL0mD,IACAlwD,WAAW,WACTkwD,GACF,EAAG,GACT,EAEA/2D,GAAMg3D,GAAKh3D,GAAM6E,UAGjB,IAAI4xD,GAAO,CACT,cACA,qBACA,oBACA,sBACA,qBACA,sBACA,kBACA,qBAIFA,GAAKniB,KAAO,CAEV,EAAG,gBACH,EAAG,gBACH,EAAG,gBACH,EAAG,gBACH,EAAG,gBACH,EAAG,gBACH,EAAG,gBAGHwB,UAAW,wBACXmhB,UAAW,wBACXlhB,QAAS,sBACTmhB,WAAY,0BAGdT,GAAKU,MAAQ,oBACbV,GAAKW,KAAO,mBAEZ,IAAIC,GAAY,wBACZC,GAAoB,oCAGxBt3D,GAAMg3D,GAAGz3D,OAAS,CAChB8B,KAAM,EACN6nD,MAAO,GACP2N,OAAO,EACPU,KAAMd,GAAK,GACX1zC,MAAOnf,EAAKkiB,GAAG,sBACfjT,OAAQ,OACR2kD,KAAM,OACNd,SAAU,EACVC,MAAM,EACN31C,KAAM,EACN0vB,OAAQ,SACRhF,SAAU,IACV4I,KAAM,EACNmjB,WAAW,EACXC,UAAU,EACVC,SAAU,EACV1B,QAAQ,EACR2B,WAAW,EACXhE,KAAM,GAIR5zD,GAAMg3D,GAAGa,OAAS,SAAUC,EAAS/3D,GACnC,IA2HYuM,EA3HR7G,EAAOxF,KACT83D,EAAQtyD,EAAKO,MACbzG,EAASkG,EAAKlG,OACZmxC,EAASnxC,EAAOmxC,OAASqnB,EAC3BC,EAAiC,iBAAjBz4D,EAAOwjB,MACrBk1C,EAAQ14D,EAAO24D,SAA2B,IAAhB34D,EAAO8B,MAA8B,IAAhB9B,EAAO8B,MACtD82D,EAAY54D,EAAOwjB,MACnB,0CACCi1C,EAASz4D,EAAOwjB,MAAM,GAAK,IAC5B,MACCi1C,EAASz4D,EAAOwjB,MAAM,GAAKxjB,EAAOwjB,OACnC,SACA,GA8KJ,OA5KAxjB,EAAOmxC,OAASA,EAChB3wC,EACE,CAEER,EAAO2pD,MACH,eACAuN,GAAKU,MACL,SACAV,GAAKU,MACLY,EACA,YACAA,EANA,qBAQernB,EAAS,GARxB,aAUA,GAGJ,eACE+lB,GAAK,GACJ,gBAAkBn/B,GAAMj2B,KAAK9B,EAAO8B,OACpB,GAAf9B,EAAO8B,MAA4B,GAAf9B,EAAO8B,MAAe9B,EAAO2pD,MAE/C,GADA,uBAEJ,KACC3pD,EAAOi3D,MAAQ,IAChB,SACAC,GAAK,GACLsB,EACA,WACAzgC,GAAMj2B,KAAK9B,EAAO8B,MAClB,YACA02D,EACA,eACAx4D,EAAOyhB,KACP,eACC82C,EAAU,SAAW,UACtB,qBACApnB,EACA,WACAnxC,EAAOi4D,KAAK,GACZ,WACAj4D,EAAOi4D,KAAK,GACZ,cACCj4D,EAAOs3D,MAAQ,SAAW,aAC3B,MACCiB,GAA0B,GAAfv4D,EAAO8B,KAAY,GAAK82D,GAEpC,QACC54D,EAAOqJ,GAAK,QAAUrJ,EAAOqJ,GAAK,IAAM,IACzC,+BACgB,GAAfrJ,EAAO8B,OAA6B,IAAhB9B,EAAOo3D,KAAc,uBAAyB,KACnD,GAAfp3D,EAAO8B,KAAY,uBAAyB9B,EAAOo3D,KAAO,IAC3D,KAEC,WACC,IAUIyB,EAVAC,EAAO,CACT,kBACA,qBACA,mBACA,sBACA,kBACA,sBACA,yBAMEC,EAAY,+CAGhB,GAAmB,GAAf/4D,EAAO8B,OAA6B,IAAhB9B,EAAOo3D,KAK7B,OAHmB,IAAfp3D,EAAOo3D,OACTyB,EAAiB,iCAAmCE,GAGpD,0CACCF,GAAkBC,EAAK94D,EAAOo3D,OAAS0B,EAAK,IAC7C,SAKJ,GAAmB,GAAf94D,EAAO8B,KAAW,CACpB,IAAIA,EAAO,CAAC,qBAAsB,wBAElC,OAAmB,GAAf9B,EAAOo3D,KAEP,qCAAuC2B,EAAY,WAIrD,kDACCj3D,EAAK9B,EAAOo3D,OAASt1D,EAAK,IAC3B,IACAi3D,EACA,QAEJ,CAEA,MAAO,EACT,CAhDC,IAiDe,GAAf/4D,EAAO8B,MAAay2D,EAAU,GAAKv4D,EAAOi5B,SAAW,IAtFxD,0CA2FQlsB,EAAM,GAGN2rD,IACF3rD,EAAI/F,KAAK,yCACT+F,EAAI/F,KAAK,0CAIPhH,EAAOm3D,UACTpqD,EAAI/F,KACF,4CACE,CACEkwD,GAAK,GACLA,GAAK,IACFl3D,EAAOwjB,MACJxjB,EAAOm3D,SACQ,GAAfn3D,EAAO8B,KACL,IACA,MACRiS,KAAK,KACP,aAIChH,EAAIgH,KAAK,IAElB,WAEC/T,EAAOgnD,IACH,WACC,IAeQvrC,EAfJ8X,EAAS,GACS,iBAAfvzB,EAAOgnD,MAAqBhnD,EAAOgnD,IAAM,CAAChnD,EAAOgnD,MACxD,IAAK,IAAIzlD,EAAI,EAAGsL,EAAM7M,EAAOgnD,IAAI1lD,OAAQC,EAAIsL,EAAKtL,IAChDgyB,GACE,aACA2jC,GAAK,GAEL31D,EACA,KACAvB,EAAOgnD,IAAIzlD,GACX,OAEJ,MACE,gBAEMka,EAAY,CAACy7C,GAAK,IAClBl3D,EAAOg5D,UACTv9C,EAAUzU,KAAKkwD,GAAK,GAAK,IAAMl3D,EAAOg5D,UACjCv9C,EAAU1H,KAAK,KAExB,MACAwf,EACA,QAEJ,CAzBC,GA0BD,KACHvzB,EAAO02D,OAAS,2CAA6C,IAC9D,UAEJkC,EACAhyD,EAAE,eAAiBswD,GAAKW,KAAO,SAAWX,GAAKW,KAAO,aAEjD3xD,CACT,EAGAzF,GAAMg3D,GAAGD,MAAQ,WACf,IA8BQyB,EACAxyD,EACAjB,EACA0zD,EAjCJhzD,EAAOxF,KACPV,EAASkG,EAAKlG,OACdw4D,EAAQtyD,EAAKO,MACbwyB,EAAUj5B,EAAOi5B,QACjBs/B,EAA6B,iBAAZt/B,EACjBnoB,EAAOlK,EAAE,QAETuyD,EAAU,SAAUF,GAOtB,GALIj5D,EAAO6uB,QACT7uB,EAAO+0C,KAAO/0C,EAAO6uB,OAInBqoC,GAAKniB,KAAK/0C,EAAO+0C,MAAO,CAC1B,IAAIgkB,EAAY,cAAgB7B,GAAKniB,KAAK/0C,EAAO+0C,MACjDkkB,EACGz9C,SAASu9C,GACTj1B,IACC,+EACA,WACEl9B,EAAElG,MAAMgb,YAAYq9C,EACtB,EAEN,CACF,EAGA,GAAI/4D,EAAOqJ,IAAMzC,EAAE,IAAMswD,GAAK,IAAIllD,KAAK,IAAMhS,EAAOqJ,IAAI,GACtD,OAEM5C,GADAwyD,EAASryD,EAAE,IAAM5G,EAAOqJ,IAAIkvB,QAAQ,IAAM2+B,GAAK,KAChCvmD,KAAK,SACpBnL,EAAUyzD,EAAO5uD,KAAK,UACtB6uD,EAAYtyD,EAAE,IAAMswD,GAAKU,MAAQnxD,QAIhB,SAFFwyD,EAAO5uD,KAAK,iBAAmB,CAAA,GAGhD3H,GAAM6d,QAAQ9Z,GACLjB,EAAQ4zD,cACjBF,EAAU93B,OACV63B,EAAO73B,OACP+3B,EAAQF,GACR3xD,WAAW,WACT4xD,EAAUr9C,IAAI,CAAEvH,QAAS4kD,EAAU7uD,KAAKytD,KAC1C,EAAG,MAeT,OATI93D,EAAOw2D,aAAe32D,SAAS0Y,eACjC1Y,SAAS0Y,cAAcmwB,OAIE,iBAAhB1oC,EAAOi4D,OAChBj4D,EAAOi4D,KAAuB,SAAhBj4D,EAAOi4D,KAAkB,CAAC,GAAI,IAAM,CAACj4D,EAAOi4D,KAAM,KAG1Dj4D,EAAO8B,MACb,KAAK,EACH9B,EAAOgnD,IAAM,QAAShnD,EAASA,EAAOgnD,IAAM3iD,EAAKkiB,GAAG,iBACpD7jB,GAAM22D,SAAS,UACf,MACF,KAAK,EACHpgC,EAAUj5B,EAAOi5B,QAAUs/B,EACvBv4D,EAAOi5B,QACP,CAACj5B,EAAOi5B,SAAW,GAAI,QAC3Bj5B,EAAOi5B,QACL,uBACCj5B,EAAOi5B,QAAQ,IAAM,QACtB,kCACAi+B,GAAK,GAELsB,EACA,WACAtB,GAAK,GAELsB,EACA,iFACAx4D,EAAOi5B,QAAQ,GACf,cACF,MACF,KAAK,SACIj5B,EAAOwjB,aACPxjB,EAAOm3D,UACE,IAAhBn3D,EAAOo3D,MAAep3D,EAAOo3D,KAC7B10D,GAAM22D,SAAS,WACf,MACF,KAAK,EACHd,IAAYv4D,EAAOi5B,QAAU,CAACj5B,EAAOi5B,QAAS,SAC9Cj5B,EAAOq3D,OAASr3D,EAAOi5B,QAAQ,GAC/Bj5B,EAAOi5B,QAAUj5B,EAAOi5B,QAAQ,GAAK,2CAC9Bj5B,EAAOwjB,MACdxjB,EAAOq0D,KACkB,iBAAhBr0D,EAAOq0D,KAAoBr0D,EAAOq0D,KAAO,CAACr0D,EAAOq0D,MAAM,GAChEr0D,EAAOs5D,UAAY52D,GAAM22D,SAAS,QAKtCnzD,EACGoyD,OAAOC,EAAS,SAAU3/C,EAAMggD,EAAWW,GAC1CzoD,EAAKmB,OAAO2G,EAAK,IACjB2/C,EAEqB,GAAfv4D,EAAO8B,MAA4B,GAAf9B,EAAO8B,KAErB8E,EAAE,QAAQqL,OAAO2G,EAAK,IAGjBqgB,EAAQN,QAAQ,IAAMu+B,GAAK,IAAI,KAClCj+B,EACG5uB,KAAK,UAAW4uB,EAAQpd,IAAI,YAC5BulB,OACA5lB,SAAS,oBACT6nB,KAAKzqB,EAAK,IACbhS,EAAE,IAAMswD,GAAK,GAAKsB,GACfxmD,KAAK,IAAMklD,GAAK,IAChBv5C,OAAOi7C,IAIpB9nD,EAAKmB,OAAO2G,EAAK,IACrBhS,EAAE,IAAMswD,GAAKW,MAAM,IAAM/mD,EAAKmB,OAAQ8lB,GAAMwhC,SAAWA,GAEvDrzD,EAAK+yD,OAASryD,EAAE,IAAMswD,GAAK,GAAKsB,GAChCtyD,EAAKszD,OAAS5yD,EAAE,IAAMswD,GAAKU,MAAQY,GAEnCx4D,EAAOq4D,WAAatgC,GAAM0hC,aAAajB,EACzC,GACClO,KAAKkO,GAGRtyD,EAAKszD,OAAO39C,IAAI,CACd,mBAAoB7b,EAAO2pD,MAAM,IAAM,OACvCr1C,QAAStU,EAAO2pD,MAAM,IAAM3pD,EAAO2pD,MACnC+P,WAAY15D,EAAO2pD,MAAM,IAAM,KAEjCzjD,EAAKszD,OAAOnvD,KAAKytD,GAAW93D,EAAO2pD,MAAM,IAAM3pD,EAAO2pD,OAGvC,GAAf3pD,EAAO8B,KACHoE,EAAKmuD,QAEHnuD,EAAKoN,SAELkM,SACEuY,GAAMrvB,SAAS7I,SAAS4J,eAAeytD,GAAKW,MAAO,cAGjD3xD,EAAK+yD,OAAOp9C,IAAI,aAAc,UAC9BnZ,GAAMq1B,MAAM,WACV7xB,EAAKoN,SACLpN,EAAK+yD,OAAOp9C,IAAI,aAAc,UAChC,KAKN7b,EAAOs3D,QACJv/B,GAAM/pB,OAAO0oD,OAAOxwD,EAAKO,SAC5BsxB,GAAM/pB,OAAO0oD,OAAOxwD,EAAKO,OAAS,WAChCP,EAAKwwD,QACP,EAEAjU,GAAIl8C,GAAG,SAAUwxB,GAAM/pB,OAAO0oD,OAAOxwD,EAAKO,UAK9CP,EAAK+yD,OAAO5uD,KAAK,SAAUrK,GAG3BA,EAAOyhB,MAAQ,GACbna,WAAW,WACT5E,GAAMsa,MAAM9W,EAAKO,MACnB,EAAGzG,EAAOyhB,MAEZvb,EAAK8xD,OAAOx3D,WACZ24D,EAAQjzD,EAAK+yD,OACf,EAGAx4D,GAAMg3D,GAAGf,OAAS,WAChB,IAAIxwD,EAAOxF,KACPV,EAASkG,EAAKlG,OAElBkG,EAAKoN,UACJ,SAASvR,KAAK/B,EAAOi4D,KAAK,KAAO,SAASl2D,KAAK/B,EAAOi4D,KAAK,MAC1D/xD,EAAKokD,KAAKpkD,EAAKO,OACF,GAAfzG,EAAO8B,MAAaoE,EAAKmuD,MAC3B,EAGA5zD,GAAMg3D,GAAGnN,KAAO,SAAU7jD,GACxB,IACEzG,EADSU,KACKV,OACdi5D,EAASryD,EAAE,IAAMswD,GAAK,GAAKzwD,IAGP,KAAnBzG,EAAOi4D,KAAK,IAAgC,SAAnBj4D,EAAOi4D,KAAK,KACtCj4D,EAAOmsC,SAAW,GAElB8sB,EAAOU,aAAe35D,EAAOmsC,UAAY8sB,EAAOh9C,MAAMjc,EAAOmsC,UAG/D,IAAI8rB,EAAO,CAACgB,EAAOW,aAAcX,EAAOjoD,eACpC6oD,EAAYZ,EAAOjnD,KAAKklD,GAAK,IAAI4C,eAAiB,EAClDC,EAAYd,EAAOjnD,KAAK,IAAMklD,GAAK,IAAI4C,eAAiB,EACxDE,EAAY,SAAUhrD,IACxBA,EAAOiqD,EAAOjnD,KAAKhD,IACdkN,OACH+7C,EAAK,GACH4B,EACAE,EACA,GAA2C,EAAtC1sB,WAAWr+B,EAAK6M,IAAI,iBAE/B,EAqBA,OAlBO,IADC7b,EAAO8B,KAEXk4D,EAAU,UAGa,KAAnBh6D,EAAOi4D,KAAK,IAAgC,SAAnBj4D,EAAOi4D,KAAK,GACnCj4D,EAAOi6D,UAAY,GAAKhB,EAAOa,cAAgB95D,EAAOi6D,WACxDhC,EAAK,GAAKj4D,EAAOi6D,UACjBD,EAAU,IAAM9C,GAAK,KACZl3D,EAAOs3D,OAASW,EAAK,IAAMxV,GAAIvmC,WACxC+7C,EAAK,GAAKxV,GAAIvmC,SACd89C,EAAU,IAAM9C,GAAK,KAGvB8C,EAAU,IAAM9C,GAAK,IAtChBx2D,IA4Cb,EAGAD,GAAMg3D,GAAGnkD,OAAS,WAChB,IAAIpN,EAAOxF,KACTV,EAASkG,EAAKlG,OACdi5D,EAAS/yD,EAAK+yD,OACZiB,EAASniC,GAAMoiC,eAAelB,EAAQj5D,GAE1CkG,EAAKk0D,UAAYF,EAAOE,UACxBl0D,EAAKm0D,WAAaH,EAAOG,UAC3B,EAGA55D,GAAMg3D,GAAGpD,KAAO,WACd,IACEr0D,EADSU,KACKV,OACdi5D,EAFSv4D,KAEKu4D,OACZqB,EAAU,CAACrB,EAAOU,aAAcV,EAAOa,eACzCzC,EAASzwD,EAAE5G,EAAOq3D,QACfA,EAAO,KAAIA,EAASzwD,EAAE,SAC3B,IAAI2zD,EAAO,CACPt+C,MAAOo7C,EAAOsC,aACdz9C,OAAQm7C,EAAOyC,cACfvnD,IAAK8kD,EAAO/jD,SAASf,IACrBF,KAAMglD,EAAO/jD,SAASjB,MAExBmoD,EAAQvB,EAAOjnD,KAAK,sBAElByoD,EAAQz6D,EAAOq0D,KAAK,GACxBr0D,EAAOq0D,KAAK,IAAMmG,EAAMtvD,SAExBqvD,EAAKG,SAAW,WACVH,EAAKloD,KAAOioD,EAAQ,GAAK7X,GAAIxmC,QAAU,GACzCs+C,EAAKI,QAAUJ,EAAKloD,KAAOkoD,EAAKt+C,MAAQq+C,EAAQ,GAChDE,EAAM3+C,IAAI,CAAEpJ,MAAO,GAAIJ,KAAM,WAE7BkoD,EAAKI,QACHJ,EAAKloD,MAAqB,IAAbkoD,EAAKt+C,MAAe,GAAK,GAAkB,GAAbs+C,EAAKt+C,MAAc,GAChEs+C,EAAKI,QAAUnqD,KAAKkP,IAAI66C,EAAKI,QAAS,GAE1C,EAIAJ,EAAKK,MAAQ,CACX,WAEEL,EAAKG,WACLH,EAAKM,OAASN,EAAKhoD,IAAM+nD,EAAQ,GAAK,GACtCE,EACG9+C,YAAY,qBACZF,SAAS,qBACTK,IAAI,qBAAsB7b,EAAOq0D,KAAK,GAC3C,EACA,WAEEkG,EAAKI,QAAUJ,EAAKloD,KAAOkoD,EAAKt+C,MAAQ,GACxCs+C,EAAKM,OACHN,EAAKhoD,KAAqB,IAAdgoD,EAAKr+C,OAAgB,GAAK,GAAmB,GAAdq+C,EAAKr+C,OAAe,GACjEq+C,EAAKM,OAASrqD,KAAKkP,IAAI66C,EAAKM,OAAQ,GACpCL,EACG9+C,YAAY,qBACZF,SAAS,qBACTK,IAAI,sBAAuB7b,EAAOq0D,KAAK,GAC5C,EACA,WAEEkG,EAAKG,WACLH,EAAKM,OAASN,EAAKhoD,IAAMgoD,EAAKr+C,OAAS,GACvCs+C,EACG9+C,YAAY,qBACZF,SAAS,qBACTK,IAAI,qBAAsB7b,EAAOq0D,KAAK,GAC3C,EACA,WAEEkG,EAAKI,QAAUJ,EAAKloD,KAAOioD,EAAQ,GAAK,GACxCC,EAAKM,OACHN,EAAKhoD,KAAqB,IAAdgoD,EAAKr+C,OAAgB,GAAK,GAAmB,GAAdq+C,EAAKr+C,OAAe,GACjEq+C,EAAKM,OAASrqD,KAAKkP,IAAI66C,EAAKM,OAAQ,GACpCL,EACG9+C,YAAY,qBACZF,SAAS,qBACTK,IAAI,sBAAuB7b,EAAOq0D,KAAK,GAC5C,GAEFkG,EAAKK,MAAMH,EAAQ,KAGL,IAAVA,EACFF,EAAKhoD,KAAOkwC,GAAI7P,YAAc0nB,EAAQ,GAAK,IAAS,GAAKC,EAAKK,MAAM,KACjD,IAAVH,EACThY,GAAIxmC,SAAWs+C,EAAKloD,KAAOkoD,EAAKt+C,MAAQq+C,EAAQ,GAAK,IAAS,GAC5DC,EAAKK,MAAM,KACM,IAAVH,EACTF,EAAKhoD,IACHkwC,GAAI7P,YACJ2nB,EAAKr+C,OACLo+C,EAAQ,GACR,GACA7X,GAAIvmC,SACJ,GAAKq+C,EAAKK,MAAM,KACC,IAAVH,GACTH,EAAQ,GAAK,GAAQC,EAAKloD,KAAO,GAAKkoD,EAAKK,MAAM,KAGnD3B,EAAOjnD,KAAK,IAAMklD,GAAK,IAAIr7C,IAAI,CAC7B,mBAAoB7b,EAAOq0D,KAAK,GAChC,gBAAiBr0D,EAAOm3D,SAAW,OAAS,KAE9C8B,EAAOp9C,IAAI,CACTxJ,KAAMkoD,EAAKI,SAAW36D,EAAOs3D,MAAQ7U,GAAI5P,aAAe,GACxDtgC,IAAKgoD,EAAKM,QAAU76D,EAAOs3D,MAAQ7U,GAAI7P,YAAc,IAEzD,EAGAnyC,GAAMg3D,GAAGO,KAAO,WACd,IAAI9xD,EAAOxF,KACPV,EAASkG,EAAKlG,OACd86D,EAAOl0D,EAAE/G,UACTo5D,EAAS/yD,EAAK+yD,OACd8B,EAAY,CAAC,gBAAiB,mBAC9BxB,EAAWN,EAAOjnD,KAAKhS,EAAOg4D,MAC9BgD,EAAa/B,EAAOjnD,KAAK,uBAkD7B,OA/CIhS,EAAOg4D,MAAMuB,EAAS19C,IAAI,SAAU,QAGxC09C,EAAShzD,GAAG,YAAa,SAAU5B,GACjC,IAAIA,EAAE4uB,OAAN,CAGA,IAAI7f,EAAQ9M,EAAElG,MACVu6D,EAAO,CAAA,EAEPj7D,EAAOg4D,OACTiD,EAAKhC,OAASA,EACdgC,EAAKj7D,OAASA,EACdi7D,EAAK3nD,OAAS,CACZ3O,EAAE2N,QAAU+6B,WAAW4rB,EAAOp9C,IAAI,SAClClX,EAAE6N,QAAU66B,WAAW4rB,EAAOp9C,IAAI,SAGpCnI,EAAMrJ,KAAK0wD,EAAU,GAAIE,GACzBljC,GAAMmjC,cAAgBxnD,EACtBqkB,GAAMwhC,SAAS19C,IAAI,SAAU,QAAQulB,QAGvCz8B,EAAEsQ,gBAjBF,CAkBF,GAGA+lD,EAAWz0D,GAAG,YAAa,SAAU5B,GACnC,IAAI+O,EAAQ9M,EAAElG,MACVu6D,EAAO,CAAA,EAEPj7D,EAAO02D,SACTuE,EAAKhC,OAASA,EACdgC,EAAKj7D,OAASA,EACdi7D,EAAK3nD,OAAS,CAAC3O,EAAE2N,QAAS3N,EAAE6N,SAC5ByoD,EAAKx0D,MAAQP,EAAKO,MAClBw0D,EAAKhD,KAAO,CAACgB,EAAOU,aAAcV,EAAOa,eAEzCpmD,EAAMrJ,KAAK0wD,EAAU,GAAIE,GACzBljC,GAAMojC,gBAAkBznD,EACxBqkB,GAAMwhC,SAAS19C,IAAI,SAAU,aAAaulB,QAG5Cz8B,EAAEsQ,gBACJ,GAGI8iB,GAAMqjC,WACVN,EACGv0D,GAAG,YAAa,SAAU5B,GACzB,IAAIs2D,EAAMj7D,EAAQq7D,EAAGlN,EAGrB,GAAIp2B,GAAMmjC,cAAe,CAEvBl7D,GADAi7D,EAAOljC,GAAMmjC,cAAc7wD,KAAK0wD,EAAU,KAAO,CAAA,GACnC/6D,OACdq7D,EAAI12D,EAAE2N,QAAU2oD,EAAK3nD,OAAO,GAC5B66C,EAAIxpD,EAAE6N,QAAUyoD,EAAK3nD,OAAO,GAE5B,IAAI2lD,EAASgC,EAAKhC,OACd3B,EAAmC,UAA3B2B,EAAOp9C,IAAI,YAQvB,GANAlX,EAAEsQ,iBAEFgmD,EAAKK,IAAMhE,EAAQ,EAAI7U,GAAI5P,aAC3BooB,EAAKM,IAAMjE,EAAQ,EAAI7U,GAAI7P,aAGtB5yC,EAAOw7D,QAAS,CACnB,IAAIC,EAAShZ,GAAIxmC,QAAUg9C,EAAOU,aAAesB,EAAKK,IAClDI,EAASjZ,GAAIvmC,SAAW+8C,EAAOa,cAAgBmB,EAAKM,IACxDF,EAAIJ,EAAKK,MAAQD,EAAIJ,EAAKK,KAC1BD,EAAII,IAAWJ,EAAII,GACnBtN,EAAI8M,EAAKM,MAAQpN,EAAI8M,EAAKM,KAC1BpN,EAAIuN,IAAWvN,EAAIuN,EACrB,CAGAzC,EAAOp9C,IAAI,CACTxJ,KAAMgpD,EACN9oD,IAAK47C,GAET,CAGIp2B,GAAMojC,kBAERn7D,GADAi7D,EAAOljC,GAAMojC,gBAAgB9wD,KAAK0wD,EAAU,KAAO,CAAA,GACrC/6D,OACdq7D,EAAI12D,EAAE2N,QAAU2oD,EAAK3nD,OAAO,GAC5B66C,EAAIxpD,EAAE6N,QAAUyoD,EAAK3nD,OAAO,GAE5B3O,EAAEsQ,iBAGFvS,GAAMkG,MAAMqyD,EAAKx0D,MAAO,CACtBwV,MAAOg/C,EAAKhD,KAAK,GAAKoD,EACtBn/C,OAAQ++C,EAAKhD,KAAK,GAAK9J,IAGzBnuD,EAAO27D,UAAY37D,EAAO27D,SAASV,EAAKhC,QAE5C,GACC1yD,GAAG,UAAW,WACb,GAAIwxB,GAAMmjC,cAAe,CACvB,IAAID,EAAOljC,GAAMmjC,cAAc7wD,KAAK0wD,EAAU,KAAO,CAAA,EACjD/6D,EAASi7D,EAAKj7D,OAElB+3B,GAAMmjC,cAAcl8B,WAAW+7B,EAAU,WAClChjC,GAAMmjC,cACbnjC,GAAMwhC,SAASj4B,OACfthC,EAAO47D,SAAW57D,EAAO47D,QAAQX,EAAKhC,OACxC,CACIlhC,GAAMojC,kBACRpjC,GAAMojC,gBAAgBn8B,WAAW+7B,EAAU,WACpChjC,GAAMojC,gBACbpjC,GAAMwhC,SAASj4B,OAEnB,GAEFvJ,GAAMqjC,UAAW,GAxEUl1D,CA0E7B,EAEAzF,GAAMg3D,GAAGoE,WAAa,SAAUC,EAASC,GACvC,GAAIA,EAAW,CAGb,GAAID,EAAQ9pD,KAAK,iCAAiC,GAAI,OACtD8pD,EACGtgD,SAAS,8BACT7K,KAAK,CAAEid,SAAU,KACjBmd,QALD,0HAMJ,MACE+wB,EACGpgD,YAAY,8BACZS,WAAW,YACXnK,KAAK,iCACL9G,QAEP,EAEAzK,GAAMg3D,GAAGj3D,SAAW,WAClB,IAAI0F,EAAOxF,KACTu4D,EAAS/yD,EAAK+yD,OACdj5D,EAASkG,EAAKlG,OAChBkG,EAAK81D,YACDh8D,EAAOw+C,UACU,GAAfx+C,EAAO8B,KACTm3D,EAAOjnD,KAAK,UAAUzL,GAAG,OAAQ,WAC/BvG,EAAOw+C,QAAQya,EAAQ/yD,EAAKO,MAAOP,EACrC,GAEAlG,EAAOw+C,QAAQya,EAAQ/yD,EAAKO,MAAOP,IAKvC+yD,EACGjnD,KAAK,IAAMklD,GAAK,IAChBn8C,SAAS,KACTxU,GAAG,QAAS,WACX,IAAIu1D,EAAUl1D,EAAElG,MACZ+F,EAAQq1D,EAAQr1D,QACpB,IAAIq1D,EAAQnrD,KAAK,YAGjB,GAAI3Q,EAAOi8D,SAAU,CACnB,IAAIC,EACQ,IAAVz1D,EACIzG,EAAO82D,KAAO92D,EAAa,KAC3BA,EAAO,OAASyG,EAAQ,IAC9BP,EAAKi2D,QAAU,SAAUJ,GACvB71D,EAAK21D,WAAWC,EAASC,EAC3B,EAEIG,EACFnkC,GACGqkC,mBACCF,EAAYvvD,KAAK3M,EAAQkG,EAAKO,MAAOwyD,EAAQ/yD,IAE9CwO,KACC,SAAU3I,IACO,IAAXA,GACFrJ,GAAMsa,MAAM9W,EAAKO,MAErB,EACA,SAAU41D,QACGtsD,IAAXssD,GACEv8D,OAAOmC,SACPnC,OAAOmC,QAAQL,MAAM,qBAAuBy6D,EAChD,GAGJ35D,GAAMsa,MAAM9W,EAAKO,MAErB,MAEgB,IAAVA,EACEzG,EAAO82D,IACT92D,EAAO82D,IAAI5wD,EAAKO,MAAOwyD,EAAQ/yD,GACtBlG,EAAa,KACtBA,EAAa,KAAEkG,EAAKO,MAAOwyD,EAAQ/yD,GAEnCxD,GAAMsa,MAAM9W,EAAKO,QAMT,KAFRzG,EAAO,OAASyG,EAAQ,KACxBzG,EAAO,OAASyG,EAAQ,IAAIP,EAAKO,MAAOwyD,EAAQ/yD,KAC/BxD,GAAMsa,MAAM9W,EAAKO,MAG1C,GASFwyD,EAAOjnD,KAAK,IAAMklD,GAAK,IAAI3wD,GAAG,QAN9B,YAEY,KADEvG,EAAOqiB,QAAUriB,EAAOqiB,OAAOnc,EAAKO,MAAOwyD,EAAQ/yD,KAC5CxD,GAAMsa,MAAM9W,EAAKO,MACtC,GAMIzG,EAAOs8D,YACTp2D,EAAKszD,OAAOjzD,GAAG,QAAS,WACtB7D,GAAMsa,MAAM9W,EAAKO,MACnB,GAIFwyD,EAAOjnD,KAAK,oBAAoBzL,GAAG,QAAS,YAElC,KADEvG,EAAO4f,KAAO5f,EAAO4f,IAAIq5C,EAAQ/yD,EAAKO,MAAOP,KACtCxD,GAAMkd,IAAI1Z,EAAKO,MAAOzG,EACzC,GAGAi5D,EAAOjnD,KAAK,oBAAoBzL,GAAG,QAAS,WACtCK,EAAElG,MAAMib,SAAS,uBACnBjZ,GAAM6d,QAAQra,EAAKO,OACnBzG,EAAOugB,SAAWvgB,EAAOugB,QAAQ04C,EAAQ/yD,EAAKO,MAAOP,KAErDxD,GAAM65D,KAAKr2D,EAAKO,MAAOzG,GACvBsH,WAAW,WACTtH,EAAOu8D,MAAQv8D,EAAOu8D,KAAKtD,EAAQ/yD,EAAKO,MAAOP,EACjD,EAAG,KAEP,GAEAlG,EAAO2f,MAAQoY,GAAMpY,IAAIzZ,EAAKO,OAASzG,EAAO2f,KAC9C3f,EAAOy2D,YACJ1+B,GAAM0+B,UAAUvwD,EAAKO,OAASG,EAAE88C,MAC/B1jD,EAAOy2D,UACPz2D,EACAi5D,EACA/yD,EAAKO,MACLP,GAEN,EAGAzF,GAAMg3D,GAAGuE,UAAY,WAInBt5D,GAAMyuC,OAHKzwC,KAGSV,OAAOmxC,OAC3BzuC,GAAM85D,OAAS,SAAUvD,GAOvB,OAFAv2D,GAAMyuC,OAAS3xB,SAASy5C,EAAO,GAAGrwD,MAAMuoC,QACxC8nB,EAAO1yD,GAAG,YALM,WACd7D,GAAMyuC,SACN8nB,EAAOp9C,IAAI,UAAWnZ,GAAMyuC,OAAS,EACvC,GAGOzuC,GAAMyuC,MACf,CACF,EAGApZ,GAAM0kC,OAAS,SAAUxD,GACvB,IAAKA,EAAO,GAAI,OAAOn5D,OAAOmC,SAAWA,QAAQL,MAAM,eACvD,IAAIE,EAAOm3D,EAAOtoD,KAAK,QACnB+rD,EAAczD,EAAOjnD,KAAK,wBAC1B2qD,EACF76D,IAASi2B,GAAMj2B,KAAK,GAAK46D,EAAY3hD,SAAS,UAAY2hD,EACxDzE,EAAO,CACTgB,EAAO,GAAGrwD,MAAMqT,OAAS8b,GAAMrvB,SAASuwD,EAAO,GAAI,SACnDA,EAAO,GAAGrwD,MAAMsT,QAAU6b,GAAMrvB,SAASuwD,EAAO,GAAI,UACpDA,EAAO/mD,WAAWK,IAClB0mD,EAAO/mD,WAAWG,KAAOg7B,WAAW4rB,EAAOp9C,IAAI,iBAEjDo9C,EAAOjnD,KAAK,oBAAoBwJ,SAAS,sBACzCy9C,EAAOtoD,KAAK,CAAEsnD,KAAMA,IACpByE,EAAYryD,KACV0tD,GACAhgC,GAAMrvB,SAASi0D,EAAwB,GAAI,UAE/C,EAGA5kC,GAAM0hC,aAAe,WACnBvC,GAAKt+C,KAAKiD,IAAI,WAAY,SAC5B,EAGAkc,GAAM6kC,cAAgB,SAAUn2D,GACzBywD,GAAKt+C,KAAKiD,IAAI,aAYK,IATTjV,EAAE,IAAMswD,GAAK,IAAIhpD,OAAO,WACrC,IAAI+qD,EAASryD,EAAElG,MAEf,OACwB,KAFVu4D,EAAO5uD,KAAK,WAAa,CAAA,GAE7BguD,WACwB,QAAhCY,EAAO5uD,KAAK,iBACZ4uD,EAAOtoD,KAAK,WAAajE,OAAOjG,EAEpC,GACanF,QACX41D,GAAKt+C,KAAKiD,IAAI,WAAY,GAE9B,EAGAkc,GAAMqkC,mBAAqB,SAAU5yD,GACnC,IAAIyxB,EAAWr0B,EAAEk0B,WAOjB,OALItxB,GAA+B,mBAAfA,EAAMkL,KACxBlL,EAAMkL,KAAKumB,EAAS1B,QAAS0B,EAASzB,QAEtCyB,EAAS1B,QAAQ/vB,GAEZyxB,EAAStB,SAClB,EAEA5B,GAAMoiC,eAAiB,SAAUlB,EAAQj5D,GACvC,IAAIi4D,EAAO,CAACgB,EAAOU,aAAcV,EAAOa,eACpCI,EAAS,CACXE,WAAY3X,GAAIvmC,SAAW+7C,EAAK,IAAM,EACtCoC,YAAa5X,GAAIxmC,QAAUg8C,EAAK,IAAM,GA+DxC,MA5D6B,iBAAlBj4D,EAAOsT,QAChB4mD,EAAOE,UAAYp6D,EAAOsT,OAAO,GACjC4mD,EAAOG,WAAar6D,EAAOsT,OAAO,IAAM4mD,EAAOG,YACpB,SAAlBr6D,EAAOsT,SACM,MAAlBtT,EAAOsT,OAET4mD,EAAOE,UAAY,EACQ,MAAlBp6D,EAAOsT,OAEhB4mD,EAAOG,WAAa5X,GAAIxmC,QAAUg8C,EAAK,GACZ,MAAlBj4D,EAAOsT,OAEhB4mD,EAAOE,UAAY3X,GAAIvmC,SAAW+7C,EAAK,GACZ,MAAlBj4D,EAAOsT,OAEhB4mD,EAAOG,WAAa,EACO,OAAlBr6D,EAAOsT,QAEhB4mD,EAAOE,UAAY,EACnBF,EAAOG,WAAa,GACO,OAAlBr6D,EAAOsT,QAEhB4mD,EAAOE,UAAY3X,GAAIvmC,SAAW+7C,EAAK,GACvCiC,EAAOG,WAAa,GACO,OAAlBr6D,EAAOsT,QAEhB4mD,EAAOE,UAAY,EACnBF,EAAOG,WAAa5X,GAAIxmC,QAAUg8C,EAAK,IACZ,OAAlBj4D,EAAOsT,QAEhB4mD,EAAOE,UAAY3X,GAAIvmC,SAAW+7C,EAAK,GACvCiC,EAAOG,WAAa5X,GAAIxmC,QAAUg8C,EAAK,IAEvCiC,EAAOE,UAAYp6D,EAAOsT,QAIzBtT,EAAOs3D,QACV4C,EAAOE,UAAY,KAAKr4D,KAAKm4D,EAAOE,WAC/B3X,GAAIvmC,SAAWmxB,WAAW6sB,EAAOE,WAAc,IAChD/sB,WAAW6sB,EAAOE,WACtBF,EAAOG,WAAa,KAAKt4D,KAAKm4D,EAAOG,YAChC5X,GAAIxmC,QAAUoxB,WAAW6sB,EAAOG,YAAe,IAChDhtB,WAAW6sB,EAAOG,YACtBH,EAAOE,WAAa3X,GAAI7P,YACxBsnB,EAAOG,YAAc5X,GAAI5P,cAIS,QAAhComB,EAAO5uD,KAAK,kBACd6vD,EAAOE,UAAY3X,GAAIvmC,UAAY+8C,EAAOjnD,KAAKklD,GAAK,IAAI4C,eAAiB,GACzEI,EAAOG,WAAapB,EAAOp9C,IAAI,SAIjCo9C,EAAOp9C,IAAI,CACTtJ,IAAK2nD,EAAOE,UACZ/nD,KAAM6nD,EAAOG,aAGRH,CACT,EAOAx3D,GAAMm6D,cAAgB,SAAU9tD,EAAUtI,GAExC,OADAA,EAAQA,GAASG,EAAE,IAAMswD,GAAK,IAAIvmD,KAAK,SAChC/J,EAAE,IAAMswD,GAAK,GAAKzwD,GACtBuL,KAAK,UACLkmB,WACAlmB,KAAKjD,EACV,EAGArM,GAAMo6D,cAAgB,SAAUn0D,GAC9B,GAAKA,EACL,OAAO/B,EAAE,IAAM+B,GACZgwB,QAAQ,IAAMu+B,GAAK,IACnBvmD,KAAK,QACV,EAGAjO,GAAMq6D,WAAa,SAAUt2D,GAC3B,GAAKA,EAAL,CACA,IAAIwyD,EAASryD,EAAE,IAAMswD,GAAK,GAAKzwD,GAC3BjB,EAAUyzD,EAAO5uD,KAAK,UACtB2yD,EAAet6D,GAAMm6D,cAAc,OAAQp2D,GAAOqzD,cAClDmD,EAAchE,EAAOjnD,KAAKklD,GAAK,IAAI4C,eAAiB,EACpDC,EAAYd,EAAOjnD,KAAK,IAAMklD,GAAK,IAAI4C,eAAiB,EACxDG,EAAY,cAAez0D,EAAUA,EAAQy0D,UAAYxX,GAAIvmC,SAC7D+9C,IACF+C,EAAexsD,KAAKoP,IAAIo9C,EAAc/C,EAAYgD,EAAclD,IAElEd,EAAOp9C,IAAI,CAAEK,OAAQ8gD,EAAeC,EAAclD,IAClDd,EAAOjnD,KAAK,UAAU6J,IAAI,CAAEK,OAAQ8gD,IAEpCjlC,GAAMoiC,eAAelB,EAAQzzD,EAbjB,CAcd,EAGA9C,GAAMw6D,UAAY,SAAUz2D,EAAOiB,GACjCd,EAAE,IAAMswD,GAAK,GAAKzwD,GACfuL,KAAK,UACLrB,KAAK,MAAOjJ,EACjB,EAGAhF,GAAMkG,MAAQ,SAAUnC,EAAOjB,EAASwgD,GACtC,IAAIiT,EAASryD,EAAE,IAAMswD,GAAK,GAAKzwD,GAC3Bi2D,EAAczD,EAAOjnD,KAAK,wBAC1BlQ,EAAOm3D,EAAOtoD,KAAK,QACnBkpD,EAAYZ,EAAOjnD,KAAKklD,GAAK,IAAI4C,eAAiB,EAClDC,EAAYd,EAAOjnD,KAAK,IAAMklD,GAAK,IAAI4C,eAAiB,EAIxDh4D,IAASi2B,GAAMj2B,KAAK,IAAMA,IAASi2B,GAAMj2B,KAAK,KAI7CkkD,IACC3Y,WAAW7nC,EAAQyW,QAAU,MAC/BzW,EAAQyW,MAAQ,KAGdoxB,WAAW7nC,EAAQ0W,QAAU29C,EAAYE,GAAa,KACxDv0D,EAAQ0W,OAAS,GAAK29C,EAAYE,IAGtCd,EAAOp9C,IAAIrW,GACXu0D,EAAYd,EAAOjnD,KAAK,IAAMklD,GAAK,IAAI4C,eAAiB,EAEpDh4D,IAASi2B,GAAMj2B,KAAK,GACtBm3D,EAAOjnD,KAAK,UAAU6J,IAAI,CACxBK,QAC6B,iBAAnB1W,EAAQ0W,OACZ1W,EAAQ0W,OACR+8C,EAAO/8C,UACX29C,EACAE,IAGJ2C,EAAY7gD,IAAI,CACdK,QAC6B,iBAAnB1W,EAAQ0W,OACZ1W,EAAQ0W,OACR+8C,EAAO/8C,UACX29C,EACAE,EACA1sB,WAAWqvB,EAAY7gD,IAAI,gBAC3BwxB,WAAWqvB,EAAY7gD,IAAI,qBAGnC,EAGAnZ,GAAMkd,IAAM,SAAUnZ,EAAOjB,GAC3B,IAAIyzD,EAASryD,EAAE,IAAMswD,GAAK,GAAKzwD,GAC3B02D,EAAelE,EAAO5uD,KAAK,gBAE/B,GAAqB,QAAjB8yD,EAAJ,CACqB,QAAjBA,GAAwBz6D,GAAM6d,QAAQ9Z,GAE1CwyD,EAAO5uD,KAAK,eAAgB,OAC5B7E,EAAUA,GAAWyzD,EAAO5uD,KAAK,WAAa,CAAA,EAE9C,IAAImvD,EAAS5yD,EAAE,IAAMswD,GAAKU,MAAQnxD,GAC9B22D,EAAUnE,EAAOjnD,KAAK,oBACtB6nD,EAAYZ,EAAOjnD,KAAKklD,GAAK,IAAI4C,eAAiB,EAClDuD,EAAUpE,EAAOtoD,KAAK,WACtB2sD,EAAgC,iBAAZD,EACpBhrD,EAAOirD,EAAaD,EAAU,IAAMtlC,GAAM4+B,cAAgB,KAC1DzkD,EAAW+mD,EAAOp9C,IAAI,YAEtBxT,EAAW,CACb4T,MAFa,IAGbC,OAAQ29C,EACR3nD,SAAU,QACVqjC,SAAU,UAGZxd,GAAM0kC,OAAOxD,GAGTlhC,GAAM6+B,YAAYt1D,OAAS,IAC7B+Q,EAAO0lB,GAAM6+B,YAAY,GACzB7+B,GAAM6+B,YAAY/nC,SAIhBwe,WAAWh7B,GAjBA,IAiBmBowC,GAAIxmC,UACpC5J,EACEowC,GAAIxmC,QAnBO,KAsBT8b,GAAM6+B,YAAY2G,UAAYxlC,GAAM6+B,YAAY2G,WAAa,EACrDxlC,GAAM6+B,YAAY2G,WAAa,IAEhC,IAAGlrD,EAAO,GAInB7M,EAAQ2yD,WACV9vD,EAASgK,KAAOA,EAChBhK,EAASkK,IAAMkwC,GAAIvmC,SAAW29C,EAC9ByD,GAAcvlC,GAAM4+B,gBACpBsC,EAAOtoD,KAAK,UAAW0B,IAGzB4mD,EAAOtoD,KAAK,WAAYuB,GACxBxP,GAAMkG,MAAMnC,EAAO4B,GAAU,GAE7B+0D,EAAQ97B,OACgB,SAAxB23B,EAAOtoD,KAAK,SAAsBsoD,EAAOjnD,KAAKklD,GAAK,IAAI51B,OACvDvJ,GAAM6kC,cAAcn2D,GAGpB+yD,EAAOl4B,MAzDqB,CA0D9B,EAGA5+B,GAAM6d,QAAU,SAAU9Z,GACxB,IAAIwyD,EAASryD,EAAE,IAAMswD,GAAK,GAAKzwD,GAC3B+yD,EAAS5yD,EAAE,IAAMswD,GAAKU,MAAQnxD,GAC9Bi2D,EAAczD,EAAOjnD,KAAK,wBAC1BimD,EAAOgB,EAAOtoD,KAAK,QAAQlG,MAAM,KACjC3I,EAAOm3D,EAAOtoD,KAAK,QACnBnL,EAAUyzD,EAAO5uD,KAAK,WAAa,CAAA,EACnCmzD,EAAsBd,EAAYryD,KAAK0tD,IAE3CkB,EAAOj6B,WAAW,gBAGlBt8B,GAAMkG,MACJnC,EACA,CACEwV,MAAOg8C,EAAK,GACZ/7C,OAAQ+7C,EAAK,GACb1lD,IAAK86B,WAAW4qB,EAAK,IACrB5lD,KAAMg7B,WAAW4qB,EAAK,IACtB/lD,SAAU+mD,EAAOtoD,KAAK,YACtB4kC,SAAU,YAEZ,GAGF0jB,EAAOjnD,KAAK,oBAAoB0J,YAAY,sBAC5Cu9C,EAAOjnD,KAAK,oBAAoBovB,OACvB,SAATt/B,GAAmBm3D,EAAOjnD,KAAKklD,GAAK,IAAI91B,OAGxC57B,EAAQ6yD,UAAYtgC,GAAM6kC,cAAcn2D,GAASsxB,GAAM0hC,aAAahzD,QAGxCsJ,IAAxBytD,IACFd,EAAY19B,WAAW+4B,KAErBj2D,IAASi2B,GAAMj2B,KAAK,GAAK46D,EAAY3hD,SAAS,UAAY2hD,GACpC7gD,IAAI,CAAEK,OAAQshD,KAIxChE,EAAOp4B,MAET,EAGA1+B,GAAM65D,KAAO,SAAU91D,GACrB,IAAIwyD,EAASryD,EAAE,IAAMswD,GAAK,GAAKzwD,GAC3B02D,EAAelE,EAAO5uD,KAAK,gBAEV,QAAjB8yD,IACiB,QAAjBA,GAAwBz6D,GAAM6d,QAAQ9Z,GAE1CwyD,EAAO5uD,KAAK,eAAgB,OAC5B0tB,GAAM0kC,OAAOxD,GAEblhC,GAAM0hC,aAAahzD,GAEnBa,WAAW,WACT,IAAIm2D,EAAmC,UAA3BxE,EAAOp9C,IAAI,YACvBnZ,GAAMkG,MACJnC,EACA,CACE8L,IAAKkrD,EAAQ,EAAIhb,GAAI7P,YACrBvgC,KAAMorD,EAAQ,EAAIhb,GAAI5P,aACtB52B,MAAO,OACPC,OAAQ,SAEV,GAEF+8C,EAAOjnD,KAAK,oBAAoBsvB,MAClC,EAAG,KACL,EAGA5+B,GAAM8gB,MAAQ,SAAU7a,EAAMlC,GAChBG,EAAE,IAAMswD,GAAK,IAAMzwD,GAAS/D,GAAM+D,QAAQuL,KAAKklD,GAAK,IAC1Dt+C,KAAKjQ,EACb,EAGAjG,GAAMsa,MAAQ,SAAUvW,EAAOjG,GAC7B,IACM+3B,EADF0gC,GACE1gC,EAAU3xB,EAAE,IAAMswD,GAAK,IACxBn8C,SAAS,IAAMtU,GACf8xB,QAAQ,IAAM2+B,GAAK,KACP,IACTzwD,EAAQ8xB,EAAQ5nB,KAAK,SAAW4nB,GAClC3xB,EAAE,IAAMswD,GAAK,GAAKzwD,GAEpB3E,EAAOm3D,EAAOtoD,KAAK,QACnBnL,EAAUyzD,EAAO5uD,KAAK,WAAa,CAAA,EACnC+uD,EAAc5zD,EAAQ6D,IAAM7D,EAAQ4zD,YAExC,GAAKH,EAAO,GAAZ,CAEA,IAAIyE,EAAW,WAEb,IAAIC,EACF,CACEpnB,UAAW,4BACXmhB,UAAW,4BACXlhB,QAAS,0BACTmhB,WAAY,8BACZnyD,EAAQuvC,OAAS,mBAGjB7pC,EAAS,WACX,IAAI0yD,EAAO,mBAGX,GAAIxE,EAEF,OADAH,EAAOv9C,YAAY,cAAgBiiD,GAC5B1E,EAAO33B,OAIhB,GAAIx/B,IAASi2B,GAAMj2B,KAAK,IAAiC,WAA3Bm3D,EAAOtoD,KAAK,WAAyB,CACjEsoD,EAAOl+C,SAAS,SAAWm8C,GAAK,GAAK,KAAKhsD,SAE1C,IADA,IAAIm4B,EAAO41B,EAAOjnD,KAAK,IAAM4rD,GACpBr8D,EAAI,EAAGA,EAAI,EAAGA,IACrB8hC,EAAK0c,SAEP1c,EAAKxnB,IAAI,UAAWwnB,EAAKh5B,KAAK,YAAYqR,YAAYkiD,EACxD,KAAO,CAEL,GAAI97D,IAASi2B,GAAMj2B,KAAK,GACtB,IACE,IAAI+7D,EAASj3D,EAAE,IAAMswD,GAAK,GAAKzwD,GAAO,GACtCo3D,EAAOC,cAAcj+D,SAASk+D,MAAM,IACpCF,EAAOC,cAAc9gD,QACrBi8C,EAAOjnD,KAAK,IAAMklD,GAAK,IAAI,GAAG/uD,YAAY01D,EAC5C,CAAE,MACA,CAGJ5E,EAAO,GAAGnnD,UAAY,GACtBmnD,EAAO/tD,QACT,CAE4B,mBAArB6sB,GAAMpY,IAAIlZ,IAAyBsxB,GAAMpY,IAAIlZ,YAC7CsxB,GAAMpY,IAAIlZ,GACG,mBAAbjG,GAA2BA,IAG9Bu3B,GAAM/pB,OAAO0oD,OAAOjwD,KACtBg8C,GAAIp0C,IAAI,SAAU0pB,GAAM/pB,OAAO0oD,OAAOjwD,WAC/BsxB,GAAM/pB,OAAO0oD,OAAOjwD,GAE/B,EAEI+yD,EAAS5yD,EAAE,IAAMswD,GAAKU,MAAQnxD,GAC7B/D,GAAMuJ,IAAMvJ,GAAMuJ,GAAK,KAAQzG,EAAQ0yD,UAC1CsB,EAAOJ,EAAc,OAAS,aAE9BI,EAAO39C,IAAI,CAAEvH,QAAS,IACtBhN,WAAW,WACTkyD,EAAOJ,EAAc,OAAS,WAChC,EAAG,MAID5zD,EAAQ0yD,WACVe,EAAOz9C,SAAS,cAAgBmiD,GAGlC5lC,GAAM6kC,cAAcn2D,GAGkB,iBAA3BwyD,EAAOtoD,KAAK,aACrBonB,GAAM4+B,gBACN5+B,GAAM6+B,YAAY5vD,KAAKiyD,EAAOtoD,KAAK,aAGhCjO,GAAMuJ,IAAMvJ,GAAMuJ,GAAK,KAAQzG,EAAQ0yD,UAC1ChtD,IAEA5D,WAAW,WACT4D,GACF,EAAG,IAEP,EAEKkuD,GAAiD,mBAA3BrhC,GAAM0+B,UAAUhwD,WAelCsxB,GAAM0+B,UAAUhwD,GACvBi3D,KAfA3lC,GAAMqkC,mBAAmBrkC,GAAM0+B,UAAUhwD,MAAUiO,KACjD,SAAU3I,IACO,IAAXA,WACKgsB,GAAM0+B,UAAUhwD,GACvBi3D,IAEJ,EACA,SAAUrB,QACGtsD,IAAXssD,GACEv8D,OAAOmC,SACPnC,OAAOmC,QAAQL,MAAM,qBAAuBy6D,EAChD,EArGY,CA2GlB,EAGA35D,GAAM22D,SAAW,SAAUv3D,EAAMtB,GACX,mBAATsB,IACTtB,EAAWsB,EACXA,EAAO,MAET,IAAIk8D,EAAWp3D,EAAE,IAAMswD,GAAK,IAC5BtwD,EAAEJ,KAAKw3D,EAAU,SAAUrzD,GACzB,IAAI+I,EAAQ9M,EAAElG,MACV22B,EAAKv1B,EAAO4R,EAAM/C,KAAK,UAAY7O,EAAO,EAC9Cu1B,GACE30B,GAAMsa,MACJtJ,EAAM/C,KAAK,SACXhG,IAAWqzD,EAAS18D,OAAS,EAAId,EAAW,MAEhD62B,EAAK,IACP,GACwB,IAApB2mC,EAAS18D,QAAkC,mBAAbd,GAA2BA,GAC/D,EAGAkC,GAAMu7D,UAAY,SAAUn8D,EAAMtB,GAChC,IAAI09D,EAAiB,GACjBC,EAAcv3D,EAAE6B,QAAQ3G,GAW5B,GAVA8E,EAAkB,iBAAT9E,EAAoB,gBAAkBA,EAAO,gBAAgB0E,KACpE,SAAUjF,EAAGmW,GACX,IAAIuhD,EAASryD,EAAE8Q,GAIf,GAFGymD,IAAqD,IAAtCr8D,EAAKsD,QAAQ6zD,EAAOtoD,KAAK,UACf,SAA1BsoD,EAAOp9C,IAAI,WACG,OAAO,EACvBqiD,EAAel3D,KAAK4+C,OAAOqT,EAAOtoD,KAAK,UACzC,GAEEutD,EAAe58D,OAAS,EAAG,CAC7B,IAAI88D,EAAgB5tD,KAAKkP,IAAIxY,MAAM,KAAMg3D,GACzCx7D,GAAMsa,MAAMohD,EAAe59D,EAC7B,CACF,EAMA,IAAIJ,GAAQsC,GAAMtC,OAAS,CAAA,EACvB62D,GAAO,SAAUn1D,GACnB,OAAO1B,GAAM62D,KAAO,IAAM72D,GAAM62D,KAAO,IAAM72D,GAAM62D,KAAO,IAAMn1D,EAAO,EACzE,EAGAY,GAAM6f,OAAS,SAAU/c,EAASsxD,GAChC,IAwBIv0C,EAxBA3Z,EAAQ,GACRkY,EAAc,GAIdu9C,EAAgB,CAClB,EAAG,OACH,EAAG,WACH,EAAG,YAQL,IAdA74D,EAAUA,GAAW,CAAA,GAQT84D,YAAYD,IACtB74D,EAAQ84D,SAAWD,EAAc74D,EAAQ84D,WAGpB,mBAAZ94D,IAAwBsxD,EAAMtxD,GAErCA,EAAQyyD,KAAM,CAChB,IAAIA,EAAOzyD,EAAQyyD,KACnBrvD,EAAQ,iBAAmBqvD,EAAK,GAAK,aAAeA,EAAK,GAAK,YACvDzyD,EAAQyyD,IACjB,CACIzyD,EAAQsb,cACVA,EAAc,iBAAmBtb,EAAQsb,YAAc,KAGzD,IAAImY,EACkB,YAApBzzB,EAAQ84D,SACJ,sCACA11D,EACAkY,EACA,eAGI,iBACCtb,EAAQ84D,UAAY,QACrB,8BACAx9C,EACA,IAIN09B,EAAUh5C,EAAQg5C,QAGtB,cAFOh5C,EAAQg5C,QAER97C,GAAMqa,KACXnW,EAAEwB,OACA,CACEtG,KAAM,EACNklD,IAAK,CAAC3iD,EAAKkiB,GAAG,iBAAkBliB,EAAKkiB,GAAG,iBACxC0S,QAASA,EACTg+B,KAAM,qBAAuBA,GAAK,UAClC9qB,SAAUsW,GAAIxmC,QACduiC,QAAS,SAAUya,IACjB12C,EAAS02C,EAAOjnD,KAAK,uBACdoK,IAAI5W,EAAQgE,OAAS,IAAIopB,QACb,mBAAZ4rB,GAA0BA,EAAQya,EAC3C,EACAvC,QAAQ,EACRI,IAAK,SAAUrwD,GACb,IAAI+C,EAAQ+Y,EAAOnG,MACf5S,EAAMlI,QAAUkE,EAAQ+4D,WAAa,KACvC77D,GAAM2xD,KACJhwD,EAAKkiB,GAAG,iCAAkC,CACxCjlB,OAAQkE,EAAQ+4D,WAAa,MAE/Bh8C,EACA,CAAE8xC,KAAM,IAGVyC,GAAOA,EAAIttD,EAAO/C,EAAO8b,EAE7B,GAEF/c,GAGN,EAGA9C,GAAMY,IAAM,SAAUkC,GAGpB,IAAIlC,GAFJkC,EAAUA,GAAW,CAAA,GAEHlC,KAAO,CAAA,EACrBmkD,EAAO,aACPjJ,EAAUh5C,EAAQg5C,QAItB,cAFOh5C,EAAQg5C,QAER97C,GAAMqa,KACXnW,EAAEwB,OACA,CACEtG,KAAM,EACNm1D,KAAM,kBAAoBA,GAAK,OAC/BP,QAAQ,EACRlzC,MAAQ,WACN,IAAI3W,EAAMvJ,EAAIhC,OACZ8Z,EAAK,EACL7K,EAAM,GACR,GAAI1D,EAAM,EAER,IADA0D,EAAM,gBAAkBk3C,EAAO,KAAOnkD,EAAI,GAAGkgB,MAAQ,UAC9CpI,EAAKvO,EAAKuO,IACf7K,GAAO,SAAWjN,EAAI8X,GAAIoI,MAAQ,UAGtC,OAAOjT,CACT,CAXQ,GAYR0oB,QACE,mCACC,WACC,IAAIpsB,EAAMvJ,EAAIhC,OACZ8Z,EAAK,EACL7K,EAAM,GACR,GAAI1D,EAAM,EAOR,IANA0D,EACE,gCACAk3C,EACA,MACCnkD,EAAI,GAAG21B,SAAW,cACnB,QACK7d,EAAKvO,EAAKuO,IACf7K,GACE,kCACCjN,EAAI8X,GAAI6d,SAAW,eACpB,QAGN,OAAO1oB,CACT,CAnBC,GAoBD,QACFiuC,QAAS,SAAUya,GACjB,IAAIjS,EAAMiS,EAAOjnD,KAAK,sBAAsB+I,WACxCyyC,EAAOyL,EAAOjnD,KAAK,wBAAwB+I,WAC/CisC,EAAIzgD,GAAG,YAAa,SAAU5B,GAC5BA,EAAEiJ,gBAAkBjJ,EAAEiJ,kBAAqBjJ,EAAEkJ,cAAe,EAC5D,IAAI6F,EAAQ9M,EAAElG,MACZ+F,EAAQiN,EAAMjN,QAChBiN,EAAM8H,SAASisC,GAAMnwB,WAAW5b,YAAY+rC,GAC5C+F,EAAKrlC,GAAG1hB,GAAO26B,OAAO9J,WAAWgK,OACP,mBAAnB97B,EAAQikD,QAAyBjkD,EAAQikD,OAAOhjD,EACzD,GACmB,mBAAZ+3C,GAA0BA,EAAQya,EAC3C,GAEFzzD,GAGN,EAGA9C,GAAM+f,OAAS,SAAUjd,EAASg5D,EAAM5zD,GACtC,IAAIqwD,EAAO,CAAA,EAYX,IATAz1D,EAAUoB,EAAEwB,QACV,EACA,CACEq2D,SAAS,EACTnS,QAAQ,GAEV9mD,IAGWid,OAAb,CAGA,IAAInH,IACwB,iBAAnB9V,EAAQid,QAAuBjd,EAAQid,kBAAkB7b,GAE9D6b,EAASnH,EAAW9V,EAAQid,OAAS,CAAA,EACrCpY,EAAOoY,EAAOpY,MAAQ,GACtBoV,EAAQgD,EAAOhD,OAAS,EACxB++B,EAAUh5C,EAAQg5C,QAOtB,GALAyc,EAAKyD,SAAyB,GAAL,EAARj/C,GACjBja,EAAQsE,IAAMtE,EAAQsE,KAAO,aACtBtE,EAAQg5C,QAGVljC,GA0CE,GAAoB,IAAhBjR,EAAK/I,OACd,OAAOoB,GAAMb,IAAIwC,EAAKkiB,GAAG,4BA3CZ,CAEb,IAAIuL,EAASlrB,EAAEpB,EAAQid,QACrBk8C,EAAW,WACTt0D,EAAO,GACPynB,EAAO9f,KAAKxM,EAAQsE,KAAKtD,KAAK,SAAUC,GACtC,IAAIiN,EAAQ9M,EAAElG,MACdgT,EAAM/C,KAAK,cAAelK,GAC1B4D,EAAKrD,KAAK,CACR43D,IAAKlrD,EAAM/C,KAAK,OAChBkuD,IAAKnrD,EAAM/C,KAAK,aAChBzP,IACEwS,EAAM/C,KAAK,YACX+C,EAAM/C,KAAK,cACX+C,EAAM/C,KAAK,OACbmuD,MAAOprD,EAAM/C,KAAK,QAEtB,EACF,EAuBF,GArBAguD,IAEAH,GACE1sC,EAAOvrB,GAAG,QAASf,EAAQsE,IAAK,WAC9B60D,IACA,IACEl4D,EADUG,EAAElG,MACEiQ,KAAK,eACrBjO,GAAM+f,OACJ7b,EAAEwB,OAAO5C,EAAS,CAChBid,OAAQ,CACNhD,MAAOhZ,EACP4D,KAAMA,EACN/G,IAAKkC,EAAQlC,KAEfi5D,KAAM/2D,EAAQ+2D,QAEhB,EAEJ,IAGGiC,EAAM,MACb,CAKAvD,EAAK8D,QAAU,SAAUn0D,GACvBqwD,EAAKyD,WACDzD,EAAKyD,SAAW,IAClBzD,EAAKyD,SAAWr0D,EAAK/I,QAEvB25D,EAAK+D,OAAOp0D,EACd,EAGAqwD,EAAKgE,QAAU,SAAUr0D,EAAKs0D,GAC5BjE,EAAKyD,WACDzD,EAAKyD,SAAWr0D,EAAK/I,SACvB25D,EAAKyD,SAAW,EACZQ,IAINjE,EAAK+D,OAAOp0D,EACd,EAGAqwD,EAAKkE,MAAQ,SAAU5+D,GACrB,IAAK06D,EAAKt7C,IAAK,CACb,IAAIzb,EAAO3D,EAAM0nC,QACjB1nC,EAAM0U,iBACO,KAAT/Q,EACF+2D,EAAK8D,SAAQ,GACK,KAAT76D,EACT+2D,EAAKgE,SAAQ,GACK,KAAT/6D,GACTxB,GAAMsa,MAAMi+C,EAAKx0D,MAErB,CACF,EAGAw0D,EAAK+D,OAAS,SAAUp0D,GACtB,KAAIP,EAAK/I,QAAU,GAGnB,OAFAmhB,EAAOhD,MAAQw7C,EAAKyD,SAAW,EAC/Bh8D,GAAMsa,MAAMi+C,EAAKx0D,OACV/D,GAAM+f,OAAOjd,GAAS,EAAMoF,EACrC,EAEAqwD,EAAKmE,SAAW,SAAU7nC,GACxB,MAAoB,iBAANA,IAAmBhqB,MAAMgqB,EACzC,EAEA0jC,EAAK52C,MAAQ,CAAA,EAEb42C,EAAKoE,aAAe,SAAUjuD,GAC5B,IAAIkuD,EAAa,GACb58C,EAAStR,EAAKsR,OACdC,EAASvR,EAAKuR,OACd+d,EAAQtvB,EAAKsvB,MAcjB,OAZIu6B,EAAKmE,SAAS18C,IAAsB,IAAXA,GAC3B48C,EAAWt4D,KAAK,UAAY0b,EAAS,QAGnCu4C,EAAKmE,SAASz8C,IAAsB,IAAXA,GAC3B28C,EAAWt4D,KAAK,UAAY2b,EAAS,KAGnCs4C,EAAKmE,SAAS1+B,IAChB4+B,EAAWt4D,KAAK,SAAW05B,EAAQ,KAG9B4+B,EAAWh+D,OAASg+D,EAAWvrD,KAAK,KAAO,MACpD,EAGAknD,EAAK16D,MAAQ,SAAU04D,EAAQxyD,EAAOP,GAEpC+0D,EAAKzN,KAAKx7C,KAAK,4BAA4BzL,GAAG,QAAS,SAAUhG,GAC/DA,EAAM0U,iBACNgmD,EAAK8D,SAAQ,EACf,GAGA9D,EAAKzN,KAAKx7C,KAAK,4BAA4BzL,GAAG,QAAS,SAAUhG,GAC/DA,EAAM0U,iBACNgmD,EAAKgE,SAAQ,EACf,GAEAr4D,EAAE/G,UAAU0G,GAAG,QAAS00D,EAAKkE,OAG7BlG,EAAO5qD,IAAI,SAAS9H,GAAG,QAAS,mBAAoB,WAClD,IAAImN,EAAQ9M,EAAElG,MAEd,OADYgT,EAAM/C,KAAK,kBAErB,IAAK,SACHsqD,EAAK52C,MAAM3B,SACPu4C,EAAK52C,MAAM3B,QAAU,GAAKkjC,OAAOlyC,EAAM/C,KAAK,iBAC9C,IACFsqD,EAAKsE,QAAQ1jD,IAAI,CACf2jD,UAAWvE,EAAKoE,aAAapE,EAAK52C,SAEpC,MACF,IAAK,SACH42C,EAAK52C,MAAM1B,QAA+B,IAAtBs4C,EAAK52C,MAAM1B,OAAgB,GAAI,EACnDs4C,EAAKsE,QAAQ1jD,IAAI,CACf2jD,UAAWvE,EAAKoE,aAAapE,EAAK52C,SAEpC,MACF,IAAK,OACH,IAAIo7C,EAAQ7Z,OAAOlyC,EAAM/C,KAAK,gBAC9BsqD,EAAK52C,MAAMqc,OAASu6B,EAAK52C,MAAMqc,OAAS,GAAK++B,EAEzCA,EAAQ,GAAKxE,EAAK52C,MAAMqc,MAAQ,EAAI++B,IACtCxE,EAAK52C,MAAMqc,MAAQ,EAAI++B,GAEzBxE,EAAKsE,QAAQ1jD,IAAI,CACf2jD,UAAWvE,EAAKoE,aAAapE,EAAK52C,SAEpC,MACF,IAAK,QACH42C,EAAK52C,MAAM1B,OAAS,EACpBs4C,EAAK52C,MAAMqc,MAAQ,EACnBu6B,EAAK52C,MAAM3B,OAAS,EACpBu4C,EAAKsE,QAAQ1jD,IAAI,CACf2jD,UAAW,SAEb,MACF,IAAK,QACH98D,GAAMsa,MAAMvW,GAGhBP,EAAKoN,SACLpN,EAAKokD,KAAK7jD,EACZ,GAGAw0D,EAAKzN,KAAKjnD,GAAG,4BAA6B,SAAU5B,GAClD,IAAI6qC,EAAQ7qC,EAAE2hC,cAAco5B,aAAe/6D,EAAE2hC,cAAckB,OACvDm4B,EAAW1E,EAAKzN,KAAKx7C,KAAK,0BAC1Bw9B,EAAQ,EACVmwB,EAASx3C,GAAG,GAAGkc,QAAQ,SAEvBs7B,EAASx3C,GAAG,GAAGkc,QAAQ,SAEzB1/B,EAAEsQ,gBACJ,GAGA,IAAI2qD,EAAmB,SAAUj7D,EAAGuQ,GAClC,IAAIs9B,EAAWxqC,KAAK8N,MAAQZ,EAAMQ,UAC9BigC,EAAQzgC,EAAMK,UAAYi9B,EAC1BqtB,EAAYpd,GAAIxmC,QAAU,GAE5BzL,KAAKyF,IAAI0/B,GAAS,KAAQnlC,KAAKyF,IAAIf,EAAMK,WAAasqD,KAEhC,SAApB3qD,EAAMO,UACRwlD,EAAKgE,SAAQ,GACgB,UAApB/pD,EAAMO,WACfwlD,EAAK8D,SAAQ,GAEjB,EAEAn4D,EAAEJ,KAAK,CAACN,EAAKszD,OAAQyB,EAAKzN,MAAO,SAAUjsD,EAAGyN,GAC5CvM,EAAIsS,WAAW/F,EAAM,CACnBoH,WAAYwpD,GAEhB,EACF,EAmBA3E,EAAK6E,MAAQp9D,GAAM8jC,KAAK,EAAG,CACzBmjB,QAAO,UAAWnkD,IAAkB,CAAC,QAAKuK,EAAW,SACrDsoD,WAAW,IAlBb,SAAmB3wD,EAAKlH,GACtB,IAAIsJ,EAAM,IAAIC,MAEd,GADAD,EAAI5I,IAAMwG,EACNoC,EAAIE,SACN,OAAOxJ,EAASsJ,GAElBA,EAAIG,OAAS,WACXH,EAAIG,OAAS,KACbzJ,EAASsJ,EACX,EACAA,EAAII,QAAU,SAAUvF,GACtBmF,EAAII,QAAU,KAsJdxH,GAAMsa,MAAMi+C,EAAK6E,OACjBp9D,GAAMb,IACJ,wCACEwC,EAAKkiB,GAAG,gCACR,UACF,CACE9E,KAAM,IACNulC,IAAK,CACH3iD,EAAKkiB,GAAG,iCACRliB,EAAKkiB,GAAG,iCAEVuwC,IAAK,WACHzsD,EAAK/I,OAAS,GAAK25D,EAAKgE,SAAQ,GAAM,EACxC,GAjKN,CACF,CAOAc,CACE11D,EAAKoV,GAAOve,IACZ,SAAU4I,GACRpH,GAAMsa,MAAMi+C,EAAK6E,OAEjB,IAsDc/yD,EAtDV6xD,EAAMv0D,EAAKoV,GAAOm/C,KAAO,GAGzBh0D,IAAKpF,EAAQuvC,MAAO,GAGxBkmB,EAAKx0D,MAAQ/D,GAAMqa,KACjBnW,EAAEwB,OACA,CACEtG,KAAM,EACNuH,GAAI,qBACJ4uD,KAAO,WACL,IAAI+H,EAAU,CAACl2D,EAAImS,MAAOnS,EAAIoS,QAC1B+jD,EAAU,CAACr5D,EAAE9G,QAAQmc,QAAU,IAAKrV,EAAE9G,QAAQoc,SAAW,KAG7D,IACG1W,EAAQ+2D,OACRyD,EAAQ,GAAKC,EAAQ,IAAMD,EAAQ,GAAKC,EAAQ,IACjD,CACA,IAAIC,EAAK,CAACF,EAAQ,GAAKC,EAAQ,GAAID,EAAQ,GAAKC,EAAQ,IACpDC,EAAG,GAAKA,EAAG,IAEbF,EAAQ,GAAKA,EAAQ,GAAKE,EAAG,GAC7BF,EAAQ,GAAKA,EAAQ,GAAKE,EAAG,IACpBA,EAAG,GAAKA,EAAG,KACpBF,EAAQ,GAAKA,EAAQ,GAAKE,EAAG,GAC7BF,EAAQ,GAAKA,EAAQ,GAAKE,EAAG,GAEjC,CAEA,MAAO,CAACF,EAAQ,GAAK,KAAMA,EAAQ,GAAK,KAC1C,CArBO,GAsBPx8C,OAAO,EACPmmC,MAAO,CAAC,QAAK55C,EAAW,SACxBusD,YAAY,EACZnF,UAAU,EACVa,KAAM,+BACNI,SAAU,EACVC,WAAW,EACXmD,SAAS,EACTzmB,KAAM,EACNmjB,WAAW,EACXjB,KAAM,qBAAuBA,GAAK,UAClCh+B,QACE,kDAEA5uB,EAAKoV,GAAOve,IACZ,UACA09D,EACA,iBACCv0D,EAAKoV,GAAOo/C,KAAO,IACpB,MAEM9xD,EAAM,CAAC,4CAGP1C,EAAK/I,OAAS,GAChByL,EAAI/F,KACF,CACE,wCACA,2EACA,4EACA,UACA+M,KAAK,KAKPvO,EAAQi5D,SACV1xD,EAAI/F,KACF,CACE,qEACA,wDACE3C,EAAKkiB,GAAG,6BACR,yDACF,uCACEliB,EAAKkiB,GAAG,6BACR,wDACF,uDACEliB,EAAKkiB,GAAG,6BACR,4DACF,wDACEliB,EAAKkiB,GAAG,8BACR,+DACF,sCACEliB,EAAKkiB,GAAG,4BACR,2DACF,sCACEliB,EAAKkiB,GAAG,4BACR,uDACF,UACAxS,KAAK,KAKPvO,EAAQ8mD,QACVv/C,EAAI/F,KACF,CACE,qEACA,OAAS43D,EAAM,QACf,OAAS3D,EAAKyD,SAAW,MAAQr0D,EAAK/I,OAAS,QAC/C,YACE+I,EAAKoV,GAAOve,IACZ,qBACAmD,EAAKkiB,GAAG,4BACR,OACF,UACAxS,KAAK,KAIXhH,EAAI/F,KAAK,UACF+F,EAAIgH,KAAK,IAElB,UACFyqC,QAAS,SAAUya,EAAQxyD,EAAOP,GAChC+0D,EAAKzN,KAAOyL,EAAOjnD,KAAK,4BACxBipD,EAAK3O,OAAS2M,EAAOjnD,KAAK,8BAC1BipD,EAAKsE,QAAUtE,EAAKzN,KAAKzyC,SAAS,OAClCkgD,EAAK16D,MAAM04D,EAAQxyD,EAAOP,GAC1BV,EAAQlC,KAAOkC,EAAQlC,IAAI+G,EAAKoV,GAAQw5C,GACrB,mBAAZza,GAA0BA,EAAQya,EAC3C,EACAt5C,IAAK,WACHs7C,EAAKt7C,KAAM,EACX/Y,EAAE/G,UAAUwO,IAAI,QAAS4sD,EAAKkE,MAChC,GAEF35D,GAGN,EArYmB,CAyZvB,EAGAuyB,GAAMsa,IAAM,SAAU2R,GACpB,IAAIp9C,EAAIo9C,EACRvB,GAAM77C,EAAE9G,QAKR,IAAIyL,EAAQC,UAAUC,UAAUC,cAC5By0D,EAAW,+BAA+Bp+D,KAAKwJ,GAC/C60D,EAAOx5D,EAAE9G,QACTqgE,GACFv5D,EAAEJ,KACA,CAAEu8C,OAAQ,SAAUC,MAAO,SAC3B,SAAUqd,EAAYnd,GACpB,IAAIod,EAAW,QAAUD,EACzB5d,GAAIS,GAAY,WACd,OAAOod,KAAYxgE,OAASA,OAAOwgE,GAAYF,EAAKld,IACtD,CACF,GAGJgU,GAAKt+C,KAAOhS,EAAE,QACdlE,GAAMqa,KAAO,SAAUwjD,GAErB,OADQ,IAAI9/D,GAAM8/D,GACT95D,KACX,CACF,EAEA/D,GAAM4H,KAAOvE,EAAM3F,MAAMqB,IACzBiB,GAAMq1B,QACNA,GAAMsa,IAAIzrC,GC7qEV,IAAI2F,GAAOxG,EAAMwG,OAIbi0D,GACF,wEACEC,GACF,6FAGEx8D,GAAO,CAETy8D,OAAQ,SAAUl7D,GAChB,IAAIm7D,EAAO,eACPC,EAAOh6D,EAAE/G,UAGb2F,EAAUoB,EAAEwB,QACV,EACA,CACEsH,OAAQ,OACRmxD,KAAM,GACNx6C,SAAS,EACTnT,OAAQ,IACRs/B,SAAU,KAEZhtC,GAIF,IAAIs7D,EAAUl6D,EAAEpB,EAAQkK,QAGpBqxD,EAAUv7D,EAAQyuD,OAClBrtD,EAAEpB,EAAQyuD,QACVrtD,EAAqB,SAAnBpB,EAAQkK,OAAoBkxD,EAAOE,GAGrCt7D,EAAiB,UAEfA,EAAQw7D,MACVx7D,EAAQq7D,KAAK75D,KAAK,CAChBlF,KAAM,OACNs1D,KAAM,oBAGN5xD,EAAQy7D,MACVz7D,EAAQq7D,KAAK75D,KAAK,CAChBlF,KAAM,OACNs1D,KAAM,oBAIV5xD,EAAQq7D,KAAK75D,KAAK,CAChBlF,KAAM,MACNs1D,KAAM,oBAIV,IACI8J,EAwEApsB,EAzEA9lC,EAAOpI,EAAE,QAAQ4U,SAASmlD,GA2D9B,GAvDA56D,EAAMS,KAAKhB,EAAQq7D,KAAM,SAAUt/D,EAAGmF,GACpC,IAAIy6D,EAAUv6D,EAAE,2BAGhBu6D,EACG3lD,SAAS9U,EAAK0wD,MACdzmD,KAAK,CACJ,WAAYjK,EAAK5E,KACjB8G,MACElC,EAAKkC,QACJpD,EAAQ47D,QAAU,qBAAuB57D,EAAQ47D,QAAU,MAE/DxoD,KAAKlS,EAAKuyB,SAGbkoC,EAAQ56D,GAAG,QAAS,WAClB,IAAIzE,EAAO8E,EAAElG,MAAMiQ,KAAK,YACX,QAAT7O,IACkB,SAAnB0D,EAAQkK,OAAoB9I,EAAE,aAAem6D,GAAS/qB,QACrD,CACEpD,UAAW,GAEbptC,EAAQgtC,UAGa,mBAAlBhtC,EAAQkhC,OAAwBlhC,EAAQkhC,MAAM/5B,KAAKjM,KAAMoB,EAClE,GAG+B,WAA3BiE,EAAMjE,KAAK0D,EAAQe,KACrBR,EAAMS,KAAKhB,EAAQe,GAAI,SAAU4H,EAAW3N,GAC1C2gE,EAAQ56D,GAAG4H,EAAW,WACpB,IAAIrM,EAAO8E,EAAElG,MAAMiQ,KAAK,YACJ,mBAAbnQ,GAA2BA,EAASmM,KAAKjM,KAAMoB,EACxD,EACF,GAIgB,QAAd4E,EAAK5E,OACPq/D,EAAQ3lD,SAAS,oBACjB0lD,EAAaC,GAGfnyD,EAAKiD,OAAOkvD,EACd,GAGAL,EAAQ9uD,KAAK,IAAM2uD,GAAMz1D,SAGF,iBAAhB1F,EAAQqW,KAAoB7M,EAAK6M,IAAIrW,EAAQqW,KACpDilD,EAAQ7uD,OAAOjD,GAGXkyD,EACF,IAAItmC,EACAymC,EAAa,SAASA,IAOxB,OANUN,EAAQnuB,aACPptC,EAAQ0N,OACjB0nB,IAASsmC,EAAW9/B,OAASxG,EAAO,GAEpCA,IAASsmC,EAAW5/B,OAAS1G,EAAO,GAE/BymC,CACT,CARiB,GAanBN,EAAQx6D,GAAG,SAAU,WACd86D,IACLzyD,aAAakmC,GACbA,EAAQxtC,WAAW,WACjB+5D,GACF,EAAG,KACL,EACF,EAGAC,UAAW,SAAU97D,GAInBA,EAAUoB,EAAEwB,QACV,EACA,CACEgZ,KAAM,IAAIpZ,KACV8N,IAAK,IAAI9N,MAEXxC,GAIF,IAAIkJ,EAAOC,UACPD,EAAKpN,OAAS,IAChBkE,EAAQ4b,KAAO,IAAIpZ,KAAK0G,EAAK,IAC7BlJ,EAAQsQ,IAAM,IAAI9N,KAAK0G,EAAK,IAC5BlJ,EAAQ+7D,MAAQ7yD,EAAK,IAIvB,IAAImR,EAAO,CACTra,QAASA,EACTwY,MAAO,WAELpP,aAAaiR,EAAKi1B,MACpB,EACAgQ,OAAQ,SAAU1zC,GAEhB1Q,KAAKsd,QACLpX,EAAEwB,QACA,EACA1H,KAAK8E,QACL,CACEsQ,IAAK,IAAI9N,MAEXoJ,GAEFwuB,GACF,GAGuB,mBAAlBp6B,EAAQuyB,OAAwBvyB,EAAQuyB,QAG/C,IAAI6H,EAAS,SAASt5B,IACpB,IAE2Bmb,EAFvBL,EAAO,IAAIpZ,KAAKxC,EAAQ4b,MACxBtL,EAAM,IAAI9N,KAAKxC,EAAQsQ,KACvB0rD,GAAuB//C,EAExBL,EAAKnZ,UAAY6N,EAAI7N,WADR,EAAIwZ,EAAO,EAEvB1V,EAAS,CACX01D,EAAGjxD,KAAK2I,MAAMqoD,EAAS,OACvBE,EAAGlxD,KAAK2I,MAAMqoD,EAAS,MAAuB,GAC9CxzC,EAAGxd,KAAK2I,MAAMqoD,EAAS,KAAkB,GACzCxnB,EAAGxpC,KAAK2I,MAAMqoD,EAAY,KAAQ,IAqBpC,OAZI9yD,EAAKpN,OAAS,IAAGyK,EAAS,CAACA,EAAO01D,EAAG11D,EAAO21D,EAAG31D,EAAOiiB,EAAGjiB,EAAOiuC,IAGpEn6B,EAAKi1B,MAAQxtC,WAVF,WACTwO,EAAI6rD,QAAQ7rD,EAAI7N,UAAY,KAC5BzC,EAAQsQ,IAAMA,EACd8pB,GACF,EAM8B,KACL,mBAAlBp6B,EAAQ+7D,OAAwB/7D,EAAQ+7D,MAAMx1D,EAAQ8T,GAGzD2hD,GAAa,IACf5yD,aAAaiR,EAAKi1B,OACM,mBAAjBtvC,EAAQf,MAAuBe,EAAQf,KAAKsH,EAAQ8T,IAGtDvZ,CACT,CAhCa,GAkCb,OAAOuZ,CACT,EAGAgF,QAAS,SAAUpD,EAAMmgD,GACvB,IAAI17D,EAAOxF,KACPqM,EAAM,CAAC,GAAI,IACX80D,GAAQ,IAAI75D,MAAOC,UAAY,IAAID,KAAKyZ,GAAMxZ,UAGlD,OAAI45D,EAAQ,SACVA,EAAQ,IAAI75D,KAAKyZ,GACjB1U,EAAI,GAAG,GAAK7G,EAAKmK,MAAMwxD,EAAM3W,cAAe,GAC5Cn+C,EAAI,GAAG,GAAK7G,EAAKmK,MAAMwxD,EAAM1W,WAAa,GAC1Cp+C,EAAI,GAAG,GAAK7G,EAAKmK,MAAMwxD,EAAMzW,WAGxBwW,IACH70D,EAAI,GAAG,GAAK7G,EAAKmK,MAAMwxD,EAAMrW,YAC7Bz+C,EAAI,GAAG,GAAK7G,EAAKmK,MAAMwxD,EAAMpW,cAC7B1+C,EAAI,GAAG,GAAK7G,EAAKmK,MAAMwxD,EAAMnW,eAExB3+C,EAAI,GAAGgH,KAAK,KAAO,IAAMhH,EAAI,GAAGgH,KAAK,MAI1C8tD,GAAS,MACJx9D,EAAKkiB,GAAG,oBAAqB,CAClCzB,KAAO+8C,EAAQ,IAAO,GAAK,GAAK,GAAM,IAE/BA,GAAS,KACXx9D,EAAKkiB,GAAG,qBAAsB,CACnCxB,MAAQ88C,EAAQ,IAAO,GAAK,GAAM,IAE3BA,GAAS,KAEXx9D,EAAKkiB,GAAG,uBAAwB,CACrCvB,QAAU68C,EAAQ,IAAO,GAAM,IAExBA,EAAQ,EACVx9D,EAAKkiB,GAAG,uBAERliB,EAAKkiB,GAAG,uBAEnB,EAGAlW,MAAO,SAAUC,EAAKhP,GACpB,IAAIiP,EAAM,GAEVjP,EAASA,GAAU,EACnB,IAAK,IAAIC,GAFT+O,EAAM5D,OAAO4D,IAEIhP,OAAQC,EAAID,EAAQC,IACnCgP,GAAO,IAET,OAAOD,EAAME,KAAKC,IAAI,GAAInP,GAAUiP,GAAa,EAAND,GAAWA,CACxD,EAGA6U,aAAc,SAAU1D,EAAMsnC,EAAQvjD,GAEpC,GAAa,OAATic,GAA0B,KAATA,EAAa,MAAO,GAEzC,IAAIvb,EAAOxF,KA4BP0gB,EA1BgB,SAAUA,GAC5B,QAAoB,IAATA,EACT,OAAO,IAAIpZ,KAEb,IAAKuF,MAAM6T,GACT,OAAO,IAAIpZ,KAAqB,iBAAToZ,EAAoB5B,SAAS4B,GAAQA,GAE9D,GAAoB,iBAATA,IAAsB,MAAMrf,KAAKqf,GAAO,CACjD,IAAIqgD,EAAIrgD,EAAKhb,MAAMq6D,IACnB,GAAIgB,EAAG,CACL,IAAIzzC,EAAIyzC,EAAE,GAAK,GAAK,EAChBxT,GAAMwT,EAAE,IAAM,KAAK//D,UAAU,EAAG,GACpC,OAAO,IAAIsG,KACTy5D,EAAE,GACFzzC,EACAyzC,EAAE,IAAM,EACRA,EAAE,IAAM,EACRA,EAAE,IAAM,EACRA,EAAE,IAAM,EACRxT,EAEJ,CACF,CAEA,OAAO,IAAIjmD,KAAKoZ,EAClB,CACW0gD,CAAcrgD,GAEzB,IAAKL,EAAKgqC,UACR,OACE7+C,GAAK3K,MAAM,4DACX,GAGJ,IAAImgE,EAAQ3gD,EAAK8pC,cACbxC,EAAQtnC,EAAK+pC,WACbrmC,EAAO1D,EAAKgqC,UACZrmC,EAAQ3D,EAAKoqC,WACbxmC,EAAU5D,EAAKqqC,aACfJ,EAAUjqC,EAAKsqC,aACfsW,EAAe5gD,EAAK6gD,kBAEpBC,EAAkB79D,EAAKkiB,GAAG,8BAE1BnB,EAAY5f,GAAWA,EAAQ28D,gBAAmBD,EAElDv4C,EAAU,CACZy4C,GAAI,WACF,OAAO11D,OAAOq1D,GAAO96D,OAAM,EAC7B,EACAo7D,KAAM,WACJ,OAAOn8D,EAAKmK,MAAM0xD,EAAO,EAC3B,EACA3T,EAAG,WACD,OAAO1hD,OAAOg8C,EAAQ,EACxB,EACA4Z,GAAI,WACF,OAAOp8D,EAAKmK,MAAMq4C,EAAQ,EAC5B,EACA+Y,EAAG,WACD,OAAO/0D,OAAOoY,EAChB,EACAy9C,GAAI,WACF,OAAOr8D,EAAKmK,MAAMyU,EACpB,EACA09C,EAAG,WACD,OAAO91D,OAAOqY,EAChB,EACA09C,GAAI,WACF,OAAOv8D,EAAKmK,MAAM0U,EACpB,EACA28C,EAAG,WACD,OAAOh1D,OAAOqY,EAAQ,IAAM,GAC9B,EACA29C,GAAI,WACF,OAAOx8D,EAAKmK,MAAM0U,EAAQ,IAAM,GAClC,EACA49C,EAAG,WACD,OAAOv9C,EAASL,EAAOC,EACzB,EACAgJ,EAAG,WACD,OAAOthB,OAAOsY,EAChB,EACA49C,GAAI,WACF,OAAO18D,EAAKmK,MAAM2U,EACpB,EACAg1B,EAAG,WACD,OAAOttC,OAAO2+C,EAChB,EACAwX,GAAI,WACF,OAAO38D,EAAKmK,MAAMg7C,EACpB,EACAyX,IAAK,WACH,OAAO58D,EAAKmK,MAAM2xD,EAAc,EAClC,GAKF,OAFAjZ,EAASA,GAAU,uBAELphD,QAAQ64D,GAAc,SAAUp6D,EAAO28D,GACnD,OAAOA,GAAOp5C,EAAQvjB,IAAUujB,EAAQvjB,MAAaA,CACvD,EACF,EAGAuS,OAAQlW,EAAIkW,OAGZE,SAAUpW,EAAIoW,SAGdmqD,QAAS,SAAUx9D,GACjB,IAAIi9C,EAEJA,GADAj9C,EAAUA,GAAW,CAAA,GAEX1F,QACRA,OAAOid,KAAKvX,EAAQkC,KAAO,GAAIlC,EAAQkK,OAAQlK,EAAQy9D,OACrDz9D,EAAQkC,MACZ+6C,EAAI5iD,SAASkd,KAAK,YAAa,WAC/B0lC,EAAI5iD,SAASk+D,MAAMv4D,EAAQyzB,SAAW,IACtCwpB,EAAI5iD,SAASmd,QACf,EAGAkmD,cAAe,SAAU19D,GAUvB,IATAA,EAAUoB,EAAEwB,OACV,CACE8K,OAAQ,IACRs/B,SAAU,IACV1wC,KAAM,KAER0D,IAGW29D,WAAW,IAAO39D,EAAQ49D,SAAS,GAAhD,CAEA,IAAID,EAAa39D,EAAQ29D,WACrBC,EAAW59D,EAAQ49D,SACnBC,EAA4B,MAAjB79D,EAAQ1D,KACnBwhE,EAAcD,EAAW,YAAc,aACvCE,EAAcF,EAAW,MAAQ,OACjCG,EAAcL,EAAWG,KACzBG,EAAON,EAAWE,EAAW,SAAW,WACxCK,EAAeP,EAAW7vD,SAASiwD,GACnCI,EAAaP,EAAS9vD,SAASiwD,GAAeG,EAC9Ch5D,EAAM,CAAA,GAGNi5D,EAAaF,EAAOj+D,EAAQ0N,QAAUywD,EAAan+D,EAAQ0N,UAC7DxI,EAAI44D,GAAeK,EAAaF,EAAO,EAAID,EAC3CL,EAAWntB,QAAQtrC,EAAKlF,EAAQgtC,UAhBkB,CAkBtD,EAWAjsC,GAAI,SAAUoK,EAAM3C,EAAQxI,GAEN,iBAATmL,IACTnL,EAAUwI,GAAU,CAAA,EACpBA,EAAS2C,EACTA,EAAOnL,EAAQmL,MAAQ,UAgBzB,IAAI3B,GAZJxJ,EAAUoB,EAAEwB,OACV,CACE4G,KAAM,OACNq1B,QAAS,SAEQ,iBAAZ7+B,EACHA,EACA,CACE6+B,QAAS7+B,KAIGwJ,KAAOpI,EAAEpB,EAAQwJ,MACjC40D,EAAe,IAAMjzD,EAAO,IAC5BkzD,EAAW,eAEf,GAAK70D,EAAK,GAAV,CAGKA,EAAK3E,KAAKw5D,IACb70D,EAAK3E,KAAKw5D,EAAU,CAClB71D,OAAQ,CAAA,IAKZ,IAAI81D,EAAY90D,EAAK3E,KAAKw5D,GAGtBj5D,EAAM+F,EAAO,IAAMnL,EAAQ6+B,QAG/Br2B,EAAS81D,EAAU91D,OAAOpD,GAAOhE,EAAEwB,QACjC,EACA07D,EAAU91D,OAAOpD,GACjBoD,GAIF,IAAIq2B,EAAU7+B,EAAQ6+B,QAAU,eAWhC,OAVAr1B,EAAKX,IAAIg2B,EAASu/B,GAGlB50D,EAAKzI,GAAG89B,EAASu/B,EAAc,SAAUj/D,GACvC,IAAI+O,EAAQ9M,EAAElG,MACVkT,EAAYF,EAAM/C,KAAKA,GACE,mBAAtB3C,EAAO4F,IACZ5F,EAAO4F,GAAWjH,KAAKjM,KAAMgT,EAAO/O,EACxC,GAEOqJ,CAlCO,CAmChB,GAIF/J,GAAK1D,MAAQ0D,GAAKsC,GC/flB,IACIw9D,GADSh+D,EAAMuF,SACWgB,OAAS,aAAe,YAGlD63C,GAAW,WAEX6f,GADY,SAAW7f,GACJ8f,gBACnB5f,GAAS,OAASF,GAAW,MAE7B+f,GAAiBzhE,EAAI4W,2BAA2B8qC,IAGhDnhD,GAAW,CACbhD,OAAQ,CACNmkE,WAAY,CAEV96D,GAAI,KACJma,MAAO,QACPzI,SAAU,UAKdiF,IAAK,SAAUxa,GACb,IAAIU,EAAOxF,KAEX,OADAwF,EAAKlG,OAAS4G,EAAEwB,OAAO,CAAA,EAAIlC,EAAKlG,OAAQwF,GACjCU,CACT,EAGAK,GAAI,SAAUyH,EAAQxN,GACpB,OAAOuF,EAAMgI,QAAQpB,KAAKjM,KAAMyjD,GAAUn2C,EAAQxN,EACpD,GAIE6b,GAAa,WACf,IAAInW,EAAOxF,KACP8E,EAAUU,EAAKlG,OACfqJ,EAAK7D,EAAQ6D,GAEjB,MAAO,CACLrJ,OAAQwF,EAERs/C,OAAQ,SAAUt/C,GAChBU,EAAK4+C,OAAOn4C,KAAKzG,EAAMV,EACzB,EACA4+D,WAAY,SAAU5+D,GACpBxC,GAASohE,WAAW/6D,EAAI7D,EAC1B,EACAwX,MAAO,WACL9W,EAAKgF,QACP,EACA6R,KAAM,WACJ7W,EAAKoW,QACP,EAEJ,EAOI+nD,GAAc,qBACdC,GAAgB,uBAChBC,GAAiB,wBACjBC,GAAiB,wBACjBC,GAAkB,yBAElBC,GAAmB,0BACnBC,GAAoB,2BACpBC,GAAiB,wBACjBC,GAAmB,6BACnBC,GAAiB,uBAEjBC,GAAkB,IAAMP,GAAiB,KAAOD,GAGhD9jE,GAAQ,SAAU+E,GACpB,IAAIU,EAAOxF,KACXwF,EAAKO,MAAQzD,GAASyD,MAAQhE,EAAI0O,gBAAgB,YAClDjL,EAAKlG,OAAS4G,EAAEwB,OAAO,CAAA,EAAIlC,EAAKlG,OAAQgD,GAAShD,OAAQwF,GACzDU,EAAK8+D,sBAAwBp+D,EAAEiiB,KAC/B3iB,EAAK++D,gBAAkBr+D,EAAEiiB,KACzB3iB,EAAKwhB,MACP,EAGAjnB,GAAM6E,UAAUtF,OAAS,CACvBqkC,QAAS,QACTpL,QAAS,GACTxd,UAAW,GACX7S,MAAO,GACPw4B,MAAM,EACN8jC,eAAe,EACfC,cAAc,EACd96D,KAAM,GACN0sC,MAAO,CAAC,IAAK,KACb4S,MAAO,EACPyb,WAAW,EACXC,cAAc,GAIhB5kE,GAAM6E,UAAUw/C,OAAS,SAAUt/C,EAAS1D,GAC1C,IAAIoE,EAAOxF,KACXwF,EAAKlG,OAAS4G,EAAEwB,OAAO,CAAA,EAAIlC,EAAKlG,OAAQwF,GACxCU,EAAKwhB,MAAK,EAAM5lB,EAClB,EAGArB,GAAM6E,UAAUoiB,KAAO,SAAUu9B,EAAUnjD,GACzC,IAAIoE,EAAOxF,KACP8E,EAAUU,EAAKlG,OAGfgP,EAAOpI,EAAEpB,EAAQwJ,MACrB,GAAIA,EAAK1N,OAAS,EAQhB,OAPAyE,EAAMS,KAAKwI,EAAM,WACfhM,GAASsZ,OACP1V,EAAEwB,OAAO,CAAA,EAAI5C,EAAS,CACpBwJ,KAAMtO,OAGZ,GACOwF,EAOT,GAHAU,EAAEwB,OAAO5C,EAAS/C,EAAI+C,QAAQwJ,EAAK,MAG9Bi2C,GAAYj2C,EAAK2B,KAAK0zC,IAAS,CAClC,IAAIc,EAAU9oC,GAAWmpC,QAAQx2C,EAAK2B,KAAK0zC,KAC3C,IAAKc,EAAS,OACd,OAAOA,EAAQL,OAAOt/C,EAAS1D,EACjC,CAEA0D,EAAQwJ,KAAOpI,EAAEpB,EAAQwJ,MACzBxJ,EAAQkK,OAAS9I,EAAE,QAGnBpB,EAAQ6D,GAAK,OAAQ7D,EAAUA,EAAQ6D,GAAK2F,EAAK2B,KAAK,OAASzK,EAAKO,MAEpE4V,GAAWnW,KAAKV,EAAQ6D,IAAMnD,EAC9B8I,EAAK2B,KAAK0zC,GAAQ7+C,EAAQ6D,IAG1B7D,EAAQ2+D,WAAav9D,EAAEwB,OACrB,CAAA,EACApF,GAAShD,OAAOmkE,WAChB3+D,EAAQ2+D,YAIc,UAApB3+D,EAAQ6+B,UACV7+B,EAAQ6+B,QAAU,eAKlB7+B,EAAQ47B,MACE,eAATt/B,GACCoE,EAAKo/D,UACL9/D,EAAQkK,OAAOsC,KAAK9L,EAAKo/D,SAASzwD,IAAI,IAAIvT,SAE5C4E,EAAKoW,OAAOxa,GAGdoE,EAAK8H,QACP,EAGAvN,GAAM6E,UAAUgX,OAAS,SAAUxa,GACjC,IAmKIwjE,EA7JEC,EANFr/D,EAAOxF,KACP8E,EAAUU,EAAKlG,OACfmkE,EAAa3+D,EAAQ2+D,WAkBrBqB,EAAe,SAAUnf,EAAOh8C,GAiIlC,OA9HAtE,EAAMS,KAAK6D,EAAM,SAAU5D,EAAOC,GAEhC,IAAI++D,EACF/+D,EAAKy9D,EAAWppD,WAAarU,EAAKy9D,EAAWppD,UAAUzZ,OAAS,EAC9D6jE,EACF,iBAAkBz+D,EAAOA,EAAKy+D,aAAe3/D,EAAQ2/D,aACnD3hD,EAAS,SAAUA,GACrB,IAAIkiD,EAAUh/D,EAAKg/D,SAAWlgE,EAAQkgE,QAOtC,OANIA,IACFliD,EACqB,mBAAZkiD,EACHA,EAAQh/D,GACR7D,EAAO6iE,GAASppD,OAAO5V,IAExB8c,CACT,CATa,CASVvf,GAAK0U,OAAOjS,EAAKy9D,EAAW3gD,SAG3B1hB,GACE2jE,IACF/+D,EAAK5E,KAAO4E,EAAK5E,MAAQ,UAEvB4E,EAAK5E,KAEL,CACE6jE,MAAO,QACP7zC,OAAQ,SACR,IAAK,KACLprB,EAAK5E,OAAS,SAGb,IAGT,GACW,MAATA,GACC4E,EAAKy9D,EAAW3gD,QAChB9c,EAAKy9D,EAAW96D,KAChBo8D,EAJH,CASA,IAwBUG,EApBEnqD,EAJRoqD,EAASj/D,EACX,CACE,OAEQ6U,EAAY,CACdkqD,MACE,yBACCngE,EAAQ0/D,cACLC,EACE,wBACA,sBACF,IACNrzC,OAAQ2yC,GACR,IAAK,4BAEHgB,GAAW3jE,EACN,WAAa2Z,EAAU3Z,GAAQ,IAEjC4E,EAAKknB,SAAW,0BAAkC,IAE3D,MAIIg4C,EACF,SAAUl/D,EACN,YACAA,EAAK0C,KACL,cACC1C,EAAKgJ,QAAU,SAChB,KACA8T,EACA,OACAA,EAGFiiD,EAEA,eACAlB,GACA,KACAqB,GAEe,WAAT9jE,EACK,8CACW,UAATA,GAAoB0D,EAAQ0/D,cAEnC,oCACCC,EAAe,KAAO,QACvB,SAGK,IAGX,SAGG,eAAiBZ,GAAiB,KAAOqB,EAAW,UAE7D,SACA7xD,KAAK,KAMT,GAHA8xD,EAAOx7D,KAAK,OAAQ3D,GAGhB++D,EAAS,CACX,IAAIK,EAAYl/D,EACd,yDAEE2+D,EAAS3+D,EAAE,aAEF,WAAT9E,GACFgkE,EAAU7zD,OAAOuzD,EAAaD,EAAQ7+D,EAAKy9D,EAAWppD,YACtD8qD,EAAO5zD,OAAO6zD,IAEdD,EAAO5zD,OAAOuzD,EAAaD,EAAQ7+D,EAAKy9D,EAAWppD,WAEvD,CAEAsrC,EAAMp0C,OAAO4zD,EApFX,CAqFJ,GACOxf,CACT,EAGI0f,EAAW,CACb,0FACE1hB,GACA,KACA7+C,EAAQ6D,GACR,KACF,UACA0K,KAAK,IAIHklB,EAAUzzB,EAAQyzB,UA9JhBssC,EAAS3+D,EAAE,oDACXpB,EAAQ6E,KAAK/I,OAAS,EACxBkkE,EAAaD,EAAQ//D,EAAQ6E,MAE7Bk7D,EAAO3sD,KACL,oCACEvU,EAAKkiB,GAAG,mBACR,SAGCg/C,GAqJLS,EAAkB3pD,GAAW4pD,aAAazgE,EAAQ6D,IACtD,GAAa,eAATvH,GAAyBkkE,EAAgB1kE,OAE3CgkE,EAAWp/D,EAAKo/D,SAAWU,EAC3BA,EAAgBptD,KAAKqgB,OAChB,EAELqsC,EAAWp/D,EAAKo/D,SAAW1+D,EAAEm/D,IACpB9zD,OAAOgnB,GAGhBqsC,EAAS9pD,SAAShW,EAAQiW,WAC1B6pD,EAAS30D,KAAK,QAASnL,EAAQoD,OAG/B1C,EAAKgF,OAAO1F,EAAQ6D,IACpB7D,EAAQkK,OAAOuC,OAAOqzD,GACtB9/D,EAAQwJ,KAAK3E,KAAK25D,IAAkB,GAGpC,IAAIra,EAAQnkD,EAAQmkD,MAChB,eACAmb,GADA,qBAIGQ,EAASzpD,IAAI,WAAa,GAC3B,wBACCrW,EAAQmkD,MAAM,IAAM,QACrB,eACCnkD,EAAQmkD,MAAM,IAAMnkD,EAAQmkD,OAC/B,WACA,GACAuc,EAAYt/D,EAAE+iD,GAEO,eAArBoa,IACFmC,EAAU3/D,GAAGw9D,GAAkB,SAAUp/D,GACvCA,EAAEsQ,gBACJ,GAEFqwD,EAAS3nD,OAAOuoD,GAGQ,eAApB1gE,EAAQ6+B,SACVihC,EACG/+D,GAAG,aAAc,WAChBqI,aAAa1I,EAAK4uC,MACpB,GACCvuC,GAAG,aAAc,WAChBL,EAAKigE,aACP,EAEN,CAEAjgE,EAAKgM,WAGLozD,EAAStzD,KAAK,eAAezL,GAAGw9D,GAAkB,SAAUp/D,GAC1DoB,EAAM2H,MAAM/I,EACd,GAGA2gE,EAAStzD,KAAK,kBAAkBzL,GAAG,QAAS,SAAU5B,GACpD,IAAI+O,EAAQ9M,EAAElG,MACV2J,EAAOqJ,EAAMrJ,KAAK,SAAW,CAAA,EAC7Bo7D,EACFp7D,EAAK85D,EAAWppD,WAAa1Q,EAAK85D,EAAWppD,UAAUzZ,OAAS,EAC9D8kE,EAAyC,QAAvB5gE,EAAQ6gE,WAE1Bh8D,EAAKujB,UAGH63C,IAAWW,GAAkC,MAAd/7D,EAAKvI,QAMhC,KAJmB,mBAAlB0D,EAAQkhC,MACXlhC,EAAQkhC,MAAMr8B,EAAMqJ,EAAO/O,GAC3B,OAEW8gE,GAAWv/D,EAAKgF,SACjCnF,EAAM2H,MAAM/I,GAEhB,GAGA2gE,EAAStzD,KAAK+yD,IAAiBx+D,GAAG,QAAS,SAAU5B,GACnD,IACI2hE,EADQ1/D,EAAElG,MACQoxB,SAGJ,WAFPw0C,EAAUj8D,KAAK,SAAW,CAAA,GAE5BvI,MAAoB0D,EAAQ0/D,eACnC7oD,GAAWkqD,OAAOD,EAAW9gE,EAAQ4/D,UAEzC,GAEAl/D,EAAK6Q,iBACL7Q,EAAKsgE,qBAGoB,mBAAlBhhE,EAAQuyB,OAAwBvyB,EAAQuyB,MAAMutC,EAAU9/D,EAAQwJ,KACzE,EAGAvO,GAAM6E,UAAU4M,SAAW,SAAUxH,GACnC,IAAIxE,EAAOxF,KACP8E,EAAUU,EAAKlG,OAEnByC,EAAIyP,SAAS1M,EAAQwJ,KAAK,GAAI9I,EAAKo/D,SAAS,GAAI,CAC9CpzD,SAAU1M,EAAQ0M,SAClBvN,EAAGuB,EAAKvB,EACRwN,UAA+B,gBAApB3M,EAAQ6+B,QAA4B,QAAU,KACzDlxB,MAAO3N,EAAQ2N,OAAS,MAE5B,EAGA1S,GAAM6E,UAAU4F,OAAS,SAAU7B,GACjCA,EAAKA,GAAM3I,KAAKV,OAAOqJ,GACvB,IAAInD,EAAOmW,GAAWmpC,QAAQn8C,GAC9B,GAAKnD,EAAL,CAEA,IAAIV,EAAUU,EAAKlG,OACfslE,EAAWjpD,GAAW4pD,aAAa58D,GACvCnD,EAAK8+D,wBACL9+D,EAAK++D,kBAGDK,EAAS,KACXA,EAAStiD,KAAK,IAAM8hD,IAAgB55D,SACpCo6D,EAASp6D,SACT1F,EAAQwJ,KAAKgwB,WAAWglC,IACC,mBAAlBx+D,EAAQwX,OAAwBxX,EAAQwX,MAAMxX,EAAQwJ,MAZpD,CAcb,EAEAvO,GAAM6E,UAAUmhE,gBAAkB,WAChC,IACIjhE,EADO9E,KACQV,OACf+2C,EAAQ,GAAGj/B,OAAOtS,EAAQuxC,OAE9B,MAAO,CACL3V,KAAM2V,EAAM,GACZzV,UAAmBvxB,IAAbgnC,EAAM,GAAmBA,EAAM,GAAKA,EAAM,GAEpD,EAGAt2C,GAAM6E,UAAU6gE,YAAc,WAC5B,IAAIjgE,EAAOxF,KACGwF,EAAKlG,OACnB4O,aAAa1I,EAAK4uC,OAElB5uC,EAAK4uC,MAAQxtC,WAAW,WACtBpB,EAAKgF,QACP,EAAGhF,EAAKugE,kBAAkBnlC,KAC5B,EAGA7gC,GAAM6E,UAAU0I,OAAS,WACvB,IAAI9H,EAAOxF,KACP8E,EAAUU,EAAKlG,OAGf0mE,EAAmC,eAApBlhE,EAAQ6+B,QACvBA,EAAU7+B,EAAQ6+B,QAAU,uBAG5Bn+B,EAAKygE,eAAezgE,EAAKygE,cAAct4D,IAAIg2B,GAC/Cn+B,EAAKygE,cAAgBnhE,EAAQwJ,KAG7BxJ,EAAQwJ,KAAKX,IAAIg2B,GAAS99B,GAAG89B,EAAS,SAAU1/B,GAC9CiK,aAAa1I,EAAK4uC,OAClB5uC,EAAKvB,EAAIA,EAGT,IAAIiiE,EAASphE,EAAQwJ,KAAK3E,KAAK25D,IAG3B0C,EACGE,IACH1gE,EAAK4uC,MAAQxtC,WAAW,WACtBpB,EAAKoW,QACP,EAAGpW,EAAKugE,kBAAkBrlC,OAIxB57B,EAAQ6/D,cAAgBuB,GAA8B,UAApBphE,EAAQ6+B,QAC5Cn+B,EAAKgF,SAELhF,EAAKoW,SAIT3X,EAAEsQ,gBACJ,GAGIyxD,GAEFlhE,EAAQwJ,KAAKzI,GAAG,aAAc,WAC5BL,EAAKigE,aACP,EAEJ,EAKA1lE,GAAM6E,UAAUyR,eAAiB,WAC/B,IAAI7Q,EAAOxF,KACP8E,EAAUU,EAAKlG,OACf6mE,EAAgC,gBAApBrhE,EAAQ6+B,QACpBrwB,EAAYvR,EAAIuR,UAAUxO,EAAQwJ,KAAK,IAE3C9I,EAAK8+D,wBAEL,IAAIxlC,EAAO/8B,EAAIsU,eACb7Q,EAAKo/D,SAAS,GACd,SAAU3gE,GAE8B,mBAA3Ba,EAAQuR,iBAEG,IADFvR,EAAQuR,eAAepS,IAI3CuB,EAAKgF,QACP,EACA,CACEkM,OAAQyvD,GAAa7yD,EAAY,KAAO,CAACxO,EAAQwJ,KAAK,IACtDzO,MAAOwjE,GACPzsD,SAAS,EACTC,cAAc,IAIlBrR,EAAK8+D,sBAAwB,WAC3BxlC,IACAt5B,EAAK8+D,sBAAwBp+D,EAAEiiB,IACjC,CACF,EAKApoB,GAAM6E,UAAUkhE,mBAAqB,WACnC,IAAItgE,EAAOxF,KACP8E,EAAUU,EAAKlG,OAEnBkG,EAAK++D,kBAEL,IAAI6B,EAAsB,aACpB5gE,EAAKo/D,UAAcp/D,EAAKo/D,SAAS,IAAOp/D,EAAKo/D,SAASjuC,GAAG,eAErC,gBAApB7xB,EAAQ6+B,QACVn+B,EAAKgF,SAELhF,EAAKgM,WAET,EACAtL,EAAE9G,QAAQyG,GAAG,6BAA8BugE,GAE3C,IAAIC,EAAsB7C,IAAsC,gBAApB1+D,EAAQ6+B,QAChD2iC,EAAYxhE,EAAQwJ,KAAK,GACzBi4D,EAAY/gE,EAAKo/D,SAAS,GAC1ByB,IACF7C,GAAepqD,QAAQktD,EAAWpgE,EAAE88C,MAAMx9C,EAAKgM,SAAUhM,IACzDg+D,GAAepqD,QAAQmtD,EAAWrgE,EAAE88C,MAAMx9C,EAAKgM,SAAUhM,KAG3DA,EAAK++D,gBAAkB,WACrBr+D,EAAE9G,QAAQuO,IAAI,6BAA8By4D,GACxCC,IACF7C,GAAelqD,UAAUgtD,GACzB9C,GAAelqD,UAAUitD,IAG3B/gE,EAAK++D,gBAAkBr+D,EAAEiiB,IAC3B,CACF,EAGAxM,GAAWnW,KAAO,CAAA,EAGlBmW,GAAWmpC,QAAU,SAAUn8C,GAC7B,QAAW0G,IAAP1G,EACF,MAAM,IAAIuf,MAAM,wBAElB,OAAOvM,GAAWnW,KAAKmD,EACzB,EAGAgT,GAAW4pD,aAAe,SAAU58D,GAClC,OAAOzC,EAAE,mBAAuBy9C,GAAS,KAAOh7C,EAAK,KACvD,EAGAgT,GAAWkqD,OAAS,SAAU7yD,EAAOwzD,GACnC,IAAIxK,EAAchpD,EAAMqH,SAAS,MAC7BosD,EAAazzD,EAAMiI,SAAS0oD,IAI5Br6D,EAAW,WACbpD,EAAElG,MAAMmb,IAAI,CAAEwkB,QAAS,IACzB,EAGA,IAAIq8B,EAAYrlC,GAAG,eAGf8vC,GACFzzD,EAAMgI,YAAY2oD,IAAa7oD,SAAS8oD,IACxC5H,EAAYp7B,OAAO9B,OAAO+W,UAbd,IAaiCvsC,KAG7C0yD,EAAYl9B,OAAOgX,QAhBP,IAgBwBxsC,GACpC0J,EAAMgI,YAAY4oD,IAAe9oD,SAAS6oD,KAIxC8C,GAAcD,GAAa,CAC7B,IAAIE,EAAY1zD,EAAM4jB,SAAS,IAAMgtC,IACrC8C,EAAUrsD,SAAS,MAAMykB,OAAOgX,QAvBpB,IAuBqCxsC,GACjDo9D,EAAU1rD,YAAY4oD,IAAe9oD,SAAS6oD,GAChD,CACF,EAGA,WACE,IAAIgD,EAAOzgE,EAAE9G,QACTg7D,EAAOl0D,EAAE/G,UAGTynE,EAAU,2CACdxM,EAAKv0D,GAAG,QAAS+gE,EAAS,SAAU3iE,GAClC,IAAI+O,EAAQ9M,EAAElG,MACVoxB,EAASpe,EAAMilB,QAAQ,eAAexQ,GAAG,GACzCs9C,EACF/xD,EAAMiI,SAAS6oD,KAAmB9wD,EAAMiI,SAAS8oD,IAC/Cv2D,EAAS4jB,EAAOnhB,KAAK,eAAiBmhB,EAAOnhB,KAAK,MAClDnL,EAAU/C,EAAI+C,QAAQ9E,MAGtBgT,EAAMiI,SAtmBK,4BAymBV8pD,IAEH3zC,EAAO9f,KAAK,IAAM0yD,IAAkBhpD,YAAYgpD,IAChD5yC,EAAO9f,KAAK,IAAM2yD,IAAmBjpD,YAAYipD,IACjDjxD,EAAM8H,SAASkpD,IACfhxD,EAAMilB,QAAQ,IAAM8rC,IAAiBjpD,SAASmpD,IAE9Cn/D,EAAQge,MACNhe,EAAQge,OAAS5c,EAAE5E,KAAK0R,EAAMqH,SAAS,IAAMwpD,IAAgB3yD,QAG/D7L,EAAMxF,MAAMoM,KAAKjM,KAAMyjD,GAAU,SAAWj2C,EAAS,IAAK1I,GAE9D,GAGAs1D,EAAKv0D,GAAG,QAAS+gE,EAAUvC,GAAiB,SAAUpgE,GACpD,IAAI+O,EAAQ9M,EAAElG,MACV4lE,EAAY5yD,EAAMilB,QAAQ,IAAM6rC,GAAiB,UACjDh/D,EAAU/C,EAAI+C,QAAQ8gE,EAAU,IAChCY,EAEF,iBADOxzD,EAAMilB,QAAQ,eAAexQ,GAAG,GAAGxX,KAAK,iBAG7C,kBAAmBnL,IAAUA,EAAQ0/D,eACvC7oD,GAAWkqD,OAAOD,EAAWY,EAEjC,GAGA,IAAIK,EAAc,gBAAkB9C,GACpC3J,EACGv0D,GAAG,aAAcghE,EAAa,SAAU5iE,GACvC,IACImhE,EADQl/D,EAAElG,MACQsR,KAAK,IAAM4yD,IAEjC,GAAKkB,EAAU,GAAf,CACA,IAAI1zD,EAAO0zD,EAAU,GAAGnzD,wBAGpBP,EAAKK,MAAQ40D,EAAKprD,UACpB6pD,EAAUtqD,SAASqpD,KAEnBzyD,EAAO0zD,EAAU,GAAGnzD,yBACXN,KAAO,GACdyzD,EAAUpqD,YAAYmpD,KAKtBzyD,EAAKM,OAAS20D,EAAKnrD,UACrB4pD,EAAU39C,GAAG,GAAGtM,IAAI,eAAgBzJ,EAAKM,OAAS20D,EAAKnrD,SAAW,GAfjD,CAiBrB,GACC3V,GAAG,aAAcghE,EAAa,SAAU5iE,GACvC,IACImhE,EADQl/D,EAAElG,MACQqa,SAAS,IAAM6pD,IAErCkB,EAAUpqD,YAAYmpD,IACtBiB,EAAUjqD,IAAI,aAAc,EAC9B,EACH,CA/ED,GAkFA7Y,GAASga,MAAQ,SAAU3T,GACzB,IAAInD,EAAOmW,GAAWmpC,QAAQn8C,GAC9B,OAAKnD,GAELA,EAAKgF,SACEmR,GAAW1P,KAAKzG,IAHLxF,IAIpB,EAGAsC,GAAS+Z,KAAO,SAAU1T,GACxB,IAAInD,EAAOmW,GAAWmpC,QAAQn8C,GAC9B,OAAKnD,GAELA,EAAKoW,SACED,GAAW1P,KAAKzG,IAHLxF,IAIpB,EAGAsC,GAAS8hD,OAAS,SAAUz7C,EAAI7D,EAAS1D,GACvC,IAAIoE,EAAOmW,GAAWmpC,QAAQn8C,GAC9B,OAAKnD,GAELA,EAAK4+C,OAAOt/C,EAAS1D,GACdua,GAAW1P,KAAKzG,IAHLxF,IAIpB,EAGAsC,GAASohE,WAAa,WACpB,IAAI11D,EAAO9H,EAAEwB,OAAO,GAAIuG,WACxBD,EAAK,GAAK,aAGV,IAAI84D,EAAa,IAAI17D,OACnB,KAAO,CAAC,OAAQ,UAAW,WAAWiI,KAAK,KAAO,MAUpD,OANAhO,EAAMS,KAAKkI,EAAK,GAAI,SAAU9D,EAAKpB,GAC5Bg+D,EAAWzlE,KAAK6I,WACZ8D,EAAK,GAAG9D,EAEnB,GAEO5H,GAAS8hD,OAAO59C,MAAM,KAAMwH,EACrC,EAGA1L,GAASsZ,OAAS,SAAU9W,GAC1B,IAAIqa,EAAO,IAAIpf,GAAM+E,GACrB,OAAO6W,GAAW1P,KAAKkT,EACzB,ECpyBA,IAAIzb,GAAYqjE,EAAiB,CAC/B9+D,KAAM,SACN3I,OAAQ,CACN8B,KAAM,UACN8d,IAAK,EACLF,IAAK,IACLlW,MAAO,EACPkpC,KAAM,EACNg1B,UAAU,EACVrT,MAAM,EACNsT,YAAY,EACZ13C,OAAO,EACPg5B,OAAO,EACP/sC,OAAQ,IACR0R,UAAU,EACV44B,MAAO,WAETlC,MAAO,CACLsjB,UAAW,eACXC,WAAY,mBACZC,YAAa,oBACbC,gBAAiB,wBACjBC,YAAa,oBACbC,aAAc,qBACdC,iBAAkB,yBAClBC,iBAAkB,yBAClBC,WAAY,sBAEd9rD,OAAQ,WACN,IAEIokB,EAFAx6B,EAAOxF,KACP8E,EAAUU,EAAKlG,OAUnB,GANIwF,EAAQktC,MAAQ,IAAGltC,EAAQktC,KAAO,GAGlCltC,EAAQka,IAAMla,EAAQoa,MAAKpa,EAAQka,IAAMla,EAAQoa,IAAMpa,EAAQktC,MAG/DltC,EAAQyjD,MAAO,CACjBzjD,EAAQgE,MACkB,iBAAjBhE,EAAQgE,MACXhE,EAAQgE,MACR,CAAChE,EAAQoa,IAAKpa,EAAQgE,OAC5B,IAAI6+D,EAAW73D,KAAKoP,IAAIpa,EAAQgE,MAAM,GAAIhE,EAAQgE,MAAM,IACtD8+D,EAAW93D,KAAKkP,IAAIla,EAAQgE,MAAM,GAAIhE,EAAQgE,MAAM,IACtDhE,EAAQgE,MAAM,GAAKgH,KAAKkP,IAAI2oD,EAAU7iE,EAAQoa,KAC9Cpa,EAAQgE,MAAM,GAAKgH,KAAKkP,IAAI4oD,EAAU9iE,EAAQoa,KAC9Cpa,EAAQgE,MAAM,GAAKgH,KAAKoP,IAAIpa,EAAQgE,MAAM,GAAIhE,EAAQka,KACtDla,EAAQgE,MAAM,GAAKgH,KAAKoP,IAAIpa,EAAQgE,MAAM,GAAIhE,EAAQka,KAEtD,IAAI6oD,GACA/iE,EAAQgE,MAAM,GAAKhE,EAAQoa,MAAQpa,EAAQka,IAAMla,EAAQoa,KAAQ,IACjE4oD,GACAhjE,EAAQgE,MAAM,GAAKhE,EAAQoa,MAAQpa,EAAQka,IAAMla,EAAQoa,KAAQ,IACrE8gB,EAAQ8nC,EAAWD,EAAW,IAC9BA,GAAsB,IACtBC,GAAsB,GACxB,KAE8B,iBAAjBhjE,EAAQgE,QACjBhE,EAAQgE,MAAQgH,KAAKoP,IAAI1Y,MAAM,KAAM1B,EAAQgE,QAI3ChE,EAAQgE,MAAQhE,EAAQoa,MAAKpa,EAAQgE,MAAQhE,EAAQoa,KACrDpa,EAAQgE,MAAQhE,EAAQka,MAAKla,EAAQgE,MAAQhE,EAAQka,KAEzDghB,GACIl7B,EAAQgE,MAAQhE,EAAQoa,MAAQpa,EAAQka,IAAMla,EAAQoa,KAAQ,IAChE,IAIJ,IAAI4mC,EAAQhhD,EAAQooB,SAAW,UAAYpoB,EAAQghD,MAG/CrxB,EACF,6BACkB,aAAjB3vB,EAAQ1D,KAAsB,wBAA0B,IACzD,MACC0D,EAAQ6uD,KACL,eACA/P,GAAM0jB,YACN,MACCxiE,EAAQmiE,WAAa,GAAK,yBAC3B,UACA,IACJ,mDACAnhB,EACA,MACkB,aAAjBhhD,EAAQ1D,KAAsB,SAAW,SAC1C,IACA4+B,EACA,KACkB,aAAjBl7B,EAAQ1D,KAAsB,SAAW,QAC1C,KACCymE,GAAY,GACb,mDACkB,aAAjB/iE,EAAQ1D,KAAsB,SAAW,QAC1C,KACCymE,GAAY7nC,GAvBb,kEA0BA8lB,EACA,mBACChhD,EAAQyjD,MACL,0CACkB,aAAjBzjD,EAAQ1D,KAAsB,SAAW,QAC1C,IACA0mE,EACA,kEACAhiB,EACA,kBACA,IACJ,SAEE9yC,EAAQ9M,EAAEpB,EAAQwJ,MAClBy5D,EAAY/0D,EAAMuP,KAAK,IAAMqhC,GAAMsjB,WA4BvC,GA1BAa,EAAU,IAAMA,EAAUv9D,SAC1BhF,EAAKwiE,SAAW9hE,EAAEuuB,GAGd3vB,EAAQyjD,OACV/iD,EAAKwiE,SACF12D,KAAK,IAAMsyC,GAAMwjB,aACjB3/C,GAAG,GACH9d,KAAK,QAAS7E,EAAQgE,MAAM,IAC/BtD,EAAKwiE,SACF12D,KAAK,IAAMsyC,GAAMwjB,aACjB3/C,GAAG,GACH9d,KAAK,QAAS7E,EAAQgE,MAAM,KAE/BtD,EAAKwiE,SAAS12D,KAAK,IAAMsyC,GAAMwjB,aAAaz9D,KAAK,QAAS7E,EAAQgE,OAIpEkK,EAAMkF,KAAK1S,EAAKwiE,UAGK,aAAjBljE,EAAQ1D,MACVoE,EAAKwiE,SAASxsD,OAAO1W,EAAQ0W,OAAS,MAIpC1W,EAAQkiE,SAAU,CAGpB,IAFA,IAAIvmD,GAAU3b,EAAQka,IAAMla,EAAQoa,KAAOpa,EAAQktC,KACjDhsC,EAAO,GACAnF,EAAI,EAAGA,EAAI4f,EAAS,EAAG5f,IAAK,CACnC,IAAImxC,EAAY,IAAJnxC,EAAW4f,EACnBuxB,EAAO,MACThsC,GACE,0CACkB,aAAjBlB,EAAQ1D,KAAsB,SAAW,QAC1C,IACA4wC,EACA,YAEN,CACAxsC,EAAKwiE,SAASz2D,OAAOvL,EACvB,CAGA,GAAIlB,EAAQyqB,QAAUzqB,EAAQyjD,MAAO,CACnC,IAAI0f,EAAY/hE,EACd,uPAEF8M,EAAMmI,IAAI,WAAY,YACtBnI,EAAMzB,OAAO02D,GACbj1D,EACG1B,KAAK,IAAMsyC,GAAM4jB,kBACjBntD,SAAS,SACTqB,IAAI5W,EAAQgE,OACM,aAAjBhE,EAAQ1D,KACV6mE,EAAU9sD,IAAI,CACZxJ,KAAM,EACNE,KAAK,KAGPrM,EAAKwiE,SAAS7sD,IAAI,eAAgB8sD,EAAUhP,aAAe,GAE/D,CAgBA,SAASiP,EAAiBC,GACxB,IAAIr/D,EAAQq/D,EAAkB/2C,SAASznB,KAAK,SACxCy+D,EAAUtjE,EAAQujE,QAAUvjE,EAAQujE,QAAQv/D,GAASA,EACzDtD,EAAKwiE,SAAS12D,KAAK,IAAMsyC,GAAM0jB,aAAapvD,KAAKkwD,EACnD,CAMA,SAASE,EAAmBH,GAC1B,IAAII,EACe,aAAjBzjE,EAAQ1D,KACJ0D,EAAQ0W,OACRhW,EAAKwiE,SAAS,GAAG71D,YACnBq2D,EAAahjE,EAAKwiE,SAAS12D,KAAK,IAAMsyC,GAAMwjB,aAQhD,OANmB,aAAjBtiE,EAAQ1D,KACJmnE,EACAJ,EAAkB/2C,SAAS,GAAGsoC,UAC9B8O,EAAWhtD,SACX2sD,EAAkB/2C,SAAS,GAAGuoC,YACb4O,EAAe,GAExC,CAMA,SAASE,EAAkB92D,GACJ,aAAjB7M,EAAQ1D,KACVoE,EAAKwiE,SAAS12D,KAAK,IAAMsyC,GAAM0jB,aAAansD,IAAI,CAC9CnJ,OAAQL,EAAO,IACf,gBAAiB,OACjBguB,QAAS,iBAGXn6B,EAAKwiE,SAAS12D,KAAK,IAAMsyC,GAAM0jB,aAAansD,IAAI,CAC9CxJ,KAAMA,EAAO,IACbguB,QAAS,gBAGf,CAGA,GA3DK76B,EAAQooB,UAGX1nB,EAAKwiE,SAASltD,SAAS8oC,GAAMK,gBAC7Bz+C,EAAKwiE,SACF12D,KAAK,IAAMsyC,GAAMyjB,iBACjBvsD,SAAS8oC,GAAMK,iBALlBz+C,EAAKkjE,QA0DH5jE,EAAQ6uD,KACV,GAAI7uD,EAAQmiE,WAAY,CACtB,IAAIkB,EAAoB3iE,EAAKwiE,SAAS12D,KAAK,IAAMsyC,GAAMyjB,iBACvDa,EAAiBC,GAEjBM,EADWH,EAAmBH,GAEhC,KAAO,CAEL,IAAI/zB,EACJ5uC,EAAKwiE,SACF12D,KAAK,IAAMsyC,GAAMyjB,iBACjBxhE,GAAG,YAAa,WACfqiE,EAAiBhiE,EAAElG,OACnB,IAAI2R,EAAO22D,EAAmBpiE,EAAElG,OAChCkO,aAAakmC,GACbA,EAAQxtC,WAAW,WACjB6hE,EAAkB92D,EACpB,EAAG,IACL,GACC9L,GAAG,WAAY,WACdqI,aAAakmC,GACRtvC,EAAQmiE,YACXzhE,EAAKwiE,SACF12D,KAAK,IAAMsyC,GAAM0jB,aACjBnsD,IAAI,UAAW,OAEtB,EACJ,CAEJ,EACAkpC,gBAAiB,WACf,IAAI7+C,EAAOxF,KACP8E,EAAUU,EAAKlG,OACnB,MAAO,CACL6rD,SAAU,SAAUriD,EAAO/C,GAIzB,OAFA+C,GADAA,EAAQA,EAAQhE,EAAQka,IAAMla,EAAQka,IAAMlW,GAC5BhE,EAAQoa,IAAMpa,EAAQoa,IAAMpW,EAC5ChE,EAAQgE,MAAQA,EACTtD,EAAKkjE,MAAM,MAAO5/D,EAAO/C,GAAS,EAC3C,EAEJ,IAGE69C,GAAQlgD,GAAUkgD,MAClB7jD,GAAQ2D,GAAU3D,MAGtBA,GAAM6E,UAAU+jE,UAAY,WAC1B,IACI7jE,EADO9E,KACQV,OACfspE,EAAa1iE,EAAEqU,IACjB,CAACzV,EAAQoa,IAAKpa,EAAQka,IAAKla,EAAQktC,MACnC,SAAU/xC,GACR,IAAI4oE,EAAa78D,OAAO/L,GAAG8J,MAAM,KACjC,OAAO8+D,EAAW,GAAKA,EAAW,GAAGjoE,OAAS,CAChD,GAEF,OAAOkP,KAAKkP,IAAIxY,MAAM,KAAMoiE,EAC9B,EAGA7oE,GAAM6E,UAAU8jE,MAAQ,SAAUvd,EAAUriD,EAAOjI,GACjD,IAAI2E,EAAOxF,KACP8E,EAAUU,EAAKlG,OACfwpE,EAAYtjE,EAAKwiE,SACjBO,EAAc,WAChB,MAAwB,aAAjBzjE,EAAQ1D,KACX0D,EAAQ0W,OACRstD,EAAU,GAAG32D,WACnB,EACIq2D,EAAaM,EAAUx3D,KAAK,IAAMsyC,GAAMwjB,aACxC2B,EAAYD,EAAUvmD,KAAK,IAAMqhC,GAAM2jB,cACvCyB,EAAaD,EACd1uD,SAAS,IAAMupC,GAAM4jB,kBACrBntD,SAAS,SACTqB,MACCs2B,EAAO,MAAQltC,EAAQka,IAAMla,EAAQoa,KAAOpa,EAAQktC,MACpD22B,EAAYnjE,EAAKmjE,YACjB5f,EAAS,SAAUkgB,EAAaljE,EAAOR,GAOzC0jE,GADAA,GAJEA,EADEn5D,KAAKk/B,KAAKi6B,GAAej3B,EAAO,IACpBliC,KAAKk/B,KAAKi6B,GAAej3B,EAEzBliC,KAAK48B,MAAMu8B,GAAej3B,GAEd,IAAM,IAAMi3B,GACZ,EAAI,EAAIA,EACpCT,EACG/gD,GAAG1hB,GACHoV,IAAqB,aAAjBrW,EAAQ1D,KAAsB,SAAW,OAAQ6nE,EAAc,KACtE,IAAIC,EAAUC,EAAQX,EAAW,GAAG7O,YAChCyP,EAAUtkE,EAAQyjD,MAAQ4gB,EAAQX,EAAW,GAAG7O,YAAc,EAC7C,aAAjB70D,EAAQ1D,MACV0nE,EACGx3D,KAAK,IAAMsyC,GAAM0jB,aACjBnsD,IAAI,CAAEnJ,OAAQi3D,EAAc,IAAK,gBAAiB,SACrDC,EAAUC,EACRZ,IAAgBC,EAAW,GAAG9O,UAAY8O,EAAWhtD,UAEvD4tD,EAAUtkE,EAAQyjD,MACd4gB,EAAQZ,IAAgBC,EAAW,GAAG9O,UAAY8O,EAAWhtD,UAC7D,GAEJstD,EAAUx3D,KAAK,IAAMsyC,GAAM0jB,aAAansD,IAAI,OAAQ8tD,EAAc,KAEpEC,EAAUA,EAAU,IAAM,IAAMA,EAChCE,EAAUA,EAAU,IAAM,IAAMA,EAChC,IAAIzM,EAAU7sD,KAAKoP,IAAIgqD,EAASE,GAC9BC,EAAYv5D,KAAKyF,IAAI2zD,EAAUE,GACZ,aAAjBtkE,EAAQ1D,KACV0nE,EACGx3D,KAAK,IAAMsyC,GAAMujB,YACjBhsD,IAAI,CAAEK,OAAQ6tD,EAAY,IAAKr3D,OAAQ2qD,EAAU,MAEpDmM,EACGx3D,KAAK,IAAMsyC,GAAMujB,YACjBhsD,IAAI,CAAEI,MAAO8tD,EAAY,IAAK13D,KAAMgrD,EAAU,MAEnD,IAAI2M,EACFxkE,EAAQoa,KAAQpa,EAAQka,IAAMla,EAAQoa,KAAO+pD,EAAe,IAa9D,GAZAK,EAAYpkB,OAAOvY,WAAW28B,GAAWC,QAAQZ,IACjDK,EAAaM,EACbP,EACG1uD,SAAS,IAAMupC,GAAM4jB,kBACrBntD,SAAS,SACTqB,IAAIstD,GACPR,EAAW/gD,GAAG1hB,GAAO4D,KAAK,QAAS2/D,GACnCR,EACGx3D,KAAK,IAAMsyC,GAAM0jB,aACjBpvD,KAAKpT,EAAQujE,QAAUvjE,EAAQujE,QAAQiB,GAAaA,GAGnDxkE,EAAQyjD,MAAO,CACjB,IAAIihB,EAAW,CACbhB,EAAW/gD,GAAG,GAAG9d,KAAK,SACtB6+D,EAAW/gD,GAAG,GAAG9d,KAAK,UAEpB6/D,EAAS,GAAKA,EAAS,IAAIA,EAASz8D,SAC1C,CAEAvH,EAAKsD,MAAQhE,EAAQyjD,MAAQihB,EAAWF,EACxCxkE,EAAQikD,QAAUjkD,EAAQikD,OAAOvjD,EAAKsD,OAGzB,SAATvD,GAAiBT,EAAQf,MAAQe,EAAQf,KAAKyB,EAAKsD,MACzD,EACIqgE,EAAU,SAAUrgE,GACtB,IAAI2gE,EAAY3gE,EAAQy/D,IAAiB,IAAOv2B,EAC5CrgC,EAAO7B,KAAK48B,MAAM+8B,GAAWz3B,EAIjC,OAHIlpC,GAASy/D,MACX52D,EAAO7B,KAAKk/B,KAAKy6B,GAAWz3B,GAEvBrgC,CACT,EAGI+3D,EAAWxjE,EACb,CAAC,mEAAmEmN,KAClE,KAoCJ,GAAiB,QAAb83C,EACF,OAAOpC,GACFjgD,EAAQhE,EAAQoa,MAAQpa,EAAQka,IAAMla,EAAQoa,KAAQ,IAAO8yB,EAChEnxC,EACA,QAKJioE,EAAUx3D,KAAK,IAAMsyC,GAAMyjB,iBAAiBvhE,KAAK,SAAUC,GACzD,IAAIiN,EAAQ9M,EAAElG,MACdgT,EAAMnN,GAAG,uBAAwB,SAAU5B,GAE1B,gBADfA,EAAIA,GAAK7E,OAAOS,OACVuB,OACJ6C,EAAE2N,QAAU3N,EAAE2hC,cAAc1wB,QAAQ,GAAGtD,QACvC3N,EAAE6N,QAAU7N,EAAE2hC,cAAc1wB,QAAQ,GAAGpD,SAGzC,IAnD2B63D,EAAerS,EAAMsS,EAC9CC,EAkDEC,EAAU92D,EAAMoe,SAAS,GAAGuoC,WAC5BoQ,EAAO9lE,EAAE2N,QACQ,aAAjB9M,EAAQ1D,OACV0oE,EACEvB,IAAgBv1D,EAAMoe,SAAS,GAAGsoC,UAAY8O,EAAWhtD,SAC3DuuD,EAAO9lE,EAAE6N,SAxDgB63D,EAsFZ32D,EAtF2BskD,EA2D/B,SAAUrzD,GAEJ,eADfA,EAAIA,GAAK7E,OAAOS,OACVuB,OACJ6C,EAAE2N,QAAU3N,EAAEiR,QAAQ,GAAGtD,QACzB3N,EAAE6N,QAAU7N,EAAEiR,QAAQ,GAAGpD,SAE3B,IAAIH,EACFm4D,GACkB,aAAjBhlE,EAAQ1D,KAAsB2oE,EAAO9lE,EAAE6N,QAAU7N,EAAE2N,QAAUm4D,GAC5Dp4D,EAAO,IAAGA,EAAO,GACjBA,EAAO42D,MAAe52D,EAAO42D,KACjC,IAAIyB,EAAYr4D,EAAO42D,IAAiB,IAAOv2B,EAC/C+W,EAAOihB,EAASjkE,GAChBiN,EAAM8H,SAAS8oC,GAAM8jB,YACrBoB,EAAUx3D,KAAK,IAAMsyC,GAAM0jB,aAAa5mC,OACxCz8B,EAAEsQ,gBACJ,EA3EgDq1D,EA6EvC,SAAUvzB,GACjBrjC,EAAMgI,YAAY4oC,GAAM8jB,YACnB5iE,EAAQmiE,YACXrgE,WAAW,WACTkiE,EAAUx3D,KAAK,IAAMsyC,GAAM0jB,aAAa1mC,MAC1C,EAAGyV,EAEP,EAnFEwzB,EAAS,WAEXD,GAAMA,EAAG7nE,EAAIqS,uBAAyB,IAAO,GAC7Cs1D,EAASl/D,SACT1F,EAAQf,MAAQe,EAAQf,KAAKyB,EAAKsD,OAE9B/G,EAAIqS,yBACNu1D,EAAc,GAAGplE,oBACf,YACA+yD,IACAv1D,EAAIkS,kBAAmB,CAAE2B,SAAS,IAEpC+zD,EAAc,GAAGplE,oBAAoB,WAAYslE,GACjDF,EAAc,GAAGplE,oBAAoB,cAAeslE,GAExD,EACA3jE,EAAE,sBAAsB,IAAMA,EAAE,QAAQqL,OAAOm4D,GAC/CA,EAAS7jE,GAAG,YAAayxD,GACzBoS,EAAS7jE,GAAG,UAAWgkE,GAAQhkE,GAAG,aAAcgkE,GAE5C9nE,EAAIqS,yBACNu1D,EAAc,GAAGhlE,iBACf,YACA2yD,IACAv1D,EAAIkS,kBAAmB,CAAE2B,SAAS,IAEpC+zD,EAAc,GAAGhlE,iBAAiB,WAAYklE,GAC9CF,EAAc,GAAGhlE,iBAAiB,cAAeklE,GA2DnD,EACF,GAGAf,EAAUjjE,GAAG,QAAS,SAAU5B,GAC9B,IAAI6oD,EAAO5mD,EAAE,IAAM09C,GAAMyjB,iBACrBr0D,EAAQ9M,EAAElG,MACd,IACG8sD,EAAKn2B,GAAG92B,MAAMmP,SACmB,IAAlC89C,EAAK5xC,IAAIrb,MAAMmP,QAAQpO,QACvBksD,EAAKlsD,OACL,CACA,IAAImF,EACA6M,EACe,aAAjB9N,EAAQ1D,KACJmnE,IACAtkE,EAAE6N,QACFkB,EAAMJ,SAASf,IACf3L,EAAE9G,QAAQ8yC,YACVjuC,EAAE2N,QAAUoB,EAAMJ,SAASjB,KAAOzL,EAAE9G,QAAQ+yC,aAE9Cv/B,EAAS,IAAGA,EAAS,GACrBA,EAAS21D,MAAe31D,EAAS21D,KACrC,IAAIyB,EAAYp3D,EAAS21D,IAAiB,IAAOv2B,EAG7CjsC,EAFAjB,EAAQyjD,MACW,aAAjBzjD,EAAQ1D,KAER0O,KAAKyF,IAAI3C,EAASkM,SAAS5Y,EAAEsiE,EAAW,IAAIrtD,IAAI,YAChDrL,KAAKyF,IAAI3C,EAASkM,SAAS5Y,EAAEsiE,EAAW,IAAIrtD,IAAI,YAC5C,EACA,EAGJrL,KAAKyF,IAAI3C,EAAS41D,EAAW,GAAG7O,YAChC7pD,KAAKyF,IAAI3C,EAAS41D,EAAW,GAAG7O,YAC5B,EACA,EAGA,EAEV5Q,EAAOihB,EAASjkE,EAAO,QACvB9B,EAAEsQ,gBACJ,CACF,GAGAw0D,EACG1uD,SAAS,IAAMupC,GAAM6jB,kBACrBptD,SAAS,KACTvU,KAAK,SAAUC,GACdG,EAAElG,MAAM6F,GAAG,QAAS,WAClBmjE,EAAaD,EACV1uD,SAAS,IAAMupC,GAAM4jB,kBACrBntD,SAAS,SACTqB,MAaH,IAAIuuD,IAVFjB,EAFW,GAATjjE,EAGAijE,EAAalkE,EAAQktC,KAAOltC,EAAQoa,IAChCpa,EAAQoa,IACRgmC,OAAO8jB,GAAclkE,EAAQktC,KAGjCkT,OAAO8jB,GAAclkE,EAAQktC,KAAOltC,EAAQka,IACxCla,EAAQka,IACRkmC,OAAO8jB,GAAclkE,EAAQktC,MAGnBltC,EAAQoa,MAAQpa,EAAQka,IAAMla,EAAQoa,KAAQ,IAC9D8yB,EACF+W,EAAOkhB,EAAY,EAAG,OACxB,EACF,GAGF,IAAIC,EAAgB,WAClB,IAAIC,EAAYnqE,KAAK8I,MAGrBqhE,GADAA,GADAA,EAAYt9D,MAAMs9D,GAAa,EAAIA,GACXrlE,EAAQoa,IAAMpa,EAAQoa,IAAMirD,GAC5BrlE,EAAQka,IAAMla,EAAQka,IAAMmrD,EACpDnqE,KAAK8I,MAAQqhE,EACb,IAAIF,GACCE,EAAYrlE,EAAQoa,MAAQpa,EAAQka,IAAMla,EAAQoa,KAAQ,IAAO8yB,EACtE+W,EAAOkhB,EAAY,EAAG,OACxB,EACAlB,EACG1uD,SAAS,IAAMupC,GAAM4jB,kBACrBntD,SAAS,SACTxU,GAAG,UAAW,SAAU5B,GACL,KAAdA,EAAEsjC,UACJtjC,EAAEsQ,iBACF21D,EAAcj+D,KAAKjM,MAEvB,GACC6F,GAAG,SAAUqkE,EAClB,EC1kBA,IACI7G,GADSh+D,EAAMuF,SACWgB,OAAS,QAAU,YAG7ClI,GAAYqjE,EAAiB,CAC/B9+D,KAAM,cAGN3I,OAAQ,CACN40D,MAAO,GACP6O,KAAM,KACNqH,OAAO,EACP/hB,OAAQ,MACRgiB,WAAW,EACXC,OAAQ,CAEN,UACA,UACA,UACA,UACA,UACA,UACA,OACA,OACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,mBACA,mBACA,mBACA,iBACA,yBACA,2BACA,6BAIJ1mB,MAAO,CACLqc,KAAM,oBACN5T,UAAW,0BACXke,iBAAkB,kBAClBC,kBAAmB,mBACnBC,iBAAkB,iCAClBC,cAAe,8BACfC,YAAa,yBACbC,mBAAoB,gCACpBC,aAAc,0BACdC,gBAAiB,kCACjBC,oBAAqB,iCACrBC,iBAAkB,iCAClBC,aAAc,gCAIhB3mB,WAAY,WACCtkD,KACNskE,sBAAwBp+D,EAAEiiB,KADpBnoB,KAENukE,gBAAkBr+D,EAAEiiB,KACzBy7B,GAAMsnB,cAAgBtnB,GAAMD,OAAS,SACvC,EAGAgB,aAAc,WACD3kD,KACQV,OACX0P,OAAS9I,EAAE,OACrB,EAGA0V,OAAQ,WACN,IAkBYuvD,EAlBR3lE,EAAOxF,KACP8E,EAAUU,EAAKlG,OAGf8rE,EAAellE,EACjB,CACE,iDACA,UACqB,OAAlBpB,EAAQujD,QAAmBvjD,EAAQslE,MAChC,4CACA,IACJ,IACF,gDACA,cACqB,OAAlBtlE,EAAQujD,OAAmBvjD,EAAQslE,MAAQ,OAAS,QAAW,IAChE,KACF,WAEQe,EAAQ,IACRrmE,EAAQovD,OACViX,EAAQrmE,EAAQovD,OAEXpvD,EAAQovD,MAAMxuD,MAAM,gBAAkB,IAAI9E,OAAS,IAEhDkE,EAAQslE,OAA2B,OAAlBtlE,EAAQujD,SAC7B8iB,EAAQ,IAAME,GAASC,GAASC,GAAOzmE,EAAQovD,WAI5C,eAAiBiX,GAGnBA,GAET,MACF,qDACGrmE,EAAQovD,MAAQtQ,GAAM2mB,iBAAmB3mB,GAAM4mB,mBAChD,SACF,UACA,UACA,UACAn3D,KAAK,KAIL/E,EAAOxJ,EAAQwJ,KACnBxJ,EAAQi+D,MAAQqI,EAAatwD,SAAS,qBAAuBhW,EAAQi+D,MAGrEz0D,EAAKwM,SAAS,gBAAgB5C,KAAM1S,EAAK4lE,aAAeA,GAGxD5lE,EAAK0uD,MAAQ1uD,EAAK4lE,aAAa95D,KAC7B,IAAMsyC,GAAM6mB,kBACZ,GAAGviE,MAAMsjE,UACb,IAIEF,GAAW,SAAUG,GACvB,IAAIC,EAAM,CAAE1K,EAAG,EAAG1nB,EAAG,EAAG3vB,EAAG,GACvBzK,EAAMpP,KAAKoP,IAAIusD,EAAIE,EAAGF,EAAIG,EAAGH,EAAI9hD,GACjC3K,EAAMlP,KAAKkP,IAAIysD,EAAIE,EAAGF,EAAIG,EAAGH,EAAI9hD,GACjCmlB,EAAQ9vB,EAAME,EAwBlB,OAvBAwsD,EAAI/hD,EAAI3K,EACR0sD,EAAIpyB,EAAY,IAARt6B,EAAa,IAAM8vB,EAAS9vB,EAAM,EAC5B,IAAV0sD,EAAIpyB,EACFmyB,EAAIE,GAAK3sD,EAEX0sD,EAAI1K,GAAKyK,EAAIG,EAAIH,EAAI9hD,GAAKmlB,EACjB28B,EAAIG,GAAK5sD,EAClB0sD,EAAI1K,EAAI,GAAKyK,EAAI9hD,EAAI8hD,EAAIE,GAAK78B,EAE9B48B,EAAI1K,EAAI,GAAKyK,EAAIE,EAAIF,EAAIG,GAAK98B,EAGhC48B,EAAI1K,GAAI,EAENhiD,IAAQE,IACVwsD,EAAI1K,EAAI,GAEV0K,EAAI1K,GAAK,GACL0K,EAAI1K,EAAI,IACV0K,EAAI1K,GAAK,KAEX0K,EAAIpyB,GAAK,IAAM,IACfoyB,EAAI/hD,GAAK,IAAM,IACR+hD,CACT,EAeIG,GAAW,SAAUH,GACvB,IAAID,EAAM,CAAA,EACNzK,EAAI0K,EAAI1K,EACR1nB,EAAa,IAARoyB,EAAIpyB,EAAW,IACpB3vB,EAAa,IAAR+hD,EAAI/hD,EAAW,IAExB,GAAU,IAAN2vB,EACFmyB,EAAIE,EAAIF,EAAIG,EAAIH,EAAI9hD,EAAIA,MACnB,CACL,IAAImiD,EAAKniD,EACLoiD,GAAO,IAAMzyB,GAAK3vB,EAAK,IACvBqiD,EAAmBhL,EAAI,IAAhB8K,EAAKC,GAAkB,GACxB,MAAN/K,IAAWA,EAAI,GACfA,EAAI,IACNyK,EAAIE,EAAIG,EACRL,EAAI9hD,EAAIoiD,EACRN,EAAIG,EAAIG,EAAKC,GACJhL,EAAI,KACbyK,EAAIG,EAAIE,EACRL,EAAI9hD,EAAIoiD,EACRN,EAAIE,EAAIG,EAAKE,GACJhL,EAAI,KACbyK,EAAIG,EAAIE,EACRL,EAAIE,EAAII,EACRN,EAAI9hD,EAAIoiD,EAAKC,GACJhL,EAAI,KACbyK,EAAI9hD,EAAImiD,EACRL,EAAIE,EAAII,EACRN,EAAIG,EAAIE,EAAKE,GACJhL,EAAI,KACbyK,EAAI9hD,EAAImiD,EACRL,EAAIG,EAAIG,EACRN,EAAIE,EAAII,EAAKC,GACJhL,EAAI,KACbyK,EAAIE,EAAIG,EACRL,EAAIG,EAAIG,EACRN,EAAI9hD,EAAImiD,EAAKE,IAEbP,EAAIE,EAAI,EACRF,EAAIG,EAAI,EACRH,EAAI9hD,EAAI,EAEZ,CACA,MAAO,CAAEgiD,EAAG77D,KAAK48B,MAAM++B,EAAIE,GAAIC,EAAG97D,KAAK48B,MAAM++B,EAAIG,GAAIjiD,EAAG7Z,KAAK48B,MAAM++B,EAAI9hD,GACzE,EAGI0hD,GAAW,SAAUK,GACvB,IAAID,EAAMI,GAASH,GACfO,EAAM,CAACR,EAAIE,EAAElnE,SAAS,IAAKgnE,EAAIG,EAAEnnE,SAAS,IAAKgnE,EAAI9hD,EAAEllB,SAAS,KAMlE,OALAyB,EAAEJ,KAAKmmE,EAAK,SAAUC,EAAIxwD,GACL,IAAfA,EAAI9a,SACNqrE,EAAIC,GAAM,IAAMxwD,EAEpB,GACOuwD,EAAI54D,KAAK,GAClB,EAGIk4D,GAAS,SAAUY,GACrB,IACIC,EAAKD,EAAKzmE,MADD,gBACkB,GAC/B,MAAO,CAAEimE,EAAGS,EAAG,GAAIR,EAAGQ,EAAG,GAAIziD,EAAGyiD,EAAG,GACrC,EAEIC,GAAOnmE,EAAE9G,QACF8G,EAAE/G,UAEb,IAAIykD,GAAQlgD,GAAUkgD,MAMlB7jD,GAAQ2D,GAAU3D,MAGtBA,GAAM6E,UAAU0nE,aAAe,WAC7B,IAAI9mE,EAAOxF,KACP8E,EAAUU,EAAKlG,OAGfitE,EAAc/mE,EAAK+mE,WAAarmE,EAClC,CACE,6BACEV,EAAKO,MACL,iBACAP,EAAKO,MACL,kEAEF,+CACA,wCACA,oDACA,oDACA,qDACA,SACA,uCACA,oDACA,SACA,SAEA,6CACGjB,EAAQslE,MAAQxmB,GAAME,WAAa,IACpC,KACF,gDACA,qDACA,SACA,SAEC,WACC,GAAIh/C,EAAQulE,UAAW,CACrB,IAAI1wC,EAAO,CAAC,4CAeZ,OAdAt0B,EAAMS,KAAKhB,EAAQwlE,OAAQ,SAAUzpE,EAAGZ,GACtC05B,EAAKrzB,KACH,CACE,sCACIrG,EAAEyF,MAAM,gBAAkB,IAAI9E,OAAS,EACrC,iCACA,IACJ,KACF,0BAA4BX,EAAI,WAChC,UACAoT,KAAK,IAEX,GACAsmB,EAAKrzB,KAAK,UACHqzB,EAAKtmB,KAAK,GACnB,CACE,MAAO,EAEX,CArBC,GAuBD,6CACA,6BACA,0CACA,SACA,gCACA,gHACE1P,EAAKkiB,GAAG,qBACR,YACF,kIACEliB,EAAKkiB,GAAG,uBACR,YACF,QACA,SACA,UACAxS,KAAK,KAGT7N,EAAKgnE,aAAa1nE,EAAQ6D,IAC1B7D,EAAQkK,OAAOuC,OAAOg7D,GACtBznE,EAAQwJ,KAAK3E,KAAKi6C,GAAMsnB,eAAe,GAEvC1lE,EAAKgM,WACLhM,EAAKinE,eACLjnE,EAAK6Q,iBACL7Q,EAAKsgE,oBACP,EAGA/lE,GAAM6E,UAAU4nE,aAAe,SAAUzmE,GACvC,IAAIP,EAAOxF,KACP8E,EAAUU,EAAKlG,OACfgP,EAAOpI,EAAE,sBAAwBH,GAASP,EAAKO,QAanD,OAXAP,EAAK8+D,wBACL9+D,EAAK++D,kBAEDj2D,EAAK,KACPA,EAAK9D,SACL1F,EAAQwJ,KAAKgwB,WAAWslB,GAAMsnB,eAGL,mBAAlBpmE,EAAQwX,OAAwBxX,EAAQwX,MAAM9W,EAAK0uD,QAGrD1uD,CACT,EAGAzF,GAAM6E,UAAU4M,SAAW,WACzB,IAAIhM,EAAOxF,KACP8E,EAAUU,EAAKlG,OAKnB,OAJAyC,EAAIyP,SAAShM,EAAKknE,UAAYlnE,EAAK4lE,aAAa,GAAI5lE,EAAK+mE,WAAW,GAAI,CACtE/6D,SAAU1M,EAAQ0M,SAClBiB,MAAO,WAEFjN,CACT,EAGAzF,GAAM6E,UAAU8W,IAAM,WACpB,IAAIlW,EAAOxF,KACCwF,EAAKlG,OACf8rE,IAAAA,EAAe5lE,EAAK4lE,aAAa95D,KAAK,IAAMsyC,GAAM6mB,kBAClDkC,EAAkBnnE,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMqnB,cAEnDvK,EADI0K,EAAa,GACLljE,MAAM0kE,gBAGpB,GAAIlM,EAAS,CAEX,IAAIgL,EAAMJ,GAASC,GAAO7K,IACtBt/D,EAAOgqE,EAAan7D,KAAK,YAM7B,GAHAzK,EAAKqO,OAAO63D,EAAI1K,EAAG0K,EAAIpyB,EAAGoyB,EAAI/hD,GAGjB,UAATvoB,EACFurE,EAAgBr7D,KAAK,SAASoK,IAAIglD,QAC7B,GAAa,SAATt/D,EAAiB,CAE1B,IAAIqqE,EAAMF,GAAO7K,GAGjB,GAAoD,KAA/CA,EAAQh7D,MAAM,gBAAkB,IAAI9E,OACvC+rE,EACGr7D,KAAK,SACLoK,IAAI,QAAU+vD,EAAIE,EAAI,KAAOF,EAAIG,EAAI,KAAOH,EAAI9hD,EAAI,QACvDnkB,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMmnB,qBAAqB5vD,IAAI,OAAQ,SAC7D,CACLwxD,EAAgBr7D,KAAK,SAASoK,IAAIglD,GAClC,IAAI/uD,EACgE,IAAlE+uD,EAAQn6D,MAAMm6D,EAAQz/D,YAAY,KAAO,EAAGy/D,EAAQ9/D,OAAS,GAC/D4E,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMmnB,qBAAqB5vD,IAAI,OAAQxJ,EACpE,CAGAnM,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMknB,iBAAiB,GAAG5iE,MAAMsjE,WACzD,kCACAC,EAAIE,EACJ,KACAF,EAAIG,EACJ,KACAH,EAAI9hD,EACJ,aACA8hD,EAAIE,EACJ,KACAF,EAAIG,EACJ,KACAH,EAAI9hD,EACJ,IACJ,MACEgjD,EAAgBr7D,KAAK,SAASoK,IAAI,IAAM2vD,GAASK,GAErD,MAEElmE,EAAKqO,OAAO,EAAG,IAAK,KACpB84D,EAAgBr7D,KAAK,SAASoK,IAAI,IAClClW,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMknB,iBAAiB,GAAG5iE,MAAMsjE,WAAa,GACxEhmE,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMmnB,qBAAqB5vD,IAAI,OAAQ,IAEtE,EAGApb,GAAM6E,UAAUioE,KAAO,WACrB,IAAIrnE,EAAOxF,KACT8E,EAAUU,EAAKlG,OACfg0D,EAAO9tD,EAAK4lE,aAAa95D,KAAK,IAAMsyC,GAAM6mB,kBAC1CrpE,EAAOkyD,EAAKrjD,KAAK,YACjB48D,EAAOrnE,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAM+mB,aACxCvnE,EAASoC,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMgnB,oBAC1CkC,EAAQtnE,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMinB,cACzCxX,EAAS7tD,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMonB,kBAC1C+B,EAAavnE,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMknB,iBAC9CkC,EAAcxnE,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMmnB,qBAC/CkC,EAAM7pE,EAAO,GAAGs2D,UAAY,IAAO,IACnCwT,EAAK,IAAO7Z,EAAO,GAAGqG,UAAY,IAAO,IACzCyT,EAAM9Z,EAAO,GAAGsG,WAAa,IAAO,IACpCyT,EAAKt9D,KAAK48B,MAAOsgC,EAAY,GAAGrT,WAAa,IAAO,KAAO,IAC3D94D,EAAI2E,EAAK4lE,aAAa95D,KAAK,IAAMsyC,GAAM8mB,eACvC2C,EAAM7nE,EAAK+mE,WAAWj7D,KAAK,0BAA0B+I,SAAS,OAC9D0uC,EAAS,SAAUr0C,EAAGC,EAAG24D,EAAG5jD,GAC1BlkB,EAAKqO,OAAOa,EAAGC,EAAG24D,GAClB,IAAI7B,EAAMI,GAAS,CAAE7K,EAAGtsD,EAAG4kC,EAAG3kC,EAAGgV,EAAG2jD,IAChCpZ,EAAQmX,GAAS,CAAErK,EAAGtsD,EAAG4kC,EAAG3kC,EAAGgV,EAAG2jD,IAClCrF,EAAYziE,EAAK+mE,WAClBj7D,KAAK,IAAMsyC,GAAMqnB,cACjB35D,KAAK,SAMR,GAJAzQ,EAAEia,SAAS8oC,GAAM2mB,kBAAkBvvD,YAAY4oC,GAAM4mB,mBACrDlX,EAAK,GAAGprD,MAAMsjE,WACZ,OAASC,EAAIE,EAAI,KAAOF,EAAIG,EAAI,KAAOH,EAAI9hD,EAAI,IAEpC,UAATvoB,EACF6mE,EAAUvsD,IAAI,OAAS+vD,EAAIE,EAAI,KAAOF,EAAIG,EAAI,KAAOH,EAAI9hD,EAAI,UACxD,GAAa,SAATvoB,EAAiB,CAC1B,IAAIuQ,EAAW,IAAJ+X,EACXsjD,EAAY7xD,IAAI,OAAQxJ,GACxBs2D,EAAUvsD,IACR,QAAU+vD,EAAIE,EAAI,KAAOF,EAAIG,EAAI,KAAOH,EAAI9hD,EAAI,KAAOD,EAAI,KAE7D4pC,EAAK,GAAGprD,MAAMsjE,WACZ,QAAUC,EAAIE,EAAI,KAAOF,EAAIG,EAAI,KAAOH,EAAI9hD,EAAI,KAAOD,EAAI,IAC7DqjD,EAAW,GAAG7kE,MAAMsjE,WAClB,kCACAC,EAAIE,EACJ,KACAF,EAAIG,EACJ,KACAH,EAAI9hD,EACJ,aACA8hD,EAAIE,EACJ,KACAF,EAAIG,EACJ,KACAH,EAAI9hD,EACJ,IACJ,MACEs+C,EAAUvsD,IAAI,IAAMw4C,GAItBpvD,EAAQikD,QACNjkD,EAAQikD,OACN7iD,EAAE5E,KACAkE,EAAK+mE,WACFj7D,KAAK,IAAMsyC,GAAMqnB,cACjB35D,KAAK,SACLoK,OAGX,EAEAguD,EAAWxjE,EACT,CACE,yEACAmN,KAAK,KAETk6D,EAAiB,SAAUthE,GACzB/F,EAAE,2BAA2B,IAAMA,EAAE,QAAQqL,OAAOm4D,GACpDA,EAAS7jE,GAAG,YAAaoG,GACzBy9D,EACG7jE,GAAG,UAAW,WACb6jE,EAASl/D,QACX,GACC3E,GAAG,aAAc,WAChB6jE,EAASl/D,QACX,EACJ,EAIEgjE,GAAc,EACdC,GAAsB,EAG1BrqE,EAAOyC,GAAG,YAAa,SAAU5B,EAAGypE,GAClC,IAAIC,EAAS3tE,KAAK05D,UACdkU,OAAqBv+D,IAAdpL,EAAE6N,QAAwB47D,EAAa57D,QAAU7N,EAAE6N,QAW9D27D,GAAuBpoE,EAAM2H,MAAM/I,GACnCspE,EAXW,SAAUtpE,GACnB,IAAI4N,EAAM87D,GAAU1pE,EAAE6N,QAAU87D,GAC9BC,EAAOhB,EAAK,GAAGx6D,aACbR,EAAM,IAAGA,EAAM,GACfA,EAAMg8D,IAAMh8D,EAAMg8D,GACtB,IAAI7M,EAAKnvD,EAAM,IAAO,IACtBo7D,EAAKjM,EACLjY,EAAOiY,EAAGmM,EAAID,EAAIE,GAClBnpE,EAAEsQ,gBACJ,GAGAtQ,EAAEsQ,gBACJ,GAEAs4D,EAAKhnE,GAAG,YAAa,SAAU5B,GAC7B,IAAI4N,EAAM5N,EAAE6N,QAAU5L,EAAElG,MAAM4S,SAASf,IAAMw6D,GAAKn6B,YAC9CrgC,EAAM,IAAGA,EAAM,GACfA,EAAM7R,KAAKqS,eAAcR,EAAM7R,KAAKqS,cACxC,IAAI2uD,EAAKnvD,EAAM,IAAO,IACtBo7D,EAAKjM,EACLjY,EAAOiY,EAAGmM,EAAID,EAAIE,GAClBnpE,EAAEsQ,iBACFi5D,GAAepqE,EAAOugC,QAAQ,YAAa1/B,EAC7C,GAGAovD,EAAOxtD,GAAG,YAAa,SAAU5B,EAAGypE,GAClC,IAAIC,EAAS3tE,KAAK05D,UACdoQ,EAAU9pE,KAAK25D,WACfiU,OAAqBv+D,IAAdpL,EAAE6N,QAAwB47D,EAAa57D,QAAU7N,EAAE6N,QAC1Di4D,OAAqB16D,IAAdpL,EAAE2N,QAAwB87D,EAAa97D,QAAU3N,EAAE2N,QAiB9D67D,GAAuBpoE,EAAM2H,MAAM/I,GACnCspE,EAjBW,SAAUtpE,GACnB,IAAI4N,EAAM87D,GAAU1pE,EAAE6N,QAAU87D,GAC9Bj8D,EAAOm4D,GAAW7lE,EAAE2N,QAAUm4D,GAC9B8D,EAAOf,EAAM,GAAGz6D,aAChBy7D,EAAOhB,EAAM,GAAG36D,YACdN,EAAM,IAAGA,EAAM,GACfA,EAAMg8D,IAAMh8D,EAAMg8D,GAClBl8D,EAAO,IAAGA,EAAO,GACjBA,EAAOm8D,IAAMn8D,EAAOm8D,GACxB,IAAIx0B,EAAK3nC,EAAO,IAAO,IACrBgY,EAAI,IAAO9X,EAAM,IAAO,IAC1Bq7D,EAAKvjD,EACLwjD,EAAK7zB,EACLyP,EAAOkkB,EAAI3zB,EAAG3vB,EAAGyjD,GACjBnpE,EAAEsQ,gBACJ,GAGAtQ,EAAEsQ,gBACJ,GAEAu4D,EAAMjnE,GAAG,YAAa,SAAU5B,GAC9B,IAAI4N,EAAM5N,EAAE6N,QAAU5L,EAAElG,MAAM4S,SAASf,IAAMw6D,GAAKn6B,YAChDvgC,EAAO1N,EAAE2N,QAAU1L,EAAElG,MAAM4S,SAASjB,KAAO06D,GAAKl6B,aAC9CtgC,EAAM,IAAGA,EAAM,GACfA,EAAM7R,KAAKqS,eAAcR,EAAM7R,KAAKqS,cACpCV,EAAO,IAAGA,EAAO,GACjBA,EAAO3R,KAAKmS,cAAaR,EAAO3R,KAAKmS,aACzC,IAAImnC,EAAK3nC,EAAO,IAAO,IACrBgY,EAAI,IAAO9X,EAAM,IAAO,IAC1Bq7D,EAAKvjD,EACLwjD,EAAK7zB,EACLyP,EAAOkkB,EAAI3zB,EAAG3vB,EAAGyjD,GACjB/nE,EAAM2H,MAAM/I,GACZA,EAAEsQ,iBACFi5D,GAAena,EAAO1vB,QAAQ,YAAa1/B,EAC7C,GAGA+oE,EAAYnnE,GAAG,YAAa,SAAU5B,EAAGypE,GACvC,IAAI5D,EAAU9pE,KAAK25D,WACfoQ,OAAqB16D,IAAdpL,EAAE2N,QAAwB87D,EAAa97D,QAAU3N,EAAE2N,QAY9D67D,GAAuBpoE,EAAM2H,MAAM/I,GACnCspE,EAZW,SAAUtpE,GACnB,IAAI0N,EAAOm4D,GAAW7lE,EAAE2N,QAAUm4D,GAChC+D,EAAOf,EAAW,GAAG56D,YACnBR,EAAO,IAAGA,EAAO,GACjBA,EAAOm8D,IAAMn8D,EAAOm8D,GACxB,IAAIpkD,EAAI5Z,KAAK48B,MAAO/6B,EAAO,IAAO,KAAO,IACzCy7D,EAAK1jD,EACLq/B,EAAOkkB,EAAIE,EAAID,EAAIxjD,GACnBzlB,EAAEsQ,gBACJ,GAIAtQ,EAAEsQ,gBACJ,GACAw4D,EAAWlnE,GAAG,YAAa,SAAU5B,GACnC,IAAI0N,EAAO1N,EAAE2N,QAAU1L,EAAElG,MAAM4S,SAASjB,KACpCA,EAAO,IAAGA,EAAO,GACjBA,EAAO3R,KAAKmS,cAAaR,EAAO3R,KAAKmS,aACzC,IAAIuX,EAAI5Z,KAAK48B,MAAO/6B,EAAO,IAAO,KAAO,IACzCy7D,EAAK1jD,EACLq/B,EAAOkkB,EAAIE,EAAID,EAAIxjD,GACnBzlB,EAAEsQ,iBACFi5D,GAAeR,EAAYrpC,QAAQ,YAAa1/B,EAClD,GAGAopE,EAAIvnE,KAAK,WACPI,EAAElG,MAAM6F,GAAG,QAAS,WAClBK,EAAElG,MACCoxB,OAAO,0BACPtW,SAAS,YACT8b,WACA5b,YAAY,YACf,IAAIk5C,EAAQl0D,KAAKkI,MAAM0kE,gBACrBlB,EAAMJ,GAASC,GAAOrX,IACtBxqC,EAAIwqC,EAAM3tD,MAAM2tD,EAAMjzD,YAAY,KAAO,EAAGizD,EAAMtzD,OAAS,GAE7DqsE,EAAKvB,EAAI1K,EACTmM,EAAKzB,EAAIpyB,EACT4zB,EAAKxB,EAAI/hD,EACyC,KAA7CuqC,EAAMxuD,MAAM,gBAAkB,IAAI9E,SAAc8oB,EAAI,GACzD0jD,EAAK1jD,EAELq/B,EAAO2iB,EAAI1K,EAAG0K,EAAIpyB,EAAGoyB,EAAI/hD,EAAGD,EAC9B,EACF,GAEK3nB,EAAIqS,wBAET/O,EAAMS,KACJ,CACE,CAAEwI,KAAMu+D,EAAMt2D,UAAW,aACzB,CAAEjI,KAAMy+D,EAAYx2D,UAAW,aAC/B,CAAEjI,KAAMw+D,EAAOv2D,UAAW,cAE5B,SAAU1V,EAAGmJ,GACXjI,EAAIsS,WAAWrK,EAAIsE,KAAM,CACvB+G,aAAc,WACZm4D,GAAc,EACdC,GAAsB,CACxB,EACAj4D,YAAa,SAAUvR,IAY7B,SAAsBpE,EAAO0W,GAC3B,IAAIw3D,EAAUluE,EAAMqV,QAAQ,GACxB84D,EAAiB7uE,SAAS8uE,YAAY,cAE1CD,EAAeE,eACb33D,GACA,GACA,EACAnX,OACA,EACA2uE,EAAQpmC,QACRomC,EAAQnmC,QACRmmC,EAAQn8D,QACRm8D,EAAQj8D,SACR,GACA,GACA,GACA,EACA,EACA,MAEFi8D,EAAQ/+D,OAAOm/D,cAAcH,EAC/B,CAjCQI,CAAanqE,EAAG+F,EAAIuM,UACtB,EACAb,WAAY,WACVg0D,EAASl/D,SACTgjE,GAAc,EACdC,GAAsB,CACxB,GAEJ,EA0BJ,EAGA1tE,GAAM6E,UAAUiP,OAAS,SAAUmtD,EAAG1nB,EAAG3vB,EAAGvoB,GAC1C,IAAIoE,EAAOxF,KACGwF,EAAKlG,OACnB,IAAI2sE,EAAMZ,GAAS,CAAErK,EAAGA,EAAG1nB,EAAG,IAAK3vB,EAAG,MAC1B0hD,GAAS,CAAErK,EAAGA,EAAG1nB,EAAGA,EAAG3vB,EAAGA,IACtC,IAAI0kD,EAAWrN,EAAI,IAAO,IACtBnvD,EAAM,IAAO8X,EAAI,IAAO,IACxBhY,EAAQ2nC,EAAI,IAAO,IACnBg1B,EAAY9oE,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMinB,cAAc,GAE/DrlE,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMgnB,oBAAoBzvD,IAAI,MAAOkzD,GAChEC,EAAUpmE,MAAMsjE,WAAa,IAAMS,EAGnCzmE,EAAK+mE,WAAWj7D,KAAK,IAAMsyC,GAAMonB,kBAAkB7vD,IAAI,CACrDtJ,IAAMA,EAAMy8D,EAAUj8D,aAAgB,IAAM,IAC5CV,KAAOA,EAAO28D,EAAUn8D,YAAe,IAAM,KAOjD,EAEApS,GAAM6E,UAAU6nE,aAAe,WAC7B,IAAIjnE,EAAOxF,KACP8E,EAAUU,EAAKlG,OAEfivE,EAAmB/oE,EAAK4lE,aAAa95D,KAAK,IAAMsyC,GAAM6mB,kBACtDkC,EAAkBnnE,EAAK+mE,WAAWj7D,KACpC,IAAMsyC,GAAMqnB,aAAe,UAGzBwB,EAAe,CAEjBnvD,MAAO,SAAUtK,GACfu7D,EAAiB,GAAGrmE,MAAMsjE,WAAa,GACvChmE,EAAK4lE,aACF95D,KAAK,IAAMsyC,GAAM8mB,eACjB1vD,YAAY4oC,GAAM2mB,kBAClBzvD,SAAS8oC,GAAM4mB,mBAClBhlE,EAAK0uD,MAAQ,GAEbpvD,EAAQf,MAAQe,EAAQf,KAAK,IAC7ByB,EAAKgnE,cACP,EAGAzsD,QAAS,SAAU/M,EAAO+1C,GACxB,IACEylB,EACA9C,EAFE5iE,EAAQ5C,EAAE5E,KAAKqrE,EAAgBjxD,OAInC,GAAI5S,EAAMpE,QAAQ,MAAO,GAKvB,GAJAgnE,EAAMJ,GAASC,GAAOziE,IACtBtD,EAAKqO,OAAO63D,EAAI1K,EAAG0K,EAAIpyB,EAAGoyB,EAAI/hD,GAC9B4kD,EAAiB,GAAGrmE,MAAMsjE,WAAagD,EAAa,IAAMnD,GAASK,IAGhE5iE,EAAMpD,MAAM,gBAAkB,IAAI9E,OAAS,GACN,SAAtC2tE,EAAiBt+D,KAAK,YACtB,CACA,IAAI0B,EAC0D,IAA5D7I,EAAMvC,MAAMuC,EAAM7H,YAAY,KAAO,EAAG6H,EAAMlI,OAAS,GACzD4E,EAAK+mE,WACFj7D,KAAK,IAAMsyC,GAAMmnB,qBACjB5vD,IAAI,OAAQxJ,GACf48D,EAAiB,GAAGrmE,MAAMsjE,WAAa1iE,EACvC0lE,EAAa1lE,CACf,OAEA4iE,EAjmBO,SAAUO,GAEvB,GAAmB,KADnBA,EAAMA,EAAIvnE,QAAQ,MAAO,EAAKunE,EAAIjrE,UAAU,GAAKirE,GACzCrrE,OAAc,CACpB,IAAIgP,EAAMq8D,EAAIliE,MAAM,IACpBkiE,EAAMr8D,EAAI,GAAKA,EAAI,GAAKA,EAAI,GAAKA,EAAI,GAAKA,EAAI,GAAKA,EAAI,EACzD,CAGA,OAFAq8D,EAAMntD,SAASmtD,EAAK,IAEbX,GADG,CAAEK,EAAGM,GAAO,GAAIL,GAAU,MAANK,IAAmB,EAAGtiD,EAAS,IAANsiD,GAEzD,CAwlBcwC,CAAS3lE,GACfylE,EAAiB,GAAGrmE,MAAMsjE,WAAagD,EAAa,IAAMnD,GAASK,GACnElmE,EAAK4lE,aACF95D,KAAK,IAAMsyC,GAAM8mB,eACjB1vD,YAAY4oC,GAAM4mB,mBAClB1vD,SAAS8oC,GAAM2mB,kBAGpB,GAAe,WAAXxhB,EAGF,OAFAvjD,EAAKqO,OAAO63D,EAAI1K,EAAG0K,EAAIpyB,EAAGoyB,EAAI/hD,EAAGo/B,QACjCjkD,EAAQikD,QAAUjkD,EAAQikD,OAAOylB,IAGnChpE,EAAK0uD,MAAQprD,EAEbhE,EAAQf,MAAQe,EAAQf,KAAK+E,GAC7BtD,EAAKgnE,cACP,GAIFhnE,EAAK+mE,WAAW1mE,GAAG,QAAS,wBAAyB,WACnD,IAAImN,EAAQ9M,EAAElG,MACZ0uE,EAAY17D,EAAM/C,KAAK,sBACzBw8D,EAAaiC,IAAcjC,EAAaiC,GAAWziE,KAAKjM,KAAMgT,EAChE,GAGA25D,EAAgB9mE,GAAG,QAAS,SAAU5B,GACpC,IAAI+O,EAAQ9M,EAAElG,MACdysE,EAAa1sD,QAAQ9T,KAAKjM,KAAMgT,EAAqB,KAAd/O,EAAEsjC,QAAiB,KAAO,SACnE,EACF,EAGAxnC,GAAM6E,UAAU0I,OAAS,WACvB,IAAI9H,EAAOxF,KACP8E,EAAUU,EAAKlG,OAGnBkG,EAAK4lE,aAAavlE,GAAG,QAAS,WAEff,EAAQwJ,KAAK3E,KAAKi6C,GAAMsnB,eAInC1lE,EAAKgnE,gBAELhnE,EAAK8mE,eACL9mE,EAAKkW,MACLlW,EAAKqnE,OAET,EACF,EAKA9sE,GAAM6E,UAAUyR,eAAiB,WAC/B,IAAI7Q,EAAOxF,KACP8E,EAAUU,EAAKlG,OAEnBkG,EAAK8+D,wBAEL,IAAIxlC,EAAO/8B,EAAIsU,eACb7Q,EAAK+mE,WAAW,GAChB,SAAUtoE,GACR,IAAIsqE,EAAmB/oE,EAAK4lE,aAAa95D,KACvC,IAAMsyC,GAAM6mB,kBAGd,GAAIjlE,EAAK0uD,MAAO,CACd,IAAIwX,EAAMJ,GAASC,GAAO/lE,EAAK0uD,QAC/B1uD,EAAKqO,OAAO63D,EAAI1K,EAAG0K,EAAIpyB,EAAGoyB,EAAI/hD,EAChC,MACEnkB,EAAK4lE,aACF95D,KAAK,IAAMsyC,GAAM8mB,eACjB1vD,YAAY4oC,GAAM2mB,kBAClBzvD,SAAS8oC,GAAM4mB,mBAGpB+D,EAAiB,GAAGrmE,MAAMsjE,WAAahmE,EAAK0uD,OAAS,GAG3B,mBAAnBpvD,EAAQ6c,QAAyB7c,EAAQ6c,OAAOnc,EAAK0uD,OAG5D1uD,EAAKgnE,cACP,EACA,CACE91D,OAAQ,CAAC5R,EAAQwJ,KAAK,IACtBzO,MAAOwjE,GACPzsD,SAAS,IAIbpR,EAAK8+D,sBAAwB,WAC3BxlC,IACAt5B,EAAK8+D,sBAAwBp+D,EAAEiiB,IACjC,CACF,EAKApoB,GAAM6E,UAAUkhE,mBAAqB,WACnC,IAAItgE,EAAOxF,KACGwF,EAAKlG,OACnB,IAAIqvE,EAAoB,gCAExBnpE,EAAK++D,kBAEL,IAAI6B,EAAsB,WACxB5gE,EAAKgM,UACP,EAEA66D,GAAKxmE,GAAG8oE,EAAmBvI,GAE3B5gE,EAAK++D,gBAAkB,WACrB8H,GAAK1+D,IAAIghE,EAAmBvI,GAC5B5gE,EAAK++D,gBAAkBr+D,EAAEiiB,IAC3B,CACF,ECl4BA,IAAIymD,GAAiB,UAGjBlrE,GAAYqjE,EAAiB,CAC/B9+D,KAAM,MAGN3I,OAAQ,CACNgP,KAAM,cAGRs1C,MAAO,CACLqc,KAAM,YACN4O,OAAQ,kBACRC,MAAO,kBACPC,KAAM,iBACNC,IAAK,iBAIPpzD,OAAQ,WACN,IACI9W,EADO9E,KACQV,OAEnBgO,GAAO2hE,QAAQ,KAAMnqE,EAAQwJ,KAC/B,IAGEs1C,GAAQlgD,GAAUkgD,MAElByoB,GAAOnmE,EAAE9G,QACT8gE,GAAOh6D,EAAE/G,UAGTmO,GAAS,CAEX4hE,SAAU,SAAUllE,GAElB,IAAIlF,GADJkF,EAAMA,GAAO,CAAA,GACKlF,SAAW,CAAA,EACzBkO,EAAQhJ,EAAIqoD,QAAUnsD,EAAElG,MACxBi4B,EAAUnzB,EAAQqqE,WAClBn8D,EAAMoe,SACNpe,EAAMilB,QAAQ,cAAcxQ,GAAG,GAC/BzhB,EAAOlB,EAAQsqE,SACflpE,EAAEpB,EAAQsqE,UACVn3C,EAAQ5d,SAAS,sBAAsBA,SAAS,mBAChDg1D,EAAQr8D,EAAM1B,KAAK,KACnBg+D,EACqB,iBAAvBD,EAAMp/D,KAAK,SACc,WAAzBo/D,EAAMp/D,KAAK,UACTs/D,EAAiD,iBAA/Bv8D,EAAM/C,KAAK,gBAC7BzC,EAASyqB,EAAQhoB,KAAK,cACtBu/D,EAAQx8D,EAAM/C,KAAK,UAGnBlK,EACF,UAAWiE,EAAMA,EAAIjE,MAAQiN,EAAMoe,SAAS/W,SAAS,MAAMtU,MAAMiN,GAGnE,IAAKhJ,EAAIylE,MAAO,CACd,IAAIC,EAAS18D,EAAM4jB,SAAS,IAAMgtB,GAAMC,YAiBxC,IAAqB,IAhBFx+C,EAAMxF,MAAMoM,KAC7BjM,KACA4uE,GACA,mBAAqBphE,EAAS,IAC9B,CACEc,KAAM2pB,EACN1yB,KAAM,CACJQ,MAAOiN,EAAMoe,SAAS/W,SAAS,MAAMtU,MAAM2pE,GAC3C/mE,GAAI+mE,EAAOz/D,KAAK,WAElBolC,GAAI,CACFtvC,MAAOA,EACP4C,GAAI6mE,KAIkB,MAC9B,CAGA,IAAMF,IAAUC,EAEd,GADAv8D,EAAM8H,SAAS8oC,GAAMC,YAAYjtB,WAAW5b,YAAY4oC,GAAMC,YAC1D2rB,EAAO,CACT,IAAIxT,EAAch2D,EAAKwH,OAAO,YAAcgiE,EAAQ,OACpDxT,EAAcA,EAAYp7D,OAASo7D,EAAch2D,EAAKyhB,GAAG1hB,IAEtD+U,SAAS8oC,GAAME,YACfltB,WACA5b,YAAY4oC,GAAME,WACvB,MACE99C,EACGyhB,GAAG1hB,GACH+U,SAAS8oC,GAAME,YACfltB,WACA5b,YAAY4oC,GAAME,YAIzBz+C,EAAMxF,MAAMoM,KAAKjM,KAAM4uE,GAAgB,OAASphE,EAAS,IAAK,CAC5Dc,KAAM2pB,EACNlyB,MAAOA,EACP4C,GAAI6mE,GAER,EAGAG,UAAW,SAAU3lE,GAGnB,IAAI4oD,GAFJ5oD,EAAMA,GAAO,CAAA,GAEAqoD,QAAUnsD,EAAElG,MAAMoxB,SAC3BrrB,EAAQ6sD,EAAGxhC,SAAS/W,SAAS,MAAMtU,MAAM6sD,GACzCgd,EAAUhd,EAAG/6B,QAAQ,cACrB7xB,EAAO4pE,EACRv1D,SAAS,sBACTA,SAAS,mBACR7M,EAASoiE,EAAQ3/D,KAAK,cACtBu/D,EAAQ5c,EAAG3iD,KAAK,UAGpB,GAAKjG,EAAIylE,QAWa,IAVFpqE,EAAMxF,MAAMoM,KAC5B2mD,EAAG,GACHgc,GACA,mBAAqBphE,EAAS,IAC9B,CACEc,KAAMshE,EACN7pE,MAAOA,EACP4C,GAAI6mE,IARV,CAyBA,GAXI5c,EAAG33C,SAAS2oC,GAAMC,cAChB+O,EAAGrwC,OAAO,IAAMqwC,EAAGrwC,OAAOoU,GAAG,MAC/BrpB,GAAO4hE,SAASjjE,KAAK2mD,EAAGrwC,OAAO,GAAI,CACjCxc,MAAOA,EAAQ,IAER6sD,EAAGtwC,OAAO,IAAMswC,EAAGtwC,OAAOqU,GAAG,OACtCrpB,GAAO4hE,SAASjjE,KAAK2mD,EAAGtwC,OAAO,GAAI,KAAMvc,EAAQ,IAIrD6sD,EAAGpoD,SACCglE,EAAO,CACT,IAAIxT,EAAch2D,EAAKwH,OAAO,YAAcgiE,EAAQ,OACpDxT,EAAcA,EAAYp7D,OAASo7D,EAAch2D,EAAKyhB,GAAG1hB,IAC7CyE,QACd,MACExE,EAAKyhB,GAAG1hB,GAAOyE,SAEjB5D,WAAW,WACT0G,GAAO2hE,QAAQ,KAAMW,EACvB,EAAG,IAEHvqE,EAAMxF,MAAMoM,KAAKjM,KAAM4uE,GAAgB,aAAephE,EAAS,IAAK,CAClEc,KAAMshE,EACN7pE,MAAOA,EACP4C,GAAI6mE,GA3BN,CA6BF,EAGAP,QAAS,SAAUpJ,EAAQv3D,IACRA,GAAQpI,EAAE,eAEhBJ,KAAK,WACd,IA4CiB0V,EA5CbxI,EAAQ9M,EAAElG,MACV8iB,EAAQ9P,EAAMqH,SAAS,IAAMupC,GAAMirB,QACnCgB,EAAQ,sBACRvc,EAAOptD,EACT,+BACE09C,GAAMorB,IACN,KACAa,EACA,OACAA,EACA,2CAIAC,EAAa98D,EAAM/C,KAAK,kBAuB5B,GAtBI6/D,GAA6B,UAAfA,GAChBhtD,EAAMxR,KAAK,MAAMxL,KAAK,WACpB,IAAI8sD,EAAK1sD,EAAElG,MACX,IACG4yD,EAAGthD,KAAK,IAAMsyC,GAAMkrB,OAAO,IACE,UAA9Blc,EAAG3iD,KAAK,kBACR,CACA,IAAIqM,EAAQpW,EACV,wDACE09C,GAAMkrB,MACN,UAEJxyD,EAAMzW,GAAG,QAAS,SAAU5B,GAC1BqJ,GAAOqiE,UAAU1jE,KAAKjM,KAAM,CAC1BiE,EAAGA,GAEP,GACA2uD,EAAGrhD,OAAO+K,EACZ,CACF,GAGsC,iBAA7BtJ,EAAM/C,KAAK,cAGtB,GACE6S,EAAM9K,KAAK,eAAiB8K,EAAMm2C,aAAe,GAChDn2C,EAAMxR,KAAK,MAAM1Q,QAChBkiB,EAAMtH,UACOA,EAERsH,EAAMxR,KAAK,MAAMmW,GAAG,GAAGjM,UADRA,EAAS,EAE/B,CAMA,GAJe,WAAXqqD,GAAuB/iD,EAAMnZ,KAAK,mBACpCmZ,EAAMhI,SAAS8oC,GAAMmrB,MAGnBjsD,EAAMxR,KAAK,IAAMsyC,GAAMorB,KAAK,GAAI,OACpClsD,EAAMvR,OAAO+hD,GACbtgD,EAAM/C,KAAK,WAAY,IAGvBqjD,EAAKztD,GAAG,QAAS,WACf,IAAIkqE,EAAWjtD,EAAM7H,SAAS2oC,GAAMmrB,MACpCjsD,EAAMitD,EAAW,cAAgB,YAAYnsB,GAAMmrB,KACrD,EACF,MACEjsD,EAAMxR,KAAK,IAAMsyC,GAAMorB,KAAKxkE,SAC5BwI,EAAMyI,WAAW,WAErB,EACF,EAGAu0D,YAAa,SAAU/rE,GACrB,IAAIgsE,EAAW/pE,EAAE,IAAM09C,GAAMirB,SACnB,IAAN5qE,GAAgD,YAAlCiC,EAAEjC,EAAE+K,QAAQiB,KAAK,eACjCggE,EAASj1D,YAAY4oC,GAAMmrB,MAC3BkB,EAAS3+D,KAAK,IAAMsyC,GAAMorB,KAAK/+D,KAAK,QAAS,IAEjD,GAIF/J,EAAEwB,OAAOhE,GAAW,CAElBwsE,OAAQ,SAAU1iE,EAAQ1I,GACxB,IAOQqrE,EAPJP,EAAU1pE,EAAE,yBAA2BsH,EAAS,KAChD4iE,EAAUR,EAAQv1D,SAAS,IAAMupC,GAAMirB,QACvCwB,EAAUD,EAAQ/1D,SAAS,IAAMupC,GAAMorB,KACvCsB,EAAWV,EAAQv1D,SAAS,sBAC5Bu4C,EACF,OAEMud,EAAU,GACd9qE,EAAMS,KAAKhB,EAAS,SAAUoF,EAAKpB,GAC7B,oBAAoBzH,KAAK6I,IAC7BimE,EAAQ7pE,KAAK,OAAS4D,EAAM,KAAOpB,EAAQ,IAC7C,GACIqnE,EAAQvvE,OAAS,GAAGuvE,EAAQjzD,QAAQ,IACjCizD,EAAQ98D,KAAK,KAEtB,MACCvO,EAAQge,OAAS,YAClB,QAeF,OAbAutD,EAAQ,GAAKA,EAAQpzD,OAAO21C,GAAMwd,EAAQ7+D,OAAOqhD,GACjD0d,EAAS/+D,OACP,gCACGzM,EAAQ6D,GAAK,WAAa7D,EAAQ6D,GAAK,IAAM,IAC9C,KACC7D,EAAQyzB,SAAW,IACpB,UAIJzzB,EAAQikD,QAAU/oD,KAAKuwE,UAAU/iE,EAAQ1I,EAAQ6D,IACjDynE,EAAQzmE,KAAK,iBAAkB7E,EAAQikD,QACvCz7C,GAAO2hE,QAAQnqE,EAAQikD,OAAS,SAAW,KAAM6mB,GAC1C5vE,IACT,EASA2vE,UAAW,SAAUniE,EAAQgjE,EAAOf,GAClC,IAEIpd,EAFUnsD,EAAE,yBAA2BsH,EAAS,KAC9B6M,SAAS,IAAMupC,GAAMirB,QACtBv9D,KAAK,eAAiBk/D,EAAQ,MAKnD,OAJAljE,GAAOqiE,UAAU1jE,KAAKomD,EAAO,GAAI,CAC/BA,OAAQA,EACRod,MAAOA,IAEFzvE,IACT,EASAuwE,UAAW,SAAU/iE,EAAQgjE,EAAOf,GAClC,IAEIpd,EAFUnsD,EAAE,yBAA2BsH,EAAS,KAC9B6M,SAAS,IAAMupC,GAAMirB,QACtBv9D,KAAK,eAAiBk/D,EAAQ,MAMnD,OAJAljE,GAAO4hE,SAASjjE,KAAKomD,EAAO,GAAI,CAC9BA,OAAQA,EACRod,MAAOA,IAEFzvE,IACT,EAGA4C,IAAK,SAAUkC,GACbA,EAAUA,GAAW,CAAA,EACrBo7D,GAAKr6D,GAAG,QAASf,EAAQqqE,WAAY,WACnC,IAAIppE,EAAQG,EAAEpB,EAAQqqE,YAAYppE,MAAMG,EAAElG,OAC1CsN,GAAO4hE,SAASjjE,KAAKjM,KAAM,CACzB+F,MAAOA,EACPjB,QAASA,GAEb,EACF,IAGFo7D,GAAKr6D,GAAG,QAAS,IAAM+9C,GAAMirB,OAAS,MAAOvhE,GAAO4hE,UACpD7C,GAAKxmE,GAAG,6BAA8ByH,GAAO2hE,SCjV7C,IAAIrkE,GAASvF,EAAMuF,SAIflH,GAAYqjE,EAAiB,CAC/B9+D,KAAM,MAGN3I,OAAQ,CACNgP,KAAM,cAGRs1C,MAAO,CACL6sB,SAAU,aACVC,SAAU,iBACVC,QAAS,gBACTC,SAAU,iBACVC,UAAW,kBACXC,YAAa,oBACbC,SAAU,iBACVC,SAAU,kBACVC,SAAU,+BAIZr1D,OAAQ,WACN,IACI9W,EADO9E,KACQV,OAGf80C,EAAQ,CAAA,EACR88B,EAAY,CAAA,EACZC,EAAU,CAAA,EAIVxa,EAAS,SAAUya,EAAKvuE,EAAKkD,GAC/B,IAAIiN,EAAQ9M,EAAElG,MACV6a,EAAQ7H,EAAM1B,KAAK,IAAMsyC,GAAMitB,WAGnC,GAAIhuE,EAAIoY,SAAS2oC,GAAMgtB,WAErB,IAAK/1D,EAAM,GAAI,CACb,IAAIw2D,EAAQr+D,EAAMqH,SAAS,oBAC3B+2D,EAAIj2D,IAAI,CACNtJ,IAAKmB,EAAMJ,SAASf,IAAMhP,EAAI+P,SAASf,IAAMhP,EAAIqvC,YACjD12B,QAAS61D,EAAM,GAAKA,EAAQr+D,GAAOomD,cACnCxlD,QAAS,GAEb,OAEAiH,EAAMC,SAAS8oC,GAAMqtB,UAGjBp2D,EAAMI,SAAS2oC,GAAMktB,cACvBj2D,EAAMM,IAAI,CACRxJ,OAAQkJ,EAAMo+C,aAAejmD,EAAMuI,SAAW,IAK9CV,EAAM,GAERu2D,EAAIj2D,IAAI,CACNxJ,KAAMy/D,EAAI5/D,WAAWG,KAAOy/D,EAAI71D,QAAU,EAC1CA,MAAO,EACP3H,QAAS,IAIXw9D,EAAIj2D,IAAI,CACNxJ,KAAMqB,EAAMxB,WAAWG,KAAOg7B,WAAW35B,EAAMmI,IAAI,eACnDtJ,IAAKmB,EAAMxB,WAAWK,IAAMmB,EAAMwI,SAAW41D,EAAI51D,WAKrD44B,EAAMruC,GAASa,WACb,WACEwqE,EAAIj2D,IAAI,CACNI,MAAOV,EAAM,GAAK,EAAI7H,EAAMuI,QAC5B3H,QAASiH,EAAM,GAAK,EAAI,GAE5B,EACAjQ,GAAOW,IAAMX,GAAOW,GAAK,GAAK,EAxDzB,KA4DP2C,aAAaijE,EAAQprE,IACQ,UAAzB8U,EAAMM,IAAI,YACZjN,aAAagjE,EAAUnrE,IAEzBmrE,EAAUnrE,GAASa,WAAW,WAC5BiU,EAAMC,SAAS8oC,GAAME,YACrB9wC,EAAM1B,KAAK,IAAMsyC,GAAMmtB,UAAUj2D,SAAS8oC,GAAMmtB,SAAW,IAC7D,EAAG,IAEP,EAGAjsE,EAAQwJ,KAAKxI,KAAK,SAAUC,GAC1B,IAAIiN,EAAQ9M,EAAElG,MACVoxE,EAAMlrE,EAAE,gBAAkB09C,GAAM+sB,QAAU,aAC1CW,EAAWt+D,EAAM1B,KAAK,IAAMsyC,GAAM8sB,UAGlCa,EAAav+D,EAAM1B,KAAK,IAAMsyC,GAAM+sB,SACpCY,EAAW,IAAIA,EAAW/mE,SAC9BwI,EAAMzB,OAAO6/D,IACZp+D,EAAMiI,SAAS2oC,GAAMgtB,UAClBU,EAAShgE,KAAK,QAAUsyC,GAAM4tB,WAC9BF,GAED3jE,IAAI,sBACJ9H,GAAG,qBAAsB,WACxB8wD,EAAO1qD,KAAKjM,KAAMoxE,EAAKp+D,EAAOjN,EAChC,GACC4H,IAAI,sBACJ9H,GAAG,qBAAsB,WAGpBmN,EAAMiI,SAAS2oC,GAAMgtB,UACvBQ,EAAIj2D,IAAI,CACNK,OAAQ,EACR5H,QAAS,KAIX1F,aAAagjE,EAAUnrE,IACvBmrE,EAAUnrE,GAASa,WAAW,WAC5BoM,EAAM1B,KAAK,IAAMsyC,GAAMitB,WAAW71D,YAAY4oC,GAAME,YACpD9wC,EACG1B,KAAK,IAAMsyC,GAAMmtB,UACjB/1D,YAAY4oC,GAAMmtB,SAAW,IAClC,EAAG,KAEP,GAGF/9D,EAAMrF,IAAI,sBAAsB9H,GAAG,qBAAsB,WACvDqI,aAAakmC,EAAMruC,IACnBorE,EAAQprE,GAASa,WAAW,WACrBoM,EAAMiI,SAAS2oC,GAAMgtB,WACxBQ,EAAIj2D,IAAI,CACNI,MAAO,EACP5J,KAAMy/D,EAAI5/D,WAAWG,KAAOy/D,EAAI71D,QAAU,EAC1C3H,QAAS,GAGf,EAzHO,IA0HT,GAGA09D,EAAShgE,KAAK,KAAKxL,KAAK,WACtB,IAAIurE,EAAQnrE,EAAElG,MAEVyxE,EAAiB,sBADTJ,EAAMz6C,SAAS,IAAMgtB,GAAMitB,WAI7B,KAAOQ,EAAMh3D,SAAS,IAAMupC,GAAMmtB,UAAU,IACpDM,EAAM9/D,OACJ,wBACEqyC,GAAMotB,SACN,IACAptB,GAAMmtB,SACN,UAKNM,EACG1jE,IAAI8jE,EAAgBnkE,GAAOokE,WAC3B7rE,GAAG4rE,EAAgBnkE,GAAOokE,UAC/B,EACF,EACF,IAGEpkE,GAAS,CAEXokE,UAAW,WACT,IAAI1+D,EAAQ9M,EAAElG,MACVi4B,EAAUjlB,EAAM6kB,QAAQ+rB,GAAM6sB,UAC9BjjE,EAASyqB,EAAQhoB,KAAK,cACtBmhB,EAASpe,EAAMoe,SACfvW,EAAQ7H,EAAM4jB,SAAS,IAAMgtB,GAAMitB,WACnCtB,EAAkD,iBAAhCn+C,EAAOnhB,KAAK,gBAiBlC,GAZ2B,iBAAvB+C,EAAM/C,KAAK,SACc,WAAzB+C,EAAM/C,KAAK,WAEZs/D,GAEI10D,EAAM,KACTod,EAAQ3mB,KAAK,IAAMsyC,GAAMC,YAAY7oC,YAAY4oC,GAAMC,YACvDzyB,EAAOtW,SAAS8oC,GAAMC,aAKtB5rB,EAAQhd,SAAS2oC,GAAMgtB,UAAW,CACpC,IAAIe,EAAa/tB,GAAM8sB,SAAW,KAC9BkB,GAAcxgD,EAAOnW,SAAS02D,GAI9BroE,EAAW,WACbpD,EAAElG,MAAMmb,IAAI,CACVwkB,QAAS,KAGX1H,EAAQ5d,SAAS,IAAMupC,GAAM+sB,SAASx1D,IAAI,CACxCvH,QAAS,GAEb,EAGA,GAAIiH,EAAM8b,GAAG,aAAc,OAM3B,GAHA9b,EAAMG,YAAY4oC,GAAMqtB,UAGpBp2D,EAAM,KACJ+2D,GAEF/2D,EAAMg7B,UAvBI,IAuBevsC,GACzB8nB,EAAOtW,SAAS62D,KAGhBvgD,EAAOpW,YAAY22D,GACnB92D,EAAM6lB,OAAOoV,QA5BH,IA4BoBxsC,IAKW,iBAAlC2uB,EAAQhoB,KAAK,kBACW,QAA/BgoB,EAAQhoB,KAAK,eACb,CACA,IAAI4hE,EAAazgD,EAAOwF,SAAS,IAAM+6C,GACvCE,EAAW72D,YAAY22D,GACvBE,EACGx3D,SAAS,IAAMupC,GAAMitB,WACrBnwC,OACA5B,OACAgX,QA1CO,IA0CUxsC,EACtB,CAEJ,CAEAjE,EAAMxF,MAAMoM,KAAKjM,KA7PA,UA6PsB,OAASwN,EAAS,IAAKwF,EAChE,GAGE4wC,GAAQlgD,GAAUkgD,MClQlBlgD,GAAYqjE,EAAiB,CAC/B9+D,KAAM,aAGN3I,OAAQ,CACNgP,KAAM,qBAGRsN,OAAQ,WACK5b,KACQV,OAEXgP,KAAKxI,KAAK,WAChB,IAAIkN,EAAQ9M,EAAElG,MACV8xE,EAAW,gBACXC,EAAY/+D,EAAM/C,KAAK6hE,IAAa,IACpCE,EAAQh/D,EAAM1B,KAAK,KACnB0gE,EAAMzvD,KAAK,QAAUuvD,EAAW,KAAK,KACzCE,EAAMlsE,KAAK,SAAUC,GACfA,IAAUisE,EAAMpxE,OAAS,GAC7BsF,EAAElG,MAAMmd,MAAM,SAAW20D,EAAW,IAAMC,EAAY,UACxD,GACA/+D,EAAMmI,IAAI,aAAc,WAC1B,EACF,ICxBEzX,GAAYqjE,EAAiB,CAC/B9+D,KAAM,WAGN3I,OAAQ,CACNgP,KAAM,mBAGRs1C,MAAO,CACLqc,KAAM,kBAGRrkD,OAAQ,WACK5b,KACQV,OAEXgP,KAAKxI,KAAK,WAChB,IAAIkN,EAAQ9M,EAAElG,MACVygE,EAAUztD,EAAM1B,KAAK,uBACrBsgC,EAAU6uB,EAAQxwD,KAAK,eAE3BwwD,EAAQtlD,IAAI,QAAS,WACnB,MAAO,WAAW9Z,KAAKuwC,GACmB,IAAtC,IAAInjC,SAAS,UAAYmjC,EAAzB,GAA4C,IAC5CA,CACN,GAEI5+B,EAAM/C,KAAK,oBACbrJ,WAAW,WACT65D,EAAQvoD,KACN,gBAAkB0rC,GAAMqc,KAAO,UAAYruB,EAAU,UAEzD,EAAG,IAEP,EACF,IAGEgS,GAAQlgD,GAAUkgD,MAGtB19C,EAAEwB,OAAOhE,GAAW,CAElBynD,SAAU,SAAU39C,EAAQokC,GAC1B,IAAIquB,EAAO,iBAEPQ,EADOv6D,EAAE,IAAM+5D,EAAO,eAAiBzyD,EAAS,KACjC8D,KAAK,IAAM2uD,EAAO,QACjC/uD,EAAOuvD,EAAQnvD,KAAK,IAAM2uD,EAAO,SAUrC,OARAQ,EACGtlD,IAAI,QAAS,WACZ,MAAO,WAAW9Z,KAAKuwC,GACmB,IAAtC,IAAInjC,SAAS,UAAYmjC,EAAzB,GAA4C,IAC5CA,CACN,GACC3hC,KAAK,cAAe2hC,GACvB1gC,EAAKA,KAAK0gC,GACH5xC,IACT,IC1DF,IAGI0D,GAAYqjE,EAAiB,CAC/B9+D,KAAM,WAGN3I,OAAQ,CACNgP,KAAM,mBAGRsN,OAAQ,WACK5b,KACQV,OAEXgP,KAAKxI,KAAK,WACDI,EAAElG,MAAMsR,KAAK,qBACnBxL,KAAK,WACZ,IAAIkN,EAAQ9M,EAAElG,MACViyE,EAAYj/D,EAAM1B,KAAK,sBACvBm6C,EAAWz4C,EAAM1B,KAAK,wBACtB4gE,EAAqC,SAA5BzmB,EAAStwC,IAAI,WACtBs2D,EAAiB,2BAGrBQ,EAAU3gE,KAAK,qBAAqB9G,SACpCynE,EAAU1gE,OACR,gEAEFyB,EAAMk/D,EAAS,cAAgB,YAAYtuB,GAAME,YAG7C2H,EAASxwC,SAAS2oC,GAAME,aAC1B2H,EAASzwC,YAAY4oC,GAAME,YAI7BmuB,EACGtkE,IAAI8jE,EAAgB5xE,GAAMsyE,YAC1BtsE,GAAG4rE,EAAgB5xE,GAAMsyE,WAC9B,EACF,EACF,IAIEtyE,GAAQ,CAEVsyE,WAAY,WACV,IAAIn/D,EAAQ9M,EAAElG,MACVoyE,EAAUp/D,EAAM6kB,QAAQ,mBACxBrqB,EAAS4kE,EAAQniE,KAAK,cAItBoiE,EAAgB,uBAEhBC,EAAet/D,EAAMoe,OAHR,qBAIbmhD,EAAkBv/D,EAAM4jB,SAASy7C,GACjCH,EAA4C,SAAnCK,EAAgBp3D,IAAI,WAC7BqrD,EAAuD,iBAAlC4L,EAAQniE,KAAK,iBAGlC3G,EAAW,WACbpD,EAAElG,MAAMmb,IAAI,UAAW,GACzB,EAGA,IAAIo3D,EAAgB57C,GAAG,aAAvB,CAcA,GAXIu7C,GAEFK,EAAgB18B,UApBJ,IAoBuBvsC,GACnCgpE,EAAax3D,SAAS8oC,GAAME,cAG5BwuB,EAAat3D,YAAY4oC,GAAME,YAC/ByuB,EAAgB7xC,OAAOoV,QAzBX,IAyB4BxsC,IAItCk9D,EAAa,CACf,IAAIgM,EAAeF,EAAa17C,SAAS,IAAMgtB,GAAME,YACrD0uB,EAAax3D,YAAY4oC,GAAME,YAC/B0uB,EAAan4D,SAASg4D,GAAe3xC,OAAOoV,QAhChC,IAgCiDxsC,EAC/D,CAGAjE,EAAMxF,MAAMoM,KAAKjM,KAzFA,UAyFsB,YAAcwN,EAAS,IAAK,CACjEsV,MAAO9P,EACPulB,QAASg6C,EACT7xC,KAAMwxC,GAxB6B,CA0BvC,GAGEtuB,GAAQlgD,GAAUkgD,MC5FtB,MAAMj0B,GAAW,KAAE/sB,OAAKC,cAAKC,YAAYC,GAAUC,SAAAA,IAG7CU,GAAYqjE,EAAiB,CACjC9+D,KAAM,UAEN27C,MAAO,CACLH,SAAU,aAOdv9C,EAAEwB,OAAOhE,GAAW,CAClBkY,MAAAA,CAAOxa,EAAMoM,GACX,MAAMilE,EACkB,iBAAXjlE,GAAuBA,EACzB,gBAAkBA,EAAS,KAE7B,GAEHklE,EAAa,CACjB9vE,IAAK,aAAe6vE,EACpB5vE,IAAK,aAAe4vE,EACpB3vE,WAAY,oBAAsB2vE,EAClC1vE,SAAU,kBAAoB0vE,EAC9BzvE,SAAU,kBAAoByvE,GAIhC,IAAIrxE,GAASsxE,EAAWtxE,GAGxB,OAAIA,GAA0B,iBAAXoM,GAAuBA,aAAkBtH,EACnDypB,GAASvuB,GAAMwa,OAAO,CAC3BtN,KAAMd,IAIHklE,EAAWtxE,GACduuB,GAASvuB,GAAMwa,OAAO,CACpBtN,KAAMokE,EAAWtxE,KAEnBiE,EAAMS,KAAK4sE,EAAY,SAAUC,GAC/BhjD,GAASgjD,GAAe/2D,OAAO,CAC7BtN,KAAMokE,EAAWC,IAErB,EACN,EAEAzC,OAAQttE,GAAIstE,OACZP,UAAW/sE,GAAI+sE,UACfY,UAAW3tE,GAAI2tE,UACf3tE,IAAKA,GAAIA,IAETG,SAAUA,GAASooD,WAGrBznD,GAAUsjB,KAAOtjB,GAAUkY,OAG3B1V,EAAE,KACAxC,GAAUkY,WClEZ,IAAIhR,GAASvF,EAAMuF,SACfiB,GAAOxG,EAAMwG,OAGb43C,GAAW,SACX8f,GAAY,SAAW9f,GAAW,SAGlCphD,GAAS,CACX/C,OAAQ,CAAA,EAERggB,IAAK,SAAUxa,GACb,IAAIU,EAAOxF,KAEX,OADAwF,EAAKlG,OAAS4G,EAAEwB,OAAO,CAAA,EAAIlC,EAAKlG,OAAQwF,GACjCU,CACT,EAEAK,GAAI,SAAUyH,EAAQxN,GACpB,OAAOuF,EAAMgI,QAAQpB,KAAKjM,KAAMyjD,GAAUn2C,EAAQxN,EACpD,GAIE6b,GAAa,WACf,IAAInW,EAAOxF,KAEP2I,EADUnD,EAAKlG,OACFqJ,GAIjB,OAFAgT,GAAWnW,KAAKmD,GAAMnD,EAEf,CACLnD,OAAQ,SAAUuwE,GAChBptE,EAAKnD,OAAO4J,KAAKzG,EAAMotE,EACzB,EACAxuB,OAAQ,SAAUt/C,GAChBU,EAAK4+C,OAAOn4C,KAAKzG,EAAMV,EACzB,EACAxF,OAAQkG,EAAKlG,OAEjB,EASIuzE,GAAY,oBACZC,GAAY,oBACZC,GAAc,sBACdC,GAAc,sBAEdC,GAAY,YAGZlzE,GAAQ,SAAU+E,GACpB,IAAIU,EAAOxF,KACXwF,EAAKO,MAAQ1D,GAAO0D,MAAQhE,EAAI0O,gBAAgB,UAChDjL,EAAKlG,OAAS4G,EAAEwB,OAAO,CAAA,EAAIlC,EAAKlG,OAAQ+C,GAAO/C,OAAQwF,GACvDU,EAAKoW,QACP,EAGA7b,GAAM6E,UAAUtF,OAAS,CACvB4zE,OAAQ,SACRC,KAAM,GACNvpB,MAAM,EACNwpB,WAAY,GACZpsE,IAAK,GACLyoE,MAAO,GACP4D,MAAO,OACPC,WAAY,GACZt6C,OAAQ,OACRrvB,KAAM,CAAA,EACN4pE,MAAM,EACNxQ,KAAM,EACNtiD,OAAQ,EACR+yD,UAAU,EACVtiE,KAAM,CAEJ,eAAgB,0CAChB,oBAAqB,iCACrB,cAAe,GACfhQ,MAAO,GACP,eAAgB,KAChB,aAAc,OAKlBnB,GAAM6E,UAAUw/C,OAAS,SAAUt/C,GACjC,IAAIU,EAAOxF,KACXwF,EAAKlG,OAAS4G,EAAEwB,OAAO,CAAA,EAAIlC,EAAKlG,OAAQwF,GACxCU,EAAKoW,QAAO,EACd,EAGA7b,GAAM6E,UAAUgX,OAAS,SAAU2oC,GACjC,IAAI/+C,EAAOxF,KACP8E,EAAUU,EAAKlG,OAGfgP,EAAOpI,EAAEpB,EAAQwJ,MACrB,GAAIA,EAAK1N,OAAS,EAQhB,OAPAyE,EAAMS,KAAKwI,EAAM,WACfjM,GAAOuZ,OACL1V,EAAEwB,OAAO,CAAA,EAAI5C,EAAS,CACpBwJ,KAAMtO,OAGZ,GACOwF,EAYT,GARAU,EAAEwB,OACA5C,EACA/C,EAAI+C,QAAQwJ,EAAK,GAAI,CACnB2B,KAAM3B,EAAK2B,KAAK,YAAc,WAAa,SAK1Cs0C,GAAYj2C,EAAK,IAAMA,EAAK3E,KAAK45D,IAAY,CAChD,IAAI9e,EAAU9oC,GAAWmpC,QAAQx2C,EAAK3E,KAAK45D,KAC3C,IAAK9e,EAAS,OAEd,OAAOA,EAAQL,OAAOt/C,EACxB,CAEAA,EAAQwJ,KAAOpI,EAAEpB,EAAQwJ,MACzBxJ,EAAQsuE,WAAaltE,EAAEpB,EAAQsuE,YAG/BtuE,EAAQ6D,GAAK,OAAQ7D,EAAUA,EAAQ6D,GAAK2F,EAAK2B,KAAK,OAASzK,EAAKO,MAEpEP,EAAKke,OACLle,EAAK8H,QACP,EAGAvN,GAAM6E,UAAU8e,KAAO,WACrB,IAAIle,EAAOxF,KACP8E,EAAUU,EAAKlG,OACfm0E,EAAYjuE,EAAKiuE,SAAWvtE,EAC9B,CACE,iBACE2sE,GACA,yBACA/tE,EAAQwuE,WACR,WACAxuE,EAAQuuE,MACR,IACFvuE,EAAQ0uE,SAAW,YAAc,GACjC,KACAngE,KAAK,KAELkP,EAAOzd,EAAQwJ,KAAKiU,QAEpBA,EAAKtH,SAAS43D,KAActwD,EAAKtH,SAAS63D,MAC5CvwD,EAAK/X,SAIHI,GAAOW,IAAMX,GAAOW,GAAK,IAC3BzG,EAAQwJ,KAAKq0B,KAAK,yCAGpBn9B,EAAKkuE,UACCluE,EAAKiuE,SAAW3uE,EAAQwJ,KAAQxJ,EAAQuuE,MAAQvuE,EAAQwJ,KAAK,GAAGrG,MAClEnD,EAAQwJ,KAAK6O,MAAMs2D,GAGnB7oE,GAAOW,IAAMX,GAAOW,GAAK,IAC3B/F,EAAKmuE,QAET,EAGA5zE,GAAM6E,UAAU+uE,OAAS,WACvB,IAkCUtnE,EAjCNvH,EADO9E,KACQV,OACf69D,EAASj3D,EACX,eACE6sE,GACA,YACAA,GACA,WACAA,GACA,+BAEAa,EAAW1tE,EACb,CACE,iBACE6sE,GACA,YACAD,GACA,wEACAhuE,EAAQkC,IACR,KACF,WACAqM,KAAK,KAITnN,EAAE,IAAM6sE,IAAa,IAAM7sE,EAAE,QAAQqL,OAAO4rD,GAGvCr4D,EAAQwJ,KAAKiU,OAAOtH,SAAS63D,MA5BvB9yE,KA6BJyzE,SAAS9wC,KAAKixC,GAGnB9uE,EAAQwJ,KAAKiU,KAAK,IAAMuwD,IAAWvhE,QAE3BlF,EAAM,GACVhH,EAAMS,KAAKhB,EAAQ6E,KAAM,SAAUO,EAAKpB,GACtCA,EAAyB,mBAAVA,EAAuBA,IAAUA,EAChDuD,EAAI/F,KACF,8BAAgC4D,EAAM,YAAcpB,EAAQ,KAEhE,GACOuD,EAAIgH,KAAK,MAIxB,EAGAtT,GAAM6E,UAAUzD,IAAM,SAAUo3B,GAC9B,OAAOv2B,GAAMb,IAAIo3B,EAAS,CACxBm+B,KAAM,EACNvoC,MAAO,GAEX,EAGApuB,GAAM6E,UAAU8uE,OAAS,WACvB,IAAIplE,EAAOtO,KAAKV,OAAOgP,KAAK,GAC5B,GAAKA,EACL,MAA4C,UAArCA,EAAKhO,QAAQo1D,qBAAiD,SAAdpnD,EAAKlN,IAC9D,EAGArB,GAAM6E,UAAUkb,QAAU,SAAUhgB,GAE9BV,OAAOy0E,YACTxuE,EAAMS,KAFG9F,KAEO8zE,YAAa,SAAU/tE,EAAO2d,GAC5C,IAAIqwD,EAAS,IAAIF,WACjBE,EAAOC,cAActwD,GACrBqwD,EAAOxqE,OAAS,WACdzJ,GAAYA,EAASiG,EAAO2d,EAAM1jB,KAAKqL,OACzC,CACF,EAEJ,EAGAtL,GAAM6E,UAAUvC,OAAS,SAAUuwE,EAAOxxE,GACxC,IAgPIsvB,EAGErkB,EAnPF7G,EAAOxF,KACP8E,EAAUU,EAAKlG,OACf4R,EAAOpM,EAAQoM,MAAQ,CAAA,EACvBuiE,EAAWjuE,EAAKiuE,SAAS,GAGzBQ,EAAW,WACb,OAAOrB,GAASptE,EAAKotE,OAASptE,EAAKsuE,aAAeL,EAASb,KAC7D,EAGIsB,EAAW,WACb,IAAIC,EAAa,EACbC,EAAS,EACTC,EAAQJ,IAGRK,EAAU,WACRxvE,EAAQ0uE,UAAYW,EAAaC,IAAW5uE,EAAK+uE,YACxB,mBAApBzvE,EAAQwvE,SACbxvE,EAAQwvE,QAAQ,CACd7xD,MAAOjd,EAAK+uE,WACZJ,WAAYA,EACZC,OAAQA,GAGhB,EAGII,EAAU,SAAUC,GACtB,IAAIC,EAAW,IAAIC,SAGfC,EAAiB,SAAUlxD,GACzB+wD,EAAKI,QACPxvE,EAAMS,KAAKuuE,EAAO,SAAUtuE,EAAO2d,UAC1BA,EAAKuvD,GACd,UAEOvvD,EAAKuvD,GAEhB,EAkBA,GAfA5tE,EAAMS,KAAKhB,EAAQ6E,KAAM,SAAUO,EAAKpB,GACtCA,EACmB,mBAAVA,EACH2rE,EAAKI,QACH/rE,IACAA,EAAM2rE,EAAK1uE,MAAO0uE,EAAK/wD,MACzB5a,EACN4rE,EAASnjE,OAAOrH,EAAKpB,EACvB,GAOI2rE,EAAKI,QACPxvE,EAAMS,KAAKuuE,EAAO,SAAUtuE,EAAO2d,GAC7BA,EAAKuvD,MACTvvD,EAAKuvD,KAAa,EAClByB,EAASnjE,OAAOzM,EAAQuuE,MAAO3vD,GACjC,OACK,CAEL,GAAI+wD,EAAK/wD,KAAKuvD,IAAY,OAC1ByB,EAASnjE,OAAOzM,EAAQuuE,MAAOoB,EAAK/wD,MACpC+wD,EAAK/wD,KAAKuvD,KAAa,CACzB,CAGA,IAAIviE,EAAO,CACT1J,IAAKlC,EAAQkC,IACb5F,KAAM,OACNuI,KAAM+qE,EACNn6B,SAAUz1C,EAAQy1C,UAAY,OAC9BkB,aAAa,EACbD,aAAa,EACboC,QAAS94C,EAAQ84C,SAAW,CAAA,EAC5BE,QAAS,SAAUg3B,GAEjBhwE,EAAQ+vE,QAAWV,GAAc3uE,EAAK+uE,WAAcJ,IACpDpwE,EAAK0wE,EAAK1uE,MAAO+uE,GACjBR,EAAQG,EAAK1uE,OACb6uE,EAAeH,EAAK/wD,KACtB,EACAxiB,MAAO,SAAU+C,GAEfa,EAAQ+vE,QAAWT,GAAU5uE,EAAK+uE,WAAcH,IAChD5uE,EAAKrE,IACH+P,EAAY,OACV,CACE,mCACA,YACGjN,EAAErE,QAAU,IACb,OACCqE,EAAEs5C,YAAc,UACnBlqC,KAAK,SAEXnS,EAAMuzE,EAAK1uE,MAAO9B,EAAEk8C,aAAcl8C,GAClCqwE,EAAQG,EAAK1uE,OACb6uE,EAAeH,EAAK/wD,KACtB,GAI8B,mBAArB5e,EAAQ/B,WACjB2N,EAAK6uC,IAAM,WACT,IAAIA,EAAMr5C,EAAEg1C,aAAaqE,MAazB,OAXAA,EAAIl9C,OAAOsC,iBAAiB,WAAY,SAAUqF,GAChD,GAAIA,EAAI+qE,iBAAkB,CACxB,IAAInjC,EAAU9hC,KAAK2I,MAAOzO,EAAIgrE,OAAShrE,EAAIyY,MAAS,KACpD3d,EAAQ/B,SACN6uC,EACA9sC,EAAQkB,KAAOlB,EAAQkB,KAAK,GAAKlB,EAAQwJ,KAAK,GAC9CtE,EACAyqE,EAAK1uE,MAET,CACF,GACOw5C,CACT,GAEFr5C,EAAE+1C,KAAKvrC,EACT,EAGI5L,EAAQ+vE,QACVL,EAAQ,CACNK,SAAS,EACT9uE,MAAO,IAGTV,EAAMS,KAAKuuE,EAAO,SAAUtuE,EAAO2d,GACjC8wD,EAAQ,CACNzuE,MAAOA,EACP2d,KAAMA,GAEV,EAEJ,EA6BIuxD,EAAe,SAAUz0E,GAC3B,GAAsB,SAAlBsE,EAAQ2qE,OACS,iBAARjvE,EACT,IACE,MAAO,CACLZ,OAAQ,YACR+J,KAAMW,KAAKC,MAAM/J,GAErB,CAAE,MAAOyD,GAEP,OADAuB,EAAKrE,IAAI+P,EAAK,sBACP,CACLtR,OAAQ,eACR+J,KAAM,CAAA,EAEV,CAGJ,MAAO,CAAE/J,OAAQ,aAAc+J,KAAM,CAAA,EACvC,EAGI5F,EAAO,SAAUgC,EAAO+uE,GAC1BtvE,EAAKiuE,SAASlxD,KAAK,IAAMywD,IAAaxoE,SACtCipE,EAAS3qE,MAAQ,GAEjB,IAAIosE,EAAUD,EAAaH,GAE3B,OAAQI,EAAQt1E,QACd,IAAK,YACHk1E,EAAMI,EAAQvrE,KACd,MACF,IAAK,eACH,OAGoB,mBAAjB7E,EAAQf,MACbe,EAAQf,KAAK+wE,EAAK/uE,GAAS,EAAG,SAAU6sE,GACtCptE,EAAKnD,OAAOuwE,EACd,EACJ,EAGI1xE,EAAQ,SAAU6E,EAAO+uE,EAAKv1B,GAC5Bz6C,EAAQ8kD,OACV6pB,EAAS3qE,MAAQ,IAGnB,IAAIosE,EAAUD,EAAaH,GAE3B,OAAQI,EAAQt1E,QACd,IAAK,YACHk1E,EAAMI,EAAQvrE,KACd,MACF,IAAK,eACH,OAGqB,mBAAlB7E,EAAQ5D,OACb4D,EAAQ5D,MACN6E,GAAS,EACT,SAAU6sE,GACRptE,EAAKnD,OAAOuwE,EACd,EACAkC,EACAv1B,EAEN,EAGI4zB,EAAOruE,EAAQquE,KACfrqE,GACEuD,EAAM,GACVhH,EAAMS,KAAK8sE,GAASptE,EAAKsuE,YAAa,SAAUjzE,EAAGmF,GACjDqG,EAAI/F,KAAKN,EAAKiC,KAChB,GACOoE,GAIL2B,EAAO,CAET8R,QAAS,SAAUhgB,GACjB0F,EAAKsa,QAAQhgB,EACf,EAEAuC,OAAQ,SAAU0D,EAAO2d,GACvB,IAAIyxD,EAAW,CAAA,EACfA,EAASpvE,GAAS2d,EAClBle,EAAKnD,OAAO8yE,EACd,EAEAC,SAAU,WAKR,OAJA5vE,EAAKotE,MAAQptE,EAAKotE,OAAS,CAAA,EAC3BvtE,EAAMS,KAAKN,EAAKsuE,YAAa,SAAU/tE,EAAOC,GAC5CR,EAAKotE,MAAM7sE,GAASC,CACtB,GACOR,EAAKotE,KACd,EAEAyC,UAAW,SAAUtvE,EAAO2d,EAAM4xD,GAChC,IAAIC,EAAU,IAAIC,KAAK,CAAC9xD,GAAO4xD,GAC/B9vE,EAAKotE,MAAQptE,EAAKotE,OAAS,CAAA,EAC3BptE,EAAKotE,MAAM7sE,GAASwvE,CACtB,EAEAE,eAAgB,WACd,OAAOjwE,EAAKsuE,WACd,GAqCE4B,EACF,CACEhyD,KAAM/f,EAAKkiB,GAAG,wBACd8vD,OAAQhyE,EAAKkiB,GAAG,yBAChBjC,MAAOjgB,EAAKkiB,GAAG,yBACfhC,MAAOlgB,EAAKkiB,GAAG,0BACf/gB,EAAQouE,SAAWvvE,EAAKkiB,GAAG,wBAS/B,GAAqB,KANrB/c,EACmB,IAAjBA,EAAMlI,OACF6yE,EAAS3qE,MAAMpD,MAAM,iBAAmB,IAAM,GAC9CoD,GAGIlI,OAAV,CAGA,OAAQkE,EAAQouE,QACd,IAAK,OACH7tE,EAAMS,KAAKgD,EAAO,SAAUjI,EAAGmF,GAC7B,GAAImtE,IAAS/nE,OAAO,QAAU+nE,EAAO,KAAM,KAAK9xE,KAAK4W,OAAOjS,IAC1D,OAAQ0qB,GAAQ,CAEpB,GACA,MACF,IAAK,QACHrrB,EAAMS,KAAKgD,EAAO,SAAUjI,EAAGmF,GAC7B,IACGoF,OACC,SAAW+nE,GAAQ,qCAAuC,KAC1D,KACA9xE,KAAK4W,OAAOjS,IAEd,OAAQ0qB,GAAQ,CAEpB,GACA,MACF,IAAK,QACHrrB,EAAMS,KAAKgD,EAAO,SAAUjI,EAAGmF,GAC7B,IACGoF,OAAO,SAAW+nE,GAAQ,eAAiB,KAAM,KAAK9xE,KACrD4W,OAAOjS,IAGT,OAAQ0qB,GAAQ,CAEpB,GACA,MACF,QACErrB,EAAMS,KAAKgD,EAAO,SAAUjI,EAAGmF,GAC7B,IACGoF,OACC,SAAW+nE,GAAQ,iCAAmC,KACtD,KACA9xE,KAAK4W,OAAOjS,IAEd,OAAQ0qB,GAAQ,CAEpB,GAKJ,GAAIA,EAOF,OANAlrB,EAAKrE,IACH+P,EAAK,gBACHvN,EAAKkiB,GAAG,6CAA8C,CACpDpC,SAAUiyD,KAGRjC,EAAS3qE,MAAQ,GAI3B,GAAa,WAAT1H,IAAqB0D,EAAQ8kD,OAC/B9kD,EAAQuuD,QAAUvuD,EAAQuuD,OAAOrlD,GACpB,WAAT5M,GAFN,CAQmB,IACbR,EACAyzE,EAuBAuB,EAhBN,GATApwE,EAAK+uE,YACC3zE,EAAS,EACTyzE,EAAQJ,IACZ5uE,EAAMS,KAAKuuE,EAAO,WAChBzzE,GACF,GACOA,GAGLkE,EAAQ2b,QAAUjb,EAAK+uE,WAAazvE,EAAQ2b,OAC9C,OAAOjb,EAAKrE,IACsB,mBAAzB+P,EAAK,gBACRA,EAAK,gBAAgBpM,EAASU,EAAK+uE,YACnC5wE,EAAKkiB,GAAG,+CAAgD,CACtDjlB,OAAQkE,EAAQ2b,SAEhB,QACA9c,EAAKkiB,GAAG,6CAA8C,CACpDjlB,OAAQ4E,EAAK+uE,cAMzB,GAAIzvE,EAAQi+D,KAAO,KAAOn4D,GAAOW,IAAMX,GAAOW,GAAK,MAGjDlG,EAAMS,KAAKmuE,IAAY,SAAUluE,EAAO2d,GACtC,GAAIA,EAAKq/C,KAAO,KAAOj+D,EAAQi+D,KAAM,CACnC,IAAIA,EAAOj+D,EAAQi+D,KAAO,KAC1BA,EAAOA,GAAQ,EAAIA,EAAKwG,QAAQ,GAAK,KAAOzkE,EAAQi+D,KAAO,KAC3D0Q,EAAS3qE,MAAQ,GACjB8sE,EAAY7S,CACd,CACF,GACI6S,GACF,OAAOpwE,EAAKrE,IACoB,mBAAvB+P,EAAK,cACRA,EAAK,cAAcpM,EAAS8wE,GAC5BjyE,EAAKkiB,GAAG,4CAA6C,CACnDk9C,KAAM6S,MA5JP,WACT,IAAIv+C,EAAQ,WAEV,GAAIzsB,GAAOW,GACT,OAAOX,GAAOW,GAAK,EAAI2oE,KA5IvB/W,EAASj3D,EAAE,IAAM6sE,IAErBvtE,EAAKiuE,SAASriD,SAASiC,SAGvBwiD,cAAc91E,GAAMq0C,YACpBr0C,GAAMq0C,MAAQ0hC,YAAY,WACxB,IAAIhB,EACFiB,EAAa5Y,EAAO3lC,WAAWlmB,KAAK,QACtC,IACEwjE,EAAMiB,EAAW7kE,MACnB,CAAE,MAAOjN,GACPuB,EAAKrE,IAAI+P,EAAK,iBACd2kE,cAAc91E,GAAMq0C,OACpBlzC,GACF,CACI4zE,IACFe,cAAc91E,GAAMq0C,OACpB2hC,EAAW79D,KAAK,IAChBnU,EAAK,EAAG+wE,GAEZ,EAAG,MAtBY,IACX3X,EA8IF+W,GACF,EAE8B,mBAAnBpvE,EAAQmY,OACjB5a,GAAOkB,KAAKm4D,mBAAmB52D,EAAQmY,OAAOjP,IAAOgG,KACnD,SAAU3I,IACO,IAAXA,EACFgsB,IAEIvyB,EAAQ8kD,OACV6pB,EAAS3qE,MAAQ,GAGvB,EACA,SAAU5H,GACJ4D,EAAQ8kD,OACV6pB,EAAS3qE,MAAQ,SAETuG,IAAVnO,GAAuB2K,GAAK3K,MAAMA,EACpC,GAGFm2B,GAEJ,CAmIA0mB,EAhDA,CAjEwB,CAkH1B,EAGAh+C,GAAM6E,UAAU0I,OAAS,WACvB,IAAI9H,EAAOxF,KACP8E,EAAUU,EAAKlG,OAGf02E,EAAgB,SAAUpD,GAC5BptE,EAAKsuE,YAAc,CAAA,EACnBzuE,EAAMS,KAAK8sE,EAAO,SAAU/xE,EAAGmF,GAC7B,IAAI+a,GAAO,IAAIzZ,MAAOC,UACtB/B,EAAKsuE,YAAY/yD,EAAO,IAAMlgB,GAAKmF,CACrC,EACF,EAGIiwE,EAAgB,SAAUrD,EAAO0C,GACnC,IAAI7B,EAAWjuE,EAAKiuE,SACT3uE,EAAQkB,KAAOlB,EAAQkB,KAAOlB,EAAQwJ,KACjD,IAAIxF,EACF8pE,EAAMhyE,OAAS,EACX+C,EAAKkiB,GAAG,oBAAqB,CAAEjlB,OAAQgyE,EAAMhyE,UAC5CgyE,EAAM,IAAM,CAAA,GAAI3qE,MACjBwrE,EAAS,GAAG3qE,MAAMpD,MAAM,iBACxB,IACA,GAEF+tE,EAASlxD,OAAOtH,SAAS+3D,KAC3BS,EAASlxD,OAAO/X,SAElBhF,EAAKnD,OAAO,KAAM,UACdmD,EAAKkuE,UAAY5uE,EAAQuuD,QAC7BogB,EAASt2D,MACP,6BAA+B61D,GAAc,KAAOlqE,EAAQ,UAEhE,EAsBIotE,EAAa,SAAUlsE,GACzB,IAAImsE,EAAU,SAAUzyD,GAEtBA,EAAK0yD,IAAM1yD,EAAKzb,KAAKkC,OAAOuZ,EAAKzb,KAAKhH,YAAY,KAAO,GAAG+J,cAE5D0Y,EAAK2yD,MAAQh0E,GAAOkB,KAAK+yE,UAAU5yD,EAAKq/C,KAE1C,EAWA,OARI/4D,aAAeusE,SACjBlxE,EAAMS,KAAKkE,EAAK,SAAUjE,EAAOC,GAC/BmwE,EAAQnwE,EACV,GAEAmwE,EAAQnsE,GAGHA,CACT,EAOIiqE,EAAW,SAAUrB,GAEvB,KADAA,EAAQA,GAAS,IACNhyE,OAAQ,MAAO,GAC1B,IAAK4E,EAAKotE,MAAO,OAAOsD,EAAWtD,GACnC,IAAIvnE,EAAS,GAMb,OALAhG,EAAMS,KAAK8sE,EAAO,SAAU7sE,EAAOC,IA9CrB,SAAU0d,GACxB,IAAIrY,GAAS,EAKb,OAJAhG,EAAMS,KAAKN,EAAKotE,MAAO,SAAU7sE,EAAOC,GAEtC,KADAqF,IAAWrF,EAAKiC,OAASyb,EAAKzb,OACjB,OAAO,CACtB,GACOoD,CACT,EAwCQmrE,CAAUxwE,IACZqF,EAAO/E,KAAK4vE,EAAWlwE,GAE3B,GACOqF,CACT,EAGAvG,EAAQwJ,KAAKX,IAAI,gBAAgB9H,GAAG,eAAgB,WAClD,IAAImN,EAAQ9M,EAAElG,MAEdwF,EAAKlG,OAAO0G,KAAOgN,EACnBxN,EAAKiuE,SAAS,GAAGztC,OACnB,GAGMp7B,GAAOW,IAAMX,GAAOW,GAAK,IAC7BzG,EAAQwJ,KACLX,IAAI,eACJ9H,GAAG,cAAe,WACLK,EAAElG,MACRiQ,KAAK,WAAY,GACzB,GACCtC,IAAI,gBACJ9H,GAAG,eAAgB,WACNK,EAAElG,MACRyb,WAAW,WACnB,GACC9N,IAAI,eACJ9H,GAAG,cAAe,SAAU5B,EAAGo1C,GAC9B,IAAIrmC,EAAQ9M,EAAElG,MACV4yE,EAAQqB,EAAS56B,EAAMzT,cAAc6wC,aAAa7D,OAEtD5/D,EAAMyI,WAAW,YACjBu6D,EAAcpD,GAEd9tE,EAAQ8kD,KAAOpkD,EAAKnD,SAAW4zE,EAAcrD,EAC/C,GAIJptE,EAAKiuE,SAAS5tE,GAAG,SAAU,WACzB,IAAI+sE,EAAQqB,EAASj0E,KAAK4yE,OAEL,IAAjBA,EAAMhyE,SAEVo1E,EAAcpD,GAEd9tE,EAAQ8kD,KAAOpkD,EAAKnD,SAAW4zE,EAAcrD,GAC/C,GAGA9tE,EAAQsuE,WAAWzlE,IAAI,iBAAiB9H,GAAG,gBAAiB,WAC1DL,EAAKnD,QACP,GAGIyC,EAAQwJ,KAAK3E,KAAK45D,MAGtBz+D,EAAQwJ,KAAKzI,GAAG,QAAS,WACnBL,EAAKkuE,UACTxtE,EAAElG,MAAM2jC,QAAQ,eAClB,GAGI7+B,EAAQyuE,MACVzuE,EAAQwJ,KACLzI,GAAG,WAAY,SAAU5B,GACxBA,EAAEsQ,iBACFrO,EAAElG,MAAM2jC,QAAQ,cAClB,GACC99B,GAAG,YAAa,SAAU5B,GACzBiC,EAAElG,MAAM2jC,QAAQ,eAClB,GACC99B,GAAG,OAAQ,SAAU5B,GACpBA,EAAEsQ,iBACFrO,EAAElG,MAAM2jC,QAAQ,cAAe1/B,EACjC,GAIJa,EAAQsuE,WAAWvtE,GAAG,QAAS,WAC7BK,EAAElG,MAAM2jC,QAAQ,gBAClB,GAGA7+B,EAAQwJ,KAAK3E,KAAK45D,GAAWz+D,EAAQ6D,IACvC,EAKAtG,GAAOkB,KAAO,CAOZ+yE,UAAW,SAAUvT,EAAM4F,GAEzB,GADAA,EAAYA,GAAa,EACrB,MAAQ5F,IAASA,EACnB,MAAO,IAET,IACIh9D,EACA2wE,EAA6B,iBAAT3T,EAAoBp2B,WAAWo2B,GAAQA,EAI/D,OAHAh9D,EAAQ+J,KAAK2I,MAAM3I,KAAK6mE,IAAID,GAAc5mE,KAAK6mE,IAAI,QAEnD5T,GADAA,EAAO2T,EAAa5mE,KAAKC,IAAI,KAAMhK,IACrB,GAAM,EAAIg9D,EAAOp2B,WAAWo2B,EAAKwG,QAAQZ,KALzC,CAAC,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAM5C5iE,EACxB,EAIA21D,mBAAoB,SAAU5yD,GAC5B,IAAIyxB,EAAWr0B,EAAEk0B,WAOjB,OALItxB,GAA+B,mBAAfA,EAAMkL,KACxBlL,EAAMkL,KAAKumB,EAAS1B,QAAS0B,EAASzB,QAEtCyB,EAAS1B,QAAQ/vB,GAEZyxB,EAAStB,SAClB,GAIFtd,GAAWnW,KAAO,CAAA,EAGlBmW,GAAWmpC,QAAU,SAAUn8C,GAC7B,IAAInD,EAAOmW,GAAWnW,KAAKmD,GAO3B,OANKnD,GACHqG,GAAK3K,MACHyH,EACI86C,GAAW,sBAAwB96C,EAAK,cACxC,wBAEDnD,CACT,EAGAnD,GAAOuZ,OAAS,SAAU9W,GACxB,IAAIqa,EAAO,IAAIpf,GAAM+E,GACrB,OAAO6W,GAAW1P,KAAKkT,EACzB,EC76BA,IAAItT,GAAOxG,EAAMwG,OACJxG,EAAMuF,SAEnB,IAAI64C,GAAW,OACXwc,GAAO,cACPlZ,GAAO,aAEP6vB,GAAO,aACP3xB,GAAW,iBAEX4xB,GAAY,6BAEZrT,GAAiBzhE,EAAI4W,2BAA2B8qC,IAIhDqzB,GACD/0E,EAAIwJ,IAA6B,IAAvBohC,WAAW5qC,EAAIwJ,UAIpB,IAHC9J,OAAOqyD,yBACZC,iBAAiBnvD,UACjB,WAGAmyE,GAAO,WACT/2E,KAAKV,OAAS,CAEZ03E,OAAQ,CACN12D,SAAU,SAAUxX,GAClB,IAAK,QAAQzH,KAAKyH,IAAd,MAAwBA,EAC1B,OAAOnF,EAAKkiB,GAAG,iCAEnB,EACAtF,MAAO,SAAUzX,GAEf,GAAIA,IADM,YACQzH,KAAKyH,GACrB,OAAOnF,EAAKkiB,GAAG,8BAEnB,EACArF,MAAO,SAAU1X,GAEf,GAAIA,IADM,8DACQzH,KAAKyH,GACrB,OAAOnF,EAAKkiB,GAAG,8BAEnB,EACA7e,IAAK,SAAU8B,GAEb,GAAIA,IADM,2CACQzH,KAAKyH,GACrB,OAAOnF,EAAKkiB,GAAG,4BAEnB,EACApF,OAAQ,SAAU3X,GAChB,GAAIA,GAAS+D,MAAM/D,GACjB,OAAOnF,EAAKkiB,GAAG,+BAEnB,EACAnF,KAAM,SAAU5X,GAGd,GAAIA,IADF,4EACgBzH,KAAKyH,GACrB,OAAOnF,EAAKkiB,GAAG,6BAEnB,EACAlF,SAAU,SAAU7X,GAElB,GAAIA,IADM,gCACQzH,KAAKyH,GACrB,OAAOnF,EAAKkiB,GAAG,iCAEnB,GAEFoxD,aAAc,KAElB,EAGAF,GAAKnyE,UAAU0a,IAAM,SAAUxa,GAG7B,OADAoB,EAAEwB,QAAO,EADE1H,KACSV,OAAQwF,GADjB9E,IAGb,EAGA+2E,GAAKnyE,UAAUoyE,OAAS,SAAUrvE,GAGhC,OADAzB,EAAEwB,QAAO,EADE1H,KACSV,OAAO03E,OAAQrvE,GADxB3H,IAGb,EAGA+2E,GAAKnyE,UAAUsyE,YAAc,SAAU1pE,GACrC,OAAOtH,EACL+5D,IAEWzyD,EAAS,gBAAkBA,EAAS,KAAO,IAG1D,EAGAupE,GAAKnyE,UAAUiB,GAAK,SAAUyH,EAAQxN,GACpC,OAAOuF,EAAMgI,QAAQpB,KAAKjM,KAAMyjD,GAAUn2C,EAAQxN,EACpD,EAGAi3E,GAAKnyE,UAAU8W,IAAM,SAAUlO,EAAQ4rB,GAsCrC,OArCWp5B,KACSk3E,YAAY1pE,GAGvB1H,KAAK,SAAUC,EAAOC,GAC7B,IAAImxE,EAAWjxE,EAAElG,MAGjB,IAAK,IAAIkK,KAAOkvB,EACd,GAAKr3B,EAAIgW,OAAOqhB,EAAQlvB,GAAxB,CAEA,IAAI9I,EACA0H,EAAQswB,EAAOlvB,GACfonE,EAAW6F,EAAS7lE,KAAK,UAAYpH,EAAM,MAG1ConE,EAAS,KAID,cAHblwE,EAAOkwE,EAAS,GAAGlwE,MAIjBkwE,EAAS,GAAG/+C,QAAUzpB,EACJ,UAAT1H,EAETkwE,EAASxrE,KAAK,WACZ9F,KAAKuyB,QAAUvyB,KAAK8I,OAASA,EAAQ,EACvC,GAGAwoE,EAAS51D,IAAI5S,GApBe,CAuBlC,GAEA1G,GAAKwZ,OAAO,KAAMpO,GAlCPxN,KAqCCo3E,SAAS5pE,EACvB,EAGAupE,GAAKnyE,UAAUwyE,SAAW,SAAU5pE,EAAQ2pE,GAC1CA,EAAWA,GAAYn3E,KAAKk3E,YAAY1pE,GAExC,IAAI6pE,EAAY,CAAA,EACdhE,EAAQ,CAAA,EACRiE,EAAYH,EAAS7lE,KAAK,yBA8B5B,OA5BAjM,EAAMS,KAAKwxE,EAAW,SAAU/uE,EAAGvC,GACjC,IACEuxE,EADEvkE,EAAQ9M,EAAElG,MAId,GADAgG,EAAKiC,MAAQjC,EAAKiC,MAAQ,IAAIhB,QAAQ,YAAa,IAC9CjB,EAAKiC,KAAV,CAGA,GAAI,WAAW5G,KAAK2E,EAAKiC,MAAO,CAC9B,IAAIiC,EAAMlE,EAAKiC,KAAKvC,MAAM,eAAe,GACzC2xE,EAAUntE,GAAwB,EAAjBmtE,EAAUntE,GAC3BqtE,EAAYvxE,EAAKiC,KAAKhB,QACpB,aACA,MAAQowE,EAAUntE,KAAS,IAE/B,CAEI,qBAAqB7I,KAAK2E,EAAK5E,QAAU4E,EAAKusB,UAIlD8gD,EAAMkE,GAAavxE,EAAKiC,MACL,WAAjBjI,KAAKM,SACoC,iBAAlCN,KAAKsI,aAAa,YACrB0K,EAAM0I,OAAS,GACf1b,KAAK8I,MApBK,CAqBlB,GAEOuqE,CACT,EAGA0D,GAAKnyE,UAAUgX,OAAS,SAAUxa,EAAMoM,GACtC,IAAIhI,EAAOxF,KACP8E,EAAUU,EAAKlG,OACfs0E,EAAW1tE,EACb+5D,IAEWzyD,EAAS,gBAAkBA,EAAS,KAAO,KAGpD6mE,EAAQ,CAEV9kD,MAAO,SAAUjhB,GACf,IAAIkpE,EAASlpE,GAAQslE,EAAStiE,KAAK,kBAGnCxM,EAAQmyE,cAAgBO,EAAOvnE,KAAK,eAAgBnL,EAAQmyE,cAE5D,IAAIQ,EAAoB,SAAUnpE,EAAMiI,GACtC,IACImhE,EAAWppE,EAAKoN,MAChB5S,EAAQo8C,OAAOwyB,GACf1lC,EAAOkT,OAAO52C,EAAK2B,KAAK,UAAY,EACpCiP,EAAMgmC,OAAO52C,EAAK2B,KAAK,QACvB+O,EAAMkmC,OAAO52C,EAAK2B,KAAK,QACvB04D,EAAYzjB,OAAO52C,EAAK2B,KAAK,kBAC7B0nE,EAAyB,UAAdphE,GAAsC,KAAbmhE,EACpCE,EAAuB,SAAdrhE,EACTshE,EAAahrE,MAAM/D,GACnBgvE,EAA2D,iBAAnCxpE,EAAK2B,KAAK,qBAGtC,GADA3B,EAAKspC,YAAYi/B,GAAWgB,IACxBA,EAAJ,CAEA,GAAkB,UAAdthE,EAAuB,CAEzB,GACmB,SAAjBjI,EAAK,GAAGlN,MACyB,iBAA1BkN,EAAK2B,KAAK,YAEjB,OAEFnH,EADoB5C,EAtBXlG,MAsBmB+F,QACN+C,EAAQkpC,EAAOlpC,EAAQkpC,CAC/C,CAGA,IAAI+lC,EAAW,SAAU/lC,GAEvB,QADgBA,EAAKvtC,WAAWiB,MAAM,aAAe,IAAI,IAAM,IAC/C9E,MAClB,EAmCA,GAjCA+nE,EACEA,GAAa,EACTA,EACA74D,KAAKkP,IAAI+4D,EAAS/lC,GAAO+lC,EAASL,IAGnCC,IAEEC,IACCE,IACFhvE,EAAQgH,KAAK48B,MAAM5jC,EAAQkpC,GAAQA,GAEjClpC,GAASoW,IAAKpW,EAAQoW,GACtBpW,GAASkW,IAAKlW,EAAQkW,IAGV,IAAd2pD,EACF7/D,EAAQgW,SAAShW,GACR6/D,EAAY,IAErB7/D,EAAQA,EAAMygE,QAAQZ,IAGxBr6D,EAAKoN,IAAI5S,GACTwF,EAAK2B,KAAK,mBAAoB3B,EAAKoN,QAKrCpN,GADiBxF,EAAQoW,GAAOpW,EAAQkW,KACpB24D,EAAW,WAAa,eA9PjC,oCAkQPC,EAAJ,CAGA,IAAII,EAAa,CACfC,UAAW3pE,EAAKiU,OAAOjR,KAAK,kBAC5B4mE,UAAW5pE,EAAKiU,OAAOjR,KAAK,qBAE9B0mE,EAAWC,UACTnvE,GAASkW,IAAQ24D,EAAW,WAAa,eACzC1yB,IACF+yB,EAAWE,UACTpvE,GAASoW,IAAQy4D,EAAW,WAAa,eACzC1yB,GAZU,CApDI,CAiElB,EAGA2uB,EAAStiE,KAAK,wCAAwCxL,KAAK,WACzD,IAAIkN,EAAQ9M,EAAElG,MACVm4E,EAAQnlE,EAAM/C,KAAK,aACnBmoE,EAAa,mBACbC,EAAe,qBACfC,EAAc,oBACdprD,EAAWla,EAAM2jB,GAAG,eAAiB3jB,EAAM2jB,GAAG,cAG9C4hD,EAAY,SAAUjqE,EAAMxF,IAC9BwF,EAAOpI,EAAEoI,IACC,IACVA,EAAKpI,EAAE5E,KAAKwH,GAAS,cAAgB,YAAY8tE,GACnD,EAGI4B,EAAc,SAAU9nE,GAC1BA,EAAOxK,EAAEwB,OACP,CAAA,EACA+wE,EAAaN,IAAU,CACrBrvE,MAAOqvE,GAETznE,EACA3O,EAAI+C,QAAQkO,EAAM,KAEpB,IAIQ3G,EAJJqsE,EAAYxyE,EAAE,eAAiBoyE,EAAc,MAC7CxvE,EAAQzD,EAAM0C,QAAQ2I,EAAK5H,OAAS4H,EAAK5H,MAAQ,CAAC4H,EAAK5H,OACvD6vE,EAAWzyE,GAEPmG,EAAM,GACVhH,EAAMS,KAAKgD,EAAO,SAAUjI,EAAGmF,GAC7BqG,EAAI/F,KACF,mCACEN,GACC0K,EAAKwc,SAAW,IAAM+3B,GAAW,IAClC,SAEN,GACO54C,EAAIgH,KAAK,MAIpBqlE,EAAUnnE,OAAOonE,GAGbjoE,EAAK3G,OAAO2uE,EAAU59D,SAAS,qBAC/BpK,EAAKqK,WAAW29D,EAAU59D,SAASpK,EAAKqK,WAG5C,IAAI69D,EAAe5lE,EAAMuP,KAAK,IAAM+1D,GAChCM,EAAa,IAAIA,EAAapuE,SAG7BwI,EAAMoe,SAASnW,SAASm9D,IAC3BplE,EAAM2vB,KAAK,eAAiBy1C,EAAa,YAI3C,IAAIS,EAAgB7lE,EAAMuP,KAAK,IAAM81D,GACjCQ,EAAc,KAChBD,EAAeC,EAAcvnE,KAAK,IAAMgnE,IACvB,IAAIM,EAAapuE,SAElCquE,EAAcxuC,QAAQquC,GAEtB1lE,EAAMmI,IAAI,gBAAiB,WAIzB,OAHmBnI,EAAM6kB,QAAQ,sBAAsB,GACnD,EACAghD,EAAc5f,cACIyf,EAAUzf,YAClC,KAEAyf,EAAU59D,SAASu9D,GACnBrlE,EAAMmK,MAAMu7D,IAGA,SAAdhoE,EAAKgwB,MAAmB63C,EAAUG,EAAW1lE,EAAM0I,OAE9B,mBAAdhL,EAAKsW,MAAuBtW,EAAKsW,KAAK/a,KAAKjM,KAAMgT,EAAOtC,GAG/DsC,EAAMnN,GAAG,uBAAwB,WAC/B,IAAIiD,EAAQ9I,KAAK8I,MACH,SAAd4H,EAAKgwB,MAAmB63C,EAAUG,EAAW5vE,EAC/C,GAGAkK,EAAMnN,GAAG,OAAQ,WACM,mBAAd6K,EAAKs3B,MACVt3B,EAAKs3B,KAAK/7B,KAAKjM,KAAMgT,EAAOtC,EAChC,GAGAioE,EAAS9yE,GAAG,QAAS,WACnB,IAAIizE,EAAc9lE,EAAM/C,KAAK,cACzB/J,EAAElG,MAAMib,SAASgqC,MAEC,mBAAfv0C,EAAKs1B,OACVt1B,EAAKs1B,MAAM/5B,KAAKjM,KAAMgT,EAAOtC,GAG/BrL,EAAMxF,MAAMoM,KACVjM,KACAyjD,GACA,eAAiBq1B,EAAc,IAC/B,CACExqE,KAAM0E,EAAM,GACZmlE,MAAOA,EACPrzE,QAAS4L,IAGf,EACF,EAGI+nE,EAAe,CACjBM,IAAK,CAEHjwE,MAAO,gBACPk9B,MAAO,SAAU13B,EAAMoC,GAErB,IAAIsoE,EAAY,4BACZhmB,EAAS1kD,EAAK3E,KAAKqvE,GAEvB1qE,EACG2B,KAAK,OAAQ+iD,EAAS,WAAa,QACnCrpD,KAAKqvE,GAAYhmB,GAEpBwlB,EAAY,CACV1vE,MAAOkqD,EAAS,gBAAkB,OAEtC,GAEF11C,MAAO,CAELxU,MAAO,QACPk9B,MAAO,SAAU13B,GACfA,EAAKoN,IAAI,IAAIwW,QACbqmD,EAAUryE,EAAElG,MAAMoxB,SAAU,KAC9B,EACAsP,KAAM,OACNxT,SAAUA,GAEZzM,OAAQ,CAEN3X,MAAO,CAAC,KAAM,QACdiB,OAAO,EACPgR,UAAW,qBACXmS,SAAUla,EAAM2jB,GAAG,cACnB3P,KAAM,SAAU1Y,GAEd,GAA0B,SAAtBA,EAAK2B,KAAK,SAAuC,SAAjB3B,EAAK,GAAGlN,KAAiB,CAC3D,IAAI63E,EAAK,oBACLC,GAAY,EACZC,GAAgB,EAChBC,EAA8C,iBAA1B9qE,EAAK2B,KAAK,YAC9BopE,EAAiD,iBAA3B/qE,EAAK2B,KAAK,aAChCmrD,EAAU9sD,EAAKiU,KAAK,uBAAuBlI,SAAS,KAExD/L,EAAK2B,KAAK,mBAAoB3B,EAAKoN,OACnCpN,EAAKX,IAAIsrE,GAET3qE,EAAKzI,GAAG,UAAYozE,EAAI,SAAUh1E,GAChCi1E,GAAY,EACM,IAAdj1E,EAAEsjC,SAA+B,KAAdtjC,EAAEsjC,UAEvB2xC,GAAY,GAIXE,GACkB,IAAnBhe,EAAQx6D,QACO,KAAdqD,EAAEsjC,SAAgC,KAAdtjC,EAAEsjC,UAEvBtjC,EAAEsQ,iBACF6mD,EAAQ3zC,GAAiB,KAAdxjB,EAAEsjC,QAAiB,EAAI,GAAGvB,QAEzC,GACA13B,EAAKzI,GAAG,QAAUozE,EAAK,kBAAoBA,EAAI,SAAUh1E,GAErDk1E,GACY,mBAAXl1E,EAAE7C,MACgC,UAAjC6C,EAAE2hC,cAAc0zC,eAGhBJ,GAowCtB,SAAwBz4D,GACtB,GAAe,KAAXA,EAAe,OAAO,EAE1B,GAA2B,OAAvBA,EAAOla,MAAM,EAAG,GAAa,OAAO,EAExC,GAAIka,EAAO/a,MAAM,OAAQ,OAAO,EAEhC,IAAI6zE,EAAc94D,EAAO/a,MAAM,OAC/B,GAAI6zE,GAAeA,EAAY34E,OAAS,EAAG,OAAO,EAGlD,IADA24E,EAAc94D,EAAO/a,MAAM,QACR6zE,EAAY34E,OAAS,EAAG,OAAO,EAElD,IAAI44E,EAAa/4D,EAAOla,MAAM,GAE9B,SADAgzE,EAAcC,EAAW9zE,MAAM,eACV,WAAWrE,KAAKm4E,IAAeD,EAAY34E,OAAS,IAGzDiM,MAAMq4C,OAAOzkC,MACgC,IAA1Cg5D,GAAY/0E,QAAQ+b,EAAOla,YAE1C,KAAKlF,KAAKof,MAAa,OAAOpf,KAAKof,IAAW,MAAMpf,KAAKof,IAG/D,CA5xCmCi5D,CAAe15E,KAAK8I,OACnCwF,EAAK2B,KAAK,mBAAoBjQ,KAAK8I,OAGnC9I,KAAK8I,MAAQwF,EAAK2B,KAAK,oBAEzB3B,EAAKspC,YAAYi/B,GAAWhqE,MAAMq4C,OAAOllD,KAAK8I,SAChD,GACAwF,EAAKzI,GAAG,mBAAqBozE,EAAI,WAC/BE,GAAgB,CAClB,GACA7qE,EAAKzI,GAAG,iBAAmBozE,EAAI,WAC7BE,GAAgB,EAChB7qE,EAAKq1B,QAAQ,QACf,GAEI01C,GACF/qE,EAAKzI,GACH,CAAC,QAAS,aAAc,kBAAkBwN,KAAK4lE,EAAK,KAClDA,EACF,SAAUh1E,GACR,GAAKm3D,EAAQx6D,QACRsF,EAAElG,MAAM22B,GAAG,UAAhB,CACA,IAAI5hB,EAAY,EAChB9Q,EAAEsQ,iBAEa,UAAXtQ,EAAE7C,MACJ6C,EAAE01E,OAAS11E,EAAE2hC,cAAc+zC,OAC3B11E,EAAE21E,OAAS31E,EAAE2hC,cAAcg0C,OAC3B7kE,EACEjF,KAAKyF,IAAItR,EAAE01E,SAAW7pE,KAAKyF,IAAItR,EAAE21E,QAC7B31E,EAAE01E,OACF11E,EAAE21E,QACY,eAAX31E,EAAE7C,KACX2T,GAAa9Q,EAAE2hC,cAAco5B,WACT,mBAAX/6D,EAAE7C,OACX2T,EAAY9Q,EAAE2hC,cAAckB,QAE9Bs0B,EAAQ3zC,GAAG1S,EAAY,EAAI,EAAI,GAAGixB,OAhBP,CAiB7B,GAIAozC,GACFhe,EAAQtgD,SAASmqC,GAErB,CACAwyB,EAAkBxrE,KAAKjM,KAAMsO,EAAM,OACrC,EACA03B,MAAO,SAAU13B,GACfmpE,EAAkBxrE,KAAKjM,KAAMsO,EAAM,QACrC,EACA05B,KAAM,SAAU15B,GACdmpE,EAAkBxrE,KAAKjM,KAAMsO,EAAM,OACrC,IAIJkqE,GACF,EACF,EAGA3kE,OAAQ,SAAUvF,GAChB,IAAIurE,EAAOl2E,EAAKkiB,GAAG,2BACfiG,EAAQ,oBAERguD,EAAO,oBACPC,EAAgB,6BAEhBC,EAAkB,+BAClBC,EAAU3rE,GAAQslE,EAAStiE,KAAK,UAGhChE,EAAS,SACX4sE,EACAC,EACAjtD,EACAktD,EACAC,EACAC,GAEA,IAAIzmE,EAAS3N,EAAElG,MACX8iB,EAAQq3D,EACR5qD,EAAQzM,EAAMxR,KAAK,SACnBipE,EAAKL,EAAO5oE,KAAK,MACXipE,EAAGlgE,SAAS,MACtB,IAGImgE,EAHAC,EAAMF,EAAGlgE,SAAS,MAClBtU,EAAQ/F,KAAKyyB,cACbioD,EAAY,GAGhB,IAAIxtD,EAAJ,CASA,IAAIytD,EAC4B,OAA9B9mE,EAAO5D,KAAK,cACR,CAAE2qE,eAAe,GACjB74E,EAAI+C,QAAQ+O,EAAQ,CAAE5D,KAAM,eAE9B4qE,EAAehnE,EAAO5D,KAAK,kBAAoB,OAC/C6qE,EAAiBjnE,EAAO5D,KAAK,uBAK7B8qE,KACFh5E,EAAIwJ,IACQ,OAAXxJ,EAAIwJ,IAA0B,OAAXxJ,EAAIwJ,KACxBgkB,EAAMtf,KAAK,gBAIT+qE,EAAW,WACb,GAAIV,EAAY,CAEdJ,EAAOzvC,SAASowC,GAAc1/D,IAAI,CAAEI,MAAOuH,EAAMvH,QAAU,OAE3D,IAAIk+C,EAAiB,WACnB13D,EAAIyP,SAASsR,EAAM,GAAIo3D,EAAO,GAAI,CAChC1oE,SAAUspE,EACVpoE,gBAAgB,EAChBE,OAAQ,CAAC,EAAG,IAEhB,EAEA6mD,IACAvzD,EAAE9G,QAAQyG,GAAG,2BAA4B4zD,GACrC+J,IACFA,GAAepqD,QAAQ8gE,EAAO,GAAIzgB,EAEtC,CACA,IAAI5nD,EACFqoE,EAAOtnE,SAASf,IAAMqoE,EAAO9gB,cAAgB,EAAIiT,GAAKn6B,YACpD+oC,EAAWV,EAAGnhB,cACd8hB,EAAMX,EAAGlgE,SAAS,MAEtBtU,EAAQ8N,EAAO,GAAG4e,cAClB3P,EAAMsO,SAAStW,SAASgR,EAAQ,MAChCovD,EAAIlgE,YAAY47D,IAChB6D,EAAIz/D,YAAY47D,IAGhBsE,EAAIlgE,YAAY+rC,IAChBhhD,GAAS,GAAKm1E,EAAIzzD,GAAG1hB,GAAO+U,SAASisC,IAGjCl1C,EAAMopE,EAAW5O,GAAK7wD,UAAY3J,GAAOopE,GAC3Cf,EAAOp/D,SAASgR,EAAQ,MAG1BqvD,IAEIJ,GACFR,EAAG5sE,IAAI,6BAA6B9H,GAClC,4BACA,WACE0pB,EAAM,GAAG6rD,QAAS,EAClBx0E,WAAW,WACT2oB,EAAM,GAAG6rD,QAAS,CACpB,EAAG,GACL,GAIJZ,EAA0Bz4E,EAAIsU,eAC5BikE,EAAaJ,EAAO,GAAKK,EAAG,GAC5B,WACEc,IACAX,GAAanrD,EAAM7T,IAAIg/D,EACzB,EACA,CAAEhkE,OAAQoM,EAAOjM,cAAc,EAAMD,SAAS,GAElD,EAGIykE,EAAW,SAAUhoB,GACvBvwC,EAAMsO,SAASpW,YAAY8Q,EAAQ,MAAQA,EAAQ,MACnDyD,EAAMyY,OACNqyC,GAAeE,EAAGlgE,SAAS,IAAM0/D,GAAevvE,SACT,mBAA5BgwE,IACTA,IACAA,EAA0B,MAExBF,IACFJ,EAAO9vC,SACPlkC,EAAE9G,QAAQuO,IAAI,4BACV61D,IACFA,GAAelqD,UAAU4gE,EAAO,KAIhC7mB,GAEJioB,EAAU/rD,EAAM7T,MAAO,SAAU6/D,GAC/B,IAAI9oD,EAAgB5e,EAAO,GAAG4e,cAG1B8oD,IACFb,EAAYx0E,EAAE2N,EAAO,GAAG/O,QAAQ2tB,IAAgBza,KAAK,QAIjC,IAAlBya,GACAioD,IAAcnrD,EAAMtf,KAAK,iBAEzByqE,EAAY,IAIdnrD,EAAM7T,IAAIg/D,GAAa,IAE3B,EACF,EAGIS,EAAe,WACjB,IAAIK,EAASjB,EAAGlgE,SAAS,MAAQ0sC,IAEjC,GAAKy0B,EAAO,GAAZ,CAEA,IAAIC,EAASD,EAAOhqE,WAAWK,IAC3BopE,EAAWV,EAAG/+D,SACdkgE,EAAWF,EAAOhgE,SAGlBigE,EAASR,GACXV,EAAGroC,UAAUupC,EAASlB,EAAGroC,YAAc+oC,EAAWS,EAAW,GAI3DD,EAAS,GACXlB,EAAGroC,UAAUupC,EAASlB,EAAGroC,YAAc,EAbzB,CAelB,EAGApvB,EAAMjd,GAAG,QAAS,SAAU5B,GAC1B6e,EAAMsO,SAASnW,SAAS6Q,EAAQ,MAAQuvD,IAAaL,IACrDT,EAAGjpE,KAAK,IAAMwoE,GAAMtvE,QACtB,GAGAsY,EAAMxR,KAAK,eAAezL,GAAG,QAAS,WACpC0pB,EAAM2C,OACR,GAGA3C,EACG1pB,GAAG,QAAS,SAAU5B,GAKL,IAHFA,EAAEsjC,SAIdyzC,GAEJ,GACCn1E,GAAG,UAAW,SAAU5B,GAEvB,IAAIsjC,EAAUtjC,EAAEsjC,QAGA,IAAZA,GACF8zC,IAIF,IAAIM,EAAY,SAAUC,GACxB33E,EAAEsQ,iBACF,IAAIsnE,EAAmBtB,EAAGlgE,SACxB,WAAau8D,GAAO,KAAO3xB,GAAW,KAExC,GAAK42B,EAAiBj7E,OAAtB,CACA,IACIk7E,EAAYD,EAAiBj7E,OAAS,EACtC6xB,GAAgB,EAEpBptB,EAAMS,KAAK+1E,EAAkB,SAAU91E,EAAOiR,GAC5C,GAAI9Q,EAAE8Q,GAAIiE,SAAS8rC,IAEjB,OADAt0B,EAAgB1sB,GACT,CAEX,GAEA,IAAIg2E,EACW,SAAbH,EACInpD,EAAgB,EAbL,EAcTqpD,EACArpD,EAAgB,EAClBA,EAAgB,EAAIqpD,EAhBT,EAkBTrpD,EAAgB,EAELopD,EAAiBp0D,GAAGs0D,GAC1BjhE,SAASisC,IAAMnwB,WAAW5b,YAAY+rC,IACnDo0B,GAvB8B,CAwBhC,EAEgB,KAAZ5zC,GAAgBo0C,EAAU,QACd,KAAZp0C,GAAgBo0C,EAAU,QAGd,KAAZp0C,IACFtjC,EAAEsQ,iBACFgmE,EAAGlgE,SAAS,MAAQ0sC,IAAMpjB,QAAQ,SAEtC,GACC99B,GAAG,QAAS,WACXm1E,GACF,GAGF,IAAIM,EAAY,SAAUxyE,EAAOhJ,EAAUk8E,GACzC,IAIIC,EAJArsE,EAAM,EACNsrE,EAAMX,EAAGlgE,SAAS,MAClB6hE,GAAY,EACZxE,EAAW5uE,EAEV6xE,EAAUC,gBACb9xE,EAAQA,EAAMkC,eAEZ2vE,EAAUwB,QACZF,EAo4BZ,SAA0BG,EAASxB,GACjC,IAQI/5E,EARAw7E,EAAU,CAAA,EACVC,EAAe,CAAC,KAChBC,EAAe,SAAU1sE,GAC3B,OAAOA,EAAI5I,QAAQ,sBAAuB,OAC5C,EAEK2zE,IAAewB,EAAUA,EAAQpxE,eAKtC,IAAIwxE,EAAUJ,EAAQ96E,OAAOyI,MAAM,IACnC,IAAKlJ,EAAI,EAAGA,EAAI27E,EAAQ57E,OAAQC,IAAK,CACnC,IAAI2H,EAAIg0E,EAAQ37E,GAChBw7E,EAAQ7zE,IAAM6zE,EAAQ7zE,IAAM,GAAK,CACnC,CAGA,IAAKA,KAAK6zE,EAAS,CAEjB,IADAC,EAAah2E,KAAK,SACbzF,EAAI,EAAGA,EAAIw7E,EAAQ7zE,GAAI3H,IAC1By7E,EAAah2E,KAAKi2E,EAAa/zE,IAC3B3H,IAAMw7E,EAAQ7zE,GAAK,GACrB8zE,EAAah2E,KAAK,MAGtBg2E,EAAah2E,KAAK,IACpB,CAGA,OAFAg2E,EAAah2E,KAAK,MAEX,IAAI8E,OAAOkxE,EAAajpE,KAAK,IAAMunE,OAAsBvrE,EAAN,IAC5D,CAp6B2BotE,CAAiB3zE,EAAO6xE,EAAUC,gBAEnDv1E,EAAMS,KAAKo1E,EAAK,WACd,IAAIloE,EAAQ9M,EAAElG,MACVkR,EAAO8B,EAAM9B,OACbwrE,EAAiBrC,GAAernE,EAAMiI,SAAS8+D,GAG/CM,IAAgBqC,GAAkBxrE,IAASwmE,IAC7CwE,GAAY,GAITvB,EAAUC,gBACb1pE,EAAOA,EAAKlG,eAId,IAAI4mB,EAAM+oD,EAAUwB,OACfF,EAAa56E,KAAK6P,IACK,IAAxBA,EAAKxM,QAAQoE,IAEH,KAAVA,GAA2B,SAAXkzE,EAAoBlzE,IAAUoI,EAAO0gB,IAAKhiB,IACnD,UAAXosE,GACEhpE,GACGqnE,EAAczoD,IAAQ8qD,EAAiB9qD,GACpC,WACA,eACJglD,GACN,GAEW,UAAXoF,GACE32E,EAAMS,KAAK20E,EAAK,WACd,IAAIznE,EAAQ9M,EAAElG,MACV28E,EAAU3pE,EAAMolB,UAAU,MAAM5qB,OAAO,MACvC6sE,IAAasC,EAAUA,EAAQ/qD,IAAI,IAAMmoD,IAE7C/mE,EADc2pE,EAAQ/7E,QAAU+7E,EAAQnvE,OAAO,IAAMopE,IAAMh2E,OAC3C,WAAa,eAAeg2E,GAC9C,GACF,IAAI2E,EAAO3rE,IAAQsrE,EAAIt6E,OACvB,OAAQd,EAASy7E,EAAMW,GAAYX,CACrC,EA4EInB,GACF7qD,EACG1pB,GAAG,uBAAwBR,EAAMuI,SA3EzB,SAAU3J,GACrB,IAAI6E,EAAQ9I,KAAK8I,MACfy+B,EAAUtjC,EAAEsjC,QAEd,OACc,IAAZA,GACY,KAAZA,GACY,KAAZA,GACY,KAAZA,GACY,KAAZA,GACY,KAAZA,IAKEwzC,GAAwB92E,EAAE+K,OAAOosE,QACnCn3E,EAAE+K,OAAOosE,QAAS,GACX,IAGTE,EACExyE,EACA,SAAUyyE,EAAMW,GACd,GAAI7B,EACF,GAAI6B,EACF3B,EAAGlgE,SAAS,IAAM0/D,GAAevvE,aAC5B,CACL,IAAIoyE,EAAmBrC,EAAGlgE,SAAS,IAAM0/D,GACzC,GAAI6C,EAAiB,GACnBA,EAAiB3sE,KAAK,YAAanH,GAAOoI,KAAKpI,OAC1C,CAEL,IAAI+zE,EAAS32E,EAAE,QACZ4U,SAASi/D,GACT9pE,KAAK,YAAanH,GAClBoI,KAAKpI,GACJg0E,EAAkBvC,EAAGlgE,WAAWoN,GAAG,GACnCs1D,EAAUD,EAAgB7hE,SAAS,qBACvC6hE,EAAgBC,EAAU,QAAU,UAAUF,EAChD,CACF,MAEItB,EACFhB,EAAGjpE,KAAK,IAAMwoE,GAAM,IAClBS,EAAGhpE,OACD,aACEuoE,EACA,KACAn2E,EAAKkiB,GAAG,uBACR,QAGN00D,EAAGjpE,KAAK,IAAMwoE,GAAMtvE,QAG1B,EACA,SAIY,KAAV1B,IAEF+K,EAAO6H,IAAI,IACX6+D,EAAGjpE,KAAK,IAAMy1C,IAAM/rC,YAAY+rC,KAC/BlzC,EAAO,GAAG/O,QAAQ,IAAM,CAAA,GAAIgE,OAC3ByxE,EAAGlgE,SAAS,YAAYS,SAASisC,IACnCwzB,EAAGjpE,KAAK,IAAMwoE,GAAMtvE,SACpB6vE,GAAeE,EAAGlgE,SAAS,IAAM0/D,GAAevvE,eAGlD2wE,KACF,EAIuD,KAClDt1E,GAAG,OAAQ,SAAU5B,GACpB,IAAIwuB,EAAgB5e,EAAO,GAAG4e,cAE9BioD,EAAYx0E,EAAE2N,EAAO,GAAG/O,QAAQ2tB,IAAgBza,KAAK,QAIjC,IAAlBya,GACAioD,IAAcnrD,EAAMtf,KAAK,iBAEzByqE,EAAY,IAGd9zE,WAAW,WACT00E,EACE/rD,EAAM7T,MACN,SAAU6/D,GACRb,GAAanrD,EAAM7T,IAAI,GACzB,EACA,OAEJ,EAAG,IACL,GAIJ6+D,EAAG10E,GAAG,QAAS,KAAM,WACnB,IAAImN,EAAQ9M,EAAElG,MACZ8I,EAAQkK,EAAM/C,KAAK,aACjBzC,EAASqG,EAAO5D,KAAK,cAEzB,GAAI+C,EAAMiI,SAASgqC,IAAW,OAAO,EAGrC,GAAIo1B,GAAernE,EAAMiI,SAAS8+D,GAAgB,CAChD,IAAIiD,EAAa92E,EAAE,YAAYgL,KAAK8B,EAAM9B,QACtC8iD,EAAegpB,EAAWhlE,KAAK,QACnClP,EAAQkrD,EACRgpB,EAAW/sE,KAAK,QAAS+jD,GACzBngD,EAAOtC,OAAOyrE,GACdhqE,EACGgI,YAAY++D,GACZ9pE,KAAK,YAAa+jD,GAClB9iD,KAAK8iD,GACRumB,EAAGhpE,OAAOyB,EACZ,CAmBA,OAjBIA,EAAMiI,SAAS,qBACjBsU,EAAM7T,IAAI,KAEV6T,EAAM7T,IAAI1I,EAAM9B,QAChB8B,EAAM8H,SAASisC,KAGjB/zC,EAAM4jB,WAAW5b,YAAY+rC,IAC7BlzC,EAAO6H,IAAI5S,GAAOkS,YAAY,qBAE9B3V,EAAMxF,MAAMoM,KAAKjM,KAAMyjD,GAAU,UAAYj2C,EAAS,IAAK,CACzDc,KAAMuF,EAAO,GACb/K,MAAOA,EACPkK,MAAOknE,IAGTmB,GAAS,IACF,CACT,GAGAd,EAAG10E,GAAG,mCAAoC,SAAU5B,GAClDoB,EAAM2H,MAAM/I,EACd,GAEAi2E,EAAO5oE,KAAK,SAASzL,GAAG,QAAS,SAAU5B,GACzC,OAAO,CACT,GAEIq2E,GACFH,EAAUt0E,GAAG,sBAAuB,WAClCq0E,EAAO1vE,QACT,EApbY,CAsbhB,EAGAtE,EAAErG,MAAMu7B,QAAQ,uBAAyB,CACvC5wB,OAAQ,SAAUw5B,GAChBA,EAAU1tB,SACZ,GAIF2jE,EAAQn0E,KAAK,SAAUC,EAAO8N,GAC5B,IAAIb,EAAQ9M,EAAElG,MACV+nE,EAAY/0D,EAAMuP,KAAK,IAAMuJ,GAC7BoB,EAAWltB,KAAKktB,SAChBpkB,EAAQ+K,EAAO/K,MACf0pB,EAAWtsB,EAAE2N,EAAO/O,QAAQ+O,EAAO4e,gBACnCwqD,EAAeppE,EAAO/O,QAAQ,GAGlC,GAAIkO,EAAM6kB,QAAQ,gBAAgBj3B,OAChC,OAAOoS,EAAM0tB,OAGf,IAAI05C,EAA+C,iBAA7BpnE,EAAM/C,KAAK,cAC7BoqE,EACqC,iBAAhCrnE,EAAM/C,KAAK,kBAAiCmqE,EACjDE,EAAoD,iBAAhCtnE,EAAM/C,KAAK,iBAC/BmQ,EAAc68D,EACdA,EAAan0E,MACX+wE,EACAoD,EAAa/rE,MAAQ2oE,EACvBA,EAGAqD,EAAiB,WACnB,IAAI5uE,EAAOpI,EAAE,eAAiB4lB,EAAQ,YAOtC,OANKsuD,GACH9rE,EAAKwM,SAAS,kBAEZoS,GACF5e,EAAKwM,SAAS,yBAETxM,CACT,CATqB,GAWjB6uE,EAAa,WACf,IAAI7uE,EAAOpI,EAAE,2CAgBb,OAbAoI,EAAK0J,KAAK,cAAeoI,GACzB9R,EAAKoN,IAAI5S,EAAQ0pB,EAASxa,KAAK,QAAU,IAGpCoiE,IAAYltD,GACf5e,EAAK0J,KAAK,YAAY,GAIpBkV,GACF5e,EAAKwM,SAASmqC,IAGT32C,CACT,CAlBiB,GAoBb6rE,EAAa,WACf,IAAI7rE,EAAOpI,EAAE,0CAGb,OAFAoI,EAAKiD,OAAO4rE,GACZ7uE,EAAKiD,OAAO,8BACLjD,CACT,CALiB,GAOb0tD,EAAe,WACjB,IAAI1tD,EAAOpI,EAAE,iDACT8M,EAAM1B,KAAK,YAAY,IACzBhD,EAAKwM,SAAS,sBAEhB,IACMzO,EADFksB,GACElsB,EAAM,GACVhH,EAAMS,KAAKkN,EAAM1B,KAAK,mBAAoB,SAAUvL,EAAOC,GACzD,IAAI1F,EAAU0F,EAAK1F,QAAQ0K,cACvB62D,EAAK37D,EAAE,0BACX,GAAc,IAAVH,GAAgBC,EAAK8C,OAAqB,aAAZxI,EAI3B,GAAgB,aAAZA,EAAwB,CACjC,IAAI88E,EAAKl3E,EAAE,aACXk3E,EAAGlsE,KAAKlL,EAAKkF,OACbmB,EAAI/F,KAAK82E,EAAGplE,KAAK,aACnB,MACE6pD,EAAG5xD,KAAK,YAAajK,EAAK8C,OACtBA,IAAU9C,EAAK8C,OACjB+4D,EAAG/mD,SAASisC,IAEV/gD,EAAKknB,UACP20C,EAAG/mD,SAASmqC,IAEd4c,EAAG3wD,KAAKlL,EAAKkL,MACb7E,EAAI/F,KAAKu7D,EAAG7pD,KAAK,mBAhBjB6pD,EAAG/mD,SAAS,qBACZ+mD,EAAG3wD,KAAKlL,EAAKkL,MAAQ2oE,GACrBxtE,EAAI/F,KAAKu7D,EAAG7pD,KAAK,aAgBrB,GACmB,IAAf3L,EAAIzL,QACNyL,EAAI/F,KACF,2BACE2+C,GACA,KACAthD,EAAKkiB,GAAG,sBACR,SAGCxZ,EAAIgH,KAAK,KAGlB,OADA/E,EAAK4J,KAAKqgB,GACHjqB,CACT,CA3CmB,GA8CnB,GAAIy5D,EAAU,GAAI,CAChB,GAAIuS,EAAY,CACd,IAAI+C,EAAgBtV,EAAUp+D,KAAKqwE,GACnCqD,GAAiBA,EAAc7yE,QACjC,CACAu9D,EAAUv9D,QACZ,CACA,GAAI8vE,EAAY,CACd4C,EAAc3rE,OAAO4oE,GACrBnnE,EAAMmK,MAAM+/D,GACZ,IAAII,EAAkBp3E,EACpB,eAAiB4lB,EAAjB,oCACAva,OAAOyqD,GACTkhB,EAAcvzE,KAAKqwE,EAAiBsD,GACpChwE,EAAOrB,KACLjM,KACAs9E,EACAnD,EACAjtD,EACAktD,EACAC,EACAC,EAEJ,MACE4C,EAAc3rE,OAAO4oE,GAAW5oE,OAAOyqD,GACvChpD,EAAMmK,MAAM+/D,GACZ5vE,EAAOrB,KACLjM,KACAk9E,EACA/C,EACAjtD,EACAktD,EACAC,EACAC,EAGN,EACF,EAGAnnD,SAAU,SAAU7kB,GAClB,IAAIwd,EAAQ,CACVqH,SAAU,CAAC,sBAAuB,qBAAsB,YACxDoqD,OAAQ,CAAC,oBAAqB,sBAAuB,UACrDC,OAAQ,2BACRC,KAAM,aACNC,QAAS,iBAEPjM,EAAiB,2BACjBkM,EAASrvE,GAAQslE,EAAStiE,KAAK,wBAQ/BhE,EAAS,SAAU4sE,EAAQ0D,GAC7B,IAAIltD,EAAQxqB,EAAElG,MACVu2D,EAAO7lC,EAAMzgB,KAAK,aAAe,UACjC4tE,EAAoB,WAATtnB,EACXunB,EAAqB,YAATvnB,EAIhB7lC,EAAM/iB,IAAI8jE,GAAgB5rE,GAAG4rE,EAAgB,WAC3C,IAAIjkE,EAASkjB,EAAMzgB,KAAK,cACpBsiB,EAAU7B,EAAM,GAAG6B,QACnBwrD,EAAgBrtD,EAAM,GAAGqtD,cAGzBrtD,EAAM,GAAGxD,WAGbwD,EAAM,GAAGqtD,cAAgBA,EAGzBrtD,EAAM,GAAG6B,QAAUA,EAGnBltB,EAAMxF,MAAMoM,KACVykB,EAAM,GACN+yB,GACAm6B,EAAS,GAAK,IAAMpwE,EAAS,IAC7B,CACEc,KAAMoiB,EAAM,GACZ5nB,MAAO4nB,EAAM,GAAG5nB,MAChBkK,MAAOknE,IAGb,GAEAA,EAAOr0E,GAAG,QAAS,WACF6qB,EAAMmH,QAAQ,SAASj3B,QAEpC8vB,EAAMiT,QAAQ,QAElB,GAEAn+B,EAAKw4E,4BAA4Bh+E,KAAM,UAAW,WAChD,GAAI69E,EAAU,CACZ,IAAI/6D,GACFo3D,EAAO33D,KAAK,mBAAmB,GAC3B23D,EAAO33D,OAAOrK,OACdwY,EAAMzgB,KAAK,UAAY,IAC3BlG,MAAM,KACRmwE,EACG7/D,SAAS,OACTnC,KAAKlY,KAAKuyB,QAAUzP,EAAM,GAAKA,EAAM,IAAMA,EAAM,GACtD,CACAo3D,EAAOtiC,YAAYgmC,EAAS,GAAI59E,KAAKuyB,QACvC,GAEIurD,GACFt4E,EAAKw4E,4BAA4Bh+E,KAAM,gBAAiB,WAClDA,KAAK+9E,cACP7D,EACG7/D,SAAS,IAAMyR,EAAM2xD,MACrBziE,YAAY8Q,EAAM4xD,SAClB5iE,SAASgR,EAAM0xD,QAElBtD,EACG7/D,SAAS,IAAMyR,EAAM2xD,MACrBziE,YAAY8Q,EAAM0xD,QAClB1iE,SAASgR,EAAM4xD,QAEtB,EAEJ,EAGAC,EAAO73E,KAAK,SAAUC,EAAO2qB,GAC3B,IAAI1d,EAAQ9M,EAAElG,MACVu2D,EAAOvjD,EAAM/C,KAAK,aAAe,UACjC6S,EAAQvf,GAAK0U,OACf/R,EAAE5E,KACAovB,EAAM5N,QAGM4N,EAAM5N,MAAQ9P,EAAM/C,KAAK,aAAe,MAIpDid,EAAWltB,KAAKktB,SAGhB0wD,EAAW9xD,EAAMyqC,IAASzqC,EAAMqH,SAGhC40C,EAAY/0D,EAAMuP,KAAK,IAAMq7D,EAAS,IAC1C7V,EAAU,IAAMA,EAAUv9D,SAG1B,IAAIyzE,EAAgB,GACpB,GAAIjrE,EAAMuP,KAAK,kBAAkB,GAAI,CACnC,IAAI27D,EAAelrE,EAAMuP,OACzBO,EAAQo7D,EAAahmE,QAAU,GAC3BgmE,EAAa,GAAG9yD,WAAWxqB,OAAS,GACtCyE,EAAMS,KAAKo4E,EAAa,GAAG9yD,WAAY,SAAUvqB,EAAGoP,GAChC,iBAAdA,EAAKhI,MACPg2E,EAAc33E,KAAK2J,EAAKhI,KAAO,KAAOgI,EAAKnH,MAAQ,IAEvD,EAEJ,CAMA,GALAm1E,EAAgBA,EAAc5qE,KAAK,KAGnCyP,EAAiB,WAATyzC,EAAoBzzC,EAAM/Y,MAAM,KAAO,CAAC+Y,GAE5C9P,EAAM6kB,QAAQ,gBAAgBj3B,OAAQ,OAAOoS,EAAM0tB,OAGnDo2C,KACFqH,GAAgBlyE,KAAKykB,EAAO,wBAAyBA,EAAM6B,UAC1D7B,EAAM6B,SACL4rD,GAAgBlyE,KACdykB,EACA,8BACAA,EAAMqtD,gBAKZ,IAAI7D,EAASh0E,EACX,CACE,8BAAgC03E,EAAS,GACzCltD,EAAM6B,QAAU,IAAMqrD,EAAS,GAAK,GACpC1wD,EAAW,4BAA8B+3B,GAAW,GACpD,IACO,cAAgBsR,EAAO,IAC9B,IACC,WAEC,IAAIn1D,EAAO,CAET+xB,SAAU,CACRrQ,EAAM,GACF,QAAUm7D,EAAgB,IAAMn7D,EAAM,GAAK,SAClC,YAATyzC,EACE,GACA,cACN,yBACY,YAATA,IACA7lC,EAAM6B,SACPvf,EAAMmB,IAAI,GAAG4pE,cACTjyD,EAAM0xD,OACN,iBACJ,UACFnqE,KAAK,IAEPkqE,OACE,UACE7sD,EAAM6B,QAAUzP,EAAM,GAAKA,EAAM,IAAMA,EAAM,KAAO,IACtD,iBAEJ,OAAO1hB,EAAKm1D,IAASn1D,EAAe,QACtC,CAzBC,GA0BD,UACAiS,KAAK,KAGTL,EAAMmK,MAAM+8D,GACZ5sE,EAAOrB,KAAKjM,KAAMk6E,EAAQ0D,EAC5B,EACF,EAGA1qD,MAAO,SAAU5kB,GACf,IAAIwd,EAAQ,mBACR2xD,EAAO,CAAC,mBAAoB,qBAC5BW,EAAS9vE,GAAQslE,EAAStiE,KAAK,qBAC/BmgE,EAAiB,wBAGjBnkE,EAAS,SAAU4sE,GACrB,IAAIhnD,EAAQhtB,EAAElG,MACVq+E,EAAO,yBAEXnrD,EAAMvlB,IAAI8jE,GAAgB5rE,GAAG4rE,EAAgB,WAC3C,IAAIjkE,EAAS0lB,EAAMjjB,KAAK,cAEpBijB,EAAM,GAAGhG,WAEbgG,EAAM,GAAGX,SAAU,EAEnBltB,EAAMxF,MAAMoM,KAAKinB,EAAM,GAAIuwB,GAAU,SAAWj2C,EAAS,IAAK,CAC5Dc,KAAM4kB,EAAM,GACZpqB,MAAOoqB,EAAM,GAAGpqB,MAChBkK,MAAOknE,IAEX,GAEAA,EAAOr0E,GAAG,QAAS,WACFqtB,EAAM2E,QAAQ,SAASj3B,QAEpCsyB,EAAMyQ,QAAQ,QAElB,GAEAn+B,EAAKw4E,4BAA4Bh+E,KAAM,UAAW,WAChD,IAAIs+E,EAAUt+E,KACd,GAAIs+E,EAAQ/rD,QAAS,CACnB2nD,EAAOp/D,SAASgR,EAAQ,MACxBouD,EAAO7/D,SAAS,eAAeS,SAASujE,EAAO,IAAMZ,EAAK,IAC1D,IACIc,EADQrrD,EAAM+E,QAAQgoC,IACH3uD,KACrB,cACEgtE,EAAQr2E,KAAKhB,QAAQ,gBAAiB,QACtC,KAEJ5B,EAAMS,KAAKy4E,EAAY,WACjBD,IAAYt+E,OAChBA,KAAKuyB,SAAU,EACjB,EACF,MACE2nD,EAAOl/D,YAAY8Q,EAAQ,MAC3BouD,EACG7/D,SAAS,eACTW,YAAYqjE,EAAO,IAAMZ,EAAK,IAC9B3iE,SAAS2iE,EAAK,GAErB,EACF,EAGAW,EAAOt4E,KAAK,SAAUC,EAAOmtB,GAC3B,IAAIlgB,EAAQ9M,EAAElG,MACZ+nE,EAAY/0D,EAAMuP,KAAK,IAAMuJ,GAC3BoB,EAAWltB,KAAKktB,SAChBqpC,EAAOvjD,EAAM/C,KAAK,YAEtB,GAAI+C,EAAM6kB,QAAQ,gBAAgBj3B,OAAQ,OAAOoS,EAAM0tB,OAEnDo2C,IACFqH,GAAgBlyE,KAAKinB,EAAO,wBAAyBA,EAAMX,SAG7Dw1C,EAAU,IAAMA,EAAUv9D,SAE1B,IAAIsY,EAAQvf,GAAK0U,OAAOib,EAAMpQ,OAAS,IACnCm7D,EAAgB,GACpB,GAAIjrE,EAAMuP,KAAK,eAAe,GAAI,CAChC,IAAI27D,EAAelrE,EAAMuP,OACzBO,EAAQo7D,EAAahmE,QAAU,GAC3BgmE,EAAa,GAAG9yD,WAAWxqB,OAAS,GACtCyE,EAAMS,KAAKo4E,EAAa,GAAG9yD,WAAY,SAAUvqB,EAAGoP,GAChC,cAAdA,EAAKhI,MACPg2E,EAAc33E,KAAK2J,EAAKhI,KAAO,KAAOgI,EAAKnH,MAAQ,IAEvD,EAEJ,CACAm1E,EAAgBA,EAAc5qE,KAAK,KAGnC,IAAI6mE,EAASh0E,EACX,CACE,8BAAgC4lB,EAChCoH,EAAMX,QAAU,IAAMzG,EAAQ,KAAO,IACpCoB,EAAW,yBAA2B+3B,GAAW,IAAM,IACxDsR,EAAO,cAAgBA,EAAO,IAAM,GACpC,IACA,mCACEknB,EAAKvqD,EAAMX,QAAU,EAAI,GACzB,SACF,QAAU0rD,EAAgB,IAAMn7D,EAAQ,SACxC,UACAzP,KAAK,KAGTL,EAAMmK,MAAM+8D,GACZ5sE,EAAOrB,KAAKjM,KAAMk6E,EACpB,EACF,GAIEsE,EAAa,WACfn5E,EAAMS,KAAKuuE,EAAO,SAAUtuE,EAAOC,GACjCA,GACF,EACF,EAoCA,MAjCyB,WAArBX,EAAMjE,KAAKA,GAET8E,EAAE9E,GAAMu1B,GAAGspC,KACb2T,EAAW1tE,EAAE9E,GACbo9E,KAGAp9E,EAAK0E,KAAK,SAAUC,EAAOC,GACzB,IAAIsI,EAAOpI,EAAEF,GACb,GAAKsI,EAAKupB,QAAQooC,IAAMr/D,OAGxB,GAAqB,WAAjBoF,EAAK1F,QACP+zE,EAAc,OAAE/lE,QACX,GAAqB,UAAjBtI,EAAK1F,QAAqB,CACnC,IAAIm+E,EAAWz4E,EAAK5E,KACH,aAAbq9E,GAAwC,UAAbA,EAC7BpK,EAAMoK,GAAUnwE,GAEhB+lE,EAAa,MAAE/lE,EAEnB,CACF,GAGFlN,EACIizE,EAAMjzE,GACJizE,EAAMjzE,KACNyK,GAAK3K,MACH,WAAaE,EAAO,yCAExBo9E,IAECh5E,CACT,EAUAuxE,GAAKnyE,UAAUo5E,4BAGTlH,GACK,SAAUxoE,EAAMsxD,EAAUtpD,GAC/B,IAAIooE,EAAcj9E,OAAOqyD,yBACvBC,iBAAiBnvD,UACjBg7D,GAGFn+D,OAAOyS,eACL5F,EACAsxD,EACA79D,EAAI2F,OAAO,CAAA,EAAIg3E,EAAa,CAE1BvqE,IAAK,WACH,MAC4D,iBAAnDnU,KAAKsI,aAAa,iBAAmBs3D,EAEhD,EACAtgD,IAAK,SAAUq/D,GACbR,GAAgBlyE,KAAKjM,KAAM,iBAAmB4/D,EAAU+e,GACxDroE,EAAQrK,KAAKjM,KACf,IAGN,EAEK,SAAUsO,EAAMsxD,EAAUtpD,GAC/B,IAAIooE,EAAcj9E,OAAOqyD,yBACvBC,iBAAiBnvD,UACjBg7D,GAGFn+D,OAAOyS,eACL5F,EACAsxD,EACA79D,EAAI2F,OAAO,CAAA,EAAIg3E,EAAa,CAE1BvqE,IAAK,WACH,OAAOuqE,EAAYvqE,IAAIlI,KAAKjM,KAC9B,EACAsf,IAAK,SAAUq/D,GACbD,EAAYp/D,IAAIrT,KAAKjM,KAAM2+E,GAC3BroE,EAAQrK,KAAKjM,KACf,IAGN,EAQF+2E,GAAKnyE,UAAUg6E,SAAW,SAAUtwE,GAClC,IACIuwE,EAEA7H,EAHOh3E,KAEQV,OACE03E,OACjB8H,EAAS,oBAKb,QAHAxwE,EAAOpI,EAAEoI,IAGC,UAGsBe,IAA5Bf,EAAK2B,KAAK,gBAEsC,IAdzCjQ,KAcA4+E,SAAStwE,EAAKgD,KAAK,qBAM9BjM,EAAMS,KAAKwI,EAAM,SAAU/F,EAAGvC,GAC5B,IAAIgN,EAAQ9M,EAAElG,MAEV++E,GADY/rE,EAAM/C,KAAK,eAAiB,IACvBlG,MAAM,KACvBi1E,EAAUhsE,EAAM/C,KAAK,eACrBnH,EAAQkK,EAAM0I,MAmElB,GAlEA5S,EAAyB,iBAAVA,EAAqB5C,EAAE5E,KAAKwH,GAASA,EAEpDkK,EAAMgI,YAAY8jE,GAGlBz5E,EAAMS,KAAKi5E,EAAM,SAAUx2E,EAAG02E,GAC5B,IAAIC,EACA9rE,EAAY,GACZ+rE,EAAOnI,EAAOiI,GAGlB,GAAIE,EAAM,CACRD,EACkB,mBAATC,EACF/rE,EAAY+rE,EAAKr2E,EAAO9C,IACxBm5E,EAAK,GAAG99E,KAAKyH,GAGpB,IAAIs2E,EAC6B,WAA/Bp5E,EAAK1F,QAAQ0K,eACb,qBAAqB3J,KAAK2E,EAAK5E,MAUjC,GARAgS,EAAYA,GAAa+rE,EAAK,GAGd,aAAZF,IACF7rE,EAAYJ,EAAM/C,KAAK,gBAAkBmD,GAIvC8rE,EA+BF,MA7BgB,SAAZF,EACFh9E,GAAM2xD,KACJvgD,GAEOJ,EAAM6kB,QAAQ,gBAAgBj3B,QAC7Bw+E,EACKpsE,EAAMuP,OAGVvP,EAET,CAAE2gD,KAAM,IAEW,UAAZqrB,EACTh9E,GAAMm0D,MAAM/iD,EAAW,CACrB0P,MAAOnf,EAAKkiB,GAAG,+BACf+1C,YAAY,IAIP,sBAAsBv6D,YAAY+R,IACzCpR,GAAMb,IAAIiS,EAAW,CAAEsjD,KAAM,EAAGvoC,MAAO,IAGzCvnB,WAAW,YACRw4E,EAAcpsE,EAAMuP,OAAOjR,KAAK,SAAWtL,GAAMksB,OACpD,EAAG,GAEHlf,EAAM8H,SAASgkE,GACPD,GAAY,CAExB,CACF,GAEIA,EAAW,OAAOA,CACxB,IAEQA,EACV,EAGA,IAAIxrD,GAAU0jD,GAAKnyE,UAAUyuB,OAAS,SAAU7lB,EAAQ1N,GACtD,IAAIuzE,EACAxgD,EAAS3sB,EAAElG,MAGXq/E,EACgB,iBAAX7xE,EAAsBA,EAASqlB,EAAO5iB,KAAK,cAGhD3B,EAAOtO,KAAKk3E,YACZl3E,KAAKk3E,YAAYmI,GACjBxsD,EAAOoF,QAAQgoC,IAAMx4C,GAAG,GAGxB63D,EAAahxE,EAAKgD,KAAK,iBAG3B,IAAKlP,GAAKw8E,SAASU,GAAa,OAAO,EAGvCjM,EAAQjxE,GAAKg1E,SAAS,KAAM9oE,GAG5B,IAAIf,EAAS,CACXe,KAAMtO,KAAKk3E,YAAc93E,OAAOS,OAAST,OAAOS,MAAMmP,OAAShP,KAC/DoC,KAAMpC,KAAKk3E,YAAc5oE,EAAK,GAAKukB,EAAOoF,QAAQ,QAAQ,GAC1Do7C,MAAOA,GAOT,MAHoB,mBAAbvzE,GAA2BA,EAASyN,GAGpClI,EAAMxF,MAAMoM,KAAKjM,KAAMyjD,GAAU,UAAY47B,EAAY,IAAK9xE,EACvE,EAqCA,SAAS4wE,GAAgBl2E,EAAMwnE,GAC7B,IACI8P,IAAY9P,EACZ+P,EAFmC,IAArBvxE,UAAUrN,SAEG6uE,EAE/B,OAAgC,OAA5BzvE,KAAKsI,aAAaL,KAChBs3E,IAEJv/E,KAAKuZ,gBAAgBtR,IACd,IAEHu3E,IAEJx/E,KAAKkQ,aAAajI,EAAM,KACjB,EAEX,CAGA,IAAIwxE,GAAc,CAAC,IAAK,IAAK,IAAK,IAAK,KA2BnCr3E,GAAO,IAAI20E,GACX0I,GAAOv5E,EAAE/G,UACTktE,GAAOnmE,EAAE9G,QAGb8G,EAAE,WACA9D,GAAKwZ,QACP,GAGA6jE,GAAK55E,GAAG,QAASo6D,GAAM,WACrB,IAAIzyD,EAAStH,EAAElG,MAAMiQ,KAAK,cAC1BrJ,WAAW,WACTxE,GAAKwZ,OAAO,KAAMpO,EACpB,EAAG,GACL,GAGAiyE,GAAK55E,GAAG,SAAUo6D,GAAM5sC,IAAQxtB,GAAG,QAAS,gBAAiBwtB,ICjwD7D,IAAIxnB,GAAOxG,EAAMwG,OACbjB,GAASvF,EAAMuF,SAGfnI,GAAQ,CACVnD,OAAQ,CAENogF,UAAW,cACXC,UAAW,YACXC,cAAe,iBACfC,YAAa,UACbC,aAAc,gBAEhBpgF,MAAO,CAAA,EAGP4f,IAAK,SAAUxa,GACb,IAAIU,EAAOxF,KAEX,OADAwF,EAAKlG,OAAS4G,EAAEwB,OAAO,CAAA,EAAIlC,EAAKlG,OAAQwF,GACjCU,CACT,EAGAK,GAAI,SAAUyH,EAAQxN,GACpB,OAAOuF,EAAMgI,QAAQpB,KAAKjM,KAAMyjD,GAAUn2C,EAAQxN,EACpD,GAIEigF,GAAY,WACd,IAAIv6E,EAAOxF,KACP8E,EAAUU,EAAKlG,OACfqJ,EAAK7D,EAAQ6D,IAAM7D,EAAQiB,MAE/B,MAAO,CACLzG,OAAQwF,EACRs/C,OAAQ,SAAUt/C,EAASijB,GACzBviB,EAAK4+C,OAAOn4C,KAAKzG,EAAMV,EAASijB,EAClC,EACA27C,WAAY,SAAU5+D,EAASijB,GAC7BtlB,GAAMihE,WAAW/6D,EAAI7D,EAASijB,EAChC,EACAi4D,aAAc,WACZx6E,EAAKw6E,aAAa/zE,KAAKzG,EACzB,EACAwwD,OAAQ,WAENxwD,EAAKwwD,OAAO/pD,KAAKzG,EACnB,EAEJ,EAGIy6E,GAAe,SAAUt3E,GAC3B,IAAInD,EAAOu6E,GAAUv6E,KAAKmD,GAO1B,OANKnD,GACHqG,GAAK3K,MACHyH,EACI,+BAAiCA,EAAK,cACtC,wBAEDnD,GAAQ,IACjB,EAGI06E,GAAqB,SAAUv3E,GACjC,IAAIrJ,EAASygF,GAAUzgF,OAAOqJ,GAO9B,OANKrJ,GACHuM,GAAK3K,MACHyH,EACI,+BAAiCA,EAAK,cACtC,wBAEDrJ,GAAU,IACnB,EAaI6gF,GAAgB,SAAUn2E,GAC5BA,EAAMA,GAAO,CAAA,EAEb,IAAIlF,EAAU9E,KAAKV,QAAU,CAAA,EACzB8gF,EAAQp2E,EAAIo2E,MACZ7nD,EAAUvuB,EAAIuuB,QACC,YAAf6nD,EAAMh/E,OAAoBm3B,EAAUvuB,EAAIq2E,QAAQ59E,GAAMnD,OAAOugF,eAGnD,WAAYO,EAAQA,EAAMnoE,OAASnT,EAAQmT,UAC5CsgB,EAAUh1B,GAAK0U,OAAOsgB,IAGnC,IAAIysC,EACDh7D,EAAIkH,MAAQkvE,EAAME,eAAkBF,EAAMpb,SAAWob,EAAMriB,QAkB9D,OAfIiH,IACFzsC,EACqB,mBAAZysC,EACHA,EAAQ/4D,KAAKm0E,EAAOp2E,EAAIq2E,QAASr2E,EAAIA,KACrC7H,EA9BU,SAAU6iE,GAC5B,IACE,OAAOjjE,EAAIijE,GAAS9sD,MACtB,CAAE,MAAOnE,GACP,OAAOixD,CACT,CACF,CAwBiBub,CAAcvb,IAAYh5D,OAAOusB,IAAU3c,OAChD1V,EAAEwB,OACA,CACE84E,QAASJ,GAEXp2E,EAAIq2E,WAMTr2E,EAAIkH,KAAOhL,EAAE,QAAUqyB,EAAU,UAAUrnB,OAASqnB,CAC7D,EAGIkrB,GAAW,QACXE,GAAS,OAASF,GAAW,MAC7Bwc,GAAO,eAGP2W,GAAO,aACP6J,GAAS,eAET3G,GAAO,aAEP5S,GAAY,mBAIZwZ,GAAc,sBACdC,GAAY,oBAEZC,GAAa,qBAEbC,GAAY,uBAGZC,GAAiB,wBACjBC,GAAY,oBACZC,GAAe,sBACfC,GAAY,mBACZvZ,GAAa,oBACbwZ,GAAa,sBACbC,GAAmB,0BACnBC,GAAkB,yBAClBC,GAAc,uBACdC,GAAsB,kCACtBC,GAAqB,iCAErBC,GAAiB,sBAEjBhe,GAAiBzhE,EAAI4W,2BAA2B8qC,IAGhDg+B,GAAa,SAAU38E,GAKzB,MAAO,CACL,yEACA,iKACA,UACA,sDACA,OACA,gDACA,oEACA,uDATFA,EAAUA,GAAW,CAAA,GAWL8xD,OAA2B,UAAlB9xD,EAAQ8xD,MACpB,qDAEa,UAAlB9xD,EAAQ8xD,MACH,sCAEF,GAET,uDACA,+1BAGA,8CACA,6BACA,QACA,kBACA,+BACA,sCACA,mCACA,WACA,WACA,yDACA,wCACA,wJACA,kBACA,oCACA,qBACA,gPACA,WACA,WACA,SACA,QACA9xD,EAAQ8xD,MAAQ,YAAc,GAC9B,aACA,QACA,aACA,WACA,YACAvjD,KAAK,GACT,EAGIquE,GAAW,CACb,yEACA,iKACA,kBACA,YACAruE,KAAK,IAGHgyD,GAAW,CACb,6BACA,iCACA,4CACA,4CACA,SACA,WACA,gCACA,6BACA,iCACA,yCACA,iDACA,uBACA,iBACA,6FACA,WACA,SACA,SACA,WACA,0BACA,mCACAoc,KACA,SACA,kDACAC,GACA,SACA,mBACA,sDACA,mCACAD,GAAW,CAAE7qB,OAAO,IACpB,SACA,iCACA8qB,GACA,SACA,SACA,YACA,oBACA,iEACA,mCACAD,GAAW,CAAE7qB,MAAO,UACpB,uCACA,SACA,iCACA8qB,GACA,SACA,SACA,YACA,SACA,8BACA,kCACA,yEACA,iKACA,yGACA,WACA,SACA,WACA,+DACA,0FACA,UACAruE,KAAK,IAEHszD,GAAOzgE,EAAE9G,QACTg7D,GAAOl0D,EAAE/G,UAGTY,GAAQ,SAAU+E,GACpB,IAAIU,EAAOxF,KACXwF,EAAKO,MAAQtD,GAAMsD,MAAQhE,EAA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","x_google_ignoreList":[4]}